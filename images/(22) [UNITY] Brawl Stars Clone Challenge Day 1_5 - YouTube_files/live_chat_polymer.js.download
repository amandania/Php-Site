(function(){function resolve(){document.body.removeAttribute("unresolved")}if(window.WebComponents)addEventListener("WebComponentsReady",resolve);else if(document.readyState==="interactive"||document.readyState==="complete")resolve();else addEventListener("DOMContentLoaded",resolve)})();
window.Polymer={Settings:function(){var settings=window.Polymer||{};if(!settings.noUrlSettings){var parts=location.search.slice(1).split("&");for(var i=0,o;i<parts.length&&(o=parts[i]);i++){o=o.split("=");o[0]&&(settings[o[0]]=o[1]||true)}}settings.wantShadow=settings.dom==="shadow";settings.hasShadow=Boolean(Element.prototype.createShadowRoot);settings.nativeShadow=settings.hasShadow&&!window.ShadowDOMPolyfill;settings.useShadow=settings.wantShadow&&settings.hasShadow;settings.hasNativeImports=Boolean("import"in
document.createElement("link"));settings.useNativeImports=settings.hasNativeImports;settings.useNativeCustomElements=!window.CustomElements||window.CustomElements.useNative;settings.useNativeShadow=settings.useShadow&&settings.nativeShadow;settings.usePolyfillProto=!settings.useNativeCustomElements&&!Object.__proto__;settings.hasNativeCSSProperties=!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)");settings.useNativeCSSProperties=
settings.hasNativeCSSProperties&&settings.lazyRegister&&settings.useNativeCSSProperties;settings.isIE=navigator.userAgent.match("Trident");settings.passiveTouchGestures=settings.passiveTouchGestures||false;return settings}()};
(function(){var userPolymer=window.Polymer;window.Polymer=function(prototype){if(typeof prototype==="function")prototype=prototype.prototype;if(!prototype)prototype={};prototype=desugar(prototype);var customCtor=prototype===prototype.constructor.prototype?prototype.constructor:null;var options={prototype:prototype};if(prototype["extends"])options["extends"]=prototype["extends"];Polymer.telemetry._registrate(prototype);var ctor=document.registerElement(prototype.is,options);return customCtor||ctor};
var desugar=function(prototype){var base=Polymer.Base;if(prototype["extends"])base=Polymer.Base._getExtendedPrototype(prototype["extends"]);prototype=Polymer.Base.chainObject(prototype,base);prototype.registerCallback();return prototype};if(userPolymer)for(var i in userPolymer)Polymer[i]=userPolymer[i];Polymer.Class=function(prototype){if(!prototype.factoryImpl)prototype.factoryImpl=function(){};return desugar(prototype).constructor}})();
Polymer.telemetry={registrations:[],_regLog:function(prototype){console.log("["+prototype.is+"]: registered")},_registrate:function(prototype){this.registrations.push(prototype);Polymer.log&&this._regLog(prototype)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}};Object.defineProperty(window,"currentImport",{enumerable:true,configurable:true,get:function(){return(document._currentScript||document.currentScript||{}).ownerDocument}});
Polymer.RenderStatus={_ready:false,_callbacks:[],whenReady:function(cb){if(this._ready)cb();else this._callbacks.push(cb)},_makeReady:function(){this._ready=true;for(var i=0;i<this._callbacks.length;i++)this._callbacks[i]();this._callbacks=[]},_catchFirstRender:function(){requestAnimationFrame(function(){Polymer.RenderStatus._makeReady()})},_afterNextRenderQueue:[],_waitingNextRender:false,afterNextRender:function(element,fn,args){this._watchNextRender();this._afterNextRenderQueue.push([element,fn,
args])},hasRendered:function(){return this._ready},_watchNextRender:function(){if(!this._waitingNextRender){this._waitingNextRender=true;var fn=function(){Polymer.RenderStatus._flushNextRender()};if(!this._ready)this.whenReady(fn);else requestAnimationFrame(fn)}},_flushNextRender:function(){var self=this;setTimeout(function(){self._flushRenderCallbacks(self._afterNextRenderQueue);self._afterNextRenderQueue=[];self._waitingNextRender=false})},_flushRenderCallbacks:function(callbacks){for(var i=0,h;i<
callbacks.length;i++){h=callbacks[i];h[1].apply(h[0],h[2]||Polymer.nar)}}};if(window.HTMLImports)HTMLImports.whenReady(function(){Polymer.RenderStatus._catchFirstRender()});else Polymer.RenderStatus._catchFirstRender();Polymer.ImportStatus=Polymer.RenderStatus;Polymer.ImportStatus.whenLoaded=Polymer.ImportStatus.whenReady;
(function(){var settings=Polymer.Settings;Polymer.Base={__isPolymerInstance__:true,_addFeature:function(feature){this.mixin(this,feature)},registerCallback:function(){if(settings.lazyRegister==="max"){if(this.beforeRegister)this.beforeRegister()}else{this._desugarBehaviors();for(var i=0,b;i<this.behaviors.length;i++){b=this.behaviors[i];if(b.beforeRegister)b.beforeRegister.call(this)}if(this.beforeRegister)this.beforeRegister()}this._registerFeatures();if(!settings.lazyRegister)this.ensureRegisterFinished()},
createdCallback:function(){if(settings.disableUpgradeEnabled)if(this.hasAttribute("disable-upgrade")){this._propertySetter=disableUpgradePropertySetter;this._configValue=null;this.__data__={};return}else this.__hasInitialized=true;this.__initialize()},__initialize:function(){if(!this.__hasRegisterFinished)this._ensureRegisterFinished(this.__proto__);Polymer.telemetry.instanceCount++;this.root=this;for(var i=0,b;i<this.behaviors.length;i++){b=this.behaviors[i];if(b.created)b.created.call(this)}if(this.created)this.created();
this._initFeatures()},ensureRegisterFinished:function(){this._ensureRegisterFinished(this)},_ensureRegisterFinished:function(proto){if(proto.__hasRegisterFinished!==proto.is||!proto.is){if(settings.lazyRegister==="max"){proto._desugarBehaviors();for(var i=0,b;i<proto.behaviors.length;i++){b=proto.behaviors[i];if(b.beforeRegister)b.beforeRegister.call(proto)}}proto.__hasRegisterFinished=proto.is;if(proto._finishRegisterFeatures)proto._finishRegisterFeatures();for(var j=0,pb;j<proto.behaviors.length;j++){pb=
proto.behaviors[j];if(pb.registered)pb.registered.call(proto)}if(proto.registered)proto.registered();if(settings.usePolyfillProto&&proto!==this)proto.extend(this,proto)}},attachedCallback:function(){var self=this;Polymer.RenderStatus.whenReady(function(){self.isAttached=true;for(var i=0,b;i<self.behaviors.length;i++){b=self.behaviors[i];if(b.attached)b.attached.call(self)}if(self.attached)self.attached()})},detachedCallback:function(){var self=this;Polymer.RenderStatus.whenReady(function(){self.isAttached=
false;for(var i=0,b;i<self.behaviors.length;i++){b=self.behaviors[i];if(b.detached)b.detached.call(self)}if(self.detached)self.detached()})},attributeChangedCallback:function(name,oldValue,newValue){this._attributeChangedImpl(name);for(var i=0,b;i<this.behaviors.length;i++){b=this.behaviors[i];if(b.attributeChanged)b.attributeChanged.call(this,name,oldValue,newValue)}if(this.attributeChanged)this.attributeChanged(name,oldValue,newValue)},_attributeChangedImpl:function(name){this._setAttributeToProperty(this,
name)},extend:function(target,source){if(target&&source){var n$=Object.getOwnPropertyNames(source);for(var i=0,n;i<n$.length&&(n=n$[i]);i++)this.copyOwnProperty(n,source,target)}return target||source},mixin:function(target,source){for(var i in source)target[i]=source[i];return target},copyOwnProperty:function(name,source,target){var pd=Object.getOwnPropertyDescriptor(source,name);if(pd)Object.defineProperty(target,name,pd)},_logger:function(level,args){if(args.length===1&&Array.isArray(args[0]))args=
args[0];switch(level){case "log":case "warn":case "error":console[level].apply(console,args);break}},_log:function(){var args=Array.prototype.slice.call(arguments,0);this._logger("log",args)},_warn:function(){var args=Array.prototype.slice.call(arguments,0);this._logger("warn",args)},_error:function(){var args=Array.prototype.slice.call(arguments,0);this._logger("error",args)},_logf:function(){return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments,0))}};Polymer.Base._logPrefix=
function(){var color=window.chrome&&!/edge/i.test(navigator.userAgent)||/firefox/i.test(navigator.userAgent);return color?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:["[%s::%s]:"]}();Polymer.Base.chainObject=function(object,inherited){if(object&&inherited&&object!==inherited){if(!Object.__proto__)object=Polymer.Base.extend(Object.create(inherited),object);object.__proto__=inherited}return object};Polymer.Base=Polymer.Base.chainObject(Polymer.Base,HTMLElement.prototype);Polymer.BaseDescriptors=
{};var disableUpgradePropertySetter;if(settings.disableUpgradeEnabled){disableUpgradePropertySetter=function(property,value){this.__data__[property]=value};var origAttributeChangedCallback=Polymer.Base.attributeChangedCallback;Polymer.Base.attributeChangedCallback=function(name,oldValue,newValue){if(!this.__hasInitialized&&name==="disable-upgrade"){this.__hasInitialized=true;this._propertySetter=Polymer.Bind._modelApi._propertySetter;this._configValue=Polymer.Base._configValue;this.__initialize()}origAttributeChangedCallback.call(this,
name,oldValue,newValue)}}if(window.CustomElements)Polymer["instanceof"]=CustomElements["instanceof"];else Polymer["instanceof"]=function(obj,ctor){return obj instanceof ctor};Polymer.isInstance=function(obj){return Boolean(obj&&obj.__isPolymerInstance__)};Polymer.telemetry.instanceCount=0})();
(function(){var modules={};var lcModules={};var findModule=function(id){return modules[id]||lcModules[id.toLowerCase()]};var DomModule=function(){return document.createElement("dom-module")};DomModule.prototype=Object.create(HTMLElement.prototype);Polymer.Base.mixin(DomModule.prototype,{createdCallback:function(){this.register()},register:function(id){id=id||this.id||this.getAttribute("name")||this.getAttribute("is");if(id){this.id=id;modules[id]=this;lcModules[id.toLowerCase()]=this}},"import":function(id,
selector){if(id){var m=findModule(id);if(!m){forceDomModulesUpgrade();m=findModule(id)}if(m&&selector)m=m.querySelector(selector);return m}}});Object.defineProperty(DomModule.prototype,"constructor",{value:DomModule,configurable:true,writable:true});var cePolyfill=window.CustomElements&&!CustomElements.useNative;document.registerElement("dom-module",DomModule);function forceDomModulesUpgrade(){if(cePolyfill){var script=document._currentScript||document.currentScript;var doc=script&&script.ownerDocument||
document;var modules=doc.querySelectorAll("dom-module");for(var i=modules.length-1,m;i>=0&&(m=modules[i]);i--)if(m.__upgraded__)return;else CustomElements.upgrade(m)}}})();Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var module=(document._currentScript||document.currentScript).parentNode;if(module.localName==="dom-module"){var id=module.id||module.getAttribute("name")||module.getAttribute("is");this.is=id}}if(this.is)this.is=this.is.toLowerCase()}});
Polymer.Base._addFeature({behaviors:[],_desugarBehaviors:function(){if(this.behaviors.length)this.behaviors=this._desugarSomeBehaviors(this.behaviors)},_desugarSomeBehaviors:function(behaviors){var behaviorSet=[];behaviors=this._flattenBehaviorsList(behaviors);for(var i=behaviors.length-1;i>=0;i--){var b=behaviors[i];if(behaviorSet.indexOf(b)===-1){this._mixinBehavior(b);behaviorSet.unshift(b)}}return behaviorSet},_flattenBehaviorsList:function(behaviors){var flat=[];for(var i=0;i<behaviors.length;i++){var b=
behaviors[i];if(b instanceof Array)flat=flat.concat(this._flattenBehaviorsList(b));else if(b)flat.push(b);else this._warn(this._logf("_flattenBehaviorsList","behavior is null, check for missing or 404 import"))}return flat},_mixinBehavior:function(b){var n$=Object.getOwnPropertyNames(b);var useAssignment=b._noAccessors;for(var i=0,n;i<n$.length&&(n=n$[i]);i++)if(!Polymer.Base._behaviorProperties[n]&&!this.hasOwnProperty(n))if(useAssignment)this[n]=b[n];else this.copyOwnProperty(n,b,this)},_prepBehaviors:function(){this._prepFlattenedBehaviors(this.behaviors)},
_prepFlattenedBehaviors:function(behaviors){for(var i=0,l=behaviors.length;i<l;i++)this._prepBehavior(behaviors[i]);this._prepBehavior(this)},_marshalBehaviors:function(){for(var i=0;i<this.behaviors.length;i++)this._marshalBehavior(this.behaviors[i]);this._marshalBehavior(this)}});Polymer.Base._behaviorProperties={hostAttributes:true,beforeRegister:true,registered:true,properties:true,observers:true,listeners:true,created:true,attached:true,detached:true,attributeChanged:true,ready:true,_noAccessors:true};
Polymer.Base._addFeature({_getExtendedPrototype:function(tag){return this._getExtendedNativePrototype(tag)},_nativePrototypes:{},_getExtendedNativePrototype:function(tag){var p=this._nativePrototypes[tag];if(!p){p=Object.create(this.getNativePrototype(tag));var p$=Object.getOwnPropertyNames(Polymer.Base);for(var i=0,n;i<p$.length&&(n=p$[i]);i++)if(!Polymer.BaseDescriptors[n])p[n]=Polymer.Base[n];Object.defineProperties(p,Polymer.BaseDescriptors);this._nativePrototypes[tag]=p}return p},getNativePrototype:function(tag){return Object.getPrototypeOf(document.createElement(tag))}});
Polymer.Base._addFeature({_prepConstructor:function(){this._factoryArgs=this["extends"]?[this["extends"],this.is]:[this.is];var ctor=function(){return this._factory(arguments)};if(this.hasOwnProperty("extends"))ctor["extends"]=this["extends"];Object.defineProperty(this,"constructor",{value:ctor,writable:true,configurable:true});ctor.prototype=this},_factory:function(args){var elt=document.createElement.apply(document,this._factoryArgs);if(this.factoryImpl)this.factoryImpl.apply(elt,args);return elt}});
Polymer.nob=Object.create(null);
Polymer.Base._addFeature({getPropertyInfo:function(property){var info=this._getPropertyInfo(property,this.properties);if(!info)for(var i=0;i<this.behaviors.length;i++){info=this._getPropertyInfo(property,this.behaviors[i].properties);if(info)return info}return info||Polymer.nob},_getPropertyInfo:function(property,properties){var p=properties&&properties[property];if(typeof p==="function")p=properties[property]={type:p};if(p)p.defined=true;return p},_prepPropertyInfo:function(){this._propertyInfo={};
for(var i=0;i<this.behaviors.length;i++)this._addPropertyInfo(this._propertyInfo,this.behaviors[i].properties);this._addPropertyInfo(this._propertyInfo,this.properties);this._addPropertyInfo(this._propertyInfo,this._propertyEffects)},_addPropertyInfo:function(target,source){if(source){var t,s;for(var i in source){t=target[i];s=source[i];if(i[0]==="_"&&!s.readOnly)continue;if(!target[i])target[i]={type:typeof s==="function"?s:s.type,readOnly:s.readOnly,attribute:Polymer.CaseMap.camelToDashCase(i)};
else{if(!t.type)t.type=s.type;if(!t.readOnly)t.readOnly=s.readOnly}}}}});(function(){var propertiesDesc={configurable:true,writable:true,enumerable:true,value:{}};Polymer.BaseDescriptors.properties=propertiesDesc;Object.defineProperty(Polymer.Base,"properties",propertiesDesc)})();
Polymer.CaseMap={_caseMap:{},_rx:{dashToCamel:/-[a-z]/g,camelToDash:/([A-Z])/g},dashToCamelCase:function(dash){return this._caseMap[dash]||(this._caseMap[dash]=dash.indexOf("-")<0?dash:dash.replace(this._rx.dashToCamel,function(m){return m[1].toUpperCase()}))},camelToDashCase:function(camel){return this._caseMap[camel]||(this._caseMap[camel]=camel.replace(this._rx.camelToDash,"-$1").toLowerCase())}};
Polymer.Base._addFeature({_addHostAttributes:function(attributes){if(!this._aggregatedAttributes)this._aggregatedAttributes={};if(attributes)this.mixin(this._aggregatedAttributes,attributes)},_marshalHostAttributes:function(){if(this._aggregatedAttributes)this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(node,attr$){for(var n in attr$)if(!this.hasAttribute(n)&&n!=="class"){var v=attr$[n];this.serializeValueToAttribute(v,n,this)}},_marshalAttributes:function(){this._takeAttributesToModel(this)},
_takeAttributesToModel:function(model){if(this.hasAttributes())for(var i in this._propertyInfo){var info=this._propertyInfo[i];if(this.hasAttribute(info.attribute))this._setAttributeToProperty(model,info.attribute,i,info)}},_setAttributeToProperty:function(model,attribute,property,info){if(!this._serializing){property=property||Polymer.CaseMap.dashToCamelCase(attribute);info=info||this._propertyInfo&&this._propertyInfo[property];if(info&&!info.readOnly){var v=this.getAttribute(attribute);model[property]=
this.deserialize(v,info.type)}}},_serializing:false,reflectPropertyToAttribute:function(property,attribute,value){this._serializing=true;value=value===undefined?this[property]:value;this.serializeValueToAttribute(value,attribute||Polymer.CaseMap.camelToDashCase(property));this._serializing=false},serializeValueToAttribute:function(value,attribute,node){var str=this.serialize(value);node=node||this;if(str===undefined)node.removeAttribute(attribute);else node.setAttribute(attribute,str)},deserialize:function(value,
type){switch(type){case Number:value=Number(value);break;case Boolean:value=value!=null;break;case Object:try{value=JSON.parse(value)}catch(x){}break;case Array:try{value=JSON.parse(value)}catch(x$0){value=null;console.warn("Polymer::Attributes: couldn`t decode Array as JSON")}break;case Date:value=new Date(value);break;case String:default:break}return value},serialize:function(value){switch(typeof value){case "boolean":return value?"":undefined;case "object":if(value instanceof Date)return value.toString();
else if(value)try{return JSON.stringify(value)}catch(x){return""}default:return value!=null?value:undefined}}});Polymer.version="1.11.3";Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepPropertyInfo()},_prepBehavior:function(b){this._addHostAttributes(b.hostAttributes)},_marshalBehavior:function(b){},_initFeatures:function(){this._marshalHostAttributes();this._marshalBehaviors()}});(function(){function resolveCss(cssText,ownerDocument){return cssText.replace(CSS_URL_RX,function(m,pre,url,post){return pre+"'"+resolve(url.replace(/["']/g,""),ownerDocument)+"'"+post})}function resolveAttrs(element,ownerDocument){for(var name in URL_ATTRS){var a$=URL_ATTRS[name];for(var i=0,l=a$.length,a,at,v;i<l&&(a=a$[i]);i++)if(name==="*"||element.localName===name){at=element.attributes[a];v=at&&at.value;if(v&&v.search(BINDING_RX)<0)at.value=a==="style"?resolveCss(v,ownerDocument):resolve(v,
ownerDocument)}}}function resolve(url,ownerDocument){if(url&&ABS_URL.test(url))return url;var resolver=getUrlResolver(ownerDocument);resolver.href=url;return resolver.href||url}var tempDoc;var tempDocBase;function resolveUrl(url,baseUri){if(!tempDoc){tempDoc=document.implementation.createHTMLDocument("temp");tempDocBase=tempDoc.createElement("base");tempDoc.head.appendChild(tempDocBase)}tempDocBase.href=baseUri;return resolve(url,tempDoc)}function getUrlResolver(ownerDocument){return ownerDocument.body.__urlResolver||
(ownerDocument.body.__urlResolver=ownerDocument.createElement("a"))}function pathFromUrl(url){return url.substring(0,url.lastIndexOf("/")+1)}var CSS_URL_RX=/(url\()([^)]*)(\))/g;var URL_ATTRS={"*":["href","src","style","url"],form:["action"]};var ABS_URL=/(^\/)|(^#)|(^[\w-\d]*:)/;var BINDING_RX=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:resolveCss,resolveAttrs:resolveAttrs,resolveUrl:resolveUrl,pathFromUrl:pathFromUrl};Polymer.rootPath=Polymer.Settings.rootPath||pathFromUrl(document.baseURI||window.location.href)})();
Polymer.Base._addFeature({_prepTemplate:function(){var module;if(this._template===undefined){module=Polymer.DomModule["import"](this.is);this._template=module&&module.querySelector("template")}if(module){var assetPath=module.getAttribute("assetpath")||"";var importURL=Polymer.ResolveUrl.resolveUrl(assetPath,module.ownerDocument.baseURI);this._importPath=Polymer.ResolveUrl.pathFromUrl(importURL)}else this._importPath="";if(this._template&&this._template.hasAttribute("is"))this._warn(this._logf("_prepTemplate",
"top-level Polymer template "+"must not be a type-extension, found",this._template,"Move inside simple <template>."));if(this._template&&!this._template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate)HTMLTemplateElement.decorate(this._template)},_stampTemplate:function(){if(this._template)this.root=this.instanceTemplate(this._template)},instanceTemplate:function(template){var dom=document.importNode(template._content||template.content,true);return dom}});
(function(){var baseAttachedCallback=Polymer.Base.attachedCallback;var baseDetachedCallback=Polymer.Base.detachedCallback;Polymer.Base._addFeature({_hostStack:[],ready:function(){},_registerHost:function(host){this.dataHost=host=host||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1];if(host&&host._clients)host._clients.push(this);this._clients=null;this._clientsReadied=false},_beginHosting:function(){Polymer.Base._hostStack.push(this);if(!this._clients)this._clients=[]},_endHosting:function(){Polymer.Base._hostStack.pop()},
_tryReady:function(){this._readied=false;if(this._canReady())this._ready()},_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady();if(this._template){this._setupRoot();this._readyClients()}this._clientsReadied=true;this._clients=null;this._afterClientsReady();this._readySelf()},_readyClients:function(){this._beginDistribute();var c$=this._clients;if(c$)for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)c._ready();this._finishDistribute()},
_readySelf:function(){for(var i=0,b;i<this.behaviors.length;i++){b=this.behaviors[i];if(b.ready)b.ready.call(this)}if(this.ready)this.ready();this._readied=true;if(this._attachedPending){this._attachedPending=false;this.attachedCallback()}},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){if(this._readied){this._beforeAttached();baseAttachedCallback.call(this)}else this._attachedPending=true},detachedCallback:function(){if(this._readied)baseDetachedCallback.call(this);
else this._attachedPending=false}})})();
Polymer.ArraySplice=function(){function newSplice(index,removed,addedCount){return{index:index,removed:removed,addedCount:addedCount}}var EDIT_LEAVE=0;var EDIT_UPDATE=1;var EDIT_ADD=2;var EDIT_DELETE=3;function ArraySplice(){}ArraySplice.prototype={calcEditDistances:function(current,currentStart,currentEnd,old,oldStart,oldEnd){var rowCount=oldEnd-oldStart+1;var columnCount=currentEnd-currentStart+1;var distances=new Array(rowCount);for(var i=0;i<rowCount;i++){distances[i]=new Array(columnCount);distances[i][0]=
i}for(var j=0;j<columnCount;j++)distances[0][j]=j;for(i=1;i<rowCount;i++)for(j=1;j<columnCount;j++)if(this.equals(current[currentStart+j-1],old[oldStart+i-1]))distances[i][j]=distances[i-1][j-1];else{var north=distances[i-1][j]+1;var west=distances[i][j-1]+1;distances[i][j]=north<west?north:west}return distances},spliceOperationsFromEditDistances:function(distances){var i=distances.length-1;var j=distances[0].length-1;var current=distances[i][j];var edits=[];while(i>0||j>0){if(i==0){edits.push(EDIT_ADD);
j--;continue}if(j==0){edits.push(EDIT_DELETE);i--;continue}var northWest=distances[i-1][j-1];var west=distances[i-1][j];var north=distances[i][j-1];var min;if(west<north)min=west<northWest?west:northWest;else min=north<northWest?north:northWest;if(min==northWest){if(northWest==current)edits.push(EDIT_LEAVE);else{edits.push(EDIT_UPDATE);current=northWest}i--;j--}else if(min==west){edits.push(EDIT_DELETE);i--;current=west}else{edits.push(EDIT_ADD);j--;current=north}}edits.reverse();return edits},calcSplices:function(current,
currentStart,currentEnd,old,oldStart,oldEnd){var prefixCount=0;var suffixCount=0;var minLength=Math.min(currentEnd-currentStart,oldEnd-oldStart);if(currentStart==0&&oldStart==0)prefixCount=this.sharedPrefix(current,old,minLength);if(currentEnd==current.length&&oldEnd==old.length)suffixCount=this.sharedSuffix(current,old,minLength-prefixCount);currentStart+=prefixCount;oldStart+=prefixCount;currentEnd-=suffixCount;oldEnd-=suffixCount;if(currentEnd-currentStart==0&&oldEnd-oldStart==0)return[];if(currentStart==
currentEnd){var splice=newSplice(currentStart,[],0);while(oldStart<oldEnd)splice.removed.push(old[oldStart++]);return[splice]}else if(oldStart==oldEnd)return[newSplice(currentStart,[],currentEnd-currentStart)];var ops=this.spliceOperationsFromEditDistances(this.calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd));splice=undefined;var splices=[];var index=currentStart;var oldIndex=oldStart;for(var i=0;i<ops.length;i++)switch(ops[i]){case EDIT_LEAVE:if(splice){splices.push(splice);
splice=undefined}index++;oldIndex++;break;case EDIT_UPDATE:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;splice.removed.push(old[oldIndex]);oldIndex++;break;case EDIT_ADD:if(!splice)splice=newSplice(index,[],0);splice.addedCount++;index++;break;case EDIT_DELETE:if(!splice)splice=newSplice(index,[],0);splice.removed.push(old[oldIndex]);oldIndex++;break}if(splice)splices.push(splice);return splices},sharedPrefix:function(current,old,searchLength){for(var i=0;i<searchLength;i++)if(!this.equals(current[i],
old[i]))return i;return searchLength},sharedSuffix:function(current,old,searchLength){var index1=current.length;var index2=old.length;var count=0;while(count<searchLength&&this.equals(current[--index1],old[--index2]))count++;return count},calculateSplices:function(current,previous){return this.calcSplices(current,0,current.length,previous,0,previous.length)},equals:function(currentValue,previousValue){return currentValue===previousValue}};return new ArraySplice}();
Polymer.domInnerHTML=function(){var escapeAttrRegExp=/[&\u00A0"]/g;var escapeDataRegExp=/[&\u00A0<>]/g;function escapeReplace(c){switch(c){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "\u00a0":return"&nbsp;"}}function escapeAttr(s){return s.replace(escapeAttrRegExp,escapeReplace)}function escapeData(s){return s.replace(escapeDataRegExp,escapeReplace)}function makeSet(arr){var set={};for(var i=0;i<arr.length;i++)set[arr[i]]=true;return set}var voidElements=
makeSet(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]);var plaintextParents=makeSet(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function getOuterHTML(node,parentNode,composed){switch(node.nodeType){case Node.ELEMENT_NODE:var tagName=node.localName;var s="<"+tagName;var attrs=node.attributes;for(var i=0,attr;attr=attrs[i];i++)s+=" "+attr.name+'="'+escapeAttr(attr.value)+'"';s+=">";if(voidElements[tagName])return s;
return s+getInnerHTML(node,composed)+"</"+tagName+">";case Node.TEXT_NODE:var data=node.data;if(parentNode&&plaintextParents[parentNode.localName])return data;return escapeData(data);case Node.COMMENT_NODE:return"\x3c!--"+node.data+"--\x3e";default:console.error(node);throw new Error("not implemented");}}function getInnerHTML(node,composed){if(node instanceof HTMLTemplateElement)node=node.content;var s="";var c$=Polymer.dom(node).childNodes;for(var i=0,l=c$.length,child;i<l&&(child=c$[i]);i++)s+=
getOuterHTML(child,node,composed);return s}return{getInnerHTML:getInnerHTML}}();
(function(){var nativeInsertBefore=Element.prototype.insertBefore;var nativeAppendChild=Element.prototype.appendChild;var nativeRemoveChild=Element.prototype.removeChild;Polymer.TreeApi={arrayCopyChildNodes:function(parent){var copy=[],i=0;for(var n=parent.firstChild;n;n=n.nextSibling)copy[i++]=n;return copy},arrayCopyChildren:function(parent){var copy=[],i=0;for(var n=parent.firstElementChild;n;n=n.nextElementSibling)copy[i++]=n;return copy},arrayCopy:function(a$){var l=a$.length;var copy=new Array(l);
for(var i=0;i<l;i++)copy[i]=a$[i];return copy}};Polymer.TreeApi.Logical={hasParentNode:function(node){return Boolean(node.__dom&&node.__dom.parentNode)},hasChildNodes:function(node){return Boolean(node.__dom&&node.__dom.childNodes!==undefined)},getChildNodes:function(node){return this.hasChildNodes(node)?this._getChildNodes(node):node.childNodes},_getChildNodes:function(node){if(!node.__dom.childNodes){node.__dom.childNodes=[];for(var n=node.__dom.firstChild;n;n=n.__dom.nextSibling)node.__dom.childNodes.push(n)}return node.__dom.childNodes},
getParentNode:function(node){return node.__dom&&node.__dom.parentNode!==undefined?node.__dom.parentNode:node.parentNode},getFirstChild:function(node){return node.__dom&&node.__dom.firstChild!==undefined?node.__dom.firstChild:node.firstChild},getLastChild:function(node){return node.__dom&&node.__dom.lastChild!==undefined?node.__dom.lastChild:node.lastChild},getNextSibling:function(node){return node.__dom&&node.__dom.nextSibling!==undefined?node.__dom.nextSibling:node.nextSibling},getPreviousSibling:function(node){return node.__dom&&
node.__dom.previousSibling!==undefined?node.__dom.previousSibling:node.previousSibling},getFirstElementChild:function(node){return node.__dom&&node.__dom.firstChild!==undefined?this._getFirstElementChild(node):node.firstElementChild},_getFirstElementChild:function(node){var n=node.__dom.firstChild;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.nextSibling;return n},getLastElementChild:function(node){return node.__dom&&node.__dom.lastChild!==undefined?this._getLastElementChild(node):node.lastElementChild},
_getLastElementChild:function(node){var n=node.__dom.lastChild;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.previousSibling;return n},getNextElementSibling:function(node){return node.__dom&&node.__dom.nextSibling!==undefined?this._getNextElementSibling(node):node.nextElementSibling},_getNextElementSibling:function(node){var n=node.__dom.nextSibling;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.nextSibling;return n},getPreviousElementSibling:function(node){return node.__dom&&node.__dom.previousSibling!==
undefined?this._getPreviousElementSibling(node):node.previousElementSibling},_getPreviousElementSibling:function(node){var n=node.__dom.previousSibling;while(n&&n.nodeType!==Node.ELEMENT_NODE)n=n.__dom.previousSibling;return n},saveChildNodes:function(node){if(!this.hasChildNodes(node)){node.__dom=node.__dom||{};node.__dom.firstChild=node.firstChild;node.__dom.lastChild=node.lastChild;node.__dom.childNodes=[];for(var n=node.firstChild;n;n=n.nextSibling){n.__dom=n.__dom||{};n.__dom.parentNode=node;
node.__dom.childNodes.push(n);n.__dom.nextSibling=n.nextSibling;n.__dom.previousSibling=n.previousSibling}}},recordInsertBefore:function(node,container,ref_node){container.__dom.childNodes=null;if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var n=node.firstChild;n;n=n.nextSibling)this._linkNode(n,container,ref_node);else this._linkNode(node,container,ref_node)},_linkNode:function(node,container,ref_node){node.__dom=node.__dom||{};container.__dom=container.__dom||{};if(ref_node)ref_node.__dom=
ref_node.__dom||{};node.__dom.previousSibling=ref_node?ref_node.__dom.previousSibling:container.__dom.lastChild;if(node.__dom.previousSibling)node.__dom.previousSibling.__dom.nextSibling=node;node.__dom.nextSibling=ref_node||null;if(node.__dom.nextSibling)node.__dom.nextSibling.__dom.previousSibling=node;node.__dom.parentNode=container;if(ref_node){if(ref_node===container.__dom.firstChild)container.__dom.firstChild=node}else{container.__dom.lastChild=node;if(!container.__dom.firstChild)container.__dom.firstChild=
node}container.__dom.childNodes=null},recordRemoveChild:function(node,container){node.__dom=node.__dom||{};container.__dom=container.__dom||{};if(node===container.__dom.firstChild)container.__dom.firstChild=node.__dom.nextSibling;if(node===container.__dom.lastChild)container.__dom.lastChild=node.__dom.previousSibling;var p=node.__dom.previousSibling;var n=node.__dom.nextSibling;if(p)p.__dom.nextSibling=n;if(n)n.__dom.previousSibling=p;node.__dom.parentNode=node.__dom.previousSibling=node.__dom.nextSibling=
undefined;container.__dom.childNodes=null}};Polymer.TreeApi.Composed={getChildNodes:function(node){return Polymer.TreeApi.arrayCopyChildNodes(node)},getParentNode:function(node){return node.parentNode},clearChildNodes:function(node){node.textContent=""},insertBefore:function(parentNode,newChild,refChild){return nativeInsertBefore.call(parentNode,newChild,refChild||null)},appendChild:function(parentNode,newChild){return nativeAppendChild.call(parentNode,newChild)},removeChild:function(parentNode,node){return nativeRemoveChild.call(parentNode,
node)}}})();
Polymer.DomApi=function(){var Settings=Polymer.Settings;var TreeApi=Polymer.TreeApi;var DomApi=function(node){this.node=needsToWrap?DomApi.wrap(node):node};var needsToWrap=Settings.hasShadow&&!Settings.nativeShadow;DomApi.wrap=window.wrap?window.wrap:function(node){return node};DomApi.prototype={flush:function(){Polymer.dom.flush()},deepContains:function(node){if(this.node.contains(node))return true;var n=node;var doc=node.ownerDocument;while(n&&n!==doc&&n!==this.node)n=Polymer.dom(n).parentNode||n.host;
return n===this.node},queryDistributedElements:function(selector){var c$=this.getEffectiveChildNodes();var list=[];for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)if(c.nodeType===Node.ELEMENT_NODE&&DomApi.matchesSelector.call(c,selector))list.push(c);return list},getEffectiveChildNodes:function(){var list=[];var c$=this.childNodes;for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)if(c.localName===CONTENT){var d$=dom(c).getDistributedNodes();for(var j=0;j<d$.length;j++)list.push(d$[j])}else list.push(c);return list},
observeNodes:function(callback){if(callback){if(!this.observer)this.observer=this.node.localName===CONTENT?new DomApi.DistributedNodesObserver(this):new DomApi.EffectiveNodesObserver(this);return this.observer.addListener(callback)}},unobserveNodes:function(handle){if(this.observer)this.observer.removeListener(handle)},notifyObserver:function(){if(this.observer)this.observer.notify()},_query:function(matcher,node,halter){node=node||this.node;var list=[];this._queryElements(TreeApi.Logical.getChildNodes(node),
matcher,halter,list);return list},_queryElements:function(elements,matcher,halter,list){for(var i=0,l=elements.length,c;i<l&&(c=elements[i]);i++)if(c.nodeType===Node.ELEMENT_NODE)if(this._queryElement(c,matcher,halter,list))return true},_queryElement:function(node,matcher,halter,list){var result=matcher(node);if(result)list.push(node);if(halter&&halter(result))return result;this._queryElements(TreeApi.Logical.getChildNodes(node),matcher,halter,list)}};var CONTENT=DomApi.CONTENT="content";var dom=
DomApi.factory=function(node){node=node||document;if(!node.__domApi)node.__domApi=new DomApi.ctor(node);return node.__domApi};DomApi.hasApi=function(node){return Boolean(node.__domApi)};DomApi.ctor=DomApi;Polymer.dom=function(obj,patch){if(obj instanceof Event)return Polymer.EventApi.factory(obj);else return DomApi.factory(obj,patch)};var p=Element.prototype;DomApi.matchesSelector=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector;
return DomApi}();
(function(){var Settings=Polymer.Settings;var DomApi=Polymer.DomApi;var dom=DomApi.factory;var TreeApi=Polymer.TreeApi;var getInnerHTML=Polymer.domInnerHTML.getInnerHTML;var CONTENT=DomApi.CONTENT;if(Settings.useShadow)return;var nativeCloneNode=Element.prototype.cloneNode;var nativeImportNode=Document.prototype.importNode;Polymer.Base.mixin(DomApi.prototype,{_lazyDistribute:function(host){if(host.shadyRoot&&host.shadyRoot._distributionClean){host.shadyRoot._distributionClean=false;Polymer.dom.addDebouncer(host.debounce("_distribute",
host._distributeContent))}},appendChild:function(node){return this.insertBefore(node)},insertBefore:function(node,ref_node){if(ref_node&&TreeApi.Logical.getParentNode(ref_node)!==this.node)throw Error("The ref_node to be inserted before is not a child "+"of this node");if(node.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var parent=TreeApi.Logical.getParentNode(node);if(parent){if(DomApi.hasApi(parent))dom(parent).notifyObserver();this._removeNode(node)}else this._removeOwnerShadyRoot(node)}if(!this._addNode(node,
ref_node)){if(ref_node)ref_node=ref_node.localName===CONTENT?this._firstComposedNode(ref_node):ref_node;var container=this.node._isShadyRoot?this.node.host:this.node;if(ref_node)TreeApi.Composed.insertBefore(container,node,ref_node);else TreeApi.Composed.appendChild(container,node)}this.notifyObserver();return node},_addNode:function(node,ref_node){var root=this.getOwnerRoot();if(root){var ipAdded=this._maybeAddInsertionPoint(node,this.node);if(!root._invalidInsertionPoints)root._invalidInsertionPoints=
ipAdded;this._addNodeToHost(root.host,node)}if(TreeApi.Logical.hasChildNodes(this.node))TreeApi.Logical.recordInsertBefore(node,this.node,ref_node);var handled=this._maybeDistribute(node)||this.node.shadyRoot;if(handled)if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE)while(node.firstChild)TreeApi.Composed.removeChild(node,node.firstChild);else{var parent=TreeApi.Composed.getParentNode(node);if(parent)TreeApi.Composed.removeChild(parent,node)}return handled},removeChild:function(node){if(TreeApi.Logical.getParentNode(node)!==
this.node)throw Error("The node to be removed is not a child of this node: "+node);if(!this._removeNode(node)){var container=this.node._isShadyRoot?this.node.host:this.node;var parent=TreeApi.Composed.getParentNode(node);if(container===parent)TreeApi.Composed.removeChild(container,node)}this.notifyObserver();return node},_removeNode:function(node){var logicalParent=TreeApi.Logical.hasParentNode(node)&&TreeApi.Logical.getParentNode(node);var distributed;var root=this._ownerShadyRootForNode(node);if(logicalParent){distributed=
dom(node)._maybeDistributeParent();TreeApi.Logical.recordRemoveChild(node,logicalParent);if(root&&this._removeDistributedChildren(root,node)){root._invalidInsertionPoints=true;this._lazyDistribute(root.host)}}this._removeOwnerShadyRoot(node);if(root)this._removeNodeFromHost(root.host,node);return distributed},replaceChild:function(node,ref_node){this.insertBefore(node,ref_node);this.removeChild(ref_node);return node},_hasCachedOwnerRoot:function(node){return Boolean(node._ownerShadyRoot!==undefined)},
getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(node){if(!node)return;var root=node._ownerShadyRoot;if(root===undefined){if(node._isShadyRoot)root=node;else{var parent=TreeApi.Logical.getParentNode(node);if(parent)root=parent._isShadyRoot?parent:this._ownerShadyRootForNode(parent);else root=null}if(root||document.documentElement.contains(node))node._ownerShadyRoot=root}return root},_maybeDistribute:function(node){var fragContent=node.nodeType===
Node.DOCUMENT_FRAGMENT_NODE&&!node.__noContent&&dom(node).querySelector(CONTENT);var wrappedContent=fragContent&&TreeApi.Logical.getParentNode(fragContent).nodeType!==Node.DOCUMENT_FRAGMENT_NODE;var hasContent=fragContent||node.localName===CONTENT;if(hasContent){var root=this.getOwnerRoot();if(root)this._lazyDistribute(root.host)}var needsDist=this._nodeNeedsDistribution(this.node);if(needsDist)this._lazyDistribute(this.node);return needsDist||hasContent&&!wrappedContent},_maybeAddInsertionPoint:function(node,
parent){var added;if(node.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!node.__noContent){var c$=dom(node).querySelectorAll(CONTENT);for(var i=0,n,np,na;i<c$.length&&(n=c$[i]);i++){np=TreeApi.Logical.getParentNode(n);if(np===node)np=parent;na=this._maybeAddInsertionPoint(n,np);added=added||na}}else if(node.localName===CONTENT){TreeApi.Logical.saveChildNodes(parent);TreeApi.Logical.saveChildNodes(node);added=true}return added},_updateInsertionPoints:function(host){var i$=host.shadyRoot._insertionPoints=
dom(host.shadyRoot).querySelectorAll(CONTENT);for(var i=0,c;i<i$.length;i++){c=i$[i];TreeApi.Logical.saveChildNodes(c);TreeApi.Logical.saveChildNodes(TreeApi.Logical.getParentNode(c))}},_nodeNeedsDistribution:function(node){return node&&node.shadyRoot&&DomApi.hasInsertionPoint(node.shadyRoot)},_addNodeToHost:function(host,node){if(host._elementAdd)host._elementAdd(node)},_removeNodeFromHost:function(host,node){if(host._elementRemove)host._elementRemove(node)},_removeDistributedChildren:function(root,
container){var hostNeedsDist;var ip$=root._insertionPoints;for(var i=0;i<ip$.length;i++){var content=ip$[i];if(this._contains(container,content)){var dc$=dom(content).getDistributedNodes();for(var j=0;j<dc$.length;j++){hostNeedsDist=true;var node=dc$[j];var parent=TreeApi.Composed.getParentNode(node);if(parent)TreeApi.Composed.removeChild(parent,node)}}}return hostNeedsDist},_contains:function(container,node){while(node){if(node==container)return true;node=TreeApi.Logical.getParentNode(node)}},_removeOwnerShadyRoot:function(node){if(this._hasCachedOwnerRoot(node)){var c$=
TreeApi.Logical.getChildNodes(node);for(var i=0,l=c$.length,n;i<l&&(n=c$[i]);i++)this._removeOwnerShadyRoot(n)}node._ownerShadyRoot=undefined},_firstComposedNode:function(content){var n$=dom(content).getDistributedNodes();for(var i=0,l=n$.length,n,p$;i<l&&(n=n$[i]);i++){p$=dom(n).getDestinationInsertionPoints();if(p$[p$.length-1]===content)return n}},querySelector:function(selector){var result=this._query(function(n){return DomApi.matchesSelector.call(n,selector)},this.node,function(n){return Boolean(n)})[0];
return result||null},querySelectorAll:function(selector){return this._query(function(n){return DomApi.matchesSelector.call(n,selector)},this.node)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},_clear:function(){while(this.childNodes.length)this.removeChild(this.childNodes[0])},setAttribute:function(name,value){this.node.setAttribute(name,value);this._maybeDistributeParent()},removeAttribute:function(name){this.node.removeAttribute(name);
this._maybeDistributeParent()},_maybeDistributeParent:function(){if(this._nodeNeedsDistribution(this.parentNode)){this._lazyDistribute(this.parentNode);return true}},cloneNode:function(deep){var n=nativeCloneNode.call(this.node,false);if(deep){var c$=this.childNodes;var d=dom(n);for(var i=0,nc;i<c$.length;i++){nc=dom(c$[i]).cloneNode(true);d.appendChild(nc)}}return n},importNode:function(externalNode,deep){var doc=this.node instanceof Document?this.node:this.node.ownerDocument;var n=nativeImportNode.call(doc,
externalNode,false);if(deep){var c$=TreeApi.Logical.getChildNodes(externalNode);var d=dom(n);for(var i=0,nc;i<c$.length;i++){nc=dom(doc).importNode(c$[i],true);d.appendChild(nc)}}return n},_getComposedInnerHTML:function(){return getInnerHTML(this.node,true)}});Object.defineProperties(DomApi.prototype,{activeElement:{get:function(){var active=document.activeElement;if(!active)return null;var isShadyRoot=!!this.node._isShadyRoot;if(this.node!==document){if(!isShadyRoot)return null;if(this.node.host===
active||!this.node.host.contains(active))return null}var activeRoot=dom(active).getOwnerRoot();while(activeRoot&&activeRoot!==this.node){active=activeRoot.host;activeRoot=dom(active).getOwnerRoot()}if(this.node===document)return activeRoot?null:active;else return activeRoot===this.node?active:null},configurable:true},childNodes:{get:function(){var c$=TreeApi.Logical.getChildNodes(this.node);return Array.isArray(c$)?c$:TreeApi.arrayCopyChildNodes(this.node)},configurable:true},children:{get:function(){if(TreeApi.Logical.hasChildNodes(this.node))return Array.prototype.filter.call(this.childNodes,
function(n){return n.nodeType===Node.ELEMENT_NODE});else return TreeApi.arrayCopyChildren(this.node)},configurable:true},parentNode:{get:function(){return TreeApi.Logical.getParentNode(this.node)},configurable:true},firstChild:{get:function(){return TreeApi.Logical.getFirstChild(this.node)},configurable:true},lastChild:{get:function(){return TreeApi.Logical.getLastChild(this.node)},configurable:true},nextSibling:{get:function(){return TreeApi.Logical.getNextSibling(this.node)},configurable:true},
previousSibling:{get:function(){return TreeApi.Logical.getPreviousSibling(this.node)},configurable:true},firstElementChild:{get:function(){return TreeApi.Logical.getFirstElementChild(this.node)},configurable:true},lastElementChild:{get:function(){return TreeApi.Logical.getLastElementChild(this.node)},configurable:true},nextElementSibling:{get:function(){return TreeApi.Logical.getNextElementSibling(this.node)},configurable:true},previousElementSibling:{get:function(){return TreeApi.Logical.getPreviousElementSibling(this.node)},
configurable:true},textContent:{get:function(){var nt=this.node.nodeType;if(nt===Node.TEXT_NODE||nt===Node.COMMENT_NODE)return this.node.textContent;else{var tc=[];for(var i=0,cn=this.childNodes,c;c=cn[i];i++)if(c.nodeType!==Node.COMMENT_NODE)tc.push(c.textContent);return tc.join("")}},set:function(text){var nt=this.node.nodeType;if(nt===Node.TEXT_NODE||nt===Node.COMMENT_NODE)this.node.textContent=text;else{this._clear();if(text)this.appendChild(document.createTextNode(text))}},configurable:true},
innerHTML:{get:function(){var nt=this.node.nodeType;if(nt===Node.TEXT_NODE||nt===Node.COMMENT_NODE)return null;else return getInnerHTML(this.node)},set:function(text){var nt=this.node.nodeType;if(nt!==Node.TEXT_NODE||nt!==Node.COMMENT_NODE){this._clear();var d=document.createElement("div");d.innerHTML=text;var c$=TreeApi.arrayCopyChildNodes(d);for(var i=0;i<c$.length;i++)this.appendChild(c$[i])}},configurable:true}});DomApi.hasInsertionPoint=function(root){return Boolean(root&&root._insertionPoints.length)}})();
(function(){var Settings=Polymer.Settings;var TreeApi=Polymer.TreeApi;var DomApi=Polymer.DomApi;if(!Settings.useShadow)return;Polymer.Base.mixin(DomApi.prototype,{querySelectorAll:function(selector){return TreeApi.arrayCopy(this.node.querySelectorAll(selector))},getOwnerRoot:function(){var n=this.node;while(n){if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host)return n;n=n.parentNode}},importNode:function(externalNode,deep){var doc=this.node instanceof Document?this.node:this.node.ownerDocument;
return doc.importNode(externalNode,deep)},getDestinationInsertionPoints:function(){var n$=this.node.getDestinationInsertionPoints&&this.node.getDestinationInsertionPoints();return n$?TreeApi.arrayCopy(n$):[]},getDistributedNodes:function(){var n$=this.node.getDistributedNodes&&this.node.getDistributedNodes();return n$?TreeApi.arrayCopy(n$):[]}});Object.defineProperties(DomApi.prototype,{activeElement:{get:function(){var node=DomApi.wrap(this.node);var activeElement=node.activeElement;return node.contains(activeElement)?
activeElement:null},configurable:true},childNodes:{get:function(){return TreeApi.arrayCopyChildNodes(this.node)},configurable:true},children:{get:function(){return TreeApi.arrayCopyChildren(this.node)},configurable:true},textContent:{get:function(){return this.node.textContent},set:function(value){return this.node.textContent=value},configurable:true},innerHTML:{get:function(){return this.node.innerHTML},set:function(value){return this.node.innerHTML=value},configurable:true}});var forwardMethods=
function(m$){for(var i=0;i<m$.length;i++)forwardMethod(m$[i])};var forwardMethod=function(method){DomApi.prototype[method]=function(){return this.node[method].apply(this.node,arguments)}};forwardMethods(["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector"]);var forwardProperties=function(f$){for(var i=0;i<f$.length;i++)forwardProperty(f$[i])};var forwardProperty=function(name){Object.defineProperty(DomApi.prototype,name,{get:function(){return this.node[name]},
configurable:true})};forwardProperties(["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling"])})();
Polymer.Base.mixin(Polymer.dom,{_flushGuard:0,_FLUSH_MAX:100,_needsTakeRecords:!Polymer.Settings.useNativeCustomElements,_debouncers:[],_staticFlushList:[],_finishDebouncer:null,flush:function(){this._flushGuard=0;this._prepareFlush();while(this._debouncers.length&&this._flushGuard<this._FLUSH_MAX){while(this._debouncers.length)this._debouncers.shift().complete();if(this._finishDebouncer)this._finishDebouncer.complete();this._prepareFlush();this._flushGuard++}if(this._flushGuard>=this._FLUSH_MAX)console.warn("Polymer.dom.flush aborted. Flush may not be complete.")},
_prepareFlush:function(){if(this._needsTakeRecords)CustomElements.takeRecords();for(var i=0;i<this._staticFlushList.length;i++)this._staticFlushList[i]()},addStaticFlush:function(fn){this._staticFlushList.push(fn)},removeStaticFlush:function(fn){var i=this._staticFlushList.indexOf(fn);if(i>=0)this._staticFlushList.splice(i,1)},addDebouncer:function(debouncer){this._debouncers.push(debouncer);this._finishDebouncer=Polymer.Debounce(this._finishDebouncer,this._finishFlush)},_finishFlush:function(){Polymer.dom._debouncers=
[]}});
Polymer.EventApi=function(){var DomApi=Polymer.DomApi.ctor;var Settings=Polymer.Settings;DomApi.Event=function(event){this.event=event};if(Settings.useShadow)DomApi.Event.prototype={get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){var path=this.event.path;if(!Array.isArray(path))path=Array.prototype.slice.call(path);return path}};else DomApi.Event.prototype={get rootTarget(){return this.event.target},get localTarget(){var current=this.event.currentTarget;var currentRoot=
current&&Polymer.dom(current).getOwnerRoot();var p$=this.path;for(var i=0;i<p$.length;i++)if(Polymer.dom(p$[i]).getOwnerRoot()===currentRoot)return p$[i]},get path(){if(!this.event._path){var path=[];var current=this.rootTarget;while(current){path.push(current);var insertionPoints=Polymer.dom(current).getDestinationInsertionPoints();if(insertionPoints.length){for(var i=0;i<insertionPoints.length-1;i++)path.push(insertionPoints[i]);current=insertionPoints[insertionPoints.length-1]}else current=Polymer.dom(current).parentNode||
current.host}path.push(window);this.event._path=path}return this.event._path}};var factory=function(event){if(!event.__eventApi)event.__eventApi=new DomApi.Event(event);return event.__eventApi};return{factory:factory}}();
(function(){var DomApi=Polymer.DomApi.ctor;var useShadow=Polymer.Settings.useShadow;Object.defineProperty(DomApi.prototype,"classList",{get:function(){if(!this._classList)this._classList=new DomApi.ClassList(this);return this._classList},configurable:true});DomApi.ClassList=function(host){this.domApi=host;this.node=host.node};DomApi.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments);this._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,
arguments);this._distributeParent()},toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments);this._distributeParent()},_distributeParent:function(){if(!useShadow)this.domApi._maybeDistributeParent()},contains:function(){return this.node.classList.contains.apply(this.node.classList,arguments)}}})();
(function(){var DomApi=Polymer.DomApi.ctor;var Settings=Polymer.Settings;DomApi.EffectiveNodesObserver=function(domApi){this.domApi=domApi;this.node=this.domApi.node;this._listeners=[]};DomApi.EffectiveNodesObserver.prototype={addListener:function(callback){if(!this._isSetup){this._setup();this._isSetup=true}var listener={fn:callback,_nodes:[]};this._listeners.push(listener);this._scheduleNotify();return listener},removeListener:function(handle){var i=this._listeners.indexOf(handle);if(i>=0){this._listeners.splice(i,
1);handle._nodes=[]}if(!this._hasListeners()){this._cleanup();this._isSetup=false}},_setup:function(){this._observeContentElements(this.domApi.childNodes)},_cleanup:function(){this._unobserveContentElements(this.domApi.childNodes)},_hasListeners:function(){return Boolean(this._listeners.length)},_scheduleNotify:function(){if(this._debouncer)this._debouncer.stop();this._debouncer=Polymer.Debounce(this._debouncer,this._notify);this._debouncer.context=this;Polymer.dom.addDebouncer(this._debouncer)},
notify:function(){if(this._hasListeners())this._scheduleNotify()},_notify:function(){this._beforeCallListeners();this._callListeners()},_beforeCallListeners:function(){this._updateContentElements()},_updateContentElements:function(){this._observeContentElements(this.domApi.childNodes)},_observeContentElements:function(elements){for(var i=0,n;i<elements.length&&(n=elements[i]);i++)if(this._isContent(n)){n.__observeNodesMap=n.__observeNodesMap||new WeakMap;if(!n.__observeNodesMap.has(this))n.__observeNodesMap.set(this,
this._observeContent(n))}},_observeContent:function(content){var self=this;var h=Polymer.dom(content).observeNodes(function(){self._scheduleNotify()});h._avoidChangeCalculation=true;return h},_unobserveContentElements:function(elements){for(var i=0,n,h;i<elements.length&&(n=elements[i]);i++)if(this._isContent(n)){h=n.__observeNodesMap.get(this);if(h){Polymer.dom(n).unobserveNodes(h);n.__observeNodesMap["delete"](this)}}},_isContent:function(node){return node.localName==="content"},_callListeners:function(){var o$=
this._listeners;var nodes=this._getEffectiveNodes();for(var i=0,o;i<o$.length&&(o=o$[i]);i++){var info=this._generateListenerInfo(o,nodes);if(info||o._alwaysNotify)this._callListener(o,info)}},_getEffectiveNodes:function(){return this.domApi.getEffectiveChildNodes()},_generateListenerInfo:function(listener,newNodes){if(listener._avoidChangeCalculation)return true;var oldNodes=listener._nodes;var info={target:this.node,addedNodes:[],removedNodes:[]};var splices=Polymer.ArraySplice.calculateSplices(newNodes,
oldNodes);for(var i=0,s;i<splices.length&&(s=splices[i]);i++)for(var j=0,n;j<s.removed.length&&(n=s.removed[j]);j++)info.removedNodes.push(n);for(i=0,s;i<splices.length&&(s=splices[i]);i++)for(j=s.index;j<s.index+s.addedCount;j++)info.addedNodes.push(newNodes[j]);listener._nodes=newNodes;if(info.addedNodes.length||info.removedNodes.length)return info},_callListener:function(listener,info){return listener.fn.call(this.node,info)},enableShadowAttributeTracking:function(){}};if(Settings.useShadow){var baseSetup=
DomApi.EffectiveNodesObserver.prototype._setup;var baseCleanup=DomApi.EffectiveNodesObserver.prototype._cleanup;Polymer.Base.mixin(DomApi.EffectiveNodesObserver.prototype,{_setup:function(){if(!this._observer){var self=this;this._mutationHandler=function(mxns){if(mxns&&mxns.length)self._scheduleNotify()};this._observer=new MutationObserver(this._mutationHandler);this._boundFlush=function(){self._flush()};Polymer.dom.addStaticFlush(this._boundFlush);this._observer.observe(this.node,{childList:true})}baseSetup.call(this)},
_cleanup:function(){this._observer.disconnect();this._observer=null;this._mutationHandler=null;Polymer.dom.removeStaticFlush(this._boundFlush);baseCleanup.call(this)},_flush:function(){if(this._observer)this._mutationHandler(this._observer.takeRecords())},enableShadowAttributeTracking:function(){if(this._observer){this._makeContentListenersAlwaysNotify();this._observer.disconnect();this._observer.observe(this.node,{childList:true,attributes:true,subtree:true});var root=this.domApi.getOwnerRoot();
var host=root&&root.host;if(host&&Polymer.dom(host).observer)Polymer.dom(host).observer.enableShadowAttributeTracking()}},_makeContentListenersAlwaysNotify:function(){for(var i=0,h;i<this._listeners.length;i++){h=this._listeners[i];h._alwaysNotify=h._isContentListener}}})}})();
(function(){var DomApi=Polymer.DomApi.ctor;var Settings=Polymer.Settings;DomApi.DistributedNodesObserver=function(domApi){DomApi.EffectiveNodesObserver.call(this,domApi)};DomApi.DistributedNodesObserver.prototype=Object.create(DomApi.EffectiveNodesObserver.prototype);Polymer.Base.mixin(DomApi.DistributedNodesObserver.prototype,{_setup:function(){},_cleanup:function(){},_beforeCallListeners:function(){},_getEffectiveNodes:function(){return this.domApi.getDistributedNodes()}});if(Settings.useShadow)Polymer.Base.mixin(DomApi.DistributedNodesObserver.prototype,
{_setup:function(){if(!this._observer){var root=this.domApi.getOwnerRoot();var host=root&&root.host;if(host){var self=this;this._observer=Polymer.dom(host).observeNodes(function(){self._scheduleNotify()});this._observer._isContentListener=true;if(this._hasAttrSelect())Polymer.dom(host).observer.enableShadowAttributeTracking()}}},_hasAttrSelect:function(){var select=this.node.getAttribute("select");return select&&select.match(/[[.]+/)},_cleanup:function(){var root=this.domApi.getOwnerRoot();var host=
root&&root.host;if(host)Polymer.dom(host).unobserveNodes(this._observer);this._observer=null}})})();
(function(){var DomApi=Polymer.DomApi;var TreeApi=Polymer.TreeApi;Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||Boolean(this._template)},_setupShady:function(){this.shadyRoot=null;if(!this.__domApi)this.__domApi=null;if(!this.__dom)this.__dom=null;if(!this._ownerShadyRoot)this._ownerShadyRoot=undefined},_poolContent:function(){if(this._useContent)TreeApi.Logical.saveChildNodes(this)},_setupRoot:function(){if(this._useContent){this._createLocalRoot();if(!this.dataHost)upgradeLogicalChildren(TreeApi.Logical.getChildNodes(this))}},
_createLocalRoot:function(){this.shadyRoot=this.root;this.shadyRoot._distributionClean=false;this.shadyRoot._hasDistributed=false;this.shadyRoot._isShadyRoot=true;this.shadyRoot._dirtyRoots=[];var i$=this.shadyRoot._insertionPoints=!this._notes||this._notes._hasContent?this.shadyRoot.querySelectorAll("content"):[];TreeApi.Logical.saveChildNodes(this.shadyRoot);for(var i=0,c;i<i$.length;i++){c=i$[i];TreeApi.Logical.saveChildNodes(c);TreeApi.Logical.saveChildNodes(c.parentNode)}this.shadyRoot.host=
this},distributeContent:function(updateInsertionPoints){if(this.shadyRoot){this.shadyRoot._invalidInsertionPoints=this.shadyRoot._invalidInsertionPoints||updateInsertionPoints;var host=getTopDistributingHost(this);Polymer.dom(this)._lazyDistribute(host)}},_distributeContent:function(){if(this._useContent&&!this.shadyRoot._distributionClean){if(this.shadyRoot._invalidInsertionPoints){Polymer.dom(this)._updateInsertionPoints(this);this.shadyRoot._invalidInsertionPoints=false}this._beginDistribute();
this._distributeDirtyRoots();this._finishDistribute()}},_beginDistribute:function(){if(this._useContent&&DomApi.hasInsertionPoint(this.shadyRoot)){this._resetDistribution();this._distributePool(this.shadyRoot,this._collectPool())}},_distributeDirtyRoots:function(){var c$=this.shadyRoot._dirtyRoots;for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)c._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){this.shadyRoot._distributionClean=true;if(DomApi.hasInsertionPoint(this.shadyRoot)){this._composeTree();
notifyContentObservers(this.shadyRoot)}else if(!this.shadyRoot._hasDistributed){TreeApi.Composed.clearChildNodes(this);this.appendChild(this.shadyRoot)}else{var children=this._composeNode(this);this._updateChildNodes(this,children)}if(!this.shadyRoot._hasDistributed)notifyInitialDistribution(this);this.shadyRoot._hasDistributed=true}},elementMatches:function(selector,node){node=node||this;return DomApi.matchesSelector.call(node,selector)},_resetDistribution:function(){var children=TreeApi.Logical.getChildNodes(this);
for(var i=0;i<children.length;i++){var child=children[i];if(child._destinationInsertionPoints)child._destinationInsertionPoints=undefined;if(isInsertionPoint(child))clearDistributedDestinationInsertionPoints(child)}var root=this.shadyRoot;var p$=root._insertionPoints;for(var j=0;j<p$.length;j++)p$[j]._distributedNodes=[]},_collectPool:function(){var pool=[];var children=TreeApi.Logical.getChildNodes(this);for(var i=0;i<children.length;i++){var child=children[i];if(isInsertionPoint(child))pool.push.apply(pool,
child._distributedNodes);else pool.push(child)}return pool},_distributePool:function(node,pool){var p$=node._insertionPoints;for(var i=0,l=p$.length,p;i<l&&(p=p$[i]);i++){this._distributeInsertionPoint(p,pool);maybeRedistributeParent(p,this)}},_distributeInsertionPoint:function(content,pool){var anyDistributed=false;for(var i=0,l=pool.length,node;i<l;i++){node=pool[i];if(!node)continue;if(this._matchesContentSelect(node,content)){distributeNodeInto(node,content);pool[i]=undefined;anyDistributed=true}}if(!anyDistributed){var children=
TreeApi.Logical.getChildNodes(content);for(var j=0;j<children.length;j++)distributeNodeInto(children[j],content)}},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));var p$=this.shadyRoot._insertionPoints;for(var i=0,l=p$.length,p,parent;i<l&&(p=p$[i]);i++){parent=TreeApi.Logical.getParentNode(p);if(!parent._useContent&&parent!==this&&parent!==this.shadyRoot)this._updateChildNodes(parent,this._composeNode(parent))}},_composeNode:function(node){var children=[];var c$=TreeApi.Logical.getChildNodes(node.shadyRoot||
node);for(var i=0;i<c$.length;i++){var child=c$[i];if(isInsertionPoint(child)){var distributedNodes=child._distributedNodes;for(var j=0;j<distributedNodes.length;j++){var distributedNode=distributedNodes[j];if(isFinalDestination(child,distributedNode))children.push(distributedNode)}}else children.push(child)}return children},_updateChildNodes:function(container,children){var composed=TreeApi.Composed.getChildNodes(container);var splices=Polymer.ArraySplice.calculateSplices(children,composed);for(var i=
0,d=0,s;i<splices.length&&(s=splices[i]);i++){for(var j=0,n;j<s.removed.length&&(n=s.removed[j]);j++){if(TreeApi.Composed.getParentNode(n)===container)TreeApi.Composed.removeChild(container,n);composed.splice(s.index+d,1)}d-=s.addedCount}for(var i=0,s,next;i<splices.length&&(s=splices[i]);i++){next=composed[s.index];for(j=s.index,n;j<s.index+s.addedCount;j++){n=children[j];TreeApi.Composed.insertBefore(container,n,next);composed.splice(j,0,n)}}},_matchesContentSelect:function(node,contentElement){var select=
contentElement.getAttribute("select");if(!select)return true;select=select.trim();if(!select)return true;if(!(node instanceof Element))return false;var validSelectors=/^(:not\()?[*.#[a-zA-Z_|]/;if(!validSelectors.test(select))return false;return this.elementMatches(select,node)},_elementAdd:function(){},_elementRemove:function(){}});var domHostDesc={get:function(){var root=Polymer.dom(this).getOwnerRoot();return root&&root.host},configurable:true};Object.defineProperty(Polymer.Base,"domHost",domHostDesc);
Polymer.BaseDescriptors.domHost=domHostDesc;function distributeNodeInto(child,insertionPoint){insertionPoint._distributedNodes.push(child);var points=child._destinationInsertionPoints;if(!points)child._destinationInsertionPoints=[insertionPoint];else points.push(insertionPoint)}function clearDistributedDestinationInsertionPoints(content){var e$=content._distributedNodes;if(e$)for(var i=0;i<e$.length;i++){var d=e$[i]._destinationInsertionPoints;if(d)d.splice(d.indexOf(content)+1,d.length)}}function maybeRedistributeParent(content,
host){var parent=TreeApi.Logical.getParentNode(content);if(parent&&parent.shadyRoot&&DomApi.hasInsertionPoint(parent.shadyRoot)&&parent.shadyRoot._distributionClean){parent.shadyRoot._distributionClean=false;host.shadyRoot._dirtyRoots.push(parent)}}function isFinalDestination(insertionPoint,node){var points=node._destinationInsertionPoints;return points&&points[points.length-1]===insertionPoint}function isInsertionPoint(node){return node.localName=="content"}function getTopDistributingHost(host){while(host&&
hostNeedsRedistribution(host))host=host.domHost;return host}function hostNeedsRedistribution(host){var c$=TreeApi.Logical.getChildNodes(host);for(var i=0,c;i<c$.length;i++){c=c$[i];if(c.localName&&c.localName==="content")return host.domHost}}function notifyContentObservers(root){for(var i=0,c;i<root._insertionPoints.length;i++){c=root._insertionPoints[i];if(DomApi.hasApi(c))Polymer.dom(c).notifyObserver()}}function notifyInitialDistribution(host){if(DomApi.hasApi(host))Polymer.dom(host).notifyObserver()}
var needsUpgrade=window.CustomElements&&!CustomElements.useNative;function upgradeLogicalChildren(children){if(needsUpgrade&&children)for(var i=0;i<children.length;i++)CustomElements.upgrade(children[i])}})();
if(Polymer.Settings.useShadow)Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot();this.shadowRoot.appendChild(this.root);this.root=this.shadowRoot}});
Polymer.Async={_currVal:0,_lastVal:0,_callbacks:[],_twiddleContent:0,_twiddle:document.createTextNode(""),run:function(callback,waitTime){if(waitTime>0)return~setTimeout(callback,waitTime);else{this._twiddle.textContent=this._twiddleContent++;this._callbacks.push(callback);return this._currVal++}},cancel:function(handle){if(handle<0)clearTimeout(~handle);else{var idx=handle-this._lastVal;if(idx>=0){if(!this._callbacks[idx])throw"invalid async handle: "+handle;this._callbacks[idx]=null}}},_atEndOfMicrotask:function(){var len=
this._callbacks.length;for(var i=0;i<len;i++){var cb=this._callbacks[i];if(cb)try{cb()}catch(e){i++;this._callbacks.splice(0,i);this._lastVal+=i;this._twiddle.textContent=this._twiddleContent++;throw e;}}this._callbacks.splice(0,len);this._lastVal+=len}};(new window.MutationObserver(function(){Polymer.Async._atEndOfMicrotask()})).observe(Polymer.Async._twiddle,{characterData:true});
Polymer.Debounce=function(){var Async=Polymer.Async;var Debouncer=function(context){this.context=context;var self=this;this.boundComplete=function(){self.complete()}};Debouncer.prototype={go:function(callback,wait){var h;this.finish=function(){Async.cancel(h)};h=Async.run(this.boundComplete,wait);this.callback=callback},stop:function(){if(this.finish){this.finish();this.finish=null;this.callback=null}},complete:function(){if(this.finish){var callback=this.callback;this.stop();callback.call(this.context)}}};
function debounce(debouncer,callback,wait){if(debouncer)debouncer.stop();else debouncer=new Debouncer(this);debouncer.go(callback,wait);return debouncer}return debounce}();
Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(jobName,callback,wait){return this._debouncers[jobName]=Polymer.Debounce.call(this,this._debouncers[jobName],callback,wait)},isDebouncerActive:function(jobName){var debouncer=this._debouncers[jobName];return!!(debouncer&&debouncer.finish)},flushDebouncer:function(jobName){var debouncer=this._debouncers[jobName];if(debouncer)debouncer.complete()},cancelDebouncer:function(jobName){var debouncer=this._debouncers[jobName];
if(debouncer)debouncer.stop()}});Polymer.DomModule=document.createElement("dom-module");
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepTemplate();this._prepShady();this._prepPropertyInfo()},_prepBehavior:function(b){this._addHostAttributes(b.hostAttributes)},_initFeatures:function(){this._registerHost();if(this._template){this._poolContent();this._beginHosting();this._stampTemplate();this._endHosting()}this._marshalHostAttributes();this._setupDebouncers();this._marshalBehaviors();this._tryReady()},_marshalBehavior:function(b){}});(function(){Polymer.nar=[];var disableUpgradeEnabled=Polymer.Settings.disableUpgradeEnabled;Polymer.Annotations={parseAnnotations:function(template,stripWhiteSpace){var list=[];var content=template._content||template.content;this._parseNodeAnnotations(content,list,stripWhiteSpace||template.hasAttribute("strip-whitespace"));return list},_parseNodeAnnotations:function(node,list,stripWhiteSpace){return node.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(node,list):this._parseElementAnnotations(node,
list,stripWhiteSpace)},_bindingRegex:function(){var IDENT="(?:"+"[a-zA-Z_$][\\w.:$\\-*]*"+")";var NUMBER="(?:"+"[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?"+")";var SQUOTE_STRING="(?:"+"'(?:[^'\\\\]|\\\\.)*'"+")";var DQUOTE_STRING="(?:"+'"(?:[^"\\\\]|\\\\.)*"'+")";var STRING="(?:"+SQUOTE_STRING+"|"+DQUOTE_STRING+")";var ARGUMENT="(?:"+IDENT+"|"+NUMBER+"|"+STRING+"\\s*"+")";var ARGUMENTS="(?:"+ARGUMENT+"(?:,\\s*"+ARGUMENT+")*"+")";var ARGUMENT_LIST="(?:"+"\\(\\s*"+"(?:"+ARGUMENTS+"?"+")"+"\\)\\s*"+")";
var BINDING="("+IDENT+"\\s*"+ARGUMENT_LIST+"?"+")";var OPEN_BRACKET="(\\[\\[|{{)"+"\\s*";var CLOSE_BRACKET="(?:]]|}})";var NEGATE="(?:(!)\\s*)?";var EXPRESSION=OPEN_BRACKET+NEGATE+BINDING+CLOSE_BRACKET;return new RegExp(EXPRESSION,"g")}(),_parseBindings:function(text){var re=this._bindingRegex;var parts=[];var lastIndex=0;var m;while((m=re.exec(text))!==null){if(m.index>lastIndex)parts.push({literal:text.slice(lastIndex,m.index)});var mode=m[1][0];var negate=Boolean(m[2]);var value=m[3].trim();var customEvent,
notifyEvent,colon;if(mode=="{"&&(colon=value.indexOf("::"))>0){notifyEvent=value.substring(colon+2);value=value.substring(0,colon);customEvent=true}parts.push({compoundIndex:parts.length,value:value,mode:mode,negate:negate,event:notifyEvent,customEvent:customEvent});lastIndex=re.lastIndex}if(lastIndex&&lastIndex<text.length){var literal=text.substring(lastIndex);if(literal)parts.push({literal:literal})}if(parts.length)return parts},_literalFromParts:function(parts){var s="";for(var i=0;i<parts.length;i++){var literal=
parts[i].literal;s+=literal||""}return s},_parseTextNodeAnnotation:function(node,list){var parts=this._parseBindings(node.textContent);if(parts){node.textContent=this._literalFromParts(parts)||" ";var annote={bindings:[{kind:"text",name:"textContent",parts:parts,isCompound:parts.length!==1}]};list.push(annote);return annote}},_parseElementAnnotations:function(element,list,stripWhiteSpace){var annote={bindings:[],events:[]};if(element.localName==="content")list._hasContent=true;this._parseChildNodesAnnotations(element,
annote,list,stripWhiteSpace);if(element.attributes){this._parseNodeAttributeAnnotations(element,annote,list);if(this.prepElement)this.prepElement(element)}if(annote.bindings.length||annote.events.length||annote.id)list.push(annote);return annote},_parseChildNodesAnnotations:function(root,annote,list,stripWhiteSpace){if(root.firstChild){var node=root.firstChild;var i=0;while(node){var next=node.nextSibling;if(node.localName==="template"&&!node.hasAttribute("preserve-content"))this._parseTemplate(node,
i,list,annote,stripWhiteSpace);if(node.localName=="slot")node=this._replaceSlotWithContent(node);if(node.nodeType===Node.TEXT_NODE){var n=next;while(n&&n.nodeType===Node.TEXT_NODE){node.textContent+=n.textContent;next=n.nextSibling;root.removeChild(n);n=next}if(stripWhiteSpace&&!node.textContent.trim()){root.removeChild(node);i--}}if(node.parentNode){var childAnnotation=this._parseNodeAnnotations(node,list,stripWhiteSpace);if(childAnnotation){childAnnotation.parent=annote;childAnnotation.index=i}}node=
next;i++}}},_replaceSlotWithContent:function(slot){var content=slot.ownerDocument.createElement("content");while(slot.firstChild)content.appendChild(slot.firstChild);var attrs=slot.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];content.setAttribute(attr.name,attr.value)}var name=slot.getAttribute("name");if(name)content.setAttribute("select","[slot='"+name+"']");slot.parentNode.replaceChild(content,slot);return content},_parseTemplate:function(node,index,list,parent,stripWhiteSpace){var content=
document.createDocumentFragment();content._notes=this.parseAnnotations(node,stripWhiteSpace);content.appendChild(node.content);list.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:content,parent:parent,index:index})},_parseNodeAttributeAnnotations:function(node,annotation){var attrs=Array.prototype.slice.call(node.attributes);for(var i=attrs.length-1,a;a=attrs[i];i--){var n=a.name;var v=a.value;var b;if(n.slice(0,3)==="on-"){node.removeAttribute(n);annotation.events.push({name:n.slice(3),
value:v})}else if(b=this._parseNodeAttributeAnnotation(node,n,v))annotation.bindings.push(b);else if(n==="id")annotation.id=v}},_parseNodeAttributeAnnotation:function(node,name,value){var parts=this._parseBindings(value);if(parts){var origName=name;var kind="property";if(name[name.length-1]=="$"){name=name.slice(0,-1);kind="attribute"}var literal=this._literalFromParts(parts);if(literal&&kind=="attribute")node.setAttribute(name,literal);if(node.localName==="input"&&origName==="value")node.setAttribute(origName,
"");if(disableUpgradeEnabled&&origName==="disable-upgrade$")node.setAttribute(name,"");node.removeAttribute(origName);var propertyName=Polymer.CaseMap.dashToCamelCase(name);if(kind==="property")name=propertyName;return{kind:kind,name:name,propertyName:propertyName,parts:parts,literal:literal,isCompound:parts.length!==1}}},findAnnotatedNode:function(root,annote){var parent=annote.parent&&Polymer.Annotations.findAnnotatedNode(root,annote.parent);if(parent)for(var n=parent.firstChild,i=0;n;n=n.nextSibling){if(annote.index===
i++)return n}else return root}}})();
Polymer.Path={root:function(path){var dotIndex=path.indexOf(".");if(dotIndex===-1)return path;return path.slice(0,dotIndex)},isDeep:function(path){return path.indexOf(".")!==-1},isAncestor:function(base,path){return base.indexOf(path+".")===0},isDescendant:function(base,path){return path.indexOf(base+".")===0},translate:function(base,newBase,path){return newBase+path.slice(base.length)},matches:function(base,wildcard,path){return base===path||this.isAncestor(base,path)||Boolean(wildcard)&&this.isDescendant(base,
path)}};
Polymer.Base._addFeature({_prepAnnotations:function(){if(!this._template)this._notes=[];else{var self=this;Polymer.Annotations.prepElement=function(element){self._prepElement(element)};if(this._template._content&&this._template._content._notes)this._notes=this._template._content._notes;else{this._notes=Polymer.Annotations.parseAnnotations(this._template);this._processAnnotations(this._notes)}Polymer.Annotations.prepElement=null}},_processAnnotations:function(notes){for(var i=0;i<notes.length;i++){var note=notes[i];
for(var j=0;j<note.bindings.length;j++){var b=note.bindings[j];for(var k=0;k<b.parts.length;k++){var p=b.parts[k];if(!p.literal){var signature=this._parseMethod(p.value);if(signature)p.signature=signature;else p.model=Polymer.Path.root(p.value)}}}if(note.templateContent){this._processAnnotations(note.templateContent._notes);var pp=note.templateContent._parentProps=this._discoverTemplateParentProps(note.templateContent._notes);var bindings=[];for(var prop in pp){var name="_parent_"+prop;bindings.push({index:note.index,
kind:"property",name:name,propertyName:name,parts:[{mode:"{",model:prop,value:prop}]})}note.bindings=note.bindings.concat(bindings)}}},_discoverTemplateParentProps:function(notes){var pp={};for(var i=0,n;i<notes.length&&(n=notes[i]);i++){for(var j=0,b$=n.bindings,b;j<b$.length&&(b=b$[j]);j++)for(var k=0,p$=b.parts,p;k<p$.length&&(p=p$[k]);k++)if(p.signature){var args=p.signature.args;for(var kk=0;kk<args.length;kk++){var model=args[kk].model;if(model)pp[model]=true}if(p.signature.dynamicFn)pp[p.signature.method]=
true}else if(p.model)pp[p.model]=true;if(n.templateContent){var tpp=n.templateContent._parentProps;Polymer.Base.mixin(pp,tpp)}}return pp},_prepElement:function(element){Polymer.ResolveUrl.resolveAttrs(element,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,_marshalAnnotationReferences:function(){if(this._template){this._marshalIdNodes();this._marshalAnnotatedNodes();this._marshalAnnotatedListeners()}},_configureAnnotationReferences:function(){var notes=this._notes;
var nodes=this._nodes;for(var i=0;i<notes.length;i++){var note=notes[i];var node=nodes[i];this._configureTemplateContent(note,node);this._configureCompoundBindings(note,node)}},_configureTemplateContent:function(note,node){if(note.templateContent)node._content=note.templateContent},_configureCompoundBindings:function(note,node){var bindings=note.bindings;for(var i=0;i<bindings.length;i++){var binding=bindings[i];if(binding.isCompound){var storage=node.__compoundStorage__||(node.__compoundStorage__=
{});var parts=binding.parts;var literals=new Array(parts.length);for(var j=0;j<parts.length;j++)literals[j]=parts[j].literal;var name=binding.name;storage[name]=literals;if(binding.literal&&binding.kind=="property")if(node._configValue)node._configValue(name,binding.literal);else node[name]=binding.literal}}},_marshalIdNodes:function(){this.$={};for(var i=0,l=this._notes.length,a;i<l&&(a=this._notes[i]);i++)if(a.id)this.$[a.id]=this._findAnnotatedNode(this.root,a)},_marshalAnnotatedNodes:function(){if(this._notes&&
this._notes.length){var r=new Array(this._notes.length);for(var i=0;i<this._notes.length;i++)r[i]=this._findAnnotatedNode(this.root,this._notes[i]);this._nodes=r}},_marshalAnnotatedListeners:function(){for(var i=0,l=this._notes.length,a;i<l&&(a=this._notes[i]);i++)if(a.events&&a.events.length){var node=this._findAnnotatedNode(this.root,a);for(var j=0,e$=a.events,e;j<e$.length&&(e=e$[j]);j++)this.listen(node,e.name,e.value)}}});
Polymer.Base._addFeature({listeners:{},_listenListeners:function(listeners){var node,name,eventName;for(eventName in listeners){if(eventName.indexOf(".")<0){node=this;name=eventName}else{name=eventName.split(".");node=this.$[name[0]];name=name[1]}this.listen(node,name,listeners[eventName])}},listen:function(node,eventName,methodName){var handler=this._recallEventHandler(this,eventName,node,methodName);if(!handler)handler=this._createEventHandler(node,eventName,methodName);if(handler._listening)return;
this._listen(node,eventName,handler);handler._listening=true},_boundListenerKey:function(eventName,methodName){return eventName+":"+methodName},_recordEventHandler:function(host,eventName,target,methodName,handler){var hbl=host.__boundListeners;if(!hbl)hbl=host.__boundListeners=new WeakMap;var bl=hbl.get(target);if(!bl){bl={};if(!Polymer.Settings.isIE||target!=window)hbl.set(target,bl)}var key=this._boundListenerKey(eventName,methodName);bl[key]=handler},_recallEventHandler:function(host,eventName,
target,methodName){var hbl=host.__boundListeners;if(!hbl)return;var bl=hbl.get(target);if(!bl)return;var key=this._boundListenerKey(eventName,methodName);return bl[key]},_createEventHandler:function(node,eventName,methodName){var host=this;var handler=function(e){if(host[methodName])host[methodName](e,e.detail);else host._warn(host._logf("_createEventHandler","listener method `"+methodName+"` not defined"))};handler._listening=false;this._recordEventHandler(host,eventName,node,methodName,handler);
return handler},unlisten:function(node,eventName,methodName){var handler=this._recallEventHandler(this,eventName,node,methodName);if(handler){this._unlisten(node,eventName,handler);handler._listening=false}},_listen:function(node,eventName,handler){node.addEventListener(eventName,handler)},_unlisten:function(node,eventName,handler){node.removeEventListener(eventName,handler)}});
(function(){var wrap=Polymer.DomApi.wrap;var HAS_NATIVE_TA=typeof document.head.style.touchAction==="string";var GESTURE_KEY="__polymerGestures";var HANDLED_OBJ="__polymerGesturesHandled";var TOUCH_ACTION="__polymerGesturesTouchAction";var TAP_DISTANCE=25;var TRACK_DISTANCE=5;var TRACK_LENGTH=2;var MOUSE_TIMEOUT=2500;var MOUSE_EVENTS=["mousedown","mousemove","mouseup","click"];var MOUSE_WHICH_TO_BUTTONS=[0,1,4,2];var MOUSE_HAS_BUTTONS=function(){try{return(new MouseEvent("test",{buttons:1})).buttons===
1}catch(e){return false}}();function isMouseEvent(name){return MOUSE_EVENTS.indexOf(name)>-1}var SUPPORTS_PASSIVE=false;(function(){try{var opts=Object.defineProperty({},"passive",{get:function(){SUPPORTS_PASSIVE=true}});window.addEventListener("test",null,opts);window.removeEventListener("test",null,opts)}catch(e){}})();function PASSIVE_TOUCH(eventName){if(isMouseEvent(eventName)||eventName==="touchend")return;if(HAS_NATIVE_TA&&SUPPORTS_PASSIVE&&Polymer.Settings.passiveTouchGestures)return{passive:true}}
var IS_TOUCH_ONLY=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);var mouseCanceller=function(mouseEvent){var sc=mouseEvent.sourceCapabilities;if(sc&&!sc.firesTouchEvents)return;mouseEvent[HANDLED_OBJ]={skip:true};if(mouseEvent.type==="click"){var path=Polymer.dom(mouseEvent).path;if(path)for(var i=0;i<path.length;i++)if(path[i]===POINTERSTATE.mouse.target)return;mouseEvent.preventDefault();mouseEvent.stopPropagation()}};function setupTeardownMouseCanceller(setup){var events=IS_TOUCH_ONLY?["click"]:
MOUSE_EVENTS;for(var i=0,en;i<events.length;i++){en=events[i];if(setup)document.addEventListener(en,mouseCanceller,true);else document.removeEventListener(en,mouseCanceller,true)}}function ignoreMouse(ev){if(!POINTERSTATE.mouse.mouseIgnoreJob)setupTeardownMouseCanceller(true);var unset=function(){setupTeardownMouseCanceller();POINTERSTATE.mouse.target=null;POINTERSTATE.mouse.mouseIgnoreJob=null};POINTERSTATE.mouse.target=Polymer.dom(ev).rootTarget;POINTERSTATE.mouse.mouseIgnoreJob=Polymer.Debounce(POINTERSTATE.mouse.mouseIgnoreJob,
unset,MOUSE_TIMEOUT)}function hasLeftMouseButton(ev){var type=ev.type;if(!isMouseEvent(type))return false;if(type==="mousemove"){var buttons=ev.buttons===undefined?1:ev.buttons;if(ev instanceof window.MouseEvent&&!MOUSE_HAS_BUTTONS)buttons=MOUSE_WHICH_TO_BUTTONS[ev.which]||0;return Boolean(buttons&1)}else{var button=ev.button===undefined?0:ev.button;return button===0}}function isSyntheticClick(ev){if(ev.type==="click"){if(ev.detail===0)return true;var t=Gestures.findOriginalTarget(ev);var bcr=t.getBoundingClientRect();
var x=ev.pageX,y=ev.pageY;return!(x>=bcr.left&&x<=bcr.right&&(y>=bcr.top&&y<=bcr.bottom))}return false}var POINTERSTATE={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:false}};function firstTouchAction(ev){var path=Polymer.dom(ev).path;var ta="auto";for(var i=0,n;i<path.length;i++){n=path[i];if(n[TOUCH_ACTION]){ta=n[TOUCH_ACTION];break}}return ta}function trackDocument(stateObj,movefn,upfn){stateObj.movefn=movefn;stateObj.upfn=upfn;document.addEventListener("mousemove",
movefn);document.addEventListener("mouseup",upfn)}function untrackDocument(stateObj){document.removeEventListener("mousemove",stateObj.movefn);document.removeEventListener("mouseup",stateObj.upfn);stateObj.movefn=null;stateObj.upfn=null}document.addEventListener("touchend",ignoreMouse,SUPPORTS_PASSIVE?{passive:true}:false);var Gestures={gestures:{},recognizers:[],deepTargetFind:function(x,y){var node=document.elementFromPoint(x,y);var next=node;while(next&&next.shadowRoot){next=next.shadowRoot.elementFromPoint(x,
y);if(next)node=next}return node},findOriginalTarget:function(ev){if(ev.path)return ev.path[0];return ev.target},handleNative:function(ev){var handled;var type=ev.type;var node=wrap(ev.currentTarget);var gobj=node[GESTURE_KEY];if(!gobj)return;var gs=gobj[type];if(!gs)return;if(!ev[HANDLED_OBJ]){ev[HANDLED_OBJ]={};if(type.slice(0,5)==="touch"){var t=ev.changedTouches[0];if(type==="touchstart")if(ev.touches.length===1)POINTERSTATE.touch.id=t.identifier;if(POINTERSTATE.touch.id!==t.identifier)return;
if(!HAS_NATIVE_TA)if(type==="touchstart"||type==="touchmove")Gestures.handleTouchAction(ev)}}handled=ev[HANDLED_OBJ];if(handled.skip)return;var recognizers=Gestures.recognizers;for(var i=0,r;i<recognizers.length;i++){r=recognizers[i];if(gs[r.name]&&!handled[r.name])if(r.flow&&r.flow.start.indexOf(ev.type)>-1&&r.reset)r.reset()}for(i=0,r;i<recognizers.length;i++){r=recognizers[i];if(gs[r.name]&&!handled[r.name]){handled[r.name]=true;r[type](ev)}}},handleTouchAction:function(ev){var t=ev.changedTouches[0];
var type=ev.type;if(type==="touchstart"){POINTERSTATE.touch.x=t.clientX;POINTERSTATE.touch.y=t.clientY;POINTERSTATE.touch.scrollDecided=false}else if(type==="touchmove"){if(POINTERSTATE.touch.scrollDecided)return;POINTERSTATE.touch.scrollDecided=true;var ta=firstTouchAction(ev);var prevent=false;var dx=Math.abs(POINTERSTATE.touch.x-t.clientX);var dy=Math.abs(POINTERSTATE.touch.y-t.clientY);if(!ev.cancelable);else if(ta==="none")prevent=true;else if(ta==="pan-x")prevent=dy>dx;else if(ta==="pan-y")prevent=
dx>dy;if(prevent)ev.preventDefault();else Gestures.prevent("track")}},add:function(node,evType,handler){node=wrap(node);var recognizer=this.gestures[evType];var deps=recognizer.deps;var name=recognizer.name;var gobj=node[GESTURE_KEY];if(!gobj)node[GESTURE_KEY]=gobj={};for(var i=0,dep,gd;i<deps.length;i++){dep=deps[i];if(IS_TOUCH_ONLY&&isMouseEvent(dep)&&dep!=="click")continue;gd=gobj[dep];if(!gd)gobj[dep]=gd={_count:0};if(gd._count===0)node.addEventListener(dep,this.handleNative,PASSIVE_TOUCH(dep));
gd[name]=(gd[name]||0)+1;gd._count=(gd._count||0)+1}node.addEventListener(evType,handler);if(recognizer.touchAction)this.setTouchAction(node,recognizer.touchAction)},remove:function(node,evType,handler){node=wrap(node);var recognizer=this.gestures[evType];var deps=recognizer.deps;var name=recognizer.name;var gobj=node[GESTURE_KEY];if(gobj)for(var i=0,dep,gd;i<deps.length;i++){dep=deps[i];gd=gobj[dep];if(gd&&gd[name]){gd[name]=(gd[name]||1)-1;gd._count=(gd._count||1)-1;if(gd._count===0)node.removeEventListener(dep,
this.handleNative,PASSIVE_TOUCH(dep))}}node.removeEventListener(evType,handler)},register:function(recog){this.recognizers.push(recog);for(var i=0;i<recog.emits.length;i++)this.gestures[recog.emits[i]]=recog},findRecognizerByEvent:function(evName){for(var i=0,r;i<this.recognizers.length;i++){r=this.recognizers[i];for(var j=0,n;j<r.emits.length;j++){n=r.emits[j];if(n===evName)return r}}return null},setTouchAction:function(node,value){if(HAS_NATIVE_TA)node.style.touchAction=value;node[TOUCH_ACTION]=
value},fire:function(target,type,detail){var ev=Polymer.Base.fire(type,detail,{node:target,bubbles:true,cancelable:true});if(ev.defaultPrevented){var preventer=detail.preventer||detail.sourceEvent;if(preventer&&preventer.preventDefault)preventer.preventDefault()}},prevent:function(evName){var recognizer=this.findRecognizerByEvent(evName);if(recognizer.info)recognizer.info.prevent=true},resetMouseCanceller:function(){if(POINTERSTATE.mouse.mouseIgnoreJob)POINTERSTATE.mouse.mouseIgnoreJob.complete()}};
Gestures.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){untrackDocument(this.info)},mousedown:function(e){if(!hasLeftMouseButton(e))return;var t=Gestures.findOriginalTarget(e);var self=this;var movefn=function movefn(e){if(!hasLeftMouseButton(e)){self.fire("up",t,e);untrackDocument(self.info)}};var upfn=function upfn(e){if(hasLeftMouseButton(e))self.fire("up",
t,e);untrackDocument(self.info)};trackDocument(this.info,movefn,upfn);this.fire("down",t,e)},touchstart:function(e){this.fire("down",Gestures.findOriginalTarget(e),e.changedTouches[0],e)},touchend:function(e){this.fire("up",Gestures.findOriginalTarget(e),e.changedTouches[0],e)},fire:function(type,target,event,preventer){Gestures.fire(target,type,{x:event.clientX,y:event.clientY,sourceEvent:event,preventer:preventer,prevent:function(e){return Gestures.prevent(e)}})}});Gestures.register({name:"track",
touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:false,moves:[],addMove:function(move){if(this.moves.length>TRACK_LENGTH)this.moves.shift();this.moves.push(move)},movefn:null,upfn:null,prevent:false},reset:function(){this.info.state="start";this.info.started=false;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=false;untrackDocument(this.info)},
hasMovedEnough:function(x,y){if(this.info.prevent)return false;if(this.info.started)return true;var dx=Math.abs(this.info.x-x);var dy=Math.abs(this.info.y-y);return dx>=TRACK_DISTANCE||dy>=TRACK_DISTANCE},mousedown:function(e){if(!hasLeftMouseButton(e))return;var t=Gestures.findOriginalTarget(e);var self=this;var movefn=function movefn(e){var x=e.clientX,y=e.clientY;if(self.hasMovedEnough(x,y)){self.info.state=self.info.started?e.type==="mouseup"?"end":"track":"start";if(self.info.state==="start")Gestures.prevent("tap");
self.info.addMove({x:x,y:y});if(!hasLeftMouseButton(e)){self.info.state="end";untrackDocument(self.info)}self.fire(t,e);self.info.started=true}};var upfn=function upfn(e){if(self.info.started)movefn(e);untrackDocument(self.info)};trackDocument(this.info,movefn,upfn);this.info.x=e.clientX;this.info.y=e.clientY},touchstart:function(e){var ct=e.changedTouches[0];this.info.x=ct.clientX;this.info.y=ct.clientY},touchmove:function(e){var t=Gestures.findOriginalTarget(e);var ct=e.changedTouches[0];var x=
ct.clientX,y=ct.clientY;if(this.hasMovedEnough(x,y)){if(this.info.state==="start")Gestures.prevent("tap");this.info.addMove({x:x,y:y});this.fire(t,ct);this.info.state="track";this.info.started=true}},touchend:function(e){var t=Gestures.findOriginalTarget(e);var ct=e.changedTouches[0];if(this.info.started){this.info.state="end";this.info.addMove({x:ct.clientX,y:ct.clientY});this.fire(t,ct,e)}},fire:function(target,touch,preventer){var secondlast=this.info.moves[this.info.moves.length-2];var lastmove=
this.info.moves[this.info.moves.length-1];var dx=lastmove.x-this.info.x;var dy=lastmove.y-this.info.y;var ddx,ddy=0;if(secondlast){ddx=lastmove.x-secondlast.x;ddy=lastmove.y-secondlast.y}return Gestures.fire(target,"track",{state:this.info.state,x:touch.clientX,y:touch.clientY,dx:dx,dy:dy,ddx:ddx,ddy:ddy,sourceEvent:touch,preventer:preventer,hover:function(){return Gestures.deepTargetFind(touch.clientX,touch.clientY)}})}});Gestures.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],
flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:false},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=false},save:function(e){this.info.x=e.clientX;this.info.y=e.clientY},mousedown:function(e){if(hasLeftMouseButton(e))this.save(e)},click:function(e){if(hasLeftMouseButton(e))this.forward(e)},touchstart:function(e){this.save(e.changedTouches[0],e)},touchend:function(e){this.forward(e.changedTouches[0],e)},forward:function(e,
preventer){var dx=Math.abs(e.clientX-this.info.x);var dy=Math.abs(e.clientY-this.info.y);var t=Gestures.findOriginalTarget(e);if(isNaN(dx)||isNaN(dy)||dx<=TAP_DISTANCE&&dy<=TAP_DISTANCE||isSyntheticClick(e))if(!this.info.prevent)Gestures.fire(t,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:preventer})}});var DIRECTION_MAP={x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_setupGestures:function(){this.__polymerGestures=null},_listen:function(node,eventName,handler){if(Gestures.gestures[eventName])Gestures.add(node,
eventName,handler);else node.addEventListener(eventName,handler)},_unlisten:function(node,eventName,handler){if(Gestures.gestures[eventName])Gestures.remove(node,eventName,handler);else node.removeEventListener(eventName,handler)},setScrollDirection:function(direction,node){node=node||this;Gestures.setTouchAction(node,DIRECTION_MAP[direction]||"auto")}});Polymer.Gestures=Gestures})();
(function(){Polymer.Base._addFeature({$$:function(slctr){return Polymer.dom(this.root).querySelector(slctr)},toggleClass:function(name,bool,node){node=node||this;if(arguments.length==1)bool=!node.classList.contains(name);if(bool)Polymer.dom(node).classList.add(name);else Polymer.dom(node).classList.remove(name)},toggleAttribute:function(name,bool,node){node=node||this;if(arguments.length==1)bool=!node.hasAttribute(name);if(bool)Polymer.dom(node).setAttribute(name,"");else Polymer.dom(node).removeAttribute(name)},
classFollows:function(name,toElement,fromElement){if(fromElement)Polymer.dom(fromElement).classList.remove(name);if(toElement)Polymer.dom(toElement).classList.add(name)},attributeFollows:function(name,toElement,fromElement){if(fromElement)Polymer.dom(fromElement).removeAttribute(name);if(toElement)Polymer.dom(toElement).setAttribute(name,"")},getEffectiveChildNodes:function(){return Polymer.dom(this).getEffectiveChildNodes()},getEffectiveChildren:function(){var list=Polymer.dom(this).getEffectiveChildNodes();
return list.filter(function(n){return n.nodeType===Node.ELEMENT_NODE})},getEffectiveTextContent:function(){var cn=this.getEffectiveChildNodes();var tc=[];for(var i=0,c;c=cn[i];i++)if(c.nodeType!==Node.COMMENT_NODE)tc.push(Polymer.dom(c).textContent);return tc.join("")},queryEffectiveChildren:function(slctr){var e$=Polymer.dom(this).queryDistributedElements(slctr);return e$&&e$[0]},queryAllEffectiveChildren:function(slctr){return Polymer.dom(this).queryDistributedElements(slctr)},getContentChildNodes:function(slctr){var content=
Polymer.dom(this.root).querySelector(slctr||"content");return content?Polymer.dom(content).getDistributedNodes():[]},getContentChildren:function(slctr){return this.getContentChildNodes(slctr).filter(function(n){return n.nodeType===Node.ELEMENT_NODE})},fire:function(type,detail,options){options=options||Polymer.nob;var node=options.node||this;detail=detail===null||detail===undefined?{}:detail;var bubbles=options.bubbles===undefined?true:options.bubbles;var cancelable=Boolean(options.cancelable);var useCache=
options._useCache;var event=this._getEvent(type,bubbles,cancelable,useCache);event.detail=detail;if(useCache)this.__eventCache[type]=null;node.dispatchEvent(event);if(useCache)this.__eventCache[type]=event;return event},__eventCache:{},_getEvent:function(type,bubbles,cancelable,useCache){var event=useCache&&this.__eventCache[type];if(!event||(event.bubbles!=bubbles||event.cancelable!=cancelable))event=new Event(type,{bubbles:Boolean(bubbles),cancelable:cancelable});return event},async:function(callback,
waitTime){var self=this;return Polymer.Async.run(function(){callback.call(self)},waitTime)},cancelAsync:function(handle){Polymer.Async.cancel(handle)},arrayDelete:function(path,item){var index;if(Array.isArray(path)){index=path.indexOf(item);if(index>=0)return path.splice(index,1)}else{var arr=this._get(path);index=arr.indexOf(item);if(index>=0)return this.splice(path,index,1)}},transform:function(transform,node){node=node||this;node.style.webkitTransform=transform;node.style.transform=transform},
translate3d:function(x,y,z,node){node=node||this;this.transform("translate3d("+x+","+y+","+z+")",node)},importHref:function(href,onload,onerror,optAsync){var link=document.createElement("link");link.rel="import";link.href=href;var list=Polymer.Base.importHref.imported=Polymer.Base.importHref.imported||{};var cached=list[link.href];var imprt=cached||link;var self=this;var loadListener=function(e){e.target.__firedLoad=true;e.target.removeEventListener("load",loadListener);e.target.removeEventListener("error",
errorListener);return onload.call(self,e)};var errorListener=function(e){e.target.__firedError=true;e.target.removeEventListener("load",loadListener);e.target.removeEventListener("error",errorListener);return onerror.call(self,e)};if(onload)imprt.addEventListener("load",loadListener);if(onerror)imprt.addEventListener("error",errorListener);if(cached){if(cached.__firedLoad)cached.dispatchEvent(new Event("load"));if(cached.__firedError)cached.dispatchEvent(new Event("error"))}else{list[link.href]=link;
optAsync=Boolean(optAsync);if(optAsync)link.setAttribute("async","");document.head.appendChild(link)}return imprt},create:function(tag,props){var elt=document.createElement(tag);if(props)for(var n in props)elt[n]=props[n];return elt},isLightDescendant:function(node){return this!==node&&this.contains(node)&&Polymer.dom(this).getOwnerRoot()===Polymer.dom(node).getOwnerRoot()},isLocalDescendant:function(node){return this.root===Polymer.dom(node).getOwnerRoot()}});if(!Polymer.Settings.useNativeCustomElements){var importHref=
Polymer.Base.importHref;Polymer.Base.importHref=function(href,onload,onerror,optAsync){CustomElements.ready=false;var loadFn=function(e){CustomElements.upgradeDocumentTree(document);CustomElements.ready=true;if(onload)return onload.call(this,e)};return importHref.call(this,href,loadFn,onerror,optAsync)}}})();
Polymer.Bind={prepareModel:function(model){Polymer.Base.mixin(model,this._modelApi)},_modelApi:{_notifyChange:function(source,event,value){value=value===undefined?this[source]:value;event=event||Polymer.CaseMap.camelToDashCase(source)+"-changed";this.fire(event,{value:value},{bubbles:false,cancelable:false,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_propertySetter:function(property,value,effects,fromAbove){var old=this.__data__[property];if(old!==value&&(old===old||value===
value)){this.__data__[property]=value;if(typeof value=="object")this._clearPath(property);if(this._propertyChanged)this._propertyChanged(property,value,old);if(effects)this._effectEffects(property,value,effects,old,fromAbove)}return old},__setProperty:function(property,value,quiet,node){node=node||this;var effects=node._propertyEffects&&node._propertyEffects[property];if(effects)node._propertySetter(property,value,effects,quiet);else if(node[property]!==value)node[property]=value},_effectEffects:function(property,
value,effects,old,fromAbove){for(var i=0,l=effects.length,fx;i<l&&(fx=effects[i]);i++)fx.fn.call(this,property,this[property],fx.effect,old,fromAbove)},_clearPath:function(path){for(var prop in this.__data__)if(Polymer.Path.isDescendant(path,prop))this.__data__[prop]=undefined}},ensurePropertyEffects:function(model,property){if(!model._propertyEffects)model._propertyEffects={};var fx=model._propertyEffects[property];if(!fx)fx=model._propertyEffects[property]=[];return fx},addPropertyEffect:function(model,
property,kind,effect){var fx=this.ensurePropertyEffects(model,property);var propEffect={kind:kind,effect:effect,fn:Polymer.Bind["_"+kind+"Effect"]};fx.push(propEffect);return propEffect},createBindings:function(model){var fx$=model._propertyEffects;if(fx$)for(var n in fx$){var fx=fx$[n];fx.sort(this._sortPropertyEffects);this._createAccessors(model,n,fx)}},_sortPropertyEffects:function(){var EFFECT_ORDER={"compute":0,"annotation":1,"annotatedComputation":2,"reflect":3,"notify":4,"observer":5,"complexObserver":6,
"function":7};return function(a,b){return EFFECT_ORDER[a.kind]-EFFECT_ORDER[b.kind]}}(),_createAccessors:function(model,property,effects){var defun={get:function(){return this.__data__[property]}};var setter=function(value){this._propertySetter(property,value,effects)};var info=model.getPropertyInfo&&model.getPropertyInfo(property);if(info&&info.readOnly){if(!info.computed)model["_set"+this.upper(property)]=setter}else defun.set=setter;Object.defineProperty(model,property,defun)},upper:function(name){return name[0].toUpperCase()+
name.substring(1)},_addAnnotatedListener:function(model,index,property,path,event,negated){if(!model._bindListeners)model._bindListeners=[];var fn=this._notedListenerFactory(property,path,Polymer.Path.isDeep(path),negated);var eventName=event||Polymer.CaseMap.camelToDashCase(property)+"-changed";model._bindListeners.push({index:index,property:property,path:path,changedFn:fn,event:eventName})},_isEventBogus:function(e,target){return e.path&&e.path[0]!==target},_notedListenerFactory:function(property,
path,isStructured,negated){return function(target,value,targetPath){if(targetPath){var newPath=Polymer.Path.translate(property,path,targetPath);this._notifyPath(newPath,value)}else{value=target[property];if(negated)value=!value;if(!isStructured)this[path]=value;else if(this.__data__[path]!=value)this.set(path,value)}}},prepareInstance:function(inst){inst.__data__=Object.create(null)},setupBindListeners:function(inst){var b$=inst._bindListeners;for(var i=0,l=b$.length,info;i<l&&(info=b$[i]);i++){var node=
inst._nodes[info.index];this._addNotifyListener(node,inst,info.event,info.changedFn)}},_addNotifyListener:function(element,context,event,changedFn){element.addEventListener(event,function(e){return context._notifyListener(changedFn,e)})}};
Polymer.Base.mixin(Polymer.Bind,{_shouldAddListener:function(effect){return effect.name&&effect.kind!="attribute"&&effect.kind!="text"&&!effect.isCompound&&effect.parts[0].mode==="{"},_annotationEffect:function(source,value,effect){if(source!=effect.value){value=this._get(effect.value);this.__data__[effect.value]=value}this._applyEffectValue(effect,value)},_reflectEffect:function(source,value,effect){this.reflectPropertyToAttribute(source,effect.attribute,value)},_notifyEffect:function(source,value,
effect,old,fromAbove){if(!fromAbove)this._notifyChange(source,effect.event,value)},_functionEffect:function(source,value,fn,old,fromAbove){fn.call(this,source,value,old,fromAbove)},_observerEffect:function(source,value,effect,old){var fn=this[effect.method];if(fn)fn.call(this,value,old);else this._warn(this._logf("_observerEffect","observer method `"+effect.method+"` not defined"))},_complexObserverEffect:function(source,value,effect){var fn=this[effect.method];if(fn){var args=Polymer.Bind._marshalArgs(this.__data__,
effect,source,value);if(args)fn.apply(this,args)}else if(effect.dynamicFn);else this._warn(this._logf("_complexObserverEffect","observer method `"+effect.method+"` not defined"))},_computeEffect:function(source,value,effect){var fn=this[effect.method];if(fn){var args=Polymer.Bind._marshalArgs(this.__data__,effect,source,value);if(args){var computedvalue=fn.apply(this,args);this.__setProperty(effect.name,computedvalue)}}else if(effect.dynamicFn);else this._warn(this._logf("_computeEffect","compute method `"+
effect.method+"` not defined"))},_annotatedComputationEffect:function(source,value,effect){var computedHost=this._rootDataHost||this;var fn=computedHost[effect.method];if(fn){var args=Polymer.Bind._marshalArgs(this.__data__,effect,source,value);if(args){var computedvalue=fn.apply(computedHost,args);this._applyEffectValue(effect,computedvalue)}}else if(effect.dynamicFn);else computedHost._warn(computedHost._logf("_annotatedComputationEffect","compute method `"+effect.method+"` not defined"))},_marshalArgs:function(model,
effect,path,value){var values=[];var args=effect.args;var bailoutEarly=args.length>1||effect.dynamicFn;for(var i=0,l=args.length;i<l;i++){var arg=args[i];var name=arg.name;var v;if(arg.literal)v=arg.value;else if(path===name)v=value;else{v=model[name];if(v===undefined&&arg.structured)v=Polymer.Base._get(name,model)}if(bailoutEarly&&v===undefined)return;if(arg.wildcard){var matches=Polymer.Path.isAncestor(path,name);values[i]={path:matches?path:name,value:matches?value:v,base:v}}else values[i]=v}return values}});
Polymer.Base._addFeature({_addPropertyEffect:function(property,kind,effect){var prop=Polymer.Bind.addPropertyEffect(this,property,kind,effect);prop.pathFn=this["_"+prop.kind+"PathEffect"]},_prepEffects:function(){Polymer.Bind.prepareModel(this);this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(properties){if(properties)for(var p in properties){var prop=properties[p];if(prop.observer)this._addObserverEffect(p,prop.observer);
if(prop.computed){prop.readOnly=true;this._addComputedEffect(p,prop.computed)}if(prop.notify)this._addPropertyEffect(p,"notify",{event:Polymer.CaseMap.camelToDashCase(p)+"-changed"});if(prop.reflectToAttribute){var attr=Polymer.CaseMap.camelToDashCase(p);if(attr[0]==="-")this._warn(this._logf("_addPropertyEffects","Property "+p+" cannot be reflected to attribute "+attr+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'));else this._addPropertyEffect(p,
"reflect",{attribute:attr})}if(prop.readOnly)Polymer.Bind.ensurePropertyEffects(this,p)}},_addComputedEffect:function(name,expression){var sig=this._parseMethod(expression);var dynamicFn=sig.dynamicFn;for(var i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++)this._addPropertyEffect(arg.model,"compute",{method:sig.method,args:sig.args,trigger:arg,name:name,dynamicFn:dynamicFn});if(dynamicFn)this._addPropertyEffect(sig.method,"compute",{method:sig.method,args:sig.args,trigger:null,name:name,dynamicFn:dynamicFn})},
_addObserverEffect:function(property,observer){this._addPropertyEffect(property,"observer",{method:observer,property:property})},_addComplexObserverEffects:function(observers){if(observers)for(var i=0,o;i<observers.length&&(o=observers[i]);i++)this._addComplexObserverEffect(o)},_addComplexObserverEffect:function(observer){var sig=this._parseMethod(observer);if(!sig)throw new Error("Malformed observer expression '"+observer+"'");var dynamicFn=sig.dynamicFn;for(var i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++)this._addPropertyEffect(arg.model,
"complexObserver",{method:sig.method,args:sig.args,trigger:arg,dynamicFn:dynamicFn});if(dynamicFn)this._addPropertyEffect(sig.method,"complexObserver",{method:sig.method,args:sig.args,trigger:null,dynamicFn:dynamicFn})},_addAnnotationEffects:function(notes){for(var i=0,note;i<notes.length&&(note=notes[i]);i++){var b$=note.bindings;for(var j=0,binding;j<b$.length&&(binding=b$[j]);j++)this._addAnnotationEffect(binding,i)}},_addAnnotationEffect:function(note,index){if(Polymer.Bind._shouldAddListener(note))Polymer.Bind._addAnnotatedListener(this,
index,note.name,note.parts[0].value,note.parts[0].event,note.parts[0].negate);for(var i=0;i<note.parts.length;i++){var part=note.parts[i];if(part.signature)this._addAnnotatedComputationEffect(note,part,index);else if(!part.literal)if(note.kind==="attribute"&&note.name[0]==="-")this._warn(this._logf("_addAnnotationEffect","Cannot set attribute "+note.name+' because "-" is not a valid attribute starting character'));else this._addPropertyEffect(part.model,"annotation",{kind:note.kind,index:index,name:note.name,
propertyName:note.propertyName,value:part.value,isCompound:note.isCompound,compoundIndex:part.compoundIndex,event:part.event,customEvent:part.customEvent,negate:part.negate})}},_addAnnotatedComputationEffect:function(note,part,index){var sig=part.signature;if(sig["static"])this.__addAnnotatedComputationEffect("__static__",index,note,part,null);else{for(var i=0,arg;i<sig.args.length&&(arg=sig.args[i]);i++)if(!arg.literal)this.__addAnnotatedComputationEffect(arg.model,index,note,part,arg);if(sig.dynamicFn)this.__addAnnotatedComputationEffect(sig.method,
index,note,part,null)}},__addAnnotatedComputationEffect:function(property,index,note,part,trigger){this._addPropertyEffect(property,"annotatedComputation",{index:index,isCompound:note.isCompound,compoundIndex:part.compoundIndex,kind:note.kind,name:note.name,negate:part.negate,method:part.signature.method,args:part.signature.args,trigger:trigger,dynamicFn:part.signature.dynamicFn})},_parseMethod:function(expression){var m=expression.match(/([^\s]+?)\(([\s\S]*)\)/);if(m){var sig={method:m[1],"static":true};
if(this.getPropertyInfo(sig.method)!==Polymer.nob){sig["static"]=false;sig.dynamicFn=true}if(m[2].trim()){var args=m[2].replace(/\\,/g,"&comma;").split(",");return this._parseArgs(args,sig)}else{sig.args=Polymer.nar;return sig}}},_parseArgs:function(argList,sig){sig.args=argList.map(function(rawArg){var arg=this._parseArg(rawArg);if(!arg.literal)sig["static"]=false;return arg},this);return sig},_parseArg:function(rawArg){var arg=rawArg.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1");var a={name:arg};
var fc=arg[0];if(fc==="-")fc=arg[1];if(fc>="0"&&fc<="9")fc="#";switch(fc){case "'":case '"':a.value=arg.slice(1,-1);a.literal=true;break;case "#":a.value=Number(arg);a.literal=true;break}if(!a.literal){a.model=Polymer.Path.root(arg);a.structured=Polymer.Path.isDeep(arg);if(a.structured){a.wildcard=arg.slice(-2)==".*";if(a.wildcard)a.name=arg.slice(0,-2)}}return a},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this);if(this._bindListeners)Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(info,
value){var node=this._nodes[info.index];var property=info.name;value=this._computeFinalAnnotationValue(node,property,value,info);if(info.kind=="attribute")this.serializeValueToAttribute(value,property,node);else{var pinfo=node._propertyInfo&&node._propertyInfo[property];if(pinfo&&pinfo.readOnly)return;this.__setProperty(property,value,Polymer.Settings.suppressBindingNotifications,node)}},_computeFinalAnnotationValue:function(node,property,value,info){if(info.negate)value=!value;if(info.isCompound){var storage=
node.__compoundStorage__[property];storage[info.compoundIndex]=value;value=storage.join("")}if(info.kind!=="attribute"){if(property==="className")value=this._scopeElementClass(node,value);if(property==="textContent"||node.localName=="input"&&property=="value")value=value==undefined?"":value}return value},_executeStaticEffects:function(){if(this._propertyEffects&&this._propertyEffects.__static__)this._effectEffects("__static__",null,this._propertyEffects.__static__)}});
(function(){var usePolyfillProto=Polymer.Settings.usePolyfillProto;var avoidInstanceProperties=Boolean(Object.getOwnPropertyDescriptor(document.documentElement,"properties"));Polymer.Base._addFeature({_setupConfigure:function(initialConfig){this._config={};this._handlers=[];this._aboveConfig=null;if(initialConfig)for(var i in initialConfig)if(initialConfig[i]!==undefined)this._config[i]=initialConfig[i]},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_attributeChangedImpl:function(name){var model=
this._clientsReadied?this:this._config;this._setAttributeToProperty(model,name)},_configValue:function(name,value){var info=this._propertyInfo[name];if(!info||!info.readOnly)this._config[name]=value},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences();this._configureInstanceProperties();this._aboveConfig=this.mixin({},this._config);var config={};for(var i=0;i<this.behaviors.length;i++)this._configureProperties(this.behaviors[i].properties,
config);this._configureProperties(avoidInstanceProperties?this.__proto__.properties:this.properties,config);this.mixin(config,this._aboveConfig);this._config=config;if(this._clients&&this._clients.length)this._distributeConfig(this._config)},_configureInstanceProperties:function(){for(var i in this._propertyEffects)if(!usePolyfillProto&&this.hasOwnProperty(i)){this._configValue(i,this[i]);delete this[i]}},_configureProperties:function(properties,config){for(var i in properties){var c=properties[i];
if(c.value!==undefined){var value=c.value;if(typeof value=="function")value=value.call(this,this._config);config[i]=value}}},_distributeConfig:function(config){var fx$=this._propertyEffects;if(fx$)for(var p in config){var fx=fx$[p];if(fx)for(var i=0,l=fx.length,x;i<l&&(x=fx[i]);i++)if(x.kind==="annotation"){var node=this._nodes[x.effect.index];var name=x.effect.propertyName;var isAttr=x.effect.kind=="attribute";var hasEffect=node._propertyEffects&&node._propertyEffects[name];if(node._configValue&&
(hasEffect||!isAttr)){var value=p===x.effect.value?config[p]:this._get(x.effect.value,config);value=this._computeFinalAnnotationValue(node,name,value,x.effect);if(isAttr)value=node.deserialize(this.serialize(value),node._propertyInfo[name].type);node._configValue(name,value)}}}},_afterClientsReady:function(){this.importPath=this._importPath;this.rootPath=Polymer.rootPath;this._executeStaticEffects();this._applyConfig(this._config,this._aboveConfig);this._flushHandlers()},_applyConfig:function(config,
aboveConfig){for(var n in config)if(this[n]===undefined)this.__setProperty(n,config[n],n in aboveConfig)},_notifyListener:function(fn,e){if(!Polymer.Bind._isEventBogus(e,e.target)){var value,path;if(e.detail){value=e.detail.value;path=e.detail.path}if(!this._clientsReadied)this._queueHandler([fn,e.target,value,path]);else return fn.call(this,e.target,value,path)}},_queueHandler:function(args){this._handlers.push(args)},_flushHandlers:function(){var h$=this._handlers;for(var i=0,l=h$.length,h;i<l&&
(h=h$[i]);i++)h[0].call(this,h[1],h[2],h[3]);this._handlers=[]}})})();
(function(){var Path=Polymer.Path;Polymer.Base._addFeature({notifyPath:function(path,value,fromAbove){var info={};var v=this._get(path,this,info);if(arguments.length===1)value=v;if(info.path)this._notifyPath(info.path,value,fromAbove)},_notifyPath:function(path,value,fromAbove){var old=this._propertySetter(path,value);if(old!==value&&(old===old||value===value)){this._pathEffector(path,value);if(!fromAbove)this._notifyPathUp(path,value);return true}},_getPathParts:function(path){if(Array.isArray(path)){var parts=
[];for(var i=0;i<path.length;i++){var args=path[i].toString().split(".");for(var j=0;j<args.length;j++)parts.push(args[j])}return parts}else return path.toString().split(".")},set:function(path,value,root){var prop=root||this;var parts=this._getPathParts(path);var array;var last=parts[parts.length-1];if(parts.length>1){for(var i=0;i<parts.length-1;i++){var part=parts[i];if(array&&part[0]=="#")prop=Polymer.Collection.get(array).getItem(part);else{prop=prop[part];if(array&&parseInt(part,10)==part)parts[i]=
Polymer.Collection.get(array).getKey(prop)}if(!prop)return;array=Array.isArray(prop)?prop:null}if(array){var coll=Polymer.Collection.get(array);var old,key;if(last[0]=="#"){key=last;old=coll.getItem(key);last=array.indexOf(old);coll.setItem(key,value)}else if(parseInt(last,10)==last){old=prop[last];key=coll.getKey(old);parts[i]=key;coll.setItem(key,value)}}prop[last]=value;if(!root)this._notifyPath(parts.join("."),value)}else prop[path]=value},get:function(path,root){return this._get(path,root)},
_get:function(path,root,info){var prop=root||this;var parts=this._getPathParts(path);var array;for(var i=0;i<parts.length;i++){if(!prop)return;var part=parts[i];if(array&&part[0]=="#")prop=Polymer.Collection.get(array).getItem(part);else{prop=prop[part];if(info&&array&&parseInt(part,10)==part)parts[i]=Polymer.Collection.get(array).getKey(prop)}array=Array.isArray(prop)?prop:null}if(info)info.path=parts.join(".");return prop},_pathEffector:function(path,value){var model=Path.root(path);var fx$=this._propertyEffects&&
this._propertyEffects[model];if(fx$)for(var i=0,fx;i<fx$.length&&(fx=fx$[i]);i++){var fxFn=fx.pathFn;if(fxFn)fxFn.call(this,path,value,fx.effect)}if(this._boundPaths)this._notifyBoundPaths(path,value)},_annotationPathEffect:function(path,value,effect){if(Path.matches(effect.value,false,path))Polymer.Bind._annotationEffect.call(this,path,value,effect);else if(!effect.negate&&Path.isDescendant(effect.value,path)){var node=this._nodes[effect.index];if(node&&node._notifyPath){var newPath=Path.translate(effect.value,
effect.name,path);node._notifyPath(newPath,value,true)}}},_complexObserverPathEffect:function(path,value,effect){if(Path.matches(effect.trigger.name,effect.trigger.wildcard,path))Polymer.Bind._complexObserverEffect.call(this,path,value,effect)},_computePathEffect:function(path,value,effect){if(Path.matches(effect.trigger.name,effect.trigger.wildcard,path))Polymer.Bind._computeEffect.call(this,path,value,effect)},_annotatedComputationPathEffect:function(path,value,effect){if(Path.matches(effect.trigger.name,
effect.trigger.wildcard,path))Polymer.Bind._annotatedComputationEffect.call(this,path,value,effect)},linkPaths:function(to,from){this._boundPaths=this._boundPaths||{};if(from)this._boundPaths[to]=from;else this.unlinkPaths(to)},unlinkPaths:function(path){if(this._boundPaths)delete this._boundPaths[path]},_notifyBoundPaths:function(path,value){for(var a in this._boundPaths){var b=this._boundPaths[a];if(Path.isDescendant(a,path))this._notifyPath(Path.translate(a,b,path),value);else if(Path.isDescendant(b,
path))this._notifyPath(Path.translate(b,a,path),value)}},_notifyPathUp:function(path,value){var rootName=Path.root(path);var dashCaseName=Polymer.CaseMap.camelToDashCase(rootName);var eventName=dashCaseName+this._EVENT_CHANGED;this.fire(eventName,{path:path,value:value},{bubbles:false,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_EVENT_CHANGED:"-changed",notifySplices:function(path,splices){var info={};var array=this._get(path,this,info);this._notifySplices(array,info.path,
splices)},_notifySplices:function(array,path,splices){var change={keySplices:Polymer.Collection.applySplices(array,splices),indexSplices:splices};var splicesPath=path+".splices";this._notifyPath(splicesPath,change);this._notifyPath(path+".length",array.length);this.__data__[splicesPath]={keySplices:null,indexSplices:null}},_notifySplice:function(array,path,index,added,removed){this._notifySplices(array,path,[{index:index,addedCount:added,removed:removed,object:array,type:"splice"}])},push:function(path){var info=
{};var array=this._get(path,this,info);var args=Array.prototype.slice.call(arguments,1);var len=array.length;var ret=array.push.apply(array,args);if(args.length)this._notifySplice(array,info.path,len,args.length,[]);return ret},pop:function(path){var info={};var array=this._get(path,this,info);var hadLength=Boolean(array.length);var args=Array.prototype.slice.call(arguments,1);var ret=array.pop.apply(array,args);if(hadLength)this._notifySplice(array,info.path,array.length,0,[ret]);return ret},splice:function(path,
start){var info={};var array=this._get(path,this,info);if(start<0)start=array.length-Math.floor(-start);else start=Math.floor(start);if(!start)start=0;var args=Array.prototype.slice.call(arguments,1);var ret=array.splice.apply(array,args);var addedCount=Math.max(args.length-2,0);if(addedCount||ret.length)this._notifySplice(array,info.path,start,addedCount,ret);return ret},shift:function(path){var info={};var array=this._get(path,this,info);var hadLength=Boolean(array.length);var args=Array.prototype.slice.call(arguments,
1);var ret=array.shift.apply(array,args);if(hadLength)this._notifySplice(array,info.path,0,0,[ret]);return ret},unshift:function(path){var info={};var array=this._get(path,this,info);var args=Array.prototype.slice.call(arguments,1);var ret=array.unshift.apply(array,args);if(args.length)this._notifySplice(array,info.path,0,args.length,[]);return ret},prepareModelNotifyPath:function(model){this.mixin(model,{fire:Polymer.Base.fire,_getEvent:Polymer.Base._getEvent,__eventCache:Polymer.Base.__eventCache,
notifyPath:Polymer.Base.notifyPath,_get:Polymer.Base._get,_EVENT_CHANGED:Polymer.Base._EVENT_CHANGED,_notifyPath:Polymer.Base._notifyPath,_notifyPathUp:Polymer.Base._notifyPathUp,_pathEffector:Polymer.Base._pathEffector,_annotationPathEffect:Polymer.Base._annotationPathEffect,_complexObserverPathEffect:Polymer.Base._complexObserverPathEffect,_annotatedComputationPathEffect:Polymer.Base._annotatedComputationPathEffect,_computePathEffect:Polymer.Base._computePathEffect,_notifyBoundPaths:Polymer.Base._notifyBoundPaths,
_getPathParts:Polymer.Base._getPathParts})}})})();Polymer.Base._addFeature({resolveUrl:function(url){return Polymer.ResolveUrl.resolveUrl(url,this._importPath)}});
Polymer.CssParse=function(){return{parse:function(text){text=this._clean(text);return this._parseCss(this._lex(text),text)},_clean:function(cssText){return cssText.replace(this._rx.comments,"").replace(this._rx.port,"")},_lex:function(text){var root={start:0,end:text.length};var n=root;for(var i=0,l=text.length;i<l;i++)switch(text[i]){case this.OPEN_BRACE:if(!n.rules)n.rules=[];var p=n;var previous=p.rules[p.rules.length-1];n={start:i+1,parent:p,previous:previous};p.rules.push(n);break;case this.CLOSE_BRACE:n.end=
i+1;n=n.parent||root;break}return root},_parseCss:function(node,text){var t=text.substring(node.start,node.end-1);node.parsedCssText=node.cssText=t.trim();if(node.parent){var ss=node.previous?node.previous.end:node.parent.start;t=text.substring(ss,node.start-1);t=this._expandUnicodeEscapes(t);t=t.replace(this._rx.multipleSpaces," ");t=t.substring(t.lastIndexOf(";")+1);var s=node.parsedSelector=node.selector=t.trim();node.atRule=s.indexOf(this.AT_START)===0;if(node.atRule)if(s.indexOf(this.MEDIA_START)===
0)node.type=this.types.MEDIA_RULE;else{if(s.match(this._rx.keyframesRule)){node.type=this.types.KEYFRAMES_RULE;node.keyframesName=node.selector.split(this._rx.multipleSpaces).pop()}}else if(s.indexOf(this.VAR_START)===0)node.type=this.types.MIXIN_RULE;else node.type=this.types.STYLE_RULE}var r$=node.rules;if(r$)for(var i=0,l=r$.length,r;i<l&&(r=r$[i]);i++)this._parseCss(r,text);return node},_expandUnicodeEscapes:function(s){return s.replace(/\\([0-9a-f]{1,6})\s/gi,function(){var code=arguments[1],
repeat=6-code.length;while(repeat--)code="0"+code;return"\\"+code})},stringify:function(node,preserveProperties,text){text=text||"";var cssText="";if(node.cssText||node.rules){var r$=node.rules;if(r$&&!this._hasMixinRules(r$))for(var i=0,l=r$.length,r;i<l&&(r=r$[i]);i++)cssText=this.stringify(r,preserveProperties,cssText);else{cssText=preserveProperties?node.cssText:this.removeCustomProps(node.cssText);cssText=cssText.trim();if(cssText)cssText="  "+cssText+"\n"}}if(cssText){if(node.selector)text+=
node.selector+" "+this.OPEN_BRACE+"\n";text+=cssText;if(node.selector)text+=this.CLOSE_BRACE+"\n\n"}return text},_hasMixinRules:function(rules){return rules[0].selector.indexOf(this.VAR_START)===0},removeCustomProps:function(cssText){cssText=this.removeCustomPropAssignment(cssText);return this.removeCustomPropApply(cssText)},removeCustomPropAssignment:function(cssText){return cssText.replace(this._rx.customProp,"").replace(this._rx.mixinProp,"")},removeCustomPropApply:function(cssText){return cssText.replace(this._rx.mixinApply,
"").replace(this._rx.varApply,"")},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1E3},OPEN_BRACE:"{",CLOSE_BRACE:"}",_rx:{comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},
VAR_START:"--",MEDIA_START:"@media",AT_START:"@"}}();
Polymer.StyleUtil=function(){var settings=Polymer.Settings;return{unscopedStyleImports:new WeakMap,SHADY_UNSCOPED_ATTR:"shady-unscoped",NATIVE_VARIABLES:Polymer.Settings.useNativeCSSProperties,MODULE_STYLES_SELECTOR:"style, link[rel=import][type~=css], template",INCLUDE_ATTR:"include",toCssText:function(rules,callback){if(typeof rules==="string")rules=this.parser.parse(rules);if(callback)this.forEachRule(rules,callback);return this.parser.stringify(rules,this.NATIVE_VARIABLES)},forRulesInStyles:function(styles,
styleRuleCallback,keyframesRuleCallback){if(styles)for(var i=0,l=styles.length,s;i<l&&(s=styles[i]);i++)this.forEachRuleInStyle(s,styleRuleCallback,keyframesRuleCallback)},forActiveRulesInStyles:function(styles,styleRuleCallback,keyframesRuleCallback){if(styles)for(var i=0,l=styles.length,s;i<l&&(s=styles[i]);i++)this.forEachRuleInStyle(s,styleRuleCallback,keyframesRuleCallback,true)},rulesForStyle:function(style){if(!style.__cssRules&&style.textContent)style.__cssRules=this.parser.parse(style.textContent);
return style.__cssRules},isKeyframesSelector:function(rule){return rule.parent&&rule.parent.type===this.ruleTypes.KEYFRAMES_RULE},forEachRuleInStyle:function(style,styleRuleCallback,keyframesRuleCallback,onlyActiveRules){var rules=this.rulesForStyle(style);var styleCallback,keyframeCallback;if(styleRuleCallback)styleCallback=function(rule){styleRuleCallback(rule,style)};if(keyframesRuleCallback)keyframeCallback=function(rule){keyframesRuleCallback(rule,style)};this.forEachRule(rules,styleCallback,
keyframeCallback,onlyActiveRules)},forEachRule:function(node,styleRuleCallback,keyframesRuleCallback,onlyActiveRules){if(!node)return;var skipRules=false;if(onlyActiveRules)if(node.type===this.ruleTypes.MEDIA_RULE){var matchMedia=node.selector.match(this.rx.MEDIA_MATCH);if(matchMedia)if(!window.matchMedia(matchMedia[1]).matches)skipRules=true}if(node.type===this.ruleTypes.STYLE_RULE)styleRuleCallback(node);else if(keyframesRuleCallback&&node.type===this.ruleTypes.KEYFRAMES_RULE)keyframesRuleCallback(node);
else if(node.type===this.ruleTypes.MIXIN_RULE)skipRules=true;var r$=node.rules;if(r$&&!skipRules)for(var i=0,l=r$.length,r;i<l&&(r=r$[i]);i++)this.forEachRule(r,styleRuleCallback,keyframesRuleCallback,onlyActiveRules)},applyCss:function(cssText,moniker,target,contextNode){var style=this.createScopeStyle(cssText,moniker);return this.applyStyle(style,target,contextNode)},applyStyle:function(style,target,contextNode){target=target||document.head;var after=contextNode&&contextNode.nextSibling||target.firstChild;
this.__lastHeadApplyNode=style;return target.insertBefore(style,after)},createScopeStyle:function(cssText,moniker){var style=document.createElement("style");if(moniker)style.setAttribute("scope",moniker);style.textContent=cssText;return style},__lastHeadApplyNode:null,applyStylePlaceHolder:function(moniker){var placeHolder=document.createComment(" Shady DOM styles for "+moniker+" ");var after=this.__lastHeadApplyNode?this.__lastHeadApplyNode.nextSibling:null;var scope=document.head;scope.insertBefore(placeHolder,
after||scope.firstChild);this.__lastHeadApplyNode=placeHolder;return placeHolder},cssFromModules:function(moduleIds,warnIfNotFound){var modules=moduleIds.trim().split(/\s+/);var cssText="";for(var i=0;i<modules.length;i++)cssText+=this.cssFromModule(modules[i],warnIfNotFound);return cssText},cssFromModule:function(moduleId,warnIfNotFound){var m=Polymer.DomModule["import"](moduleId);if(m&&!m._cssText)m._cssText=this.cssFromElement(m);if(!m&&warnIfNotFound)console.warn("Could not find style data in module named",
moduleId);return m&&m._cssText||""},cssFromElement:function(element){var cssText="";var content=element.content||element;var e$=Polymer.TreeApi.arrayCopy(content.querySelectorAll(this.MODULE_STYLES_SELECTOR));for(var i=0,e;i<e$.length;i++){e=e$[i];if(e.localName==="template"){if(!e.hasAttribute("preserve-content"))cssText+=this.cssFromElement(e)}else if(e.localName==="style"){var include=e.getAttribute(this.INCLUDE_ATTR);if(include)cssText+=this.cssFromModules(include,true);e=e.__appliedElement||
e;e.parentNode.removeChild(e);var css=this.resolveCss(e.textContent,element.ownerDocument);if(!settings.useNativeShadow&&e.hasAttribute(this.SHADY_UNSCOPED_ATTR)){e.textContent=css;document.head.insertBefore(e,document.head.firstChild)}else cssText+=css}else if(e["import"]&&e["import"].body){var importCss=this.resolveCss(e["import"].body.textContent,e["import"]);if(!settings.useNativeShadow&&e.hasAttribute(this.SHADY_UNSCOPED_ATTR)){if(!this.unscopedStyleImports.has(e["import"])){this.unscopedStyleImports.set(e["import"],
true);var importStyle=document.createElement("style");importStyle.setAttribute(this.SHADY_UNSCOPED_ATTR,"");importStyle.textContent=importCss;document.head.insertBefore(importStyle,document.head.firstChild)}}else cssText+=importCss}}return cssText},styleIncludesToTemplate:function(targetTemplate){var styles=targetTemplate.content.querySelectorAll("style[include]");for(var i=0,s;i<styles.length;i++){s=styles[i];s.parentNode.insertBefore(this._includesToFragment(s.getAttribute("include")),s)}},_includesToFragment:function(styleIncludes){var includeArray=
styleIncludes.trim().split(" ");var frag=document.createDocumentFragment();for(var i=0;i<includeArray.length;i++){var t=Polymer.DomModule["import"](includeArray[i],"template");if(t)this._addStylesToFragment(frag,t.content)}return frag},_addStylesToFragment:function(frag,source){var s$=source.querySelectorAll("style");for(var i=0,s;i<s$.length;i++){s=s$[i];var include=s.getAttribute("include");if(include)frag.appendChild(this._includesToFragment(include));if(s.textContent)frag.appendChild(s.cloneNode(true))}},
isTargetedBuild:function(buildType){return settings.useNativeShadow?buildType==="shadow":buildType==="shady"},cssBuildTypeForModule:function(module){var dm=Polymer.DomModule["import"](module);if(dm)return this.getCssBuildType(dm)},getCssBuildType:function(element){return element.getAttribute("css-build")},_findMatchingParen:function(text,start){var level=0;for(var i=start,l=text.length;i<l;i++)switch(text[i]){case "(":level++;break;case ")":if(--level===0)return i;break}return-1},processVariableAndFallback:function(str,
callback){var start=str.indexOf("var(");if(start===-1)return callback(str,"","","");var end=this._findMatchingParen(str,start+3);var inner=str.substring(start+4,end);var prefix=str.substring(0,start);var suffix=this.processVariableAndFallback(str.substring(end+1),callback);var comma=inner.indexOf(",");if(comma===-1)return callback(prefix,inner.trim(),"",suffix);var value=inner.substring(0,comma).trim();var fallback=inner.substring(comma+1).trim();return callback(prefix,value,fallback,suffix)},rx:{VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,
MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s>+~])"},resolveCss:Polymer.ResolveUrl.resolveCss,parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}();
Polymer.StyleTransformer=function(){var styleUtil=Polymer.StyleUtil;var settings=Polymer.Settings;var api={dom:function(node,scope,useAttr,shouldRemoveScope){this._transformDom(node,scope||"",useAttr,shouldRemoveScope)},_transformDom:function(node,selector,useAttr,shouldRemoveScope){if(node.setAttribute)this.element(node,selector,useAttr,shouldRemoveScope);var c$=Polymer.dom(node).childNodes;for(var i=0;i<c$.length;i++)this._transformDom(c$[i],selector,useAttr,shouldRemoveScope)},element:function(element,
scope,useAttr,shouldRemoveScope){if(useAttr)if(shouldRemoveScope)element.removeAttribute(SCOPE_NAME);else element.setAttribute(SCOPE_NAME,scope);else if(scope)if(element.classList)if(shouldRemoveScope){element.classList.remove(SCOPE_NAME);element.classList.remove(scope)}else{element.classList.add(SCOPE_NAME);element.classList.add(scope)}else if(element.getAttribute){var c=element.getAttribute(CLASS);if(shouldRemoveScope){if(c)element.setAttribute(CLASS,c.replace(SCOPE_NAME,"").replace(scope,""))}else element.setAttribute(CLASS,
(c?c+" ":"")+SCOPE_NAME+" "+scope)}},elementStyles:function(element,callback){var styles=element._styles;var cssText="";var cssBuildType=element.__cssBuild;var passthrough=settings.useNativeShadow||cssBuildType==="shady";var cb;if(passthrough){var self=this;cb=function(rule){rule.selector=self._slottedToContent(rule.selector);rule.selector=rule.selector.replace(ROOT,":host > *");rule.selector=self._dirShadowTransform(rule.selector);if(callback)callback(rule)}}for(var i=0,l=styles.length,s;i<l&&(s=
styles[i]);i++){var rules=styleUtil.rulesForStyle(s);cssText+=passthrough?styleUtil.toCssText(rules,cb):this.css(rules,element.is,element["extends"],callback,element._scopeCssViaAttr)+"\n\n"}return cssText.trim()},css:function(rules,scope,ext,callback,useAttr){var hostScope=this._calcHostScope(scope,ext);scope=this._calcElementScope(scope,useAttr);var self=this;return styleUtil.toCssText(rules,function(rule){if(!rule.isScoped){self.rule(rule,scope,hostScope);rule.isScoped=true}if(callback)callback(rule,
scope,hostScope)})},_calcElementScope:function(scope,useAttr){if(scope)return useAttr?CSS_ATTR_PREFIX+scope+CSS_ATTR_SUFFIX:CSS_CLASS_PREFIX+scope;else return""},_calcHostScope:function(scope,ext){return ext?"[is="+scope+"]":scope},rule:function(rule,scope,hostScope){this._transformRule(rule,this._transformComplexSelector,scope,hostScope)},_transformRule:function(rule,transformer,scope,hostScope){rule.selector=rule.transformedSelector=this._transformRuleCss(rule,transformer,scope,hostScope)},_splitSelectorList:function(selector){var parts=
[];var part="";for(var i=0;i>=0&&i<selector.length;i++)if(selector[i]==="("){var end=styleUtil._findMatchingParen(selector,i);part+=selector.slice(i,end+1);i=end}else if(selector[i]===COMPLEX_SELECTOR_SEP){parts.push(part);part=""}else part+=selector[i];if(part)parts.push(part);if(parts.length===0)parts.push(selector);return parts},_transformRuleCss:function(rule,transformer,scope,hostScope){var p$=this._splitSelectorList(rule.selector);if(!styleUtil.isKeyframesSelector(rule))for(var i=0,l=p$.length,
p;i<l&&(p=p$[i]);i++)p$[i]=transformer.call(this,p,scope,hostScope);return p$.join(COMPLEX_SELECTOR_SEP)},_ensureScopedDir:function(s){var m=s.match(DIR_PAREN);if(m&&m[1]===""&&m[0].length===s.length)s="*"+s;return s},_additionalDirSelectors:function(dir,after,prefix){if(!dir||!after)return"";prefix=prefix||"";return COMPLEX_SELECTOR_SEP+prefix+" "+dir+" "+after},_transformComplexSelector:function(selector,scope,hostScope){var stop=false;var hostContext=false;var dir=false;var self=this;selector=
selector.trim();selector=this._slottedToContent(selector);selector=selector.replace(ROOT,":host > *");selector=selector.replace(CONTENT_START,HOST+" $1");selector=this._ensureScopedDir(selector);selector=selector.replace(SIMPLE_SELECTOR_SEP,function(m,c,s){if(!stop){var info=self._transformCompoundSelector(s,c,scope,hostScope);stop=stop||info.stop;hostContext=hostContext||info.hostContext;dir=dir||info.dir;c=info.combinator;s=info.value}else s=s.replace(SCOPE_JUMP," ");return c+s});if(hostContext)selector=
selector.replace(HOST_CONTEXT_PAREN,function(m,pre,paren,post){var replacement=pre+paren+" "+hostScope+post+COMPLEX_SELECTOR_SEP+" "+pre+hostScope+paren+post;if(dir)replacement+=self._additionalDirSelectors(paren,post,hostScope);return replacement});return selector},_transformDir:function(s){s=s.replace(HOST_DIR,HOST_DIR_REPLACE);s=s.replace(DIR_PAREN,DIR_REPLACE);return s},_transformCompoundSelector:function(selector,combinator,scope,hostScope){var jumpIndex=selector.search(SCOPE_JUMP);var hostContext=
false;var dir=false;if(selector.match(DIR_PAREN)){selector=this._transformDir(selector);dir=true}if(selector.indexOf(HOST_CONTEXT)>=0)hostContext=true;else if(selector.indexOf(HOST)>=0)selector=this._transformHostSelector(selector,hostScope);else if(jumpIndex!==0)selector=scope?this._transformSimpleSelector(selector,scope):selector;if(selector.indexOf(CONTENT)>=0)combinator="";var stop;if(jumpIndex>=0){selector=selector.replace(SCOPE_JUMP," ");stop=true}return{value:selector,combinator:combinator,
stop:stop,hostContext:hostContext,dir:dir}},_transformSimpleSelector:function(selector,scope){var p$=selector.split(PSEUDO_PREFIX);p$[0]+=scope;return p$.join(PSEUDO_PREFIX)},_transformHostSelector:function(selector,hostScope){var m=selector.match(HOST_PAREN);var paren=m&&m[2].trim()||"";if(paren)if(!paren[0].match(SIMPLE_SELECTOR_PREFIX)){var typeSelector=paren.split(SIMPLE_SELECTOR_PREFIX)[0];if(typeSelector===hostScope)return paren;else return SELECTOR_NO_MATCH}else return selector.replace(HOST_PAREN,
function(m,host,paren){return hostScope+paren});else return selector.replace(HOST,hostScope)},documentRule:function(rule){rule.selector=rule.parsedSelector;this.normalizeRootSelector(rule);if(!settings.useNativeShadow)this._transformRule(rule,this._transformDocumentSelector)},normalizeRootSelector:function(rule){rule.selector=rule.selector.replace(ROOT,"html");var parts=this._splitSelectorList(rule.selector);parts=parts.filter(function(part){return!part.match(HOST_OR_HOST_GT_STAR)});rule.selector=
parts.join(COMPLEX_SELECTOR_SEP)},_transformDocumentSelector:function(selector){return this._transformComplexSelector(selector,SCOPE_DOC_SELECTOR)},_slottedToContent:function(cssText){return cssText.replace(SLOTTED_PAREN,CONTENT+"> $1")},_dirShadowTransform:function(selector){if(!selector.match(/:dir\(/))return selector;return this._splitSelectorList(selector).map(function(s){s=this._ensureScopedDir(s);s=this._transformDir(s);var m=HOST_CONTEXT_PAREN.exec(s);if(m)s+=this._additionalDirSelectors(m[2],
m[3],"");return s},this).join(COMPLEX_SELECTOR_SEP)},SCOPE_NAME:"style-scope"};var SCOPE_NAME=api.SCOPE_NAME;var SCOPE_DOC_SELECTOR=":not(["+SCOPE_NAME+"])"+":not(."+SCOPE_NAME+")";var COMPLEX_SELECTOR_SEP=",";var SIMPLE_SELECTOR_SEP=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g;var SIMPLE_SELECTOR_PREFIX=/[[.:#*]/;var HOST=":host";var ROOT=":root";var HOST_PAREN=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/;var HOST_CONTEXT=":host-context";var HOST_CONTEXT_PAREN=/(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/;
var CONTENT="::content";var SCOPE_JUMP=/::content|::shadow|\/deep\//;var CSS_CLASS_PREFIX=".";var CSS_ATTR_PREFIX="["+SCOPE_NAME+"~=";var CSS_ATTR_SUFFIX="]";var PSEUDO_PREFIX=":";var CLASS="class";var CONTENT_START=new RegExp("^("+CONTENT+")");var SELECTOR_NO_MATCH="should_not_match";var SLOTTED_PAREN=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g;var HOST_OR_HOST_GT_STAR=/:host(?:\s*>\s*\*)?/;var DIR_PAREN=/(.*):dir\((ltr|rtl)\)/;var DIR_REPLACE=':host-context([dir="$2"]) $1';var HOST_DIR=/:host\(:dir\((rtl|ltr)\)\)/g;
var HOST_DIR_REPLACE=':host-context([dir="$1"])';return api}();
Polymer.StyleExtends=function(){var styleUtil=Polymer.StyleUtil;return{hasExtends:function(cssText){return Boolean(cssText.match(this.rx.EXTEND))},transform:function(style){var rules=styleUtil.rulesForStyle(style);var self=this;styleUtil.forEachRule(rules,function(rule){self._mapRuleOntoParent(rule);if(rule.parent){var m;while(m=self.rx.EXTEND.exec(rule.cssText)){var extend=m[1];var extendor=self._findExtendor(extend,rule);if(extendor)self._extendRule(rule,extendor)}}rule.cssText=rule.cssText.replace(self.rx.EXTEND,
"")});return styleUtil.toCssText(rules,function(rule){if(rule.selector.match(self.rx.STRIP))rule.cssText=""},true)},_mapRuleOntoParent:function(rule){if(rule.parent){var map=rule.parent.map||(rule.parent.map={});var parts=rule.selector.split(",");for(var i=0,p;i<parts.length;i++){p=parts[i];map[p.trim()]=rule}return map}},_findExtendor:function(extend,rule){return rule.parent&&rule.parent.map&&rule.parent.map[extend]||this._findExtendor(extend,rule.parent)},_extendRule:function(target,source){if(target.parent!==
source.parent)this._cloneAndAddRuleToParent(source,target.parent);target["extends"]=target["extends"]||[];target["extends"].push(source);source.selector=source.selector.replace(this.rx.STRIP,"");source.selector=(source.selector&&source.selector+",\n")+target.selector;if(source["extends"])source["extends"].forEach(function(e){this._extendRule(target,e)},this)},_cloneAndAddRuleToParent:function(rule,parent){rule=Object.create(rule);rule.parent=parent;if(rule["extends"])rule["extends"]=rule["extends"].slice();
parent.rules.push(rule)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}();
Polymer.ApplyShim=function(){var styleUtil=Polymer.StyleUtil;var MIXIN_MATCH=styleUtil.rx.MIXIN_MATCH;var VAR_ASSIGN=styleUtil.rx.VAR_ASSIGN;var BAD_VAR=/var\(\s*(--[^,]*),\s*(--[^)]*)\)/g;var APPLY_NAME_CLEAN=/;\s*/m;var INITIAL_INHERIT=/^\s*(initial)|(inherit)\s*$/;var MIXIN_VAR_SEP="_-_";var mixinMap={};function mapSet(name,props){name=name.trim();mixinMap[name]={properties:props,dependants:{}}}function mapGet(name){name=name.trim();return mixinMap[name]}function replaceInitialOrInherit(property,
value){var match=INITIAL_INHERIT.exec(value);if(match)if(match[1])value=ApplyShim._getInitialValueForProperty(property);else value="apply-shim-inherit";return value}function cssTextToMap(text){var props=text.split(";");var property,value;var out={};for(var i=0,p,sp;i<props.length;i++){p=props[i];if(p){sp=p.split(":");if(sp.length>1){property=sp[0].trim();value=replaceInitialOrInherit(property,sp.slice(1).join(":"));out[property]=value}}}return out}function invalidateMixinEntry(mixinEntry){var currentProto=
ApplyShim.__currentElementProto;var currentElementName=currentProto&&currentProto.is;for(var elementName in mixinEntry.dependants)if(elementName!==currentElementName)mixinEntry.dependants[elementName].__applyShimInvalid=true}function produceCssProperties(matchText,propertyName,valueProperty,valueMixin){if(valueProperty)styleUtil.processVariableAndFallback(valueProperty,function(prefix,value){if(value&&mapGet(value))valueMixin="@apply "+value+";"});if(!valueMixin)return matchText;var mixinAsProperties=
consumeCssProperties(valueMixin);var prefix=matchText.slice(0,matchText.indexOf("--"));var mixinValues=cssTextToMap(mixinAsProperties);var combinedProps=mixinValues;var mixinEntry=mapGet(propertyName);var oldProps=mixinEntry&&mixinEntry.properties;if(oldProps){combinedProps=Object.create(oldProps);combinedProps=Polymer.Base.mixin(combinedProps,mixinValues)}else mapSet(propertyName,combinedProps);var out=[];var p,v;var needToInvalidate=false;for(p in combinedProps){v=mixinValues[p];if(v===undefined)v=
"initial";if(oldProps&&!(p in oldProps))needToInvalidate=true;out.push(propertyName+MIXIN_VAR_SEP+p+": "+v)}if(needToInvalidate)invalidateMixinEntry(mixinEntry);if(mixinEntry)mixinEntry.properties=combinedProps;if(valueProperty)prefix=matchText+";"+prefix;return prefix+out.join("; ")+";"}function fixVars(matchText,varA,varB){return"var("+varA+","+"var("+varB+"))"}function atApplyToCssProperties(mixinName,fallbacks){mixinName=mixinName.replace(APPLY_NAME_CLEAN,"");var vars=[];var mixinEntry=mapGet(mixinName);
if(!mixinEntry){mapSet(mixinName,{});mixinEntry=mapGet(mixinName)}if(mixinEntry){var currentProto=ApplyShim.__currentElementProto;if(currentProto)mixinEntry.dependants[currentProto.is]=currentProto;var p,parts,f;for(p in mixinEntry.properties){f=fallbacks&&fallbacks[p];parts=[p,": var(",mixinName,MIXIN_VAR_SEP,p];if(f)parts.push(",",f);parts.push(")");vars.push(parts.join(""))}}return vars.join("; ")}function consumeCssProperties(text){var m;while(m=MIXIN_MATCH.exec(text)){var matchText=m[0];var mixinName=
m[1];var idx=m.index;var applyPos=idx+matchText.indexOf("@apply");var afterApplyPos=idx+matchText.length;var textBeforeApply=text.slice(0,applyPos);var textAfterApply=text.slice(afterApplyPos);var defaults=cssTextToMap(textBeforeApply);var replacement=atApplyToCssProperties(mixinName,defaults);text=[textBeforeApply,replacement,textAfterApply].join("");MIXIN_MATCH.lastIndex=idx+replacement.length}return text}var ApplyShim={_measureElement:null,_map:mixinMap,_separator:MIXIN_VAR_SEP,transform:function(styles,
elementProto){this.__currentElementProto=elementProto;styleUtil.forRulesInStyles(styles,this._boundFindDefinitions);styleUtil.forRulesInStyles(styles,this._boundFindApplications);if(elementProto)elementProto.__applyShimInvalid=false;this.__currentElementProto=null},_findDefinitions:function(rule){var cssText=rule.parsedCssText;cssText=cssText.replace(BAD_VAR,fixVars);cssText=cssText.replace(VAR_ASSIGN,produceCssProperties);rule.cssText=cssText;if(rule.selector===":root")rule.selector=":host > *"},
_findApplications:function(rule){rule.cssText=consumeCssProperties(rule.cssText)},transformRule:function(rule){this._findDefinitions(rule);this._findApplications(rule)},_getInitialValueForProperty:function(property){if(!this._measureElement){this._measureElement=document.createElement("meta");this._measureElement.style.all="initial";document.head.appendChild(this._measureElement)}return window.getComputedStyle(this._measureElement).getPropertyValue(property)}};ApplyShim._boundTransformRule=ApplyShim.transformRule.bind(ApplyShim);
ApplyShim._boundFindDefinitions=ApplyShim._findDefinitions.bind(ApplyShim);ApplyShim._boundFindApplications=ApplyShim._findApplications.bind(ApplyShim);return ApplyShim}();
(function(){var prepElement=Polymer.Base._prepElement;var nativeShadow=Polymer.Settings.useNativeShadow;var styleUtil=Polymer.StyleUtil;var styleTransformer=Polymer.StyleTransformer;var styleExtends=Polymer.StyleExtends;var applyShim=Polymer.ApplyShim;var settings=Polymer.Settings;Polymer.Base._addFeature({_prepElement:function(element){if(this._encapsulateStyle&&this.__cssBuild!=="shady")styleTransformer.element(element,this.is,this._scopeCssViaAttr);prepElement.call(this,element)},_prepStyles:function(){if(this._encapsulateStyle===
undefined)this._encapsulateStyle=!nativeShadow;if(!nativeShadow)this._scopeStyle=styleUtil.applyStylePlaceHolder(this.is);this.__cssBuild=styleUtil.cssBuildTypeForModule(this.is)},_prepShimStyles:function(){if(this._template){var hasTargetedCssBuild=styleUtil.isTargetedBuild(this.__cssBuild);if(settings.useNativeCSSProperties&&this.__cssBuild==="shadow"&&hasTargetedCssBuild){if(settings.preserveStyleIncludes)styleUtil.styleIncludesToTemplate(this._template);return}this._styles=this._styles||this._collectStyles();
if(settings.useNativeCSSProperties&&!this.__cssBuild)applyShim.transform(this._styles,this);var cssText=settings.useNativeCSSProperties&&hasTargetedCssBuild?this._styles.length&&this._styles[0].textContent.trim():styleTransformer.elementStyles(this);this._prepStyleProperties();if(!this._needsStyleProperties()&&cssText)styleUtil.applyCss(cssText,this.is,nativeShadow?this._template.content:null,this._scopeStyle)}else this._styles=[]},_collectStyles:function(){var styles=[];var cssText="",m$=this.styleModules;
if(m$)for(var i=0,l=m$.length,m;i<l&&(m=m$[i]);i++)cssText+=styleUtil.cssFromModule(m);cssText+=styleUtil.cssFromModule(this.is);var p=this._template&&this._template.parentNode;if(this._template&&(!p||p.id.toLowerCase()!==this.is))cssText+=styleUtil.cssFromElement(this._template);if(cssText){var style=document.createElement("style");style.textContent=cssText;if(styleExtends.hasExtends(style.textContent))cssText=styleExtends.transform(style);styles.push(style)}return styles},_elementAdd:function(node){if(this._encapsulateStyle)if(node.__styleScoped)node.__styleScoped=
false;else styleTransformer.dom(node,this.is,this._scopeCssViaAttr)},_elementRemove:function(node){if(this._encapsulateStyle)styleTransformer.dom(node,this.is,this._scopeCssViaAttr,true)},scopeSubtree:function(container,shouldObserve){if(nativeShadow)return;var self=this;var scopify=function(node){if(node.nodeType===Node.ELEMENT_NODE){var className=node.getAttribute("class");node.setAttribute("class",self._scopeElementClass(node,className));var n$=node.querySelectorAll("*");for(var i=0,n;i<n$.length&&
(n=n$[i]);i++){className=n.getAttribute("class");n.setAttribute("class",self._scopeElementClass(n,className))}}};scopify(container);if(shouldObserve){var mo=new MutationObserver(function(mxns){for(var i=0,m;i<mxns.length&&(m=mxns[i]);i++)if(m.addedNodes)for(var j=0;j<m.addedNodes.length;j++)scopify(m.addedNodes[j])});mo.observe(container,{childList:true,subtree:true});return mo}}})})();
Polymer.StyleProperties=function(){var matchesSelector=Polymer.DomApi.matchesSelector;var styleUtil=Polymer.StyleUtil;var styleTransformer=Polymer.StyleTransformer;var IS_IE=navigator.userAgent.match("Trident");var settings=Polymer.Settings;return{decorateStyles:function(styles,scope){var self=this,props={},keyframes=[],ruleIndex=0;var scopeSelector=styleTransformer._calcHostScope(scope.is,scope["extends"]);styleUtil.forRulesInStyles(styles,function(rule,style){self.decorateRule(rule);rule.index=
ruleIndex++;self.whenHostOrRootRule(scope,rule,style,function(info){if(rule.parent.type===styleUtil.ruleTypes.MEDIA_RULE)scope.__notStyleScopeCacheable=true;if(info.isHost){var hostContextOrFunction=info.selector.split(" ").some(function(s){return s.indexOf(scopeSelector)===0&&s.length!==scopeSelector.length});scope.__notStyleScopeCacheable=scope.__notStyleScopeCacheable||hostContextOrFunction}});self.collectPropertiesInCssText(rule.propertyInfo.cssText,props)},function onKeyframesRule(rule){keyframes.push(rule)});
styles._keyframes=keyframes;var names=[];for(var i in props)names.push(i);return names},decorateRule:function(rule){if(rule.propertyInfo)return rule.propertyInfo;var info={},properties={};var hasProperties=this.collectProperties(rule,properties);if(hasProperties){info.properties=properties;rule.rules=null}info.cssText=this.collectCssText(rule);rule.propertyInfo=info;return info},collectProperties:function(rule,properties){var info=rule.propertyInfo;if(info){if(info.properties){Polymer.Base.mixin(properties,
info.properties);return true}}else{var m,rx=this.rx.VAR_ASSIGN;var cssText=rule.parsedCssText;var value;var any;while(m=rx.exec(cssText)){value=(m[2]||m[3]).trim();if(value!=="inherit")properties[m[1].trim()]=value;any=true}return any}},collectCssText:function(rule){return this.collectConsumingCssText(rule.parsedCssText)},collectConsumingCssText:function(cssText){return cssText.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"")},collectPropertiesInCssText:function(cssText,props){var m;while(m=
this.rx.VAR_CONSUMED.exec(cssText)){var name=m[1];if(m[2]!==":")props[name]=true}},reify:function(props){var names=Object.getOwnPropertyNames(props);for(var i=0,n;i<names.length;i++){n=names[i];props[n]=this.valueForProperty(props[n],props)}},valueForProperty:function(property,props){if(property)if(property.indexOf(";")>=0)property=this.valueForProperties(property,props);else{var self=this;var fn=function(prefix,value,fallback,suffix){var propertyValue=self.valueForProperty(props[value],props);if(!propertyValue||
propertyValue==="initial")propertyValue=self.valueForProperty(props[fallback]||fallback,props)||fallback;else if(propertyValue==="apply-shim-inherit")propertyValue="inherit";return prefix+(propertyValue||"")+suffix};property=styleUtil.processVariableAndFallback(property,fn)}return property&&property.trim()||""},valueForProperties:function(property,props){var parts=property.split(";");for(var i=0,p,m;i<parts.length;i++)if(p=parts[i]){this.rx.MIXIN_MATCH.lastIndex=0;m=this.rx.MIXIN_MATCH.exec(p);if(m)p=
this.valueForProperty(props[m[1]],props);else{var colon=p.indexOf(":");if(colon!==-1){var pp=p.substring(colon);pp=pp.trim();pp=this.valueForProperty(pp,props)||pp;p=p.substring(0,colon)+pp}}parts[i]=p&&p.lastIndexOf(";")===p.length-1?p.slice(0,-1):p||""}return parts.join(";")},applyProperties:function(rule,props){var output="";if(!rule.propertyInfo)this.decorateRule(rule);if(rule.propertyInfo.cssText)output=this.valueForProperties(rule.propertyInfo.cssText,props);rule.cssText=output},applyKeyframeTransforms:function(rule,
keyframeTransforms){var input=rule.cssText;var output=rule.cssText;if(rule.hasAnimations==null)rule.hasAnimations=this.rx.ANIMATION_MATCH.test(input);if(rule.hasAnimations){var transform;if(rule.keyframeNamesToTransform==null){rule.keyframeNamesToTransform=[];for(var keyframe in keyframeTransforms){transform=keyframeTransforms[keyframe];output=transform(input);if(input!==output){input=output;rule.keyframeNamesToTransform.push(keyframe)}}}else{for(var i=0;i<rule.keyframeNamesToTransform.length;++i){transform=
keyframeTransforms[rule.keyframeNamesToTransform[i]];input=transform(input)}output=input}}rule.cssText=output},propertyDataFromStyles:function(styles,element){var props={},self=this;var o=[];styleUtil.forActiveRulesInStyles(styles,function(rule){if(!rule.propertyInfo)self.decorateRule(rule);var selectorToMatch=rule.transformedSelector||rule.parsedSelector;if(element&&rule.propertyInfo.properties&&selectorToMatch)if(matchesSelector.call(element,selectorToMatch)){self.collectProperties(rule,props);
addToBitMask(rule.index,o)}});return{properties:props,key:o}},_rootSelector:/:root|:host\s*>\s*\*/,_checkRoot:function(hostScope,selector){return Boolean(selector.match(this._rootSelector))||hostScope==="html"&&selector.indexOf("html")>-1},whenHostOrRootRule:function(scope,rule,style,callback){if(!rule.propertyInfo)self.decorateRule(rule);if(!rule.propertyInfo.properties)return;var hostScope=scope.is?styleTransformer._calcHostScope(scope.is,scope["extends"]):"html";var parsedSelector=rule.parsedSelector;
var isRoot=this._checkRoot(hostScope,parsedSelector);var isHost=!isRoot&&parsedSelector.indexOf(":host")===0;var cssBuild=scope.__cssBuild||style.__cssBuild;if(cssBuild==="shady"){isRoot=parsedSelector===hostScope+" > *."+hostScope||parsedSelector.indexOf("html")>-1;isHost=!isRoot&&parsedSelector.indexOf(hostScope)===0}if(!isRoot&&!isHost)return;var selectorToMatch=hostScope;if(isHost){if(settings.useNativeShadow&&!rule.transformedSelector)rule.transformedSelector=styleTransformer._transformRuleCss(rule,
styleTransformer._transformComplexSelector,scope.is,hostScope);selectorToMatch=rule.transformedSelector||rule.parsedSelector}if(isRoot&&hostScope==="html")selectorToMatch=rule.transformedSelector||rule.parsedSelector;callback({selector:selectorToMatch,isHost:isHost,isRoot:isRoot})},hostAndRootPropertiesForScope:function(scope){var hostProps={},rootProps={},self=this;styleUtil.forActiveRulesInStyles(scope._styles,function(rule,style){self.whenHostOrRootRule(scope,rule,style,function(info){var element=
scope._element||scope;if(matchesSelector.call(element,info.selector))if(info.isHost)self.collectProperties(rule,hostProps);else self.collectProperties(rule,rootProps)})});return{rootProps:rootProps,hostProps:hostProps}},transformStyles:function(element,properties,scopeSelector){var self=this;var hostSelector=styleTransformer._calcHostScope(element.is,element["extends"]);var rxHostSelector=element["extends"]?"\\"+hostSelector.slice(0,-1)+"\\]":hostSelector;var hostRx=new RegExp(this.rx.HOST_PREFIX+
rxHostSelector+this.rx.HOST_SUFFIX);var keyframeTransforms=this._elementKeyframeTransforms(element,scopeSelector);return styleTransformer.elementStyles(element,function(rule){self.applyProperties(rule,properties);if(!settings.useNativeShadow&&!Polymer.StyleUtil.isKeyframesSelector(rule)&&rule.cssText){self.applyKeyframeTransforms(rule,keyframeTransforms);self._scopeSelector(rule,hostRx,hostSelector,element._scopeCssViaAttr,scopeSelector)}})},_elementKeyframeTransforms:function(element,scopeSelector){var keyframesRules=
element._styles._keyframes;var keyframeTransforms={};if(!settings.useNativeShadow&&keyframesRules)for(var i=0,keyframesRule=keyframesRules[i];i<keyframesRules.length;keyframesRule=keyframesRules[++i]){this._scopeKeyframes(keyframesRule,scopeSelector);keyframeTransforms[keyframesRule.keyframesName]=this._keyframesRuleTransformer(keyframesRule)}return keyframeTransforms},_keyframesRuleTransformer:function(keyframesRule){return function(cssText){return cssText.replace(keyframesRule.keyframesNameRx,keyframesRule.transformedKeyframesName)}},
_scopeKeyframes:function(rule,scopeId){rule.keyframesNameRx=new RegExp("\\b"+rule.keyframesName+"(?!\\B|-)","g");rule.transformedKeyframesName=rule.keyframesName+"-"+scopeId;rule.transformedSelector=rule.transformedSelector||rule.selector;rule.selector=rule.transformedSelector.replace(rule.keyframesName,rule.transformedKeyframesName)},_hasDirOrHostContext:function(parsedSelector){return/:host-context|:dir/.test(parsedSelector)},_scopeSelector:function(rule,hostRx,hostSelector,viaAttr,scopeId){rule.transformedSelector=
rule.transformedSelector||rule.selector;var selector=rule.transformedSelector;var scope=styleTransformer._calcElementScope(scopeId,viaAttr);var hostScope=styleTransformer._calcElementScope(hostSelector,viaAttr);var parts=selector.split(",");var isDirOrHostContextSelector=this._hasDirOrHostContext(rule.parsedSelector);for(var i=0,l=parts.length,p;i<l&&(p=parts[i]);i++)parts[i]=p.match(hostRx)?p.replace(hostSelector,scope):isDirOrHostContextSelector?p.replace(hostScope,scope+" "+hostScope):scope+" "+
p;rule.selector=parts.join(",")},applyElementScopeSelector:function(element,selector,old,viaAttr){var c=viaAttr?element.getAttribute(styleTransformer.SCOPE_NAME):element.getAttribute("class")||"";var v=old?c.replace(old,selector):(c?c+" ":"")+this.XSCOPE_NAME+" "+selector;if(c!==v)if(viaAttr)element.setAttribute(styleTransformer.SCOPE_NAME,v);else element.setAttribute("class",v)},applyElementStyle:function(element,properties,selector,style){var cssText=style?style.textContent||"":this.transformStyles(element,
properties,selector);var s=element._customStyle;if(s&&!settings.useNativeShadow&&s!==style){s._useCount--;if(s._useCount<=0&&s.parentNode)s.parentNode.removeChild(s)}if(settings.useNativeShadow)if(element._customStyle){element._customStyle.textContent=cssText;style=element._customStyle}else{if(cssText)style=styleUtil.applyCss(cssText,selector,element.root,element._scopeStyle)}else if(!style){if(cssText)style=styleUtil.applyCss(cssText,selector,null,element._scopeStyle)}else if(!style.parentNode){if(IS_IE&&
cssText.indexOf("@media")>-1)style.textContent=cssText;styleUtil.applyStyle(style,null,element._scopeStyle)}if(style){style._useCount=style._useCount||0;if(element._customStyle!=style)style._useCount++;element._customStyle=style}return style},mixinCustomStyle:function(props,customStyle){var v;for(var i in customStyle){v=customStyle[i];if(v||v===0)props[i]=v}},updateNativeStyleProperties:function(element,properties){var oldPropertyNames=element.__customStyleProperties;if(oldPropertyNames)for(var i=
0;i<oldPropertyNames.length;i++)element.style.removeProperty(oldPropertyNames[i]);var propertyNames=[];for(var p in properties)if(properties[p]!==null){element.style.setProperty(p,properties[p]);propertyNames.push(p)}element.__customStyleProperties=propertyNames},rx:styleUtil.rx,XSCOPE_NAME:"x-scope"};function addToBitMask(n,bits){var o=parseInt(n/32);var v=1<<n%32;bits[o]=(bits[o]||0)|v}}();
(function(){Polymer.StyleCache=function(){this.cache={}};Polymer.StyleCache.prototype={MAX:100,store:function(is,data,keyValues,keyStyles){data.keyValues=keyValues;data.styles=keyStyles;var s$=this.cache[is]=this.cache[is]||[];s$.push(data);if(s$.length>this.MAX)s$.shift()},retrieve:function(is,keyValues,keyStyles){var cache=this.cache[is];if(cache)for(var i=cache.length-1,data;i>=0;i--){data=cache[i];if(keyStyles===data.styles&&this._objectsEqual(keyValues,data.keyValues))return data}},clear:function(){this.cache=
{}},_objectsEqual:function(target,source){var t,s;for(var i in target){t=target[i],s=source[i];if(!(typeof t==="object"&&t?this._objectsStrictlyEqual(t,s):t===s))return false}if(Array.isArray(target))return target.length===source.length;return true},_objectsStrictlyEqual:function(target,source){return this._objectsEqual(target,source)&&this._objectsEqual(source,target)}}})();
Polymer.StyleDefaults=function(){var styleProperties=Polymer.StyleProperties;var StyleCache=Polymer.StyleCache;var nativeVariables=Polymer.Settings.useNativeCSSProperties;var api={_styles:[],_properties:null,customStyle:{},_styleCache:new StyleCache,_element:Polymer.DomApi.wrap(document.documentElement),addStyle:function(style){this._styles.push(style);this._properties=null},get _styleProperties(){if(!this._properties){styleProperties.decorateStyles(this._styles,this);this._styles._scopeStyleProperties=
null;this._properties=styleProperties.hostAndRootPropertiesForScope(this).rootProps;styleProperties.mixinCustomStyle(this._properties,this.customStyle);styleProperties.reify(this._properties)}return this._properties},hasStyleProperties:function(){return Boolean(this._properties)},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties},updateStyles:function(properties){this._properties=null;if(properties)Polymer.Base.mixin(this.customStyle,properties);this._styleCache.clear();
for(var i=0,s;i<this._styles.length;i++){s=this._styles[i];s=s.__importElement||s;s._apply()}if(nativeVariables)styleProperties.updateNativeStyleProperties(document.documentElement,this.customStyle)}};return api}();
(function(){var serializeValueToAttribute=Polymer.Base.serializeValueToAttribute;var propertyUtils=Polymer.StyleProperties;var styleTransformer=Polymer.StyleTransformer;var styleDefaults=Polymer.StyleDefaults;var nativeShadow=Polymer.Settings.useNativeShadow;var nativeVariables=Polymer.Settings.useNativeCSSProperties;Polymer.Base._addFeature({_prepStyleProperties:function(){if(!nativeVariables)this._ownStylePropertyNames=this._styles&&this._styles.length?propertyUtils.decorateStyles(this._styles,
this):null},customStyle:null,getComputedStyleValue:function(property){if(!nativeVariables&&!this._styleProperties)this._computeStyleProperties();return!nativeVariables&&this._styleProperties&&this._styleProperties[property]||getComputedStyle(this).getPropertyValue(property)},_setupStyleProperties:function(){this.customStyle={};this._styleCache=null;this._styleProperties=null;this._scopeSelector=null;this._ownStyleProperties=null;this._customStyle=null},_needsStyleProperties:function(){return Boolean(!nativeVariables&&
this._ownStylePropertyNames&&this._ownStylePropertyNames.length)},_validateApplyShim:function(){if(this.__applyShimInvalid){Polymer.ApplyShim.transform(this._styles,this.__proto__);var cssText=styleTransformer.elementStyles(this);if(nativeShadow){var templateStyle=this._template.content.querySelector("style");if(templateStyle)templateStyle.textContent=cssText}else{var shadyStyle=this._scopeStyle&&this._scopeStyle.nextSibling;if(shadyStyle)shadyStyle.textContent=cssText}}},_beforeAttached:function(){if((!this._scopeSelector||
this.__stylePropertiesInvalid)&&this._needsStyleProperties()){this.__stylePropertiesInvalid=false;this._updateStyleProperties()}},_findStyleHost:function(){var e=this,root;while(root=Polymer.dom(e).getOwnerRoot()){if(Polymer.isInstance(root.host))return root.host;e=root.host}return styleDefaults},_updateStyleProperties:function(){var info,scope=this._findStyleHost();if(!scope._styleProperties)scope._computeStyleProperties();if(!scope._styleCache)scope._styleCache=new Polymer.StyleCache;var scopeData=
propertyUtils.propertyDataFromStyles(scope._styles,this);var scopeCacheable=!this.__notStyleScopeCacheable;if(scopeCacheable){scopeData.key.customStyle=this.customStyle;info=scope._styleCache.retrieve(this.is,scopeData.key,this._styles)}var scopeCached=Boolean(info);if(scopeCached)this._styleProperties=info._styleProperties;else this._computeStyleProperties(scopeData.properties);this._computeOwnStyleProperties();if(!scopeCached)info=styleCache.retrieve(this.is,this._ownStyleProperties,this._styles);
var globalCached=Boolean(info)&&!scopeCached;var style=this._applyStyleProperties(info);if(!scopeCached){style=style&&nativeShadow?style.cloneNode(true):style;info={style:style,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties};if(scopeCacheable){scopeData.key.customStyle={};this.mixin(scopeData.key.customStyle,this.customStyle);scope._styleCache.store(this.is,info,scopeData.key,this._styles)}if(!globalCached)styleCache.store(this.is,Object.create(info),this._ownStyleProperties,
this._styles)}},_computeStyleProperties:function(scopeProps){var scope=this._findStyleHost();if(!scope._styleProperties)scope._computeStyleProperties();var props=Object.create(scope._styleProperties);var hostAndRootProps=propertyUtils.hostAndRootPropertiesForScope(this);this.mixin(props,hostAndRootProps.hostProps);scopeProps=scopeProps||propertyUtils.propertyDataFromStyles(scope._styles,this).properties;this.mixin(props,scopeProps);this.mixin(props,hostAndRootProps.rootProps);propertyUtils.mixinCustomStyle(props,
this.customStyle);propertyUtils.reify(props);this._styleProperties=props},_computeOwnStyleProperties:function(){var props={};for(var i=0,n;i<this._ownStylePropertyNames.length;i++){n=this._ownStylePropertyNames[i];props[n]=this._styleProperties[n]}this._ownStyleProperties=props},_scopeCount:0,_applyStyleProperties:function(info){var oldScopeSelector=this._scopeSelector;this._scopeSelector=info?info._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;var style=propertyUtils.applyElementStyle(this,
this._styleProperties,this._scopeSelector,info&&info.style);if(!nativeShadow)propertyUtils.applyElementScopeSelector(this,this._scopeSelector,oldScopeSelector,this._scopeCssViaAttr);return style},serializeValueToAttribute:function(value,attribute,node){node=node||this;if(attribute==="class"&&!nativeShadow){var host=node===this?this.domHost||this.dataHost:this;if(host)value=host._scopeElementClass(node,value)}node=this.shadyRoot&&this.shadyRoot._hasDistributed?Polymer.dom(node):node;serializeValueToAttribute.call(this,
value,attribute,node)},_scopeElementClass:function(element,selector){if(!nativeShadow&&!this._scopeCssViaAttr)selector=(selector?selector+" ":"")+SCOPE_NAME+" "+this.is+(element._scopeSelector?" "+XSCOPE_NAME+" "+element._scopeSelector:"");return selector},updateStyles:function(properties){if(properties)this.mixin(this.customStyle,properties);if(nativeVariables)propertyUtils.updateNativeStyleProperties(this,this.customStyle);else{if(this.isAttached)if(this._needsStyleProperties())this._updateStyleProperties();
else this._styleProperties=null;else this.__stylePropertiesInvalid=true;if(this._styleCache)this._styleCache.clear();this._updateRootStyles()}},_updateRootStyles:function(root){root=root||this.root;var c$=Polymer.dom(root)._query(function(e){return e.shadyRoot||e.shadowRoot});for(var i=0,l=c$.length,c;i<l&&(c=c$[i]);i++)if(c.updateStyles)c.updateStyles()}});Polymer.updateStyles=function(properties){styleDefaults.updateStyles(properties);Polymer.Base._updateRootStyles(document)};var styleCache=new Polymer.StyleCache;
Polymer.customStyleCache=styleCache;var SCOPE_NAME=styleTransformer.SCOPE_NAME;var XSCOPE_NAME=propertyUtils.XSCOPE_NAME})();
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();if(this.factoryImpl)this._prepConstructor();this._prepStyles()},_finishRegisterFeatures:function(){this._prepTemplate();this._prepShimStyles();this._prepAnnotations();this._prepEffects();this._prepBehaviors();this._prepPropertyInfo();this._prepBindings();this._prepShady()},_prepBehavior:function(b){this._addPropertyEffects(b.properties);this._addComplexObserverEffects(b.observers);this._addHostAttributes(b.hostAttributes)},_initFeatures:function(){this._setupGestures();
this._setupConfigure(this.__data__);this._setupStyleProperties();this._setupDebouncers();this._setupShady();this._registerHost();if(this._template){this._validateApplyShim();this._poolContent();this._beginHosting();this._stampTemplate();this._endHosting();this._marshalAnnotationReferences()}this._marshalInstanceEffects();this._marshalBehaviors();this._marshalHostAttributes();this._marshalAttributes();this._tryReady()},_marshalBehavior:function(b){if(b.listeners)this._listenListeners(b.listeners)}});
(function(){var propertyUtils=Polymer.StyleProperties;var styleUtil=Polymer.StyleUtil;var cssParse=Polymer.CssParse;var styleDefaults=Polymer.StyleDefaults;var styleTransformer=Polymer.StyleTransformer;var applyShim=Polymer.ApplyShim;var debounce=Polymer.Debounce;var settings=Polymer.Settings;var updateDebouncer;Polymer({is:"custom-style","extends":"style",_template:null,properties:{include:String},ready:function(){this.__appliedElement=this.__appliedElement||this;this.__cssBuild=styleUtil.getCssBuildType(this);
if(this.__appliedElement!==this)this.__appliedElement.__cssBuild=this.__cssBuild;if(this.ownerDocument!==window.document&&this.__appliedElement===this)document.head.appendChild(this);this._tryApply()},attached:function(){this._tryApply()},_tryApply:function(){if(!this._appliesToDocument)if(this.parentNode&&this.parentNode.localName!=="dom-module"){this._appliesToDocument=true;var e=this.__appliedElement;if(!settings.useNativeCSSProperties){this.__needsUpdateStyles=styleDefaults.hasStyleProperties();
styleDefaults.addStyle(e)}if(e.textContent||this.include)this._apply(true);else{var self=this;var observer=new MutationObserver(function(){observer.disconnect();self._apply(true)});observer.observe(e,{childList:true})}}},_updateStyles:function(){Polymer.updateStyles()},_apply:function(initialApply){var e=this.__appliedElement;if(this.include)e.textContent=styleUtil.cssFromModules(this.include,true)+e.textContent;if(!e.textContent)return;var buildType=this.__cssBuild;var targetedBuild=styleUtil.isTargetedBuild(buildType);
if(settings.useNativeCSSProperties&&targetedBuild)return;var styleRules=styleUtil.rulesForStyle(e);if(!targetedBuild){styleUtil.forEachRule(styleRules,function(rule){styleTransformer.documentRule(rule)});if(settings.useNativeCSSProperties&&!buildType)applyShim.transform([e])}if(settings.useNativeCSSProperties)e.textContent=styleUtil.toCssText(styleRules);else{var self=this;var fn=function fn(){self._flushCustomProperties()};if(initialApply)Polymer.RenderStatus.whenReady(fn);else fn()}},_flushCustomProperties:function(){if(this.__needsUpdateStyles){this.__needsUpdateStyles=
false;updateDebouncer=debounce(updateDebouncer,this._updateStyles)}else this._applyCustomProperties()},_applyCustomProperties:function(){var element=this.__appliedElement;this._computeStyleProperties();var props=this._styleProperties;var rules=styleUtil.rulesForStyle(element);if(!rules)return;element.textContent=styleUtil.toCssText(rules,function(rule){var css=rule.cssText=rule.parsedCssText;if(rule.propertyInfo&&rule.propertyInfo.cssText){css=cssParse.removeCustomPropAssignment(css);rule.cssText=
propertyUtils.valueForProperties(css,props)}})}})})();
Polymer.Templatizer={properties:{__hideTemplateChildren__:{observer:"_showHideChildren"}},_instanceProps:Polymer.nob,_parentPropPrefix:"_parent_",templatize:function(template){this._templatized=template;if(!template._content)template._content=template.content;if(template._content._ctor){this.ctor=template._content._ctor;this._prepParentProperties(this.ctor.prototype,template);return}var archetype=Object.create(Polymer.Base);this._customPrepAnnotations(archetype,template);this._prepParentProperties(archetype,
template);archetype._prepEffects();this._customPrepEffects(archetype);archetype._prepBehaviors();archetype._prepPropertyInfo();archetype._prepBindings();archetype._notifyPathUp=this._notifyPathUpImpl;archetype._scopeElementClass=this._scopeElementClassImpl;archetype.listen=this._listenImpl;archetype._showHideChildren=this._showHideChildrenImpl;archetype.__setPropertyOrig=this.__setProperty;archetype.__setProperty=this.__setPropertyImpl;var _constructor=this._constructorImpl;var ctor=function TemplateInstance(model,
host){_constructor.call(this,model,host)};ctor.prototype=archetype;archetype.constructor=ctor;template._content._ctor=ctor;this.ctor=ctor},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildrenImpl:function(hide){var c=this._children;for(var i=0;i<c.length;i++){var n=c[i];if(Boolean(hide)!=Boolean(n.__hideTemplateChildren__))if(n.nodeType===Node.TEXT_NODE)if(hide){n.__polymerTextContent__=n.textContent;n.textContent=""}else n.textContent=n.__polymerTextContent__;
else if(n.style)if(hide){n.__polymerDisplay__=n.style.display;n.style.display="none"}else n.style.display=n.__polymerDisplay__;n.__hideTemplateChildren__=hide}},__setPropertyImpl:function(property,value,fromAbove,node){if(node&&node.__hideTemplateChildren__&&property=="textContent")property="__polymerTextContent__";this.__setPropertyOrig(property,value,fromAbove,node)},_debounceTemplate:function(fn){Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",fn))},_flushTemplates:function(){Polymer.dom.flush()},
_customPrepEffects:function(archetype){var parentProps=archetype._parentProps;for(var prop in parentProps)archetype._addPropertyEffect(prop,"function",this._createHostPropEffector(prop));for(prop in this._instanceProps)archetype._addPropertyEffect(prop,"function",this._createInstancePropEffector(prop))},_customPrepAnnotations:function(archetype,template){var t=archetype._template=document.createElement("template");var c=t._content=template._content;if(!c._notes){var rootDataHost=archetype._rootDataHost;
if(rootDataHost)Polymer.Annotations.prepElement=function(){rootDataHost._prepElement()};c._notes=Polymer.Annotations.parseAnnotations(template);Polymer.Annotations.prepElement=null;this._processAnnotations(c._notes)}archetype._notes=c._notes;archetype._parentProps=c._parentProps},_prepParentProperties:function(archetype,template){var parentProps=this._parentProps=archetype._parentProps;if(this._forwardParentProp&&parentProps){var proto=archetype._parentPropProto;var prop;if(!proto){for(prop in this._instanceProps)delete parentProps[prop];
proto=archetype._parentPropProto=Object.create(null);if(template!=this){Polymer.Bind.prepareModel(proto);Polymer.Base.prepareModelNotifyPath(proto)}for(prop in parentProps){var parentProp=this._parentPropPrefix+prop;var effects=[{kind:"function",effect:this._createForwardPropEffector(prop),fn:Polymer.Bind._functionEffect},{kind:"notify",fn:Polymer.Bind._notifyEffect,effect:{event:Polymer.CaseMap.camelToDashCase(parentProp)+"-changed"}}];proto._propertyEffects=proto._propertyEffects||{};proto._propertyEffects[parentProp]=
effects;Polymer.Bind._createAccessors(proto,parentProp,effects)}}var self=this;if(template!=this){Polymer.Bind.prepareInstance(template);template._forwardParentProp=function(source,value){self._forwardParentProp(source,value)}}this._extendTemplate(template,proto);template._pathEffector=function(path,value,fromAbove){return self._pathEffectorImpl(path,value,fromAbove)}}},_createForwardPropEffector:function(prop){return function(source,value){this._forwardParentProp(prop,value)}},_createHostPropEffector:function(prop){var prefix=
this._parentPropPrefix;return function(source,value){this.dataHost._templatized[prefix+prop]=value}},_createInstancePropEffector:function(prop){return function(source,value,old,fromAbove){if(!fromAbove)this.dataHost._forwardInstanceProp(this,prop,value)}},_extendTemplate:function(template,proto){var n$=Object.getOwnPropertyNames(proto);if(proto._propertySetter)template._propertySetter=proto._propertySetter;for(var i=0,n;i<n$.length&&(n=n$[i]);i++){var val=template[n];if(val&&n=="_propertyEffects"){var pe=
Polymer.Base.mixin({},val);template._propertyEffects=Polymer.Base.mixin(pe,proto._propertyEffects)}else{var pd=Object.getOwnPropertyDescriptor(proto,n);Object.defineProperty(template,n,pd);if(val!==undefined)template._propertySetter(n,val)}}},_showHideChildren:function(hidden){},_forwardInstancePath:function(inst,path,value){},_forwardInstanceProp:function(inst,prop,value){},_notifyPathUpImpl:function(path,value){var dataHost=this.dataHost;var root=Polymer.Path.root(path);dataHost._forwardInstancePath.call(dataHost,
this,path,value);if(root in dataHost._parentProps)dataHost._templatized._notifyPath(dataHost._parentPropPrefix+path,value)},_pathEffectorImpl:function(path,value,fromAbove){if(this._forwardParentPath)if(path.indexOf(this._parentPropPrefix)===0){var subPath=path.substring(this._parentPropPrefix.length);var model=Polymer.Path.root(subPath);if(model in this._parentProps)this._forwardParentPath(subPath,value)}Polymer.Base._pathEffector.call(this._templatized,path,value,fromAbove)},_constructorImpl:function(model,
host){this._rootDataHost=host._getRootDataHost();this._setupConfigure(model);this._registerHost(host);this._beginHosting();this.root=this.instanceTemplate(this._template);this.root.__noContent=!this._notes._hasContent;this.root.__styleScoped=true;this._endHosting();this._marshalAnnotatedNodes();this._marshalInstanceEffects();this._marshalAnnotatedListeners();var children=[];for(var n=this.root.firstChild;n;n=n.nextSibling){children.push(n);n._templateInstance=this}this._children=children;if(host.__hideTemplateChildren__)this._showHideChildren(true);
this._tryReady()},_listenImpl:function(node,eventName,methodName){var model=this;var host=this._rootDataHost;var handler=host._createEventHandler(node,eventName,methodName);var decorated=function(e){e.model=model;handler(e)};host._listen(node,eventName,decorated)},_scopeElementClassImpl:function(node,value){var host=this._rootDataHost;if(host)return host._scopeElementClass(node,value);return value},stamp:function(model){model=model||{};if(this._parentProps){var templatized=this._templatized;for(var prop in this._parentProps)if(model[prop]===
undefined)model[prop]=templatized[this._parentPropPrefix+prop]}return new this.ctor(model,this)},modelForElement:function(el){var model;while(el)if(model=el._templateInstance)if(model.dataHost!=this)el=model.dataHost;else return model;else el=el.parentNode}};Polymer({is:"dom-template","extends":"template",_template:null,behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}});Polymer._collections=new WeakMap;
Polymer.Collection=function(userArray){Polymer._collections.set(userArray,this);this.userArray=userArray;this.store=userArray.slice();this.initMap()};
Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){var omap=this.omap=new WeakMap;var pmap=this.pmap={};var s=this.store;for(var i=0;i<s.length;i++){var item=s[i];if(item&&typeof item=="object")omap.set(item,i);else pmap[item]=i}},add:function(item){var key=this.store.push(item)-1;if(item&&typeof item=="object")this.omap.set(item,key);else this.pmap[item]=key;return"#"+key},removeKey:function(key){if(key=this._parseKey(key)){this._removeFromMap(this.store[key]);delete this.store[key]}},
_removeFromMap:function(item){if(item&&typeof item=="object")this.omap["delete"](item);else delete this.pmap[item]},remove:function(item){var key=this.getKey(item);this.removeKey(key);return key},getKey:function(item){var key;if(item&&typeof item=="object")key=this.omap.get(item);else key=this.pmap[item];if(key!=undefined)return"#"+key},getKeys:function(){return Object.keys(this.store).map(function(key){return"#"+key})},_parseKey:function(key){if(key&&key[0]=="#")return key.slice(1)},setItem:function(key,
item){if(key=this._parseKey(key)){var old=this.store[key];if(old)this._removeFromMap(old);if(item&&typeof item=="object")this.omap.set(item,key);else this.pmap[item]=key;this.store[key]=item}},getItem:function(key){if(key=this._parseKey(key))return this.store[key]},getItems:function(){var items=[],store=this.store;for(var key in store)items.push(store[key]);return items},_applySplices:function(splices){var keyMap={},key;for(var i=0,s;i<splices.length&&(s=splices[i]);i++){s.addedKeys=[];for(var j=
0;j<s.removed.length;j++){key=this.getKey(s.removed[j]);keyMap[key]=keyMap[key]?null:-1}for(j=0;j<s.addedCount;j++){var item=this.userArray[s.index+j];key=this.getKey(item);key=key===undefined?this.add(item):key;keyMap[key]=keyMap[key]?null:1;s.addedKeys.push(key)}}var removed=[];var added=[];for(key in keyMap){if(keyMap[key]<0){this.removeKey(key);removed.push(key)}if(keyMap[key]>0)added.push(key)}return[{removed:removed,added:added}]}};
Polymer.Collection.get=function(userArray){return Polymer._collections.get(userArray)||new Polymer.Collection(userArray)};Polymer.Collection.applySplices=function(userArray,splices){var coll=Polymer._collections.get(userArray);return coll?coll._applySplices(splices):null};
Polymer({is:"dom-repeat","extends":"template",_template:null,properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!Polymer.Settings.suppressTemplateNotifications,readOnly:true},initialCount:{type:Number,observer:"_initializeChunking"},targetFramerate:{type:Number,
value:20},notifyDomChange:{type:Boolean},_targetFrameTime:{type:Number,computed:"_computeFrameTime(targetFramerate)"}},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],created:function(){this._instances=[];this._pool=[];this._limit=Infinity;var self=this;this._boundRenderChunk=function(){self._renderChunk()}},detached:function(){this.__isDetached=true;for(var i=0;i<this._instances.length;i++)this._detachInstance(i)},attached:function(){if(this.__isDetached){this.__isDetached=false;
var refNode;var parentNode=Polymer.dom(this).parentNode;if(parentNode.localName==this.is){refNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}else refNode=this;var parent=Polymer.dom(parentNode);for(var i=0;i<this._instances.length;i++)this._attachInstance(i,parent,refNode)}},ready:function(){this._instanceProps={__key__:true};this._instanceProps[this.as]=true;this._instanceProps[this.indexAs]=true;if(!this.ctor)this.templatize(this)},_sortChanged:function(sort){var dataHost=this._getRootDataHost();
this._sortFn=sort&&(typeof sort=="function"?sort:function(){return dataHost[sort].apply(dataHost,arguments)});this._needFullRefresh=true;if(this.items)this._debounceTemplate(this._render)},_filterChanged:function(filter){var dataHost=this._getRootDataHost();this._filterFn=filter&&(typeof filter=="function"?filter:function(){return dataHost[filter].apply(dataHost,arguments)});this._needFullRefresh=true;if(this.items)this._debounceTemplate(this._render)},_computeFrameTime:function(rate){return Math.ceil(1E3/
rate)},_initializeChunking:function(){if(this.initialCount){this._limit=this.initialCount;this._chunkCount=this.initialCount;this._lastChunkTime=performance.now()}},_tryRenderChunk:function(){if(this.items&&this._limit<this.items.length)this.debounce("renderChunk",this._requestRenderChunk)},_requestRenderChunk:function(){requestAnimationFrame(this._boundRenderChunk)},_renderChunk:function(){var currChunkTime=performance.now();var ratio=this._targetFrameTime/(currChunkTime-this._lastChunkTime);this._chunkCount=
Math.round(this._chunkCount*ratio)||1;this._limit+=this._chunkCount;this._lastChunkTime=currChunkTime;this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(change){if(change.path=="items"){if(Array.isArray(this.items))this.collection=Polymer.Collection.get(this.items);else if(!this.items)this.collection=null;else this._error(this._logf("dom-repeat","expected array for `items`,"+" found",this.items));
this._keySplices=[];this._indexSplices=[];this._needFullRefresh=true;this._initializeChunking();this._debounceTemplate(this._render)}else if(change.path=="items.splices"){this._keySplices=this._keySplices.concat(change.value.keySplices);this._indexSplices=this._indexSplices.concat(change.value.indexSplices);this._debounceTemplate(this._render)}else{var subpath=change.path.slice(6);this._forwardItemPath(subpath,change.value);this._checkObservedPaths(subpath)}},_checkObservedPaths:function(path){if(this._observePaths){path=
path.substring(path.indexOf(".")+1);var paths=this._observePaths;for(var i=0;i<paths.length;i++)if(path.indexOf(paths[i])===0){this._needFullRefresh=true;if(this.delay)this.debounce("render",this._render,this.delay);else this._debounceTemplate(this._render);return}}},render:function(){this._needFullRefresh=true;this._debounceTemplate(this._render);this._flushTemplates()},_render:function(){if(this._needFullRefresh){this._applyFullRefresh();this._needFullRefresh=false}else if(this._keySplices.length)if(this._sortFn)this._applySplicesUserSort(this._keySplices);
else if(this._filterFn)this._applyFullRefresh();else this._applySplicesArrayOrder(this._indexSplices);else;this._keySplices=[];this._indexSplices=[];var keyToIdx=this._keyToInstIdx={};for(var i=this._instances.length-1;i>=0;i--){var inst=this._instances[i];if(inst.isPlaceholder&&i<this._limit)inst=this._insertInstance(i,inst.__key__);else if(!inst.isPlaceholder&&i>=this._limit)inst=this._downgradeInstance(i,inst.__key__);keyToIdx[inst.__key__]=i;if(!inst.isPlaceholder)inst.__setProperty(this.indexAs,
i,true)}this._pool.length=0;this._setRenderedItemCount(this._instances.length);if(!Polymer.Settings.suppressTemplateNotifications||this.notifyDomChange)this.fire("dom-change");this._tryRenderChunk()},_applyFullRefresh:function(){var c=this.collection;var keys;if(this._sortFn)keys=c?c.getKeys():[];else{keys=[];var items=this.items;if(items)for(var i=0;i<items.length;i++)keys.push(c.getKey(items[i]))}var self=this;if(this._filterFn)keys=keys.filter(function(a){return self._filterFn(c.getItem(a))});
if(this._sortFn)keys.sort(function(a,b){return self._sortFn(c.getItem(a),c.getItem(b))});for(i=0;i<keys.length;i++){var key=keys[i];var inst=this._instances[i];if(inst){inst.__key__=key;if(!inst.isPlaceholder&&i<this._limit)inst.__setProperty(this.as,c.getItem(key),true)}else if(i<this._limit)this._insertInstance(i,key);else this._insertPlaceholder(i,key)}for(var j=this._instances.length-1;j>=i;j--)this._detachAndRemoveInstance(j)},_numericSort:function(a,b){return a-b},_applySplicesUserSort:function(splices){var c=
this.collection;var keyMap={};var key;for(var i=0,s;i<splices.length&&(s=splices[i]);i++){for(var j=0;j<s.removed.length;j++){key=s.removed[j];keyMap[key]=keyMap[key]?null:-1}for(j=0;j<s.added.length;j++){key=s.added[j];keyMap[key]=keyMap[key]?null:1}}var removedIdxs=[];var addedKeys=[];for(key in keyMap){if(keyMap[key]===-1)removedIdxs.push(this._keyToInstIdx[key]);if(keyMap[key]===1)addedKeys.push(key)}if(removedIdxs.length){removedIdxs.sort(this._numericSort);for(i=removedIdxs.length-1;i>=0;i--){var idx=
removedIdxs[i];if(idx!==undefined)this._detachAndRemoveInstance(idx)}}var self=this;if(addedKeys.length){if(this._filterFn)addedKeys=addedKeys.filter(function(a){return self._filterFn(c.getItem(a))});addedKeys.sort(function(a,b){return self._sortFn(c.getItem(a),c.getItem(b))});var start=0;for(i=0;i<addedKeys.length;i++)start=this._insertRowUserSort(start,addedKeys[i])}},_insertRowUserSort:function(start,key){var c=this.collection;var item=c.getItem(key);var end=this._instances.length-1;var idx=-1;
while(start<=end){var mid=start+end>>1;var midKey=this._instances[mid].__key__;var cmp=this._sortFn(c.getItem(midKey),item);if(cmp<0)start=mid+1;else if(cmp>0)end=mid-1;else{idx=mid;break}}if(idx<0)idx=end+1;this._insertPlaceholder(idx,key);return idx},_applySplicesArrayOrder:function(splices){for(var i=0,s;i<splices.length&&(s=splices[i]);i++){for(var j=0;j<s.removed.length;j++)this._detachAndRemoveInstance(s.index);for(j=0;j<s.addedKeys.length;j++)this._insertPlaceholder(s.index+j,s.addedKeys[j])}},
_detachInstance:function(idx){var inst=this._instances[idx];if(!inst.isPlaceholder){for(var i=0;i<inst._children.length;i++){var el=inst._children[i];Polymer.dom(inst.root).appendChild(el)}return inst}},_attachInstance:function(idx,parent,refNode){var inst=this._instances[idx];if(!inst.isPlaceholder)parent.insertBefore(inst.root,refNode)},_detachAndRemoveInstance:function(idx){var inst=this._detachInstance(idx);if(inst)this._pool.push(inst);this._instances.splice(idx,1)},_insertPlaceholder:function(idx,
key){this._instances.splice(idx,0,{isPlaceholder:true,__key__:key})},_stampInstance:function(idx,key){var model={__key__:key};model[this.as]=this.collection.getItem(key);model[this.indexAs]=idx;return this.stamp(model)},_insertInstance:function(idx,key){var inst=this._pool.pop();if(inst){inst.__setProperty(this.as,this.collection.getItem(key),true);inst.__setProperty("__key__",key,true)}else inst=this._stampInstance(idx,key);var beforeRow=this._instances[idx+1];var beforeNode=beforeRow&&!beforeRow.isPlaceholder?
beforeRow._children[0]:this;var parentNode=Polymer.dom(this).parentNode;if(parentNode.localName==this.is){if(beforeNode==this)beforeNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}Polymer.dom(parentNode).insertBefore(inst.root,beforeNode);this._instances[idx]=inst;return inst},_downgradeInstance:function(idx,key){var inst=this._detachInstance(idx);if(inst)this._pool.push(inst);inst={isPlaceholder:true,__key__:key};this._instances[idx]=inst;return inst},_showHideChildren:function(hidden){for(var i=
0;i<this._instances.length;i++)if(!this._instances[i].isPlaceholder)this._instances[i]._showHideChildren(hidden)},_forwardInstanceProp:function(inst,prop,value){if(prop==this.as){var idx;if(this._sortFn||this._filterFn)idx=this.items.indexOf(this.collection.getItem(inst.__key__));else idx=inst[this.indexAs];this.set("items."+idx,value)}},_forwardInstancePath:function(inst,path,value){if(path.indexOf(this.as+".")===0)this._notifyPath("items."+inst.__key__+"."+path.slice(this.as.length+1),value)},_forwardParentProp:function(prop,
value){var i$=this._instances;for(var i=0,inst;i<i$.length&&(inst=i$[i]);i++)if(!inst.isPlaceholder)inst.__setProperty(prop,value,true)},_forwardParentPath:function(path,value){var i$=this._instances;for(var i=0,inst;i<i$.length&&(inst=i$[i]);i++)if(!inst.isPlaceholder)inst._notifyPath(path,value,true)},_forwardItemPath:function(path,value){if(this._keyToInstIdx){var dot=path.indexOf(".");var key=path.substring(0,dot<0?path.length:dot);var idx=this._keyToInstIdx[key];var inst=this._instances[idx];
if(inst&&!inst.isPlaceholder)if(dot>=0){path=this.as+"."+path.substring(dot+1);inst._notifyPath(path,value,true)}else inst.__setProperty(this.as,value,true)}},itemForElement:function(el){var instance=this.modelForElement(el);return instance&&instance[this.as]},keyForElement:function(el){var instance=this.modelForElement(el);return instance&&instance.__key__},indexForElement:function(el){var instance=this.modelForElement(el);return instance&&instance[this.indexAs]}});
Polymer({is:"array-selector",_template:null,properties:{items:{type:Array,observer:"clearSelection"},multi:{type:Boolean,value:false,observer:"clearSelection"},selected:{type:Object,notify:true},selectedItem:{type:Object,notify:true},toggle:{type:Boolean,value:false}},clearSelection:function(){if(Array.isArray(this.selected))for(var i=0;i<this.selected.length;i++)this.unlinkPaths("selected."+i);else{this.unlinkPaths("selected");this.unlinkPaths("selectedItem")}if(this.multi){if(!this.selected||this.selected.length){this.selected=
[];this._selectedColl=Polymer.Collection.get(this.selected)}}else{this.selected=null;this._selectedColl=null}this.selectedItem=null},isSelected:function(item){if(this.multi)return this._selectedColl.getKey(item)!==undefined;else return this.selected==item},deselect:function(item){if(this.multi){if(this.isSelected(item)){var skey=this._selectedColl.getKey(item);this.arrayDelete("selected",item);this.unlinkPaths("selected."+skey)}}else{this.selected=null;this.selectedItem=null;this.unlinkPaths("selected");
this.unlinkPaths("selectedItem")}},select:function(item){var icol=Polymer.Collection.get(this.items);var key=icol.getKey(item);if(this.multi)if(this.isSelected(item)){if(this.toggle)this.deselect(item)}else{this.push("selected",item);var skey=this._selectedColl.getKey(item);this.linkPaths("selected."+skey,"items."+key)}else if(this.toggle&&item==this.selected)this.deselect();else{this.selected=item;this.selectedItem=item;this.linkPaths("selected","items."+key);this.linkPaths("selectedItem","items."+
key)}}});
Polymer({is:"dom-if","extends":"template",_template:null,properties:{"if":{type:Boolean,value:false,observer:"_queueRender"},restamp:{type:Boolean,value:false,observer:"_queueRender"},notifyDomChange:{type:Boolean}},behaviors:[Polymer.Templatizer],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){var parentNode=this.parentNode;if(parentNode&&parentNode.localName==this.is)parentNode=Polymer.dom(parentNode).parentNode;if(!parentNode||parentNode.nodeType==Node.DOCUMENT_FRAGMENT_NODE&&(!Polymer.Settings.hasShadow||
!(parentNode instanceof ShadowRoot)))this._teardownInstance()},attached:function(){if(this["if"]&&this.ctor)this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){if(this["if"]){if(!this.ctor)this.templatize(this);this._ensureInstance();this._showHideChildren()}else if(this.restamp)this._teardownInstance();if(!this.restamp&&this._instance)this._showHideChildren();if(this["if"]!=this._lastIf){if(!Polymer.Settings.suppressTemplateNotifications||this.notifyDomChange)this.fire("dom-change");
this._lastIf=this["if"]}},_ensureInstance:function(){var refNode;var parentNode=Polymer.dom(this).parentNode;if(parentNode&&parentNode.localName==this.is){refNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}else refNode=this;if(parentNode)if(!this._instance){this._instance=this.stamp();var root=this._instance.root;Polymer.dom(parentNode).insertBefore(root,refNode)}else{var c$=this._instance._children;if(c$&&c$.length){var lastChild=Polymer.dom(refNode).previousSibling;if(lastChild!==
c$[c$.length-1])for(var i=0,n;i<c$.length&&(n=c$[i]);i++)Polymer.dom(parentNode).insertBefore(n,refNode)}}},_teardownInstance:function(){if(this._instance){var c$=this._instance._children;if(c$&&c$.length){var parent=Polymer.dom(Polymer.dom(c$[0]).parentNode);for(var i=0,n;i<c$.length&&(n=c$[i]);i++)parent.removeChild(n)}this._instance=null}},_showHideChildren:function(){var hidden=this.__hideTemplateChildren__||!this["if"];if(this._instance)this._instance._showHideChildren(hidden)},_forwardParentProp:function(prop,
value){if(this._instance)this._instance.__setProperty(prop,value,true)},_forwardParentPath:function(path,value){if(this._instance)this._instance._notifyPath(path,value,true)}});
Polymer({is:"dom-bind",properties:{notifyDomChange:{type:Boolean}},"extends":"template",_template:null,created:function(){var self=this;Polymer.RenderStatus.whenReady(function(){if(document.readyState=="loading")document.addEventListener("DOMContentLoaded",function(){self._markImportsReady()});else self._markImportsReady()})},_ensureReady:function(){if(!this._readied)this._readySelf()},_markImportsReady:function(){this._importsReady=true;this._ensureReady()},_registerFeatures:function(){this._prepConstructor()},
_insertChildren:function(){var refNode;var parentNode=Polymer.dom(this).parentNode;if(parentNode.localName==this.is){refNode=parentNode;parentNode=Polymer.dom(parentNode).parentNode}else refNode=this;Polymer.dom(parentNode).insertBefore(this.root,refNode)},_removeChildren:function(){if(this._children)for(var i=0;i<this._children.length;i++)this.root.appendChild(this._children[i])},_initFeatures:function(){},_scopeElementClass:function(element,selector){if(this.dataHost)return this.dataHost._scopeElementClass(element,
selector);else return selector},_configureInstanceProperties:function(){},_prepConfigure:function(){var config={};for(var prop in this._propertyEffects)config[prop]=this[prop];var setupConfigure=this._setupConfigure;this._setupConfigure=function(){setupConfigure.call(this,config)}},attached:function(){if(this._importsReady)this.render()},detached:function(){this._removeChildren()},render:function(){this._ensureReady();if(!this._children){this._template=this;this._prepAnnotations();this._prepEffects();
this._prepBehaviors();this._prepConfigure();this._prepBindings();this._prepPropertyInfo();Polymer.Base._initFeatures.call(this);this._children=Polymer.TreeApi.arrayCopyChildNodes(this.root)}this._insertChildren();if(!Polymer.Settings.suppressTemplateNotifications||this.notifyDomChange)this.fire("dom-change")}});
(function(){var e,aa=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ca="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,da=function(){da=function(){};
ca.Symbol||(ca.Symbol=fa)},fa=function(){var a=0;
return function(b){return"jscomp_symbol_"+(b||"")+a++}}(),ja=function(){da();
var a=ca.Symbol.iterator;a||(a=ca.Symbol.iterator=ca.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ba(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(aa(this))}});
ja=function(){}},ha=function(a){ja();
a={next:a};a[ca.Symbol.iterator]=function(){return this};
return a},n=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];
return b?b.call(a):{next:aa(a)}},ka=function(a){if(!(a instanceof Array)){a=n(a);
for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a},la="function"==typeof Object.create?Object.create:function(a){var b=function(){};
b.prototype=a;return new b},ma;
if("function"==typeof Object.setPrototypeOf)ma=Object.setPrototypeOf;else{var na;a:{var oa={a:!0},pa={};try{pa.__proto__=oa;na=pa.a;break a}catch(a){}na=!1}ma=na?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var qa=ma,p=function(a,b){a.prototype=la(b.prototype);
a.prototype.constructor=a;if(qa)qa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype},ra=function(a,b,c){a instanceof String&&(a=String(a));
for(var d=a.length,f=0;f<d;f++){var g=a[f];if(b.call(c,g,f,a))return{i:f,v:g}}return{i:-1,v:void 0}},sa=function(a,b){if(b){var c=ca;
a=a.split(".");for(var d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}};
sa("Array.prototype.findIndex",function(a){return a?a:function(a,c){return ra(this,a,c).i}},"es6","es3");
var ta=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};
sa("Array.prototype.find",function(a){return a?a:function(a,c){return ra(this,a,c).v}},"es6","es3");
var ua=function(a,b){ja();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d.next=function(){return{done:!0,value:void 0}};
return d.next()}};
d[Symbol.iterator]=function(){return d};
return d};
sa("Array.prototype.keys",function(a){return a?a:function(){return ua(this,function(a){return a})}},"es6","es3");
sa("Array.prototype.values",function(a){return a?a:function(){return ua(this,function(a,c){return c})}},"es8","es3");
sa("String.prototype.endsWith",function(a){return a?a:function(a,c){var b=ta(this,a,"endsWith");a+="";void 0===c&&(c=b.length);c=Math.max(0,Math.min(c|0,b.length));for(var f=a.length;0<f&&0<c;)if(b[--c]!=a[--f])return!1;return 0>=f}},"es6","es3");
sa("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=ta(this,a,"startsWith");a+="";var f=b.length,g=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var h=0;h<g&&c<f;)if(b[c++]!=a[h++])return!1;return h>=g}},"es6","es3");
var va=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},wa="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];
if(d)for(var f in d)va(d,f)&&(a[f]=d[f])}return a};
sa("Object.assign",function(a){return a||wa},"es6","es3");
sa("WeakMap",function(a){function b(){}
function c(a){va(a,f)||ba(a,f,{value:new b})}
function d(a){var d=Object[a];d&&(Object[a]=function(a){if(a instanceof b)return a;c(a);return d(a)})}
if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(q){return!1}}())return a;
var f="$jscomp_hidden_"+Math.random();d("freeze");d("preventExtensions");d("seal");var g=0,h=function(a){this.id_=(g+=Math.random()+1).toString();if(a){a=n(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};
h.prototype.set=function(a,b){c(a);if(!va(a,f))throw Error("WeakMap key fail: "+a);a[f][this.id_]=b;return this};
h.prototype.get=function(a){return va(a,f)?a[f][this.id_]:void 0};
h.prototype.has=function(a){return va(a,f)&&va(a[f],this.id_)};
h.prototype.delete=function(a){return va(a,f)&&va(a[f],this.id_)?delete a[f][this.id_]:!1};
return h},"es6","es3");
sa("Map",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(n([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),f=d.next();if(f.done||f.value[0]!=b||"s"!=f.value[1])return!1;f=d.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!d.next().done?!1:!0}catch(t){return!1}}())return a;
ja();var b=new WeakMap,c=function(a){this.data_={};this.head_=g();this.size=0;if(a){a=n(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};
c.prototype.set=function(a,b){a=0===a?0:a;var c=d(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};
c.prototype.delete=function(a){a=d(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};
c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};
c.prototype.has=function(a){return!!d(this,a).entry};
c.prototype.get=function(a){return(a=d(this,a).entry)&&a.value};
c.prototype.entries=function(){return f(this,function(a){return[a.key,a.value]})};
c.prototype.keys=function(){return f(this,function(a){return a.key})};
c.prototype.values=function(){return f(this,function(a){return a.value})};
c.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};
c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(a,c){var d=c&&typeof c;"object"==d||"function"==d?b.has(c)?d=b.get(c):(d=""+ ++h,b.set(c,d)):d="p_"+c;var f=a.data_[d];if(f&&va(a.data_,d))for(a=0;a<f.length;a++){var g=f[a];if(c!==c&&g.key!==g.key||c===g.key)return{id:d,list:f,index:a,entry:g}}return{id:d,list:f,index:-1,entry:void 0}},f=function(a,b){var c=a.head_;
return ha(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},g=function(){var a={};
return a.previous=a.next=a.head=a},h=0;
return c},"es6","es3");
sa("Set",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a(n([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var f=d.entries(),g=f.next();if(g.done||g.value[0]!=b||g.value[1]!=b)return!1;g=f.next();return g.done||g.value[0]==b||4!=g.value[0].x||g.value[1]!=g.value[0]?!1:f.next().done}catch(h){return!1}}())return a;
ja();var b=function(a){this.map_=new Map;if(a){a=n(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};
b.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};
b.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};
b.prototype.clear=function(){this.map_.clear();this.size=0};
b.prototype.has=function(a){return this.map_.has(a)};
b.prototype.entries=function(){return this.map_.entries()};
b.prototype.values=function(){return this.map_.values()};
b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(d){return a.call(b,d,d,c)})};
return b},"es6","es3");
sa("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");
sa("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var f=b.length;c=c||0;for(0>c&&(c=Math.max(c+f,0));c<f;c++){var g=b[c];if(g===a||Object.is(g,a))return!0}return!1}},"es7","es3");
sa("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==ta(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
sa("Object.setPrototypeOf",function(a){return a||qa},"es6","es5");
sa("Promise",function(a){function b(){this.batch_=null}
function c(a){return a instanceof f?a:new f(function(b){b(a)})}
if(a)return a;b.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};
b.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};
var d=ca.setTimeout;b.prototype.asyncExecuteFunction=function(a){d(a,0)};
b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(m){this.asyncThrow_(m)}}}this.batch_=null};
b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};
var f=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(l){b.reject(l)}};
f.prototype.createResolveAndReject_=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}
var b=this,c=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};
f.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};
f.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(l){this.reject_(l);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};
f.prototype.reject_=function(a){this.settle_(2,a)};
f.prototype.fulfill_=function(a){this.settle_(1,a)};
f.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};
f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)g.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};
var g=new b;f.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};
f.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(m){c.reject(m)}};
f.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{d(a(b))}catch(P){g(P)}}:b}
var d,g,h=new f(function(a,b){d=a;g=b});
this.callWhenSettled_(c(a,d),c(b,g));return h};
f.prototype.catch=function(a){return this.then(void 0,a)};
f.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}
var d=this;null==this.onSettledCallbacks_?g.asyncExecute(c):this.onSettledCallbacks_.push(c)};
f.resolve=c;f.reject=function(a){return new f(function(b,c){c(a)})};
f.race=function(a){return new f(function(b,d){for(var f=n(a),g=f.next();!g.done;g=f.next())c(g.value).callWhenSettled_(b,d)})};
f.all=function(a){var b=n(a),d=b.next();return d.done?c([]):new f(function(a,f){function g(b){return function(c){h[b]=c;k--;0==k&&a(h)}}
var h=[],k=0;do h.push(void 0),k++,c(d.value).callWhenSettled_(g(h.length-1),f),d=b.next();while(!d.done)})};
return f},"es6","es3");
sa("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6","es3");
sa("Array.from",function(a){return a?a:function(a,c,d){c=null!=c?c:function(a){return a};
var b=[],g="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if("function"==typeof g){a=g.call(a);for(var h=0;!(g=a.next()).done;)b.push(c.call(d,g.value,h++))}else for(g=a.length,h=0;h<g;h++)b.push(c.call(d,a[h],h));return b}},"es6","es3");
sa("Object.entries",function(a){return a?a:function(a){var b=[],d;for(d in a)va(a,d)&&b.push([d,a[d]]);return b}},"es8","es3");
(function(){function a(){function a(){}
Reflect.construct(a,[],function(){});
return new a instanceof a}
if("undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(a,d,f){a=b(a,d);f&&Reflect.setPrototypeOf(a,f.prototype);return a}}return function(a,b,f){void 0===f&&(f=a);
f=la(f.prototype||Object.prototype);return Function.prototype.apply.call(a,f,b)||f}})();
var xa=xa||{},r=this,u=function(a){return void 0!==a},v=function(a){return"string"==typeof a},ya=function(a){return"boolean"==typeof a},Aa=function(a){return"number"==typeof a},w=function(a,b,c){a=a.split(".");
c=c||r;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&u(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}},Da=function(a){if(a&&a!=r)return Ba(a.document);
null===Ca&&(Ca=Ba(r.document));return Ca},Ea=/^[\w+/_-]+[=]{0,2}$/,Ca=null,Ba=function(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&Ea.test(a)?a:""},x=function(a,b){a=a.split(".");
b=b||r;for(var c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b},Fa=function(){},Ga=function(a){a.instance_=void 0;
a.getInstance=function(){return a.instance_?a.instance_:a.instance_=new a}},Ha=function(a){var b=typeof a;
if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b},y=function(a){return"array"==Ha(a)},Ia=function(a){var b=Ha(a);
return"array"==b||"object"==b&&"number"==typeof a.length},Ja=function(a){return"function"==Ha(a)},Ka=function(a){var b=typeof a;
return"object"==b&&null!=a||"function"==b},Na=function(a){return a[La]||(a[La]=++Ma)},La="closure_uid_"+(1E9*Math.random()>>>0),Ma=0,Oa=function(a){var b=Ha(a);
if("object"==b||"array"==b){if("function"===typeof a.clone)return a.clone();b="array"==b?[]:{};for(var c in a)b[c]=Oa(a[c]);return b}return a},Pa=function(a,b,c){return a.call.apply(a.bind,arguments)},Qa=function(a,b,c){if(!a)throw Error();
if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},z=function(a,b,c){z=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pa:Qa;
return z.apply(null,arguments)},Ra=function(a,b){var c=Array.prototype.slice.call(arguments,1);
return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},Sa=function(a,b){for(var c in b)a[c]=b[c]},A=Date.now||function(){return+new Date},B=function(a,b){function c(){}
c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,g){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return b.prototype[c].apply(a,d)}};var Ta=document,Ua=window;var Va={},Wa=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Wa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0};
B(Wa,Error);Wa.prototype.name="CustomError";var Xa;var C=function(a,b,c){Array.prototype.forEach.call(a,b,c)},Ya=function(a,b,c){return Array.prototype.filter.call(a,b,c)},Za=function(a,b,c){return Array.prototype.map.call(a,b,c)},$a=function(a,b,c,d){d&&(b=z(b,d));
return Array.prototype.reduce.call(a,b,c)},ab=function(a,b,c){return Array.prototype.some.call(a,b,c)},bb=function(a,b,c){return Array.prototype.every.call(a,b,c)},cb=function(a,b,c){a:{for(var d=a.length,f=v(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a)){b=g;
break a}b=-1}return 0>b?null:v(a)?a.charAt(b):a[b]},db=function(a,b){return 0<=Array.prototype.indexOf.call(a,b,void 0)},eb=function(a,b){b=Array.prototype.indexOf.call(a,b,void 0);
var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c},fb=function(a){return Array.prototype.concat.apply([],arguments)},gb=function(a){var b=a.length;
if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},hb=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];
if(Ia(d)){var f=a.length||0,g=d.length||0;a.length=f+g;for(var h=0;h<g;h++)a[f+h]=d[h]}else a.push(d)}},ib=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},kb=function(a,b,c){c=c||jb;
for(var d=0,f=a.length,g;d<f;){var h=d+f>>1;var k=c(b,a[h]);0<k?d=h+1:(f=h,g=!k)}return g?d:~d},lb=function(a,b){a.sort(b||jb)},jb=function(a,b){return a>b?1:a<b?-1:0},mb=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];
if(y(d))for(var f=0;f<d.length;f+=8192)for(var g=mb.apply(null,ib(d,f,f+8192)),h=0;h<g.length;h++)b.push(g[h]);else b.push(d)}return b};var nb=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var f=a.charCodeAt(d);255<f&&(b[c++]=f&255,f>>=8);b[c++]=f}return b},ob=function(a){if(8192>=a.length)return String.fromCharCode.apply(null,a);
for(var b="",c=0;c<a.length;c+=8192)b+=String.fromCharCode.apply(null,ib(a,c,c+8192));return b};var pb=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c},qb=function(a){return/^[\s\xa0]*$/.test(a)},rb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},sb=function(a){return decodeURIComponent(a.replace(/\+/g," "))},Ab=function(a,b){if(b)a=a.replace(tb,"&amp;").replace(ub,"&lt;").replace(vb,"&gt;").replace(wb,"&quot;").replace(xb,"&#39;").replace(yb,"&#0;");
else{if(!zb.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(tb,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ub,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(vb,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wb,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(xb,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(yb,"&#0;"))}return a},tb=/&/g,ub=/</g,vb=/>/g,wb=/"/g,xb=/'/g,yb=/\x00/g,zb=/[\x00&<>"']/,Bb={"\x00":"\\0",
"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},Cb={"'":"\\'"},Db=function(a){a=String(a);for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),f=d.charCodeAt(0),g=c+1,h;if(!(h=Bb[d])){if(!(31<f&&127>f))if(d in Cb)d=Cb[d];else if(d in Bb)d=Cb[d]=Bb[d];else{h=d.charCodeAt(0);if(31<h&&127>h)f=d;else{if(256>h){if(f="\\x",16>h||256<h)f+="0"}else f="\\u",4096>h&&(f+="0");f+=h.toString(16).toUpperCase()}d=Cb[d]=f}h=d}b[g]=h}b.push('"');return b.join("")},
Eb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},Fb=function(a,b,c){a=u(c)?a.toFixed(c):String(a);
c=a.indexOf(".");-1==c&&(c=a.length);return Eb("0",Math.max(0,b-c))+a},Gb=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^A()).toString(36)},Hb=function(a,b){return a<b?-1:a>b?1:0},Ib=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c)>>>0;
return b},Jb=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})},Kb=function(a){isFinite(a)&&(a=String(a));
return v(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN},Lb=function(a,b,c){a=a.split(b);
for(var d=[];0<c&&a.length;)d.push(a.shift()),c--;a.length&&d.push(a.join(b));return d};var Mb;a:{var Nb=r.navigator;if(Nb){var Ob=Nb.userAgent;if(Ob){Mb=Ob;break a}}Mb=""}var D=function(a){return-1!=Mb.indexOf(a)};var E={is:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b},
forEach:function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},
filter:function(a,b,c){var d={},f;for(f in a)b.call(c,a[f],f,a)&&(d[f]=a[f]);return d},
map:function(a,b,c){var d={},f;for(f in a)d[f]=b.call(c,a[f],f,a);return d},
some:function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1},
every:function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return!1;return!0},
getCount:function(a){var b=0,c;for(c in a)b++;return b},
getAnyKey:function(a){for(var b in a)return b},
getAnyValue:function(a){for(var b in a)return a[b]},
contains:function(a,b){return E.containsValue(a,b)},
getValues:function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},
getKeys:function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},
getValueByKeys:function(a,b){var c=Ia(b),d=c?b:arguments;for(c=c?0:1;c<d.length;c++){if(null==a)return;a=a[d[c]]}return a},
containsKey:function(a,b){return null!==a&&b in a},
containsValue:function(a,b){for(var c in a)if(a[c]==b)return!0;return!1},
findKey:function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d},
findValue:function(a,b,c){return(b=E.findKey(a,b,c))&&a[b]},
isEmpty:function(a){for(var b in a)return!1;return!0},
clear:function(a){for(var b in a)delete a[b]},
remove:function(a,b){var c;(c=b in a)&&delete a[b];return c},
add:function(a,b,c){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');E.set(a,b,c)},
get:function(a,b,c){return null!==a&&b in a?a[b]:c},
set:function(a,b,c){a[b]=c},
setIfUndefined:function(a,b,c){return b in a?a[b]:a[b]=c},
setWithReturnValueIfNotSet:function(a,b,c){if(b in a)return a[b];c=c();return a[b]=c},
equals:function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0},
clone:function(a){var b={},c;for(c in a)b[c]=a[c];return b},
unsafeClone:function(a){var b=Ha(a);if("object"==b||"array"==b){if(Ja(a.clone))return a.clone();b="array"==b?[]:{};for(var c in a)b[c]=E.unsafeClone(a[c]);return b}return a},
transpose:function(a){var b={},c;for(c in a)b[a[c]]=c;return b},
PROTOTYPE_FIELDS_:"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),extend:function(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<E.PROTOTYPE_FIELDS_.length;g++)c=E.PROTOTYPE_FIELDS_[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}},
create:function(a){var b=arguments.length;if(1==b&&y(arguments[0]))return E.create.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c},
createSet:function(a){var b=arguments.length;if(1==b&&y(arguments[0]))return E.createSet.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c},
createImmutableView:function(a){var b=a;Object.isFrozen&&!Object.isFrozen(a)&&(b=Object.create(a),Object.freeze(b));return b},
isImmutableView:function(a){return!!Object.isFrozen&&Object.isFrozen(a)},
getAllPropertyNames:function(a,b,c){if(!a)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return E.getKeys(a);for(var d={};a&&(a!==Object.prototype||b)&&(a!==Function.prototype||c);){for(var f=Object.getOwnPropertyNames(a),g=0;g<f.length;g++)d[f[g]]=!0;a=Object.getPrototypeOf(a)}return E.getKeys(d)}};var Pb=function(){return D("Firefox")||D("FxiOS")},Qb=function(){return(D("Chrome")||D("CriOS"))&&!D("Edge")};var Rb=function(){return D("iPhone")&&!D("iPod")&&!D("iPad")};var Sb=function(a){Sb[" "](a);return a};
Sb[" "]=Fa;var Tb=function(a,b){try{return Sb(a[b]),!0}catch(c){}return!1},Ub=function(a,b,c,d){d=d?d(b):b;
return Object.prototype.hasOwnProperty.call(a,d)?a[d]:a[d]=c(b)};var Vb=D("Opera"),F=D("Trident")||D("MSIE"),Wb=D("Edge"),Xb=Wb||F,Yb=D("Gecko")&&!(-1!=Mb.toLowerCase().indexOf("webkit")&&!D("Edge"))&&!(D("Trident")||D("MSIE"))&&!D("Edge"),Zb=-1!=Mb.toLowerCase().indexOf("webkit")&&!D("Edge");Zb&&D("Mobile");var $b=D("Macintosh"),ac=D("Windows");D("Linux")||D("CrOS");var bc=r.navigator||null;bc&&(bc.appVersion||"").indexOf("X11");var cc=D("Android"),dc=Rb(),ec=D("iPad"),fc=D("iPod");Rb()||D("iPad")||D("iPod");Mb.toLowerCase().indexOf("kaios");
var gc=function(){var a=r.document;return a?a.documentMode:void 0},hc;
a:{var ic="",jc=function(){var a=Mb;if(Yb)return/rv:([^\);]+)(\)|;)/.exec(a);if(Wb)return/Edge\/([\d\.]+)/.exec(a);if(F)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Zb)return/WebKit\/(\S+)/.exec(a);if(Vb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();
jc&&(ic=jc?jc[1]:"");if(F){var kc=gc();if(null!=kc&&kc>parseFloat(ic)){hc=String(kc);break a}}hc=ic}
var lc=hc,mc={},nc=function(a){return Ub(mc,a,function(){for(var b=0,c=rb(String(lc)).split("."),d=rb(String(a)).split("."),f=Math.max(c.length,d.length),g=0;0==b&&g<f;g++){var h=c[g]||"",k=d[g]||"";do{h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==h[0].length&&0==k[0].length)break;b=Hb(0==h[1].length?0:parseInt(h[1],10),0==k[1].length?0:parseInt(k[1],10))||Hb(0==h[2].length,0==k[2].length)||Hb(h[2],k[2]);h=h[3];k=k[3]}while(0==b)}return 0<=b})},oc;
var pc=r.document;oc=pc&&F?gc()||("CSS1Compat"==pc.compatMode?parseInt(lc,10):5):void 0;Pb();Rb()||D("iPod");D("iPad");!D("Android")||Qb()||Pb()||D("Opera")||D("Silk");var qc=Qb(),rc=D("Safari")&&!(Qb()||D("Coast")||D("Opera")||D("Edge")||Pb()||D("Silk")||D("Android"))&&!(Rb()||D("iPad")||D("iPod"));var sc=null,tc=null,uc=null,vc=Yb||Zb&&!rc||Vb||"function"==typeof r.btoa,xc=function(a,b){wc();b=b?uc:sc;for(var c=[],d=0;d<a.length;d+=3){var f=a[d],g=d+1<a.length,h=g?a[d+1]:0,k=d+2<a.length,l=k?a[d+2]:0,m=f>>2;f=(f&3)<<4|h>>4;h=(h&15)<<2|l>>6;l&=63;k||(l=64,g||(h=64));c.push(b[m],b[f],b[h],b[l])}return c.join("")},zc=function(a){var b=a.length,c=0;
"="===a[b-2]?c=2:"="===a[b-1]&&(c=1);var d=new Uint8Array(Math.ceil(3*b/4)-c),f=0;yc(a,function(a){d[f++]=a});
return d.subarray(0,f)},yc=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),f=tc[c];
if(null!=f)return f;if(!qb(c))throw Error("Unknown base64 encoding at char: "+c);}return b}
wc();for(var d=0;;){var f=c(-1),g=c(0),h=c(64),k=c(64);if(64===k&&-1===f)break;b(f<<2|g>>4);64!=h&&(b(g<<4&240|h>>2),64!=k&&b(h<<6&192|k))}},wc=function(){if(!sc){sc={};
tc={};uc={};for(var a=0;65>a;a++)sc[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),tc[sc[a]]=a,uc[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),62<=a&&(tc["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var H=0,Ac=0,Bc=function(a){var b=a>>>0;a=Math.floor((a-b)/4294967296)>>>0;H=b;Ac=a},Cc=function(a){var b=0>a;
a=Math.abs(a);var c=a>>>0;a=Math.floor((a-c)/4294967296);a>>>=0;b&&(a=~a>>>0,c=(~c>>>0)+1,4294967295<c&&(c=0,a++,4294967295<a&&(a=0)));H=c;Ac=a},Dc=function(a){var b=a.charCodeAt(4),c=a.charCodeAt(5),d=a.charCodeAt(6),f=a.charCodeAt(7);
H=a.charCodeAt(0)+(a.charCodeAt(1)<<8)+(a.charCodeAt(2)<<16)+(a.charCodeAt(3)<<24)>>>0;Ac=b+(c<<8)+(d<<16)+(f<<24)>>>0},Ec="0123456789abcdef".split(""),Fc=function(a){function b(a,b){for(var c=0;8>c&&(1!==a||0<b);c++)b=a*f[c]+b,f[c]=b&255,b>>>=8}
function c(){for(var a=0;8>a;a++)f[a]=~f[a]&255}
var d=!1;"-"===a[0]&&(d=!0,a=a.slice(1));for(var f=[0,0,0,0,0,0,0,0],g=0;g<a.length;g++)b(10,Ec.indexOf(a[g]));d&&(c(),b(1,1));return ob(f)};var Gc=function(a,b){this.lo=a;this.hi=b};
e=Gc.prototype;e.cmp=function(a){return this.hi<a.hi||this.hi==a.hi&&this.lo<a.lo?-1:this.hi==a.hi&&this.lo==a.lo?0:1};
e.rightShift=function(){return new Gc((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)};
e.leftShift=function(){return new Gc(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)};
e.msb=function(){return!!(this.hi&2147483648)};
e.lsb=function(){return!!(this.lo&1)};
e.zero=function(){return 0==this.lo&&0==this.hi};
e.add=function(a){return new Gc((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};
e.sub=function(a){return new Gc((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};
var Hc=function(a,b){var c=a&65535;a>>>=16;var d=b&65535,f=b>>>16;b=c*d+65536*(c*f&65535)+65536*(a*d&65535);for(c=a*f+(c*f>>>16)+(a*d>>>16);4294967296<=b;)b-=4294967296,c+=1;return new Gc(b>>>0,c>>>0)};
Gc.prototype.mul=function(a){var b=Hc(this.lo,a);a=Hc(this.hi,a);a.hi=a.lo;a.lo=0;return b.add(a)};
Gc.prototype.div=function(a){if(0==a)return[];for(var b=new Gc(0,0),c=new Gc(this.lo,this.hi),d=new Gc(a,0),f=new Gc(1,0);!d.msb();)d=d.leftShift(),f=f.leftShift();for(;!f.zero();)0>=d.cmp(c)&&(b=b.add(f),c=c.sub(d)),d=d.rightShift(),f=f.rightShift();return[b,c]};
Gc.prototype.toString=function(){for(var a="",b=this;!b.zero();){b=b.div(10);var c=b[0];a=b[1].lo+a;b=c}""==a&&(a="0");return a};
var Ic=function(a){for(var b=new Gc(0,0),c=new Gc(0,0),d=0;d<a.length;d++){if("0">a[d]||"9"<a[d])return null;c.lo=parseInt(a[d],10);b=b.mul(10).add(c)}return b};
Gc.prototype.clone=function(){return new Gc(this.lo,this.hi)};
var Jc=function(a,b){this.lo=a;this.hi=b};
Jc.prototype.add=function(a){return new Jc((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};
Jc.prototype.sub=function(a){return new Jc((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};
Jc.prototype.clone=function(){return new Jc(this.lo,this.hi)};
Jc.prototype.toString=function(){var a=0!=(this.hi&2147483648),b=new Gc(this.lo,this.hi);a&&(b=(new Gc(0,0)).sub(b));return(a?"-":"")+b.toString()};
var Kc=function(a){var b=0<a.length&&"-"==a[0];b&&(a=a.substring(1));a=Ic(a);if(null===a)return null;b&&(a=(new Gc(0,0)).sub(a));return new Jc(a.lo,a.hi)};var Lc=function(){this.buffer_=[]};
e=Lc.prototype;e.length=function(){return this.buffer_.length};
e.end=function(){var a=this.buffer_;this.buffer_=[];return a};
e.writeSplitVarint64=function(a,b){for(;0<b||127<a;)this.buffer_.push(a&127|128),a=(a>>>7|b<<25)>>>0,b>>>=7;this.buffer_.push(a)};
e.writeSplitFixed64=function(a,b){this.writeUint32(a);this.writeUint32(b)};
e.writeUnsignedVarint32=function(a){for(;127<a;)this.buffer_.push(a&127|128),a>>>=7;this.buffer_.push(a)};
e.writeSignedVarint32=function(a){if(0<=a)this.writeUnsignedVarint32(a);else{for(var b=0;9>b;b++)this.buffer_.push(a&127|128),a>>=7;this.buffer_.push(1)}};
e.writeUnsignedVarint64=function(a){Cc(a);this.writeSplitVarint64(H,Ac)};
e.writeSignedVarint64=function(a){Cc(a);this.writeSplitVarint64(H,Ac)};
e.writeZigzagVarint32=function(a){this.writeUnsignedVarint32((a<<1^a>>31)>>>0)};
e.writeZigzagVarint64=function(a){var b=a;a=0>b;b=2*Math.abs(b);Bc(b);b=H;var c=Ac;a&&(0==b?0==c?c=b=4294967295:(c--,b=4294967295):b--);H=b;Ac=c;this.writeSplitVarint64(H,Ac)};
e.writeZigzagVarint64String=function(a){this.writeZigzagVarint64(parseInt(a,10))};
e.writeUint8=function(a){this.buffer_.push(a>>>0&255)};
e.writeUint16=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};
e.writeUint32=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};
e.writeUint64=function(a){Bc(a);this.writeUint32(H);this.writeUint32(Ac)};
e.writeInt8=function(a){this.buffer_.push(a>>>0&255)};
e.writeInt16=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};
e.writeInt32=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};
e.writeInt64=function(a){Cc(a);this.writeSplitFixed64(H,Ac)};
e.writeInt64String=function(a){Dc(Fc(a));this.writeSplitFixed64(H,Ac)};
e.writeFloat=function(a){var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)0<1/b?H=Ac=0:(Ac=0,H=2147483648);else if(isNaN(b))Ac=0,H=2147483647;else if(3.4028234663852886E38<b)Ac=0,H=(a<<31|2139095040)>>>0;else if(1.1754943508222875E-38>b)b=Math.round(b/Math.pow(2,-149)),Ac=0,H=(a<<31|b)>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);b*=Math.pow(2,-c);b=Math.round(8388608*b)&8388607;Ac=0;H=(a<<31|c+127<<23|b)>>>0}this.writeUint32(H)};
e.writeDouble=function(a){var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)Ac=0<1/b?0:2147483648,H=0;else if(isNaN(b))Ac=2147483647,H=4294967295;else if(1.7976931348623157E308<b)Ac=(a<<31|2146435072)>>>0,H=0;else if(2.2250738585072014E-308>b)b/=Math.pow(2,-1074),Ac=(a<<31|b/4294967296)>>>0,H=b>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);1024==c&&(c=1023);b*=Math.pow(2,-c);Ac=(a<<31|c+1023<<20|1048576*b&1048575)>>>0;H=4503599627370496*b>>>0}this.writeUint32(H);this.writeUint32(Ac)};
e.writeBool=function(a){this.buffer_.push(a?1:0)};
e.writeEnum=function(a){this.writeSignedVarint32(a)};
e.writeBytes=function(a){this.buffer_.push.apply(this.buffer_,a)};
e.writeVarintHash64=function(a){Dc(a);this.writeSplitVarint64(H,Ac)};
e.writeFixedHash64=function(a){Dc(a);this.writeUint32(H);this.writeUint32(Ac)};
e.writeString=function(a){for(var b=this.buffer_.length,c=0;c<a.length;c++){var d=a.charCodeAt(c);if(128>d)this.buffer_.push(d);else if(2048>d)this.buffer_.push(d>>6|192),this.buffer_.push(d&63|128);else if(65536>d)if(55296<=d&&56319>=d&&c+1<a.length){var f=a.charCodeAt(c+1);56320<=f&&57343>=f&&(d=1024*(d-55296)+f-56320+65536,this.buffer_.push(d>>18|240),this.buffer_.push(d>>12&63|128),this.buffer_.push(d>>6&63|128),this.buffer_.push(d&63|128),c++)}else this.buffer_.push(d>>12|224),this.buffer_.push(d>>
6&63|128),this.buffer_.push(d&63|128)}return this.buffer_.length-b};var Mc=function(){this.blocks_=[];this.totalLength_=0;this.encoder_=new Lc;this.bookmarks_=[]};
e=Mc.prototype;e.appendUint8Array_=function(a){var b=this.encoder_.end();this.blocks_.push(b);this.blocks_.push(a);this.totalLength_+=b.length+a.length};
e.beginDelimited_=function(a){this.writeFieldHeader_(a,2);a=this.encoder_.end();this.blocks_.push(a);this.totalLength_+=a.length;a.push(this.totalLength_);return a};
e.endDelimited_=function(a){var b=a.pop();for(b=this.totalLength_+this.encoder_.length()-b;127<b;)a.push(b&127|128),b>>>=7,this.totalLength_++;a.push(b);this.totalLength_++};
e.writeSerializedMessage=function(a,b,c){this.appendUint8Array_(a.subarray(b,c))};
e.maybeWriteSerializedMessage=function(a,b,c){null!=a&&null!=b&&null!=c&&this.writeSerializedMessage(a,b,c)};
e.reset=function(){this.blocks_=[];this.encoder_.end();this.totalLength_=0;this.bookmarks_=[]};
e.getResultBuffer=function(){for(var a=new Uint8Array(this.totalLength_+this.encoder_.length()),b=this.blocks_,c=b.length,d=0,f=0;f<c;f++){var g=b[f];a.set(g,d);d+=g.length}b=this.encoder_.end();a.set(b,d);this.blocks_=[a];return a};
e.getResultBase64String=function(a){return xc(this.getResultBuffer(),a)};
e.beginSubMessage=function(a){this.bookmarks_.push(this.beginDelimited_(a))};
e.endSubMessage=function(){this.endDelimited_(this.bookmarks_.pop())};
e.writeFieldHeader_=function(a,b){this.encoder_.writeUnsignedVarint32(8*a+b)};
e.writeAny=function(a,b,c){switch(a){case 1:this.writeDouble(b,c);break;case 2:this.writeFloat(b,c);break;case 3:this.writeInt64(b,c);break;case 4:this.writeUint64(b,c);break;case 5:this.writeInt32(b,c);break;case 6:this.writeFixed64(b,c);break;case 7:this.writeFixed32(b,c);break;case 8:this.writeBool(b,c);break;case 9:this.writeString(b,c);break;case 12:this.writeBytes(b,c);break;case 13:this.writeUint32(b,c);break;case 14:this.writeEnum(b,c);break;case 15:this.writeSfixed32(b,c);break;case 16:this.writeSfixed64(b,
c);break;case 17:this.writeSint32(b,c);break;case 18:this.writeSint64(b,c);break;case 30:this.writeFixedHash64(b,c);break;case 31:this.writeVarintHash64(b,c)}};
e.writeUnsignedVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeUnsignedVarint32(b))};
e.writeSignedVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeSignedVarint32(b))};
e.writeUnsignedVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeUnsignedVarint64(b))};
e.writeSignedVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeSignedVarint64(b))};
e.writeZigzagVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeZigzagVarint32(b))};
e.writeZigzagVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeZigzagVarint64(b))};
e.writeZigzagVarint64String_=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeZigzagVarint64String(b))};
e.writeInt32=function(a,b){null!=b&&this.writeSignedVarint32_(a,b)};
e.writeInt32String=function(a,b){null!=b&&this.writeSignedVarint32_(a,parseInt(b,10))};
e.writeInt64=function(a,b){null!=b&&this.writeSignedVarint64_(a,b)};
e.writeInt64String=function(a,b){null!=b&&(b=Kc(b),this.writeFieldHeader_(a,0),this.encoder_.writeSplitVarint64(b.lo,b.hi))};
e.writeUint32=function(a,b){null!=b&&this.writeUnsignedVarint32_(a,b)};
e.writeUint32String=function(a,b){null!=b&&this.writeUnsignedVarint32_(a,parseInt(b,10))};
e.writeUint64=function(a,b){null!=b&&this.writeUnsignedVarint64_(a,b)};
e.writeUint64String=function(a,b){null!=b&&(b=Ic(b),this.writeFieldHeader_(a,0),this.encoder_.writeSplitVarint64(b.lo,b.hi))};
e.writeSint32=function(a,b){null!=b&&this.writeZigzagVarint32_(a,b)};
e.writeSint64=function(a,b){null!=b&&this.writeZigzagVarint64_(a,b)};
e.writeSint64String=function(a,b){null!=b&&this.writeZigzagVarint64String_(a,b)};
e.writeFixed32=function(a,b){null!=b&&(this.writeFieldHeader_(a,5),this.encoder_.writeUint32(b))};
e.writeFixed64=function(a,b){null!=b&&(this.writeFieldHeader_(a,1),this.encoder_.writeUint64(b))};
e.writeFixed64String=function(a,b){null!=b&&(b=Ic(b),this.writeFieldHeader_(a,1),this.encoder_.writeSplitFixed64(b.lo,b.hi))};
e.writeSfixed32=function(a,b){null!=b&&(this.writeFieldHeader_(a,5),this.encoder_.writeInt32(b))};
e.writeSfixed64=function(a,b){null!=b&&(this.writeFieldHeader_(a,1),this.encoder_.writeInt64(b))};
e.writeSfixed64String=function(a,b){null!=b&&(b=Kc(b),this.writeFieldHeader_(a,1),this.encoder_.writeSplitFixed64(b.lo,b.hi))};
e.writeFloat=function(a,b){null!=b&&(this.writeFieldHeader_(a,5),this.encoder_.writeFloat(b))};
e.writeDouble=function(a,b){null!=b&&(this.writeFieldHeader_(a,1),this.encoder_.writeDouble(b))};
e.writeBool=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeBool(b))};
e.writeEnum=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeSignedVarint32(b))};
e.writeString=function(a,b){null!=b&&(a=this.beginDelimited_(a),this.encoder_.writeString(b),this.endDelimited_(a))};
e.writeBytes=function(a,b){null!=b&&(b=b.constructor===Uint8Array?b:b.constructor===ArrayBuffer?new Uint8Array(b):b.constructor===Array?new Uint8Array(b):b.constructor===String?zc(b):new Uint8Array(0),this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(b.length),this.appendUint8Array_(b))};
e.writeMessage=function(a,b,c){null!=b&&(a=this.beginDelimited_(a),c(b,this),this.endDelimited_(a))};
e.writeGroup=function(a,b,c){null!=b&&(this.writeFieldHeader_(a,3),c(b,this),this.writeFieldHeader_(a,4))};
e.writeFixedHash64=function(a,b){null!=b&&(this.writeFieldHeader_(a,1),this.encoder_.writeFixedHash64(b))};
e.writeVarintHash64=function(a,b){null!=b&&(this.writeFieldHeader_(a,0),this.encoder_.writeVarintHash64(b))};
e.writeRepeatedInt32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSignedVarint32_(a,b[c])};
e.writeRepeatedInt32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeInt32String(a,b[c])};
e.writeRepeatedInt64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSignedVarint64_(a,b[c])};
e.writeRepeatedInt64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeInt64String(a,b[c])};
e.writeRepeatedUint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUnsignedVarint32_(a,b[c])};
e.writeRepeatedUint32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUint32String(a,b[c])};
e.writeRepeatedUint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUnsignedVarint64_(a,b[c])};
e.writeRepeatedUint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUint64String(a,b[c])};
e.writeRepeatedSint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint32_(a,b[c])};
e.writeRepeatedSint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint64_(a,b[c])};
e.writeRepeatedSint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint64String_(a,b[c])};
e.writeRepeatedFixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed32(a,b[c])};
e.writeRepeatedFixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed64(a,b[c])};
e.writeRepeatedFixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed64String(a,b[c])};
e.writeRepeatedSfixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed32(a,b[c])};
e.writeRepeatedSfixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed64(a,b[c])};
e.writeRepeatedSfixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed64String(a,b[c])};
e.writeRepeatedFloat=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFloat(a,b[c])};
e.writeRepeatedDouble=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeDouble(a,b[c])};
e.writeRepeatedBool=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBool(a,b[c])};
e.writeRepeatedEnum=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeEnum(a,b[c])};
e.writeRepeatedString=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeString(a,b[c])};
e.writeRepeatedBytes=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBytes(a,b[c])};
e.writeRepeatedMessage=function(a,b,c){if(null!=b)for(var d=0;d<b.length;d++){var f=this.beginDelimited_(a);c(b[d],this);this.endDelimited_(f)}};
e.writeRepeatedGroup=function(a,b,c){if(null!=b)for(var d=0;d<b.length;d++)this.writeFieldHeader_(a,3),c(b[d],this),this.writeFieldHeader_(a,4)};
e.writeRepeatedFixedHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixedHash64(a,b[c])};
e.writeRepeatedVarintHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeVarintHash64(a,b[c])};
e.writePackedInt32=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeSignedVarint32(b[c]);this.endDelimited_(a)}};
e.writePackedInt32String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeSignedVarint32(parseInt(b[c],10));this.endDelimited_(a)}};
e.writePackedInt64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeSignedVarint64(b[c]);this.endDelimited_(a)}};
e.writePackedInt64String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++){var d=Kc(b[c]);this.encoder_.writeSplitVarint64(d.lo,d.hi)}this.endDelimited_(a)}};
e.writePackedUint32=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeUnsignedVarint32(b[c]);this.endDelimited_(a)}};
e.writePackedUint32String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeUnsignedVarint32(parseInt(b[c],10));this.endDelimited_(a)}};
e.writePackedUint64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeUnsignedVarint64(b[c]);this.endDelimited_(a)}};
e.writePackedUint64String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++){var d=Ic(b[c]);this.encoder_.writeSplitVarint64(d.lo,d.hi)}this.endDelimited_(a)}};
e.writePackedSint32=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeZigzagVarint32(b[c]);this.endDelimited_(a)}};
e.writePackedSint64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeZigzagVarint64(b[c]);this.endDelimited_(a)}};
e.writePackedSint64String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeZigzagVarint64(parseInt(b[c],10));this.endDelimited_(a)}};
e.writePackedFixed32=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(4*b.length),a=0;a<b.length;a++)this.encoder_.writeUint32(b[a])};
e.writePackedFixed64=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeUint64(b[a])};
e.writePackedFixed64String=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++){var c=Ic(b[a]);this.encoder_.writeSplitFixed64(c.lo,c.hi)}};
e.writePackedSfixed32=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(4*b.length),a=0;a<b.length;a++)this.encoder_.writeInt32(b[a])};
e.writePackedSfixed64=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeInt64(b[a])};
e.writePackedSfixed64String=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeInt64String(b[a])};
e.writePackedFloat=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(4*b.length),a=0;a<b.length;a++)this.encoder_.writeFloat(b[a])};
e.writePackedDouble=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeDouble(b[a])};
e.writePackedBool=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(b.length),a=0;a<b.length;a++)this.encoder_.writeBool(b[a])};
e.writePackedEnum=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeEnum(b[c]);this.endDelimited_(a)}};
e.writePackedFixedHash64=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,2),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeFixedHash64(b[a])};
e.writePackedVarintHash64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeVarintHash64(b[c]);this.endDelimited_(a)}};var Nc=function(){},Oc="function"==typeof Uint8Array;
Nc.prototype.getJsPbMessageId=function(){return this.messageId_};
var Sc=function(a,b,c,d,f,g){a.wrappers_=null;b||(b=c?[c]:[]);a.messageId_=c?String(c):void 0;a.arrayIndexOffset_=0===c?-1:0;a.array=b;a:{c=a.array.length;b=-1;if(c&&(b=c-1,c=a.array[b],!(null===c||"object"!=typeof c||y(c)||Oc&&c instanceof Uint8Array))){a.pivot_=b-a.arrayIndexOffset_;a.extensionObject_=c;break a}-1<d?(a.pivot_=Math.max(d,b+1-a.arrayIndexOffset_),a.extensionObject_=null):a.pivot_=Number.MAX_VALUE}a.convertedFloatingPointFields_={};if(f)for(d=0;d<f.length;d++)b=f[d],b<a.pivot_?(b+=
a.arrayIndexOffset_,a.array[b]=a.array[b]||Pc):(Qc(a),a.extensionObject_[b]=a.extensionObject_[b]||Pc);if(g&&g.length)for(d=0;d<g.length;d++)Rc(a,g[d])},Pc=[],Qc=function(a){var b=a.pivot_+a.arrayIndexOffset_;
a.array[b]||(a.extensionObject_=a.array[b]={})},Tc=function(a,b,c){for(var d=[],f=0;f<a.length;f++)d[f]=b.call(a[f],c,a[f]);
return d},I=function(a,b){if(b<a.pivot_){b+=a.arrayIndexOffset_;
var c=a.array[b];return c===Pc?a.array[b]=[]:c}if(a.extensionObject_)return c=a.extensionObject_[b],c===Pc?a.extensionObject_[b]=[]:c},Uc=function(a,b){if(b<a.pivot_){b+=a.arrayIndexOffset_;
var c=a.array[b];return c===Pc?a.array[b]=[]:c}c=a.extensionObject_[b];return c===Pc?a.extensionObject_[b]=[]:c},Vc=function(a,b){a=I(a,b);
return null==a?a:+a},Wc=function(a,b,c){a=I(a,b);
return null==a?c:a},J=function(a,b,c){b<a.pivot_?a.array[b+a.arrayIndexOffset_]=c:(Qc(a),a.extensionObject_[b]=c)},Xc=function(a,b,c,d){c!==d?J(a,b,c):a.array[b+a.arrayIndexOffset_]=null},Yc=function(a,b,c,d){(c=Rc(a,c))&&c!==b&&void 0!==d&&(a.wrappers_&&c in a.wrappers_&&(a.wrappers_[c]=void 0),J(a,c,void 0));
J(a,b,d)},Rc=function(a,b){for(var c,d,f=0;f<b.length;f++){var g=b[f],h=I(a,g);
null!=h&&(c=g,d=h,J(a,g,void 0))}return c?(J(a,c,d),c):0},Zc=function(a,b,c,d){a.wrappers_||(a.wrappers_={});
if(!a.wrappers_[c]){var f=I(a,c);if(d||f)a.wrappers_[c]=new b(f)}return a.wrappers_[c]},ad=function(a,b,c){$c(a,b,c);
b=a.wrappers_[c];b==Pc&&(b=a.wrappers_[c]=[]);return b},$c=function(a,b,c){a.wrappers_||(a.wrappers_={});
if(!a.wrappers_[c]){for(var d=Uc(a,c),f=[],g=0;g<d.length;g++)f[g]=new b(d[g]);a.wrappers_[c]=f}},bd=function(a,b,c){a.wrappers_||(a.wrappers_={});
var d=c?c.toArray():c;a.wrappers_[b]=c;J(a,b,d)},cd=function(a,b,c,d){a.wrappers_||(a.wrappers_={});
var f=d?d.toArray():d;a.wrappers_[b]=d;Yc(a,b,c,f)},dd=function(a,b,c){a.wrappers_||(a.wrappers_={});
c=c||[];for(var d=[],f=0;f<c.length;f++)d[f]=c[f].toArray();a.wrappers_[b]=c;J(a,b,d)},ed=function(a,b,c,d,f){$c(a,d,b);
var g=a.wrappers_[b];g||(g=a.wrappers_[b]=[]);c=c?c:new d;a=Uc(a,b);void 0!=f?(g.splice(f,0,c),a.splice(f,0,c.toArray())):(g.push(c),a.push(c.toArray()));return c};
Nc.prototype.syncMapFields_=function(){if(this.wrappers_)for(var a in this.wrappers_){var b=this.wrappers_[a];if(y(b))for(var c=0;c<b.length;c++)b[c]&&b[c].toArray();else b&&b.toArray()}};
Nc.prototype.toArray=function(){this.syncMapFields_();return this.array};
Nc.prototype.serialize=Oc?function(){var a=Uint8Array.prototype.toJSON;Uint8Array.prototype.toJSON=function(){return xc(this)};
try{return JSON.stringify(this.array&&fd(this.toArray(),this),gd)}finally{Uint8Array.prototype.toJSON=a}}:function(){return JSON.stringify(this.array&&fd(this.toArray(),this),gd)};
var fd=function(a){return a},gd=function(a,b){return Aa(b)&&(isNaN(b)||Infinity===b||-Infinity===b)?String(b):b};
e=Nc.prototype;e.toString=function(){this.syncMapFields_();return this.array.toString()};
e.getExtension=function(a){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var b=a.fieldIndex;if(a.isRepeated){if(a.isMessageType())return this.wrappers_[b]||(this.wrappers_[b]=Za(this.extensionObject_[b]||[],function(b){return new a.ctor(b)})),this.wrappers_[b]}else if(a.isMessageType())return!this.wrappers_[b]&&this.extensionObject_[b]&&(this.wrappers_[b]=new a.ctor(this.extensionObject_[b])),this.wrappers_[b];
return this.extensionObject_[b]}};
e.setExtension=function(a,b){this.wrappers_||(this.wrappers_={});Qc(this);var c=a.fieldIndex;a.isRepeated?(b=b||[],a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=Za(b,function(a){return a.toArray()})):this.extensionObject_[c]=b):a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=b?b.toArray():b):this.extensionObject_[c]=b;
return this};
e.cloneMessage=function(){return new this.constructor(hd(this.toArray()))};
e.clone=function(){return new this.constructor(hd(this.toArray()))};
var hd=function(a){if(y(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?hd(d):d)}return b}if(Oc&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?hd(d):d);return b};var id=function(a){this.document_=a||{cookie:""}};
e=id.prototype;e.isEnabled=function(){return navigator.cookieEnabled};
e.isValidName=function(a){return!/[;=\s]/.test(a)};
e.isValidValue=function(a){return!/[;\r\n]/.test(a)};
e.set=function(a,b,c,d,f,g){if(!this.isValidName(a))throw Error('Invalid cookie name "'+a+'"');if(!this.isValidValue(b))throw Error('Invalid cookie value "'+b+'"');u(c)||(c=-1);f=f?";domain="+f:"";d=d?";path="+d:"";g=g?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(A()+1E3*c)).toUTCString();this.setCookie_(a+"="+b+f+d+c+g)};
e.get=function(a,b){for(var c=a+"=",d=this.getParts_(),f=0,g;f<d.length;f++){g=rb(d[f]);if(0==g.lastIndexOf(c,0))return g.substr(c.length);if(g==a)return""}return b};
e.remove=function(a,b,c){var d=this.containsKey(a);this.set(a,"",0,b,c);return d};
e.getKeys=function(){return this.getKeyValues_().keys};
e.getValues=function(){return this.getKeyValues_().values};
e.isEmpty=function(){return!this.getCookie_()};
e.getCount=function(){return this.getCookie_()?this.getParts_().length:0};
e.containsKey=function(a){return u(this.get(a))};
e.containsValue=function(a){for(var b=this.getKeyValues_().values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};
e.clear=function(){for(var a=this.getKeyValues_().keys,b=a.length-1;0<=b;b--)this.remove(a[b])};
e.setCookie_=function(a){this.document_.cookie=a};
e.getCookie_=function(){return this.document_.cookie};
e.getParts_=function(){return(this.getCookie_()||"").split(";")};
e.getKeyValues_=function(){for(var a=this.getParts_(),b=[],c=[],d,f,g=0;g<a.length;g++)f=rb(a[g]),d=f.indexOf("="),-1==d?(b.push(""),c.push(f)):(b.push(f.substring(0,d)),c.push(f.substring(d+1)));return{keys:b,values:c}};
var jd=new id("undefined"==typeof document?null:document);var ld=function(a){var b=x("window.location.href");null==a&&(a='Unknown Error of type "null/undefined"');if(v(a))return{message:a,name:"Unknown error",lineNumber:"Not available",fileName:b,stack:"Not available"};var c=!1;try{var d=a.lineNumber||a.line||"Not available"}catch(g){d="Not available",c=!0}try{var f=a.fileName||a.filename||a.sourceURL||r.$googDebugFname||b}catch(g){f="Not available",c=!0}return!c&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:(b=a.message,null==b&&(a.constructor&&
a.constructor instanceof Function?(a.constructor.name?b=a.constructor.name:(b=a.constructor,kd[b]?b=kd[b]:(b=String(b),kd[b]||(c=/function\s+([^\(]+)/m.exec(b),kd[b]=c?c[1]:"[Anonymous]"),b=kd[b])),b='Unknown Error of type "'+b+'"'):b="Unknown Error of unknown type"),{message:b,name:a.name||"UnknownError",lineNumber:d,fileName:f,stack:a.stack||"Not available"})},kd={};var md=function(a){return a},nd=function(a){var b=!1,c;
return function(){b||(c=a(),b=!0);return c}};var od=!F||9<=Number(oc),pd=!Yb&&!F||F&&9<=Number(oc)||Yb&&nc("1.9.1"),qd=F&&!nc("9"),rd=F||Vb||Zb;var sd=E.createSet("area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr");var vd=function(a,b){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a===td&&b||"";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=ud};
vd.prototype.implementsGoogStringTypedString=!0;vd.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};
vd.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};
var wd=function(a){return a instanceof vd&&a.constructor===vd&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===ud?a.stringConstValueWithSecurityContract__googStringSecurityPrivate_:"type_error:Const"},ud={},td={};var yd=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="";this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=xd};
e=yd.prototype;e.implementsGoogStringTypedString=!0;e.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_};
e.implementsGoogI18nBidiDirectionalString=!0;e.getDirection=function(){return 1};
e.cloneWithParams=function(a,b){var c=zd(this);c=Ad.exec(c);var d=c[3]||"";return Bd(c[1]+Cd("?",c[2]||"",a)+Cd("#",d,b))};
var zd=function(a){if(a instanceof yd&&a.constructor===yd&&a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===xd)return a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;Ha(a);return"type_error:TrustedResourceUrl"},Fd=function(a,b){var c=wd(a);
if(!Dd.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);a=c.replace(Ed,function(a,f){if(!Object.prototype.hasOwnProperty.call(b,f))throw Error('Found marker, "'+f+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(b));a=b[f];return a instanceof vd?wd(a):encodeURIComponent(String(a))});
return Bd(a)},Ed=/%{(\w+)}/g,Dd=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ad=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,xd={},Bd=function(a){var b=new yd;
b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=a;return b},Cd=function(a,b,c){if(null==c)return b;
if(v(c))return c?a+encodeURIComponent(c):"";for(var d in c){var f=c[d];f=y(f)?f:[f];for(var g=0;g<f.length;g++){var h=f[g];null!=h&&(b||(b=a),b+=(b.length>a.length?"&":"")+encodeURIComponent(d)+"="+encodeURIComponent(String(h)))}}return b};var Hd=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Gd};
Hd.prototype.implementsGoogStringTypedString=!0;Hd.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};
Hd.prototype.implementsGoogI18nBidiDirectionalString=!0;Hd.prototype.getDirection=function(){return 1};
var Id=function(a){if(a instanceof Hd&&a.constructor===Hd&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Gd)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;Ha(a);return"type_error:SafeUrl"},Jd=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Ld=function(a){if(a instanceof Hd)return a;
a="object"==typeof a&&a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);Jd.test(a)||(a="about:invalid#zClosurez");return Kd(a)},Md=function(a){if(a instanceof Hd)return a;
a="object"==typeof a&&a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);Jd.test(a)||(a="about:invalid#zClosurez");return Kd(a)},Gd={},Kd=function(a){var b=new Hd;
b.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;return b};
Kd("about:blank");var Od=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="";this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Nd};
Od.prototype.implementsGoogStringTypedString=!0;var Nd={};Od.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};
Od.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=a;return this};
var Pd=(new Od).initSecurityPrivateDoNotAccessOrElse_(""),Rd=function(a){return a instanceof Hd?'url("'+Id(a).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")':a instanceof vd?wd(a):Qd(String(a))},Qd=function(a){var b=a.replace(Sd,"$1").replace(Sd,"$1").replace(Td,"url");
if(Ud.test(b)){if(Vd.test(a))return"zClosurez";for(var c=b=!0,d=0;d<a.length;d++){var f=a.charAt(d);"'"==f&&c?b=!b:'"'==f&&b&&(c=!c)}if(!b||!c||!Wd(a))return"zClosurez"}else return"zClosurez";return Xd(a)},Wd=function(a){for(var b=!0,c=/^[-_a-zA-Z0-9]$/,d=0;d<a.length;d++){var f=a.charAt(d);
if("]"==f){if(b)return!1;b=!0}else if("["==f){if(!b)return!1;b=!1}else if(!b&&!c.test(f))return!1}return b},Ud=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,Td=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,Sd=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,Vd=/\/\*/,Xd=function(a){return a.replace(Td,function(a,c,d,f){var b="";
d=d.replace(/^(['"])(.*)\1$/,function(a,c,d){b=c;return d});
a=Ld(d).getTypedStringValue();return c+b+a+b+f})};var Zd=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=Yd;this.dir_=null};
Zd.prototype.implementsGoogI18nBidiDirectionalString=!0;Zd.prototype.getDirection=function(){return this.dir_};
Zd.prototype.implementsGoogStringTypedString=!0;Zd.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};
var $d=function(a){if(a instanceof Zd&&a.constructor===Zd&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Yd)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;Ha(a);return"type_error:SafeHtml"},be=function(a){if(a instanceof Zd)return a;
var b="object"==typeof a,c=null;b&&a.implementsGoogI18nBidiDirectionalString&&(c=a.getDirection());return ae(Ab(b&&a.implementsGoogStringTypedString?a.getTypedStringValue():String(a)),c)},ce=/^[a-zA-Z0-9-]+$/,de=E.createSet("action","cite","data","formaction","href","manifest","poster","src");
E.createSet("APPLET","BASE","EMBED","IFRAME","LINK","MATH","META","OBJECT","SCRIPT","STYLE","SVG","TEMPLATE");var ee=function(a){var b=0,c="",d=function(a){y(a)?C(a,d):(a=be(a),c+=$d(a),a=a.getDirection(),0==b?b=a:0!=a&&b!=a&&(b=null))};
C(arguments,d);return ae(c,b)},Yd={},ae=function(a,b){return(new Zd).initSecurityPrivateDoNotAccessOrElse_(a,b)};
Zd.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a,b){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a;this.dir_=b;return this};
ae("<!DOCTYPE html>",0);ae("",0);var fe=ae("<br>",0);var ge=nd(function(){var a=document.createElement("div");a.innerHTML="<div><div></div></div>";var b=a.firstChild.firstChild;a.innerHTML="";return!b.parentElement}),he=function(a,b){if(ge())for(;a.lastChild;)a.removeChild(a.lastChild);
a.innerHTML=b},ie=function(a,b){b=b instanceof Hd?b:Md(b);
a.href=Id(b)},je=function(a,b){a.src=zd(b);
(b=Da())&&a.setAttribute("nonce",b)},ke=function(a,b){b=b instanceof Hd?b:Md(b);
a.href=Id(b)};var le=function(a,b){this.x=u(a)?a:0;this.y=u(b)?b:0};
e=le.prototype;e.clone=function(){return new le(this.x,this.y)};
e.equals=function(a){return a instanceof le&&(this==a?!0:this&&a?this.x==a.x&&this.y==a.y:!1)};
e.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};
e.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};
e.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
e.translate=function(a,b){a instanceof le?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),Aa(b)&&(this.y+=b));return this};
e.scale=function(a,b){b=Aa(b)?b:a;this.x*=a;this.y*=b;return this};
e.rotateRadians=function(a,b){b=b||new le(0,0);var c=this.x,d=this.y,f=Math.cos(a);a=Math.sin(a);this.x=(c-b.x)*f-(d-b.y)*a+b.x;this.y=(c-b.x)*a+(d-b.y)*f+b.y};
e.rotateDegrees=function(a,b){this.rotateRadians(a*Math.PI/180,b)};var me=function(a,b){this.width=a;this.height=b};
e=me.prototype;e.clone=function(){return new me(this.width,this.height)};
e.getLongest=function(){return Math.max(this.width,this.height)};
e.getShortest=function(){return Math.min(this.width,this.height)};
e.area=function(){return this.width*this.height};
e.perimeter=function(){return 2*(this.width+this.height)};
e.aspectRatio=function(){return this.width/this.height};
e.isEmpty=function(){return!this.area()};
e.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
e.fitsInside=function(a){return this.width<=a.width&&this.height<=a.height};
e.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
e.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
e.scale=function(a,b){b=Aa(b)?b:a;this.width*=a;this.height*=b;return this};
e.scaleToCover=function(a){a=this.aspectRatio()<=a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};
e.scaleToFit=function(a){a=this.aspectRatio()>a.aspectRatio()?a.width/this.width:a.height/this.height;return this.scale(a)};var pe=function(a){return a?new ne(oe(a)):Xa||(Xa=new ne)},qe=function(a,b){return v(b)?a.getElementById(b):b},se=function(a,b){var c=b||document;
return(c.getElementsByClassName?c.getElementsByClassName(a)[0]:re(document,"*",a,b))||null},te=function(a,b,c,d){a=d||a;
b=b&&"*"!=b?String(b).toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var f=0,g=0,h;h=a[g];g++)b==h.nodeName&&(d[f++]=h);d.length=f;return d}return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++)b=h.className,"function"==typeof b.split&&db(b.split(/\s+/),c)&&(d[f++]=h);d.length=f;return d}return a},re=function(a,b,c,d){var f=d||a,g=b&&"*"!=b?String(b).toUpperCase():
"";
return f.querySelectorAll&&f.querySelector&&(g||c)?f.querySelector(g+(c?"."+c:"")):te(a,b,c,d)[0]||null},ve=function(a,b){E.forEach(b,function(b,d){b&&"object"==typeof b&&b.implementsGoogStringTypedString&&(b=b.getTypedStringValue());
"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:ue.hasOwnProperty(d)?a.setAttribute(ue[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},ue={cellpadding:"cellPadding",
cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},xe=function(a){a=a.document;a=we(a)?a.documentElement:a.body;return new me(a.clientWidth,a.clientHeight)},ye=function(a){return a.scrollingElement?a.scrollingElement:!Zb&&we(a)?a.documentElement:a.body||a.documentElement},Ae=function(a,b,c){return ze(document,arguments)},ze=function(a,b){var c=
String(b[0]),d=b[1];
if(!od&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ab(d.name),'"');if(d.type){c.push(' type="',Ab(d.type),'"');var f={};E.extend(f,d);delete f.type;d=f}c.push(">");c=c.join("")}c=a.createElement(c);d&&(v(d)?c.className=d:y(d)?c.className=d.join(" "):ve(c,d));2<b.length&&Be(a,c,b,2);return c},Be=function(a,b,c,d){function f(c){c&&b.appendChild(v(c)?a.createTextNode(c):c)}
for(;d<c.length;d++){var g=c[d];Ia(g)&&!Ce(g)?C(De(g)?gb(g):g,f):f(g)}},we=function(a){return"CSS1Compat"==a.compatMode},Ee=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},Fe=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},Ge=function(a){return pd&&void 0!=a.children?a.children:Ya(a.childNodes,function(a){return 1==a.nodeType})},He=function(a,b){for(;a&&1!=a.nodeType;)a=b?a.nextSibling:a.previousSibling;
return a},Ce=function(a){return Ka(a)&&0<a.nodeType},Ie=function(a){return Ka(a)&&1==a.nodeType},Je=function(a,b){if(!a||!b)return!1;
if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},Le=function(a,b){var c=a.parentNode;
if(c==b)return-1;for(;b.parentNode!=c;)b=b.parentNode;return Ke(b,a)},Ke=function(a,b){for(;b=b.previousSibling;)if(b==a)return-1;
return 1},oe=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document},Me=function(a,b){if("textContent"in a)a.textContent=b;
else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else Ee(a),a.appendChild(oe(a).createTextNode(String(b)))},Oe=function(a,b){var c=[];
return Ne(a,b,c,!0)?c[0]:void 0},Ne=function(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||Ne(a,b,c,d))return!0;
a=a.nextSibling}return!1},Pe={SCRIPT:1,
STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Qe={IMG:" ",BR:"\n"},Te=function(a){return Re(a)&&Se(a)},Ue=function(a){var b;
(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!Re(a)||Se(a)):Te(a))&&F?(a=!Ja(a.getBoundingClientRect)||F&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a},Re=function(a){return F&&!nc("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")},Se=function(a){a=a.tabIndex;
return Aa(a)&&0<=a&&32768>a},We=function(a){if(qd&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");
else{var b=[];Ve(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");qd||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a},Ve=function(a,b,c){if(!(a.nodeName in Pe))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);
else if(a.nodeName in Qe)b.push(Qe[a.nodeName]);else for(a=a.firstChild;a;)Ve(a,b,c),a=a.nextSibling},De=function(a){if(a&&"number"==typeof a.length){if(Ka(a))return"function"==typeof a.item||"string"==typeof a.item;
if(Ja(a))return"function"==typeof a.item}return!1},Ye=function(a,b,c,d){if(!b&&!c)return null;
var f=b?String(b).toUpperCase():null;return Xe(a,function(a){return(!f||a.nodeName==f)&&(!c||v(a.className)&&db(a.className.split(/\s+/),c))},!0,d)},Xe=function(a,b,c,d){a&&!c&&(a=a.parentNode);
for(c=0;a&&(null==d||c<=d);){if(b(a))return a;a=a.parentNode;c++}return null},ne=function(a){this.document_=a||r.document||document};
e=ne.prototype;e.getDomHelper=pe;e.setDocument=function(a){this.document_=a};
e.getDocument=function(){return this.document_};
e.getElement=function(a){return qe(this.document_,a)};
e.getRequiredElement=function(a){return qe(this.document_,a)};
e.$=ne.prototype.getElement;e.getElementsByTagName=function(a,b){return(b||this.document_).getElementsByTagName(String(a))};
e.getElementsByTagNameAndClass=function(a,b,c){return te(this.document_,a,b,c)};
e.getElementByTagNameAndClass=function(a,b,c){return re(this.document_,a,b,c)};
e.getElementsByClass=function(a,b){var c=(b=b||this.document_)||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):te(document,"*",a,b)};
e.getElementByClass=function(a,b){return se(a,b||this.document_)};
e.getRequiredElementByClass=function(a,b){return se(a,b||this.document_)};
e.$$=ne.prototype.getElementsByTagNameAndClass;e.setProperties=ve;e.getViewportSize=function(a){return xe(a||this.getWindow()||window)};
e.getDocumentHeight=function(){var a=this.getWindow(),b=a.document;var c=0;if(b){c=b.body;var d=b.documentElement;if(d&&c)if(a=xe(a).height,we(b)&&d.scrollHeight)c=d.scrollHeight!=a?d.scrollHeight:d.offsetHeight;else{b=d.scrollHeight;var f=d.offsetHeight;d.clientHeight!=f&&(b=c.scrollHeight,f=c.offsetHeight);c=b>a?b>f?b:f:b<f?b:f}else c=0}return c};
e.createDom=function(a,b,c){return ze(this.document_,arguments)};
e.$dom=ne.prototype.createDom;e.createElement=function(a){return this.document_.createElement(String(a))};
e.createTextNode=function(a){return this.document_.createTextNode(String(a))};
e.createTable=function(a,b,c){var d=this.document_;c=!!c;for(var f=d.createElement("TABLE"),g=f.appendChild(d.createElement("TBODY")),h=0;h<a;h++){for(var k=d.createElement("TR"),l=0;l<b;l++){var m=d.createElement("TD");c&&Me(m,"\u00a0");k.appendChild(m)}g.appendChild(k)}return f};
e.safeHtmlToNode=function(a){var b=this.document_;var c=b.createElement("DIV");F?(a=ee(fe,a),he(c,$d(a)),c.removeChild(c.firstChild)):he(c,$d(a));if(1==c.childNodes.length)c=c.removeChild(c.firstChild);else{for(b=b.createDocumentFragment();c.firstChild;)b.appendChild(c.firstChild);c=b}return c};
e.isCss1CompatMode=function(){return we(this.document_)};
e.getWindow=function(){var a=this.document_;return a.parentWindow||a.defaultView};
e.getDocumentScrollElement=function(){return ye(this.document_)};
e.getDocumentScroll=function(){var a=this.document_,b=ye(a);a=a.parentWindow||a.defaultView;return F&&nc("10")&&a.pageYOffset!=b.scrollTop?new le(b.scrollLeft,b.scrollTop):new le(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};
e.getActiveElement=function(a){a=a||this.document_;try{var b=a&&a.activeElement;var c=b&&b.nodeName?b:null}catch(d){c=null}return c};
e.appendChild=function(a,b){a.appendChild(b)};
e.append=function(a,b){Be(oe(a),a,arguments,1)};
e.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
e.removeChildren=Ee;e.insertSiblingBefore=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)};
e.insertSiblingAfter=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)};
e.insertChildAt=function(a,b,c){a.insertBefore(b,a.childNodes[c]||null)};
e.removeNode=Fe;e.replaceNode=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)};
e.flattenElement=function(a){var b,c=a.parentNode;if(c&&11!=c.nodeType){if(a.removeNode)return a.removeNode(!1);for(;b=a.firstChild;)c.insertBefore(b,a);return Fe(a)}};
e.getChildren=Ge;e.getFirstElementChild=function(a){return u(a.firstElementChild)?a.firstElementChild:He(a.firstChild,!0)};
e.getLastElementChild=function(a){return u(a.lastElementChild)?a.lastElementChild:He(a.lastChild,!1)};
e.getNextElementSibling=function(a){return u(a.nextElementSibling)?a.nextElementSibling:He(a.nextSibling,!0)};
e.getPreviousElementSibling=function(a){return u(a.previousElementSibling)?a.previousElementSibling:He(a.previousSibling,!1)};
e.getNextNode=function(a){if(!a)return null;if(a.firstChild)return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null};
e.getPreviousNode=function(a){if(!a)return null;if(!a.previousSibling)return a.parentNode;for(a=a.previousSibling;a&&a.lastChild;)a=a.lastChild;return a};
e.isNodeLike=Ce;e.isElement=Ie;e.isWindow=function(a){return Ka(a)&&a.window==a};
e.getParentElement=function(a){var b;if(rd&&!(F&&nc("9")&&!nc("10")&&r.SVGElement&&a instanceof r.SVGElement)&&(b=a.parentElement))return b;b=a.parentNode;return Ie(b)?b:null};
e.contains=Je;
e.compareNodeOrder=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(F&&!(9<=Number(oc))){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=1==a.nodeType,d=1==b.nodeType;if(c&&d)return a.sourceIndex-b.sourceIndex;var f=a.parentNode,g=b.parentNode;return f==g?Ke(a,b):!c&&Je(f,b)?-1*Le(a,b):!d&&Je(g,a)?Le(b,a):(c?a.sourceIndex:f.sourceIndex)-(d?b.sourceIndex:g.sourceIndex)}d=
oe(a);c=d.createRange();c.selectNode(a);c.collapse(!0);a=d.createRange();a.selectNode(b);a.collapse(!0);return c.compareBoundaryPoints(r.Range.START_TO_END,a)};
e.findCommonAncestor=function(a){var b,c=arguments.length;if(!c)return null;if(1==c)return arguments[0];var d=[],f=Infinity;for(b=0;b<c;b++){for(var g=[],h=arguments[b];h;)g.unshift(h),h=h.parentNode;d.push(g);f=Math.min(f,g.length)}g=null;for(b=0;b<f;b++){h=d[0][b];for(var k=1;k<c;k++)if(h!=d[k][b])return g;g=h}return g};
e.getOwnerDocument=oe;e.getFrameContentDocument=function(a){return a.contentDocument||a.contentWindow.document};
e.getFrameContentWindow=function(a){try{var b;if(!(b=a.contentWindow)){if(a.contentDocument){var c=a.contentDocument;var d=c?c.parentWindow||c.defaultView:window}else d=null;b=d}return b}catch(f){}return null};
e.setTextContent=Me;e.getOuterHtml=function(a){if("outerHTML"in a)return a.outerHTML;var b=oe(a).createElement("DIV");b.appendChild(a.cloneNode(!0));return b.innerHTML};
e.findNode=Oe;e.findNodes=function(a,b){var c=[];Ne(a,b,c,!1);return c};
e.isFocusableTabIndex=Te;e.setFocusableTabIndex=function(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))};
e.isFocusable=Ue;e.getTextContent=We;e.getNodeTextLength=function(a){return We(a).length};
e.getNodeTextOffset=function(a,b){b=b||oe(a).body;for(var c=[];a&&a!=b;){for(var d=a;d=d.previousSibling;)c.unshift(We(d));a=a.parentNode}return c.join("").replace(/^[\s\xa0]+/,"").replace(/ +/g," ").length};
e.getNodeAtOffset=function(a,b,c){a=[a];for(var d=0,f=null;0<a.length&&d<b;)if(f=a.pop(),!(f.nodeName in Pe))if(3==f.nodeType){var g=f.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");d+=g.length}else if(f.nodeName in Qe)d+=Qe[f.nodeName].length;else for(g=f.childNodes.length-1;0<=g;g--)a.push(f.childNodes[g]);Ka(c)&&(c.remainder=f?f.nodeValue.length+b-d-1:0,c.node=f);return f};
e.isNodeList=De;e.getAncestorByTagNameAndClass=Ye;e.getAncestorByClass=function(a,b,c){return Ye(a,null,b,c)};
e.getAncestor=Xe;e.getCanvasContext2D=function(a){return a.getContext("2d")};var $e=function(a){Ze();return Bd(a)},Ze=Fa;var af=function(a){try{return!!a&&null!=a.location.href&&Tb(a,"foo")}catch(b){return!1}},bf=function(a,b,c){if(a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a)},cf=function(a){var b=[];
bf(a,function(a){b.push(a)});
return b},df={ALLOW_FORMS:"allow-forms",
ALLOW_MODALS:"allow-modals",ALLOW_ORIENTATION_LOCK:"allow-orientation-lock",ALLOW_POINTER_LOCK:"allow-pointer-lock",ALLOW_POPUPS:"allow-popups",ALLOW_POPUPS_TO_ESCAPE_SANDBOX:"allow-popups-to-escape-sandbox",ALLOW_PRESENTATION:"allow-presentation",ALLOW_SAME_ORIGIN:"allow-same-origin",ALLOW_SCRIPTS:"allow-scripts",ALLOW_TOP_NAVIGATION:"allow-top-navigation",ALLOW_TOP_NAVIGATION_BY_USER_ACTIVATION:"allow-top-navigation-by-user-activation"},ef=nd(function(){return cf(df)}),ff=function(a){var b=(a||
document.createElement("IFRAME")).sandbox,c=b&&b.supports;
if(!c)return{};var d={};C(ef(),function(a){c.call(b,a)&&(d[a]=!0)});
return d};var gf=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d};
e=gf.prototype;e.getWidth=function(){return this.right-this.left};
e.getHeight=function(){return this.bottom-this.top};
e.clone=function(){return new gf(this.top,this.right,this.bottom,this.left)};
e.contains=function(a){return this&&a?a instanceof gf?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
e.expand=function(a,b,c,d){Ka(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(d));return this};
e.expandToInclude=function(a){this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.right=Math.max(this.right,a.right);this.bottom=Math.max(this.bottom,a.bottom)};
e.expandToIncludeCoordinate=function(a){this.top=Math.min(this.top,a.y);this.right=Math.max(this.right,a.x);this.bottom=Math.max(this.bottom,a.y);this.left=Math.min(this.left,a.x)};
e.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
e.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
e.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
e.translate=function(a,b){a instanceof le?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,Aa(b)&&(this.top+=b,this.bottom+=b));return this};
e.scale=function(a,b){b=Aa(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};var hf=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d};
hf.prototype.clone=function(){return new hf(this.left,this.top,this.width,this.height)};
hf.prototype.toBox=function(){return new gf(this.top,this.left+this.width,this.top+this.height,this.left)};
hf.prototype.intersection=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,!0}return!1};
var jf=function(a,b){var c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);if(c<=d){var f=Math.max(a.top,b.top);a=Math.min(a.top+a.height,b.top+b.height);if(f<=a)return new hf(c,f,d-c,a-f)}return null},kf=function(a,b){return a.left<=b.left+b.width&&b.left<=a.left+a.width&&a.top<=b.top+b.height&&b.top<=a.top+a.height};
e=hf.prototype;e.intersects=function(a){return kf(this,a)};
e.difference=function(a){var b=jf(this,a);if(b&&b.height&&b.width){b=[];var c=this.top,d=this.height,f=this.left+this.width,g=this.top+this.height,h=a.left+a.width,k=a.top+a.height;a.top>this.top&&(b.push(new hf(this.left,this.top,this.width,a.top-this.top)),c=a.top,d-=a.top-this.top);k<g&&(b.push(new hf(this.left,k,this.width,g-k)),d=k-c);a.left>this.left&&b.push(new hf(this.left,c,a.left-this.left,d));h<f&&b.push(new hf(h,c,f-h,d));a=b}else a=[this.clone()];return a};
e.boundingRect=function(a){var b=Math.max(this.left+this.width,a.left+a.width),c=Math.max(this.top+this.height,a.top+a.height);this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.width=b-this.left;this.height=c-this.top};
e.contains=function(a){return a instanceof le?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};
e.squaredDistance=function(a){var b=a.x<this.left?this.left-a.x:Math.max(a.x-(this.left+this.width),0);a=a.y<this.top?this.top-a.y:Math.max(a.y-(this.top+this.height),0);return b*b+a*a};
e.distance=function(a){return Math.sqrt(this.squaredDistance(a))};
e.getSize=function(){return new me(this.width,this.height)};
e.getTopLeft=function(){return new le(this.left,this.top)};
e.getCenter=function(){return new le(this.left+this.width/2,this.top+this.height/2)};
e.getBottomRight=function(){return new le(this.left+this.width,this.top+this.height)};
e.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
e.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
e.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
e.translate=function(a,b){a instanceof le?(this.left+=a.x,this.top+=a.y):(this.left+=a,Aa(b)&&(this.top+=b));return this};
e.scale=function(a,b){b=Aa(b)?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};var lf=!!window.google_async_iframe_id,mf=lf&&window.parent||window;var nf=(new Date).getTime();var of=function(a,b,c){this.limit_=c;this.create_=a;this.reset_=b;this.occupants_=0;this.head_=null};
of.prototype.get=function(){if(0<this.occupants_){this.occupants_--;var a=this.head_;this.head_=a.next;a.next=null}else a=this.create_();return a};
of.prototype.put=function(a){this.reset_(a);this.occupants_<this.limit_&&(this.occupants_++,a.next=this.head_,this.head_=a)};
of.prototype.occupants=function(){return this.occupants_};var pf=function(a){r.setTimeout(function(){throw a;},0)},qf,rf=function(){var a=r.MessageChannel;
"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!D("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;a=z(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);
b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});
if("undefined"!==typeof a&&!D("Trident")&&!D("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(u(c.next)){c=c.next;var a=c.cb;c.cb=null;a()}};
return function(a){d.next={cb:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};
document.documentElement.appendChild(b)}:function(a){r.setTimeout(a,0)}};var sf=function(){this.workTail_=this.workHead_=null},uf=new of(function(){return new tf},function(a){a.reset()},100);
sf.prototype.add=function(a,b){var c=this.getUnusedItem_();c.set(a,b);this.workTail_?this.workTail_.next=c:this.workHead_=c;this.workTail_=c};
sf.prototype.remove=function(){var a=null;this.workHead_&&(a=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),a.next=null);return a};
sf.prototype.returnUnused=function(a){uf.put(a)};
sf.prototype.getUnusedItem_=function(){return uf.get()};
var tf=function(){this.next=this.scope=this.fn=null};
tf.prototype.set=function(a,b){this.fn=a;this.scope=b;this.next=null};
tf.prototype.reset=function(){this.next=this.scope=this.fn=null};var zf=function(a,b){vf||wf();xf||(vf(),xf=!0);yf.add(a,b)},vf,wf=function(){if(r.Promise&&r.Promise.resolve){var a=r.Promise.resolve(void 0);
vf=function(){a.then(Af)}}else vf=function(){var a=Af;
!Ja(r.setImmediate)||r.Window&&r.Window.prototype&&!D("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(qf||(qf=rf()),qf(a)):r.setImmediate(a)}},xf=!1,yf=new sf,Af=function(){for(var a;a=yf.remove();){try{a.fn.call(a.scope)}catch(b){pf(b)}yf.returnUnused(a)}xf=!1};var Bf=function(a){a.prototype.$goog_Thenable=!0},Cf=function(a){if(!a)return!1;
try{return!!a.$goog_Thenable}catch(b){return!1}};var Df=function(a,b){this.state_=0;this.result_=void 0;this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null;this.hadUnhandledRejection_=this.executing_=!1;if(a!=Fa)try{var c=this;a.call(b,function(a){c.resolve_(2,a)},function(a){c.resolve_(3,a)})}catch(d){this.resolve_(3,d)}},Ef=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null;
this.always=!1};
Ef.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null;this.always=!1};
var Ff=new of(function(){return new Ef},function(a){a.reset()},100),Gf=function(a,b,c){var d=Ff.get();
d.onFulfilled=a;d.onRejected=b;d.context=c;return d},Hf=function(a){if(a instanceof Df)return a;
var b=new Df(Fa);b.resolve_(2,a);return b},If=function(a){return new Df(function(b,c){c(a)})},Kf=function(a,b,c){Jf(a,b,c,null)||zf(Ra(b,a))},Lf=function(a){return new Df(function(b,c){var d=a.length,f=[];
if(d)for(var g=function(a,c){d--;f[a]=c;0==d&&b(f)},h=function(a){c(a)},k=0,l;k<a.length;k++)l=a[k],Kf(l,Ra(g,k),h);
else b(f)})},Nf=function(){var a,b,c=new Df(function(c,f){a=c;
b=f});
return new Mf(c,a,b)};
Df.prototype.then=function(a,b,c){return this.addChildPromise_(Ja(a)?a:null,Ja(b)?b:null,c)};
Bf(Df);e=Df.prototype;e.thenVoid=function(a,b,c){this.addCallbackEntry_(Gf(a||Fa,b||null,c))};
e.thenAlways=function(a,b){a=Gf(a,a,b);a.always=!0;this.addCallbackEntry_(a);return this};
e.thenCatch=function(a,b){return this.addChildPromise_(null,a,b)};
e.cancel=function(a){0==this.state_&&zf(function(){var b=new Of(a);this.cancelInternal_(b)},this)};
e.cancelInternal_=function(a){0==this.state_&&(this.parent_?(this.parent_.cancelChild_(this,a),this.parent_=null):this.resolve_(3,a))};
e.cancelChild_=function(a,b){if(this.callbackEntries_){for(var c=0,d=null,f=null,g=this.callbackEntries_;g&&(g.always||(c++,g.child==a&&(d=g),!(d&&1<c)));g=g.next)d||(f=g);d&&(0==this.state_&&1==c?this.cancelInternal_(b):(f?this.removeEntryAfter_(f):this.popEntry_(),this.executeCallback_(d,3,b)))}};
e.addCallbackEntry_=function(a){this.hasEntry_()||2!=this.state_&&3!=this.state_||this.scheduleCallbacks_();this.queueEntry_(a)};
e.addChildPromise_=function(a,b,c){var d=Gf(null,null,null);d.child=new Df(function(f,g){d.onFulfilled=a?function(b){try{var d=a.call(c,b);f(d)}catch(l){g(l)}}:f;
d.onRejected=b?function(a){try{var d=b.call(c,a);!u(d)&&a instanceof Of?g(a):f(d)}catch(l){g(l)}}:g});
d.child.parent_=this;this.addCallbackEntry_(d);return d.child};
e.unblockAndFulfill_=function(a){this.state_=0;this.resolve_(2,a)};
e.unblockAndReject_=function(a){this.state_=0;this.resolve_(3,a)};
e.resolve_=function(a,b){0==this.state_&&(this===b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.state_=1,Jf(b,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=b,this.state_=a,this.parent_=null,this.scheduleCallbacks_(),3!=a||b instanceof Of||Pf(this,b)))};
var Jf=function(a,b,c,d){if(a instanceof Df)return a.thenVoid(b,c,d),!0;if(Cf(a))return a.then(b,c,d),!0;if(Ka(a))try{var f=a.then;if(Ja(f))return Qf(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1},Qf=function(a,b,c,d,f){var g=!1,h=function(a){g||(g=!0,c.call(f,a))},k=function(a){g||(g=!0,d.call(f,a))};
try{b.call(a,h,k)}catch(l){k(l)}};
e=Df.prototype;e.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,zf(this.executeCallbacks_,this))};
e.hasEntry_=function(){return!!this.callbackEntries_};
e.queueEntry_=function(a){this.callbackEntriesTail_?this.callbackEntriesTail_.next=a:this.callbackEntries_=a;this.callbackEntriesTail_=a};
e.popEntry_=function(){var a=null;this.callbackEntries_&&(a=this.callbackEntries_,this.callbackEntries_=a.next,a.next=null);this.callbackEntries_||(this.callbackEntriesTail_=null);return a};
e.removeEntryAfter_=function(a){a.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=a);a.next=a.next.next};
e.executeCallbacks_=function(){for(var a;a=this.popEntry_();)this.executeCallback_(a,this.state_,this.result_);this.executing_=!1};
e.executeCallback_=function(a,b,c){3==b&&a.onRejected&&!a.always&&this.removeUnhandledRejection_();if(a.child)a.child.parent_=null,Rf(a,b,c);else try{a.always?a.onFulfilled.call(a.context):Rf(a,b,c)}catch(d){Sf.call(null,d)}Ff.put(a)};
var Rf=function(a,b,c){2==b?a.onFulfilled.call(a.context,c):a.onRejected&&a.onRejected.call(a.context,c)};
Df.prototype.addStackTrace_=function(){};
Df.prototype.appendLongStack_=function(){};
Df.prototype.removeUnhandledRejection_=function(){var a;for(a=this;a&&a.hadUnhandledRejection_;a=a.parent_)a.hadUnhandledRejection_=!1};
var Pf=function(a,b){a.hadUnhandledRejection_=!0;zf(function(){a.hadUnhandledRejection_&&Sf.call(null,b)})},Sf=pf,Of=function(a){Wa.call(this,a)};
B(Of,Wa);Of.prototype.name="cancel";var Mf=function(a,b,c){this.promise=a;this.resolve=b;this.reject=c};var Tf=function(a){this.servicePromise_=a;this.resolvedService_=null;a.then(z(function(a){this.resolvedService_=a},this));
this.logger_=null},Vf=function(a,b,c){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];
f=Uf(a,b).then(function(a){return a.apply(null,d)});
return new Tf(f)},Wf={},Uf=function(a,b){var c=Wf[b];
if(c)return c;c=(c=x(b))?Hf(c):(new Df(function(b,c){var d=(new ne(document)).createElement("SCRIPT");d.async=!0;je(d,Bd(wd(a)));d.onload=d.onreadystatechange=function(){d.readyState&&"loaded"!=d.readyState&&"complete"!=d.readyState||b()};
d.onerror=c;(document.head||document.getElementsByTagName("head")[0]).appendChild(d)})).then(function(){var c=x(b);
if(!c)throw Error("Failed to load "+b+" from "+a);return c});
return Wf[b]=c};
Tf.prototype.applyAsync_=function(a,b){return this.servicePromise_.then(function(c){var d=c[a];if(!d)throw Error("Method not found: "+a);return d.apply(c,b)})};
Tf.prototype.applySync_=function(a,b){var c=this.resolvedService_;if(c&&(a=c[a]))return a.apply(c,b)};var Xf=function(a){this.loader_=a},Yf=new vd(td,"https://www.gstatic.com/feedback/js/help/prod/service/lazy.min.js");
e=Xf.prototype;e.startFeedback=function(a){this.loader_.applyAsync_("startFeedback",arguments)};
e.startGuide=function(a,b){this.loader_.applyAsync_("startGuide",arguments)};
e.stopGuide=function(){this.loader_.applyAsync_("stopGuide",arguments)};
e.startHelp=function(a){this.loader_.applyAsync_("startHelp",arguments)};
e.loadChatSupport=function(a){this.loader_.applyAsync_("loadChatSupport",arguments)};
e.registerHelpAction=function(a,b,c){this.loader_.applyAsync_("registerHelpAction",arguments)};
e.executeHelpAction=function(a,b){this.loader_.applySync_("executeHelpAction",arguments)};
e.isHelpActionApplicable=function(a){return!!this.loader_.applySync_("isHelpActionApplicable",arguments)};
Uf(Yf,"help.service.Lazy.create");var Zf="StopIteration"in r?r.StopIteration:{message:"StopIteration",stack:""},$f=function(){};
$f.prototype.next=function(){throw Zf;};
$f.prototype.__iterator__=function(){return this};
var ag=function(a){if(a instanceof $f)return a;if("function"==typeof a.__iterator__)return a.__iterator__(!1);if(Ia(a)){var b=0,c=new $f;c.next=function(){for(;;){if(b>=a.length)throw Zf;if(b in a)return a[b++];b++}};
return c}throw Error("Not implemented");},bg=function(a,b,c){if(Ia(a))try{C(a,b,c)}catch(d){if(d!==Zf)throw d;
}else{a=ag(a);try{for(;;)b.call(c,a.next(),void 0,a)}catch(d){if(d!==Zf)throw d;}}},cg=function(a){if(Ia(a))return gb(a);
a=ag(a);var b=[];bg(a,function(a){b.push(a)});
return b};var dg=function(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};
e=dg.prototype;e.getCount=function(){return this.count_};
e.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};
e.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};
e.containsKey=function(a){return eg(this.map_,a)};
e.containsValue=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(eg(this.map_,c)&&this.map_[c]==a)return!0}return!1};
e.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||fg;this.cleanupKeysArray_();for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};
var fg=function(a,b){return a===b};
e=dg.prototype;e.isEmpty=function(){return 0==this.count_};
e.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};
e.remove=function(a){return eg(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1};
e.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];eg(this.map_,c)&&(this.keys_[b++]=c);a++}this.keys_.length=b}if(this.count_!=this.keys_.length){var d={};for(b=a=0;a<this.keys_.length;)c=this.keys_[a],eg(d,c)||(this.keys_[b++]=c,d[c]=1),a++;this.keys_.length=b}};
e.get=function(a,b){return eg(this.map_,a)?this.map_[a]:b};
e.set=function(a,b){eg(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
e.addAll=function(a){if(a instanceof dg)for(var b=a.getKeys(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};
e.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var f=c[d],g=this.get(f);a.call(b,g,f,this)}};
e.clone=function(){return new dg(this)};
e.transpose=function(){for(var a=new dg,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};
e.toObject=function(){this.cleanupKeysArray_();for(var a={},b=0;b<this.keys_.length;b++){var c=this.keys_[b];a[c]=this.map_[c]}return a};
e.getKeyIterator=function(){return this.__iterator__(!0)};
e.getValueIterator=function(){return this.__iterator__(!1)};
e.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.version_,d=this,f=new $f;f.next=function(){if(c!=d.version_)throw Error("The map has changed since the iterator was created");if(b>=d.keys_.length)throw Zf;var f=d.keys_[b++];return a?f:d.map_[f]};
return f};
var eg=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var gg=function(a,b,c){b||(b={});c=c||window;var d=a instanceof Hd?a:Ld("undefined"!=typeof a.href?a.href:String(a));a=b.target||a.target;var f=[];for(g in b)switch(g){case "width":case "height":case "top":case "left":f.push(g+"="+b[g]);break;case "target":case "noopener":case "noreferrer":break;default:f.push(g+"="+(b[g]?1:0))}var g=f.join(",");(Rb()||D("iPad")||D("iPod"))&&c.navigator&&c.navigator.standalone&&a&&"_self"!=a?(g=c.document.createElement("A"),ie(g,d),g.setAttribute("target",a),b.noreferrer&&
g.setAttribute("rel","noreferrer"),b=document.createEvent("MouseEvent"),b.initMouseEvent("click",!0,!0,c,1),g.dispatchEvent(b),c={}):b.noreferrer?(c=c.open("",a,g),b=Id(d),c&&(Xb&&-1!=b.indexOf(";")&&(b="'"+b.replace(/'/g,"%27")+"'"),c.opener=null,b='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ab(b)+'">',b=ae(b,null),c.document.write($d(b)),c.document.close())):(c=c.open(Id(d),a,g))&&b.noopener&&(c.opener=null);return c};var hg=function(a,b,c,d,f,g,h){var k="";a&&(k+=a+":");c&&(k+="//",b&&(k+=b+"@"),k+=c,d&&(k+=":"+d));f&&(k+=f);g&&(k+="?"+g);h&&(k+="#"+h);return k},ig=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,jg=function(a){return a.match(ig)},kg=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):a},lg=function(a){return kg(jg(a)[3]||null,!0)},mg=function(a){var b=a.indexOf("#");
return 0>b?null:a.substr(b+1)},ng=function(a){a=jg(a);
return hg(a[1],a[2],a[3],a[4])},og=function(a){a=jg(a);
return hg(null,null,null,null,a[5],a[6],a[7])},pg=function(a){var b=a.indexOf("#");
return 0>b?a:a.substr(0,b)},qg=function(a,b){a=jg(a);
b=jg(b);return a[3]==b[3]&&a[1]==b[1]&&a[4]==b[4]},rg=function(a,b){if(a){a=a.split("&");
for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),f=null;if(0<=d){var g=a[c].substring(0,d);f=a[c].substring(d+1)}else g=a[c];b(g,f?sb(f):"")}}},sg=function(a,b){if(!b)return a;
var c=a.indexOf("#");0>c&&(c=a.length);var d=a.indexOf("?");if(0>d||d>c){d=c;var f=""}else f=a.substring(d+1,c);a=[a.substr(0,d),f,a.substr(c)];c=a[1];a[1]=b?c?c+"&"+b:b:c;return a[0]+(a[1]?"?"+a[1]:"")+a[2]},tg=function(a,b,c){if(y(b))for(var d=0;d<b.length;d++)tg(a,String(b[d]),c);
else null!=b&&c.push(a+(""===b?"":"="+encodeURIComponent(String(b))))},ug=function(a){var b=[],c;
for(c in a)tg(c,a[c],b);return b.join("&")},vg=function(a,b){b=ug(b);
return sg(a,b)},wg=function(a,b,c){c=null!=c?"="+encodeURIComponent(String(c)):"";
return sg(a,b+c)},xg=function(a,b,c,d){for(var f=c.length;0<=(b=a.indexOf(c,b))&&b<d;){var g=a.charCodeAt(b-1);
if(38==g||63==g)if(g=a.charCodeAt(b+f),!g||61==g||38==g||35==g)return b;b+=f+1}return-1},yg=/#|$/,zg=/[?&]($|#)/,Ag=function(a,b){for(var c=a.search(yg),d=0,f,g=[];0<=(f=xg(a,d,b,c));)g.push(a.substring(d,f)),d=Math.min(a.indexOf("&",f)+1||c,c);
g.push(a.substr(d));return g.join("").replace(zg,"$1")};var Bg=function(){this.data_=[];this.cachedPackedInt52_=-1};
Bg.prototype.set=function(a,b){b=void 0===b?!0:b;0<=a&&52>a&&0===a%1&&this.data_[a]!=b&&(this.data_[a]=b,this.cachedPackedInt52_=-1)};
Bg.prototype.get=function(a){return!!this.data_[a]};
Bg.prototype.packAsInt52=function(){-1==this.cachedPackedInt52_&&(this.cachedPackedInt52_=$a(this.data_,function(a,b,c){return b?a+Math.pow(2,c):a},0));
return this.cachedPackedInt52_};var Cg=function(a,b,c){a.timeOfStartCall=(new Date).getTime();var d=c||r,f=d.document,g=Da(d);g&&(a.nonce=g);if("help"==a.flow){var h=x("document.location.href",d);!a.helpCenterContext&&h&&(a.helpCenterContext=h.substring(0,1200));h=!0;if(b&&JSON&&JSON.stringify){var k=JSON.stringify(b);(h=1200>=k.length)&&(a.psdJson=k)}h||(b={invalidPsd:!0})}b=[a,b,c];d.GOOGLE_FEEDBACK_START_ARGUMENTS=b;c=a.serverUri||"//www.google.com/tools/feedback";if(h=d.GOOGLE_FEEDBACK_START)h.apply(d,b);else{d=c+"/load.js?";
for(var l in a)b=a[l],null!=b&&!Ka(b)&&(d+=encodeURIComponent(l)+"="+encodeURIComponent(b)+"&");a=pe(f).createElement("SCRIPT");g&&a.setAttribute("nonce",g);je(a,$e(d));f.body.appendChild(a)}};
w("userfeedback.api.startFeedback",Cg,void 0);var Dg=function(a,b){this.win_=a;this.doc_=b};
Dg.prototype.getAdSignals=function(a){a=void 0===a?x("yt.ads.biscotti.lastId_")||"":a;var b=Object.assign(this.getCommonClientParams(),this.getPyvClientParams());b.ca_type="image";a&&(b.bid=a);return b};
Dg.prototype.getCommonClientParams=function(){var a={};a=(a.dt=nf,a.flash="0",a.frm=this.getIframeState_(),a);a.u_tz=-(new Date).getTimezoneOffset();var b=void 0;b=void 0===b?Ua:b;try{var c=b.history.length}catch(d){c=0}a.u_his=c;a.u_java=!!Ua.navigator&&"unknown"!==typeof Ua.navigator.javaEnabled&&!!Ua.navigator.javaEnabled&&Ua.navigator.javaEnabled();Ua.screen&&(a.u_h=Ua.screen.height,a.u_w=Ua.screen.width,a.u_ah=Ua.screen.availHeight,a.u_aw=Ua.screen.availWidth,a.u_cd=Ua.screen.colorDepth);Ua.navigator&&
Ua.navigator.plugins&&(a.u_nplug=Ua.navigator.plugins.length);Ua.navigator&&Ua.navigator.mimeTypes&&(a.u_nmime=Ua.navigator.mimeTypes.length);return a};
Dg.prototype.getPyvClientParams=function(){var a=this.win_;try{var b=a.screenX;var c=a.screenY}catch(l){}try{var d=a.outerWidth;var f=a.outerHeight}catch(l){}try{var g=a.innerWidth;var h=a.innerHeight}catch(l){}a=[a.screenLeft,a.screenTop,b,c,a.screen?a.screen.availWidth:void 0,a.screen?a.screen.availTop:void 0,d,f,g,h];b=this.win_.top;try{var k=xe(b||window).round()}catch(l){k=new me(-12245933,-12245933)}b=k;k={};c=new Bg;r.SVGElement&&r.document.createElementNS&&c.set(0);d=ff();d["allow-top-navigation-by-user-activation"]&&
c.set(1);d["allow-popups-to-escape-sandbox"]&&c.set(2);r.crypto&&r.crypto.subtle&&c.set(3);c=c.packAsInt52();k.bc=c;k.bih=b.height;k.biw=b.width;k.brdim=a.join();a=this.doc_;return k.vis={visible:1,hidden:2,prerender:3,preview:4,unloaded:5}[a.visibilityState||a.webkitVisibilityState||a.mozVisibilityState||""]||0,k.wgl=!!Ua.WebGLRenderingContext,k};
Dg.prototype.getIframeState_=function(){try{var a=this.win_.top.location.href}catch(b){return 2}return a?a===this.doc_.location.href?0:1:2};
var Eg=new Dg(window,window.document);var Fg=window.performance&&window.performance.timing&&window.performance.now?function(){return window.performance.timing.navigationStart+window.performance.now()}:function(){return(new Date).getTime()};var Gg=window.yt&&window.yt.config_||window.ytcfg&&window.ytcfg.data_||{};w("yt.config_",Gg,void 0);function Hg(a){var b=arguments;if(1<b.length)Gg[b[0]]=b[1];else{b=b[0];for(var c in b)Gg[c]=b[c]}}
function K(a,b){return a in Gg?Gg[a]:b}
;A();navigator.userAgent.indexOf(" (CrKey ");var Ig={};function Jg(a){return a&&window.yterr?function(){try{return a.apply(this,arguments)}catch(b){L(b)}}:a}
function L(a,b,c,d,f){var g=x("yt.logging.errors.log");g?g(a,b,c,d,f):(g=K("ERRORS",[]),g.push([a,b,c,d,f]),Hg("ERRORS",g))}
function Kg(a){if(a instanceof Error)L(a);else{var b=Ka(a)?JSON.stringify(a):String(a),c;a||(c="WARNING");L(Lg(b,"RejectedPromiseError"),c)}}
function Lg(a,b){a=Error(a);a.name=b;return a}
;function M(a){return!!Mg(a)}
function Ng(a,b){a=Mg(a);return void 0===a&&void 0!==b?b:Number(a||0)}
function Og(a){a=Mg(a);return y(a)?Za(a,function(a){return String(a||"")}):[String(a||"")]}
function Mg(a){return K("EXPERIMENT_FLAGS",{})[a]}
;var Pg=u(XMLHttpRequest)?function(){return new XMLHttpRequest}:u(ActiveXObject)?function(){return new ActiveXObject("Microsoft.XMLHTTP")}:null;
function Qg(){if(!Pg)return null;var a=Pg();return"open"in a?a:null}
;function Rg(a,b){Ja(a)&&(a=Jg(a));return window.setTimeout(a,b)}
function Sg(a){window.clearTimeout(a)}
;var Tg=function(a){return a};function Ug(a,b){var c=[];E.forEach(a,function(a,b){var d=encodeURIComponent(String(b));a=y(a)?a:[a];C(a,function(a){""==a?c.push(d):c.push(d+"="+encodeURIComponent(String(a)))})});
return c.join(b)}
function Vg(a){"?"==a.charAt(0)&&(a=a.substr(1));a=a.split("&");for(var b={},c=0,d=a.length;c<d;c++){var f=a[c].split("=");if(1==f.length&&f[0]||2==f.length){var g=sb(f[0]||"");f=sb(f[1]||"");g in b?y(b[g])?hb(b[g],f):b[g]=[b[g],f]:b[g]=f}}return b}
function Wg(a){return-1!=a.indexOf("?")?(a=(a||"").split("#")[0],a=a.split("?",2),Vg(1<a.length?a[1]:a[0])):{}}
function Xg(a,b,c){var d=a.split("#",2);a=d[0];d=1<d.length?"#"+d[1]:"";var f=a.split("?",2);a=f[0];f=Vg(f[1]||"");for(var g in b)if(c||!E.containsKey(f,g))f[g]=b[g];return vg(a,f)+d}
function Yg(a,b){b||(b=window.location.href);var c=jg(a)[1]||null,d=lg(a);return c&&d?qg(a,b):d?lg(b)==d&&(Number(jg(b)[4]||null)||null)==(Number(jg(a)[4]||null)||null):!0}
;var Zg={Authorization:"AUTHORIZATION","X-Goog-Visitor-Id":"SANDBOXED_VISITOR_ID","X-YouTube-Client-Name":"INNERTUBE_CONTEXT_CLIENT_NAME","X-YouTube-Client-Version":"INNERTUBE_CONTEXT_CLIENT_VERSION","X-Youtube-Identity-Token":"ID_TOKEN","X-YouTube-Page-CL":"PAGE_CL","X-YouTube-Page-Label":"PAGE_BUILD_LABEL","X-YouTube-Variants-Checksum":"VARIANTS_CHECKSUM"},$g="app debugcss debugjs expflag force_ad_params force_viral_ad_response_params forced_experiments internalcountrycode internalipoverride absolute_experiments conditional_experiments sbb sr_bns_address".split(" "),
ah=!1;function bh(a,b){b=void 0===b?{}:b;var c=Yg(a),d=M("web_ajax_ignore_global_headers_if_set"),f;for(f in Zg){var g=K(Zg[f]);!g||!c&&!ch(a,f)||d&&void 0!==b[f]||(b[f]=g)}if(c||ch(a,"X-YouTube-Utc-Offset"))b["X-YouTube-Utc-Offset"]=-(new Date).getTimezoneOffset();M("pass_biscotti_id_in_header_ajax")&&(c||ch(a,"X-YouTube-Ad-Signals"))&&(a=Eg.getAdSignals(void 0),b["X-YouTube-Ad-Signals"]=Ug(a,"&"));return b}
function dh(a,b){var c=lg(a),d=kg(jg(a)[5]||null,!0);d=(c=c&&c.endsWith("youtube.com"))&&d&&d.startsWith("/api/");if(!c||d)return a;var f=Vg(b),g={};C($g,function(a){f[a]&&(g[a]=f[a])});
return Xg(a,g||{},!1)}
function ch(a,b){var c=K("CORS_HEADER_WHITELIST")||{};a=lg(a);return a?(c=c[a])?db(c,b):!1:!0}
function eh(a,b){if(!window.fetch||"XML"==b.format)return fh(a,b);var c={method:b.method||"GET",credentials:"same-origin"};b.headers&&(c.headers=b.headers);a=gh(a,b);var d=hh(a,b);d&&(c.body=d);b.withCredentials&&(c.credentials="include");var f=!1,g;a=fetch(a,c);a.then(function(a){if(!f){f=!0;g&&Sg(g);var c=a.ok,d=function(d){d=d||{};var f=b.context||r;c?b.onSuccess&&b.onSuccess.call(f,d,a):b.onError&&b.onError.call(f,d,a);b.onFinish&&b.onFinish.call(f,d,a)};
"JSON"==(b.format||"JSON")&&(c||400<=a.status&&500>a.status)?a.json().then(d,function(){d(null)}):d(null)}});
b.onFetchTimeout&&0<b.timeout&&(g=Rg(function(){f||(f=!0,Sg(g),b.onFetchTimeout.call(b.context||r))},b.timeout));
return a}
function ih(a,b){var c=K("XSRF_FIELD_NAME",void 0),d;b.headers&&(d=b.headers["Content-Type"]);return!b.excludeXsrf&&(!lg(a)||b.withCredentials||lg(a)==document.location.hostname)&&"POST"==b.method&&(!d||"application/x-www-form-urlencoded"==d)&&!(b.postParams&&b.postParams[c])}
function fh(a,b){var c=b.format||"JSON";a=gh(a,b);var d=hh(a,b),f=!1,g,h=jh(a,function(a){if(!f){f=!0;g&&Sg(g);a:switch(a&&"status"in a?a.status:-1){case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 304:var d=!0;break a;default:d=!1}var h=null,k=400<=a.status&&500>a.status,t=500<=a.status&&600>a.status;if(d||k||t)h=kh(c,a,b.convertToSafeHtml);if(d)a:if(a&&204==a.status)d=!0;else{switch(c){case "XML":d=0==parseInt(h&&h.return_code,10);break a;case "RAW":d=!0;break a}d=!!h}h=h||{};
k=b.context||r;d?b.onSuccess&&b.onSuccess.call(k,a,h):b.onError&&b.onError.call(k,a,h);b.onFinish&&b.onFinish.call(k,a,h)}},b.method,d,b.headers,b.responseType,b.withCredentials);
b.onTimeout&&0<b.timeout&&(g=Rg(function(){f||(f=!0,h.abort(),Sg(g))},b.timeout));
return h}
function gh(a,b){b.includeDomain&&(a=document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")+a);var c=K("XSRF_FIELD_NAME",void 0);if(b=b.urlParams)b[c]&&delete b[c],a=Xg(a,b||{},!0);return a}
function hh(a,b){var c=K("XSRF_FIELD_NAME",void 0),d=K("XSRF_TOKEN",void 0),f=b.postBody||"",g=b.postParams;ih(a,b)&&(g||(g={}),g[c]=d);g&&v(f)&&(f=Vg(f),E.extend(f,g),f=b.postBodyFormat&&"JSON"==b.postBodyFormat?JSON.stringify(f):ug(f));g=f||g&&!E.isEmpty(g);!ah&&g&&"POST"!=b.method&&(ah=!0,L(Error("AJAX request with postData should use POST")));return f}
function kh(a,b,c){var d=null;switch(a){case "JSON":a=b.responseText;b=b.getResponseHeader("Content-Type")||"";a&&0<=b.indexOf("json")&&(d=JSON.parse(a));break;case "XML":if(b=(b=b.responseXML)?lh(b):null)d={},C(b.getElementsByTagName("*"),function(a){d[a.tagName]=mh(a)})}c&&nh(d);
return d}
function nh(a){if(Ka(a))for(var b in a)"html_content"==b||pb(b,"_html")?a[b]=ae(a[b],null):nh(a[b])}
function lh(a){return a?(a=("responseXML"in a?a.responseXML:a).getElementsByTagName("root"))&&0<a.length?a[0]:null:null}
function mh(a){var b="";C(a.childNodes,function(a){b+=a.nodeValue});
return b}
var oh=function(a,b){b.method="POST";b.postParams||(b.postParams={});return fh(a,b)},jh=function(a,b,c,d,f,g,h){c=void 0===c?"GET":c;
d=void 0===d?"":d;var k=Qg();if(!k)return null;var l=function(){4==(k&&"readyState"in k?k.readyState:0)&&b&&Jg(b)(k)};
"onloadend"in k?k.addEventListener("loadend",l,!1):k.onreadystatechange=l;M("debug_forward_web_query_parameters")&&(a=dh(a,window.location.search));k.open(c,a,!0);g&&(k.responseType=g);h&&(k.withCredentials=!0);c="POST"==c&&(void 0===window.FormData||!(d instanceof FormData));if(f=bh(a,f))for(var m in f)k.setRequestHeader(m,f[m]),"content-type"==m.toLowerCase()&&(c=!1);c&&k.setRequestHeader("Content-Type","application/x-www-form-urlencoded");k.send(d);return k},ph=ih;var qh={},rh=0;
function sh(a,b,c,d,f,g){g=g||{};g.name=c||K("INNERTUBE_CONTEXT_CLIENT_NAME",1);g.version=d||K("INNERTUBE_CONTEXT_CLIENT_VERSION",void 0);b=void 0===b?"ERROR":b;f=void 0===f?!1:f;b=void 0===b?"ERROR":b;f=window&&window.yterr||(void 0===f?!1:f)||!1;if(a&&f&&!(5<=rh)){c=a.stacktrace;d=a.columnNumber;a.hasOwnProperty("params")&&(g.params=JSON.stringify(a.params).substr(0,500));a=ld(a);c=c||a.stack;f=a.lineNumber.toString();isNaN(f)||isNaN(d)||(f=f+":"+d);window.yterr&&Ja(window.yterr)&&window.yterr(a);
if(d=!qh[a.message])d=c,d=!(0<=d.indexOf("/YouTubeCenter.js")||0<=d.indexOf("/mytube.js"));if(d){b={urlParams:{a:"logerror",t:"jserror",type:a.name,msg:a.message.substr(0,1E3),line:f,level:b,"client.name":g.name},postParams:{url:K("PAGE_NAME",window.location.href),file:a.fileName},method:"POST"};g.version&&(b["client.version"]=g.version);c&&(b.postParams.stack=c);for(var h in g)b.postParams["client."+h]=g[h];if(h=K("LATEST_ECATCHER_SERVICE_TRACKING_PARAMS",void 0))for(var k in h)b.postParams[k]=h[k];
fh(K("ECATCHER_REPORT_HOST","")+"/error_204",b);qh[a.message]=!0;rh++}}}
function th(a,b,c){b=void 0===b?"ERROR":b;c=void 0===c?{}:c;var d=x("ytbin.polymer.shared.lib.tampering.info");d&&(d=d())&&(c.tamperingInfo=JSON.stringify(d));sh(a,b,void 0,void 0,!0,c)}
;var uh=function(a,b,c,d){this.actionName=a;this.optionalAction=void 0===b?!1:b;this.args=void 0===c?null:c;this.disableBroadcast=void 0===d?!1:d;this.returnValue=[]},vh=function(a,b,c){this.actionName=a;
this.context=b;this.handler=c},wh=function(a,b){this.actionName=a;
this.context=b};var xh=function(){};
e=xh.prototype;e.addIdlePriorityJob=function(a,b){return this.addJob(a,0,b)};
e.addLowPriorityJob=function(a,b){return this.addJob(a,1,b)};
e.addMediumPriorityJob=function(a,b){return this.addJob(a,2,b)};
e.addHighPriorityJob=function(a,b){return this.addJob(a,3,b)};
e.addInputPriorityJob=function(a,b){return this.addJob(a,4,b)};
e.addImmediateJob=function(a){var b=x("yt.scheduler.instance.addImmediateJob");b?b(a):a()};
e.cancelJobList=function(a){for(var b=0,c=a.length;b<c;b++)this.cancelJob(a[b])};var yh=function(){};
p(yh,xh);e=yh.prototype;e.useAddJob=function(){return!!x("yt.scheduler.instance")};
e.addJob=function(a,b,c){isNaN(c)&&(c=void 0);var d=x("yt.scheduler.instance.addJob");return d?d(a,b,c):void 0===c?(a(),NaN):Rg(a,c||0)};
e.cancelJob=function(a){if(!isNaN(a)){var b=x("yt.scheduler.instance.cancelJob");b?b(a):Sg(a)}};
e.cancelAllJobs=function(){x("yt.scheduler.instance.cancelAllJobs")()};
e.start=function(){var a=x("yt.scheduler.instance.start");a&&a()};
e.pause=function(){var a=x("yt.scheduler.instance.pause");a&&a()};
e.setPriorityThreshold=function(a){var b=x("yt.scheduler.instance.setPriorityThreshold");b&&b(a)};
e.enablePriorityThreshold=function(a){var b=x("yt.scheduler.instance.enablePriorityThreshold");b&&b(a)};
e.enableInputPriorityThreshold=function(){this.enablePriorityThreshold(4)};
e.enableHighPriorityThreshold=function(){this.enablePriorityThreshold(3)};
e.enableMediumPriorityThreshold=function(){this.enablePriorityThreshold(2)};
e.enableLowPriorityThreshold=function(){this.enablePriorityThreshold(1)};
e.enableIdlePriorityThreshold=function(){this.enablePriorityThreshold(0)};
e.setInputPriorityThreshold=function(){this.setPriorityThreshold(4)};
e.setHighPriorityThreshold=function(){this.setPriorityThreshold(3)};
e.setMediumPriorityThreshold=function(){this.setPriorityThreshold(2)};
e.setLowPriorityThreshold=function(){this.setPriorityThreshold(1)};
e.setIdlePriorityThreshold=function(){this.setPriorityThreshold(0)};
e.clearPriorityThreshold=function(){var a=x("yt.scheduler.instance.clearPriorityThreshold");a?a():this.setIdlePriorityThreshold()};
Ga(yh);var N=yh.getInstance();var zh=new Map,Ah=function(a,b,c){var d=Na(a);!c&&zh.has(d)&&N.addIdlePriorityJob(function(){th(Error("Unable to register "+(b.is||b)+"! Component "+a+" is already registered!"),"WARNING")},5E3);
zh.set(d,b)},Bh=function(a){a=Na(a);
return zh.get(a)};function Ch(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=c,f=b[c];a=wg(Ag(a,d),d,f)}return a}
function Dh(a,b){if(!a)return null;if(a.adInfoDialogEndpoint||a.confirmDialogEndpoint||a.guideBuilderEndpoint||a.modalEndpoint||a.shareEndpoint||a.shareEntityEndpoint||a.subscriptionManagerEndpoint||a.videoEditorEndpoint||a.backstageImageUploadEndpoint||a.createBackstagePostDialogEndpoint||a.createCommentReplyDialogEndpoint||a.updateCommentDialogEndpoint||a.updateCommentReplyDialogEndpoint||a.flowEndpoint||a.liveChatDialogEndpoint||a.showLiveChatItemEndpoint||a.unlimitedCreateFamilyEndpoint||a.unlimitedFamilyFlowEndpoint||
a.userFeedbackEndpoint||a.ypcCancelSurveyEndpoint||a.clientActionEndpoint)return Math.random()<Ng("polymer_report_client_url_requested_rate")&&(b=Error("urlForEndpoint used on client endpoint"),b.endpoint=a,L(b,"WARNING")),null;var c=Ng("polymer_report_missing_web_navigation_endpoint_rate");if(!a.commandMetadata&&!a.clickTrackingParams&&Math.random()<c){var d=Error("Missing navigation data");d.params=a;L(d,"WARNING")}d="";if(a.commandMetadata&&a.commandMetadata.webCommandMetadata&&a.commandMetadata.webCommandMetadata.url)d=
a.commandMetadata.webCommandMetadata.url;else if(a.searchEndpoint)Math.random()<c&&(d=Error("Should not manually handle search"),d.params=a,L(d,"WARNING")),d="/results?search_query="+encodeURIComponent(a.searchEndpoint.query).replace(/%20/g,"+"),a.searchEndpoint.params&&(d+="&sp="+a.searchEndpoint.params);else if(a.watchEndpoint)Math.random()<c&&(d=Error("Should not manually handle watch"),d.params=a,L(d,"WARNING")),d="/watch?v="+a.watchEndpoint.videoId,a.watchEndpoint.playlistId&&(d+="&list="+a.watchEndpoint.playlistId),
a.watchEndpoint.index&&(d+="&index="+a.watchEndpoint.index),a.watchEndpoint.startTimeSeconds&&(d+="&t="+a.watchEndpoint.startTimeSeconds);else if(a.browseEndpoint){c=a.browseEndpoint.browseId;var f=a.browseEndpoint.canonicalBaseUrl;f?d=f:c&&(d=c.substr(0,2),d="FE"==d?"FEwhat_to_watch"==c?"/":"FEmy_videos"==c?"/my_videos":"/feed/"+c.substr(2):"VL"==d?"/playlist?list="+c.substr(2):"/channel/"+c);d&&a.browseEndpoint.query&&(d=Ch(d+"/search",{query:a.browseEndpoint.query}));d&&a.browseEndpoint.params&&
(d=Ch(d,{params:a.browseEndpoint.params}))}else{if(a.urlEndpoint)return a.urlEndpoint.url;a.signInEndpoint?(d="https://accounts.google.com/ServiceLogin",c={},E.extend(c,b||{},{"continue":window.location.href.split("#")[0],action_handle_signin:!0,passive:!0}),b=c):a.uploadEndpoint?d="//www.youtube.com/upload":a.liveChatEndpoint?(d=E.clone(a.liveChatEndpoint),Ka(a.liveChatEndpoint.continuation)&&(c=Object.keys(a.liveChatEndpoint.continuation)[0],d.continuation=a.liveChatEndpoint.continuation[c].continuation),
d=Ch("/live_chat/get_live_chat",d)):a.liveChatReplayEndpoint?(d=E.clone(a.liveChatReplayEndpoint),d.currentPlayerState&&(E.extend(d,d.currentPlayerState),delete d.currentPlayerState),d=Ch("/live_chat_replay/get_live_chat_replay",d)):a.liveChatItemContextMenuEndpoint?d=Ch("/live_chat/get_live_chat_item_context_menu",a.liveChatItemContextMenuEndpoint):a.liveChatPurchaseMessageEndpoint?d=Ch("/live_chat/get_live_chat_message_buy_flow",a.liveChatPurchaseMessageEndpoint):a.openSuperStickerBuyFlowCommand?
d=Ch("/live_chat/get_live_chat_super_sticker_buy_flow",a.openSuperStickerBuyFlowCommand):a.gamingSpaceEndpoint?d=Ch("/browse",{browseId:a.gamingSpaceEndpoint.spaceId}):a.videoEditEndpoint?d=Ch("/edit",{video_id:a.videoEditEndpoint.videoId}):a.liveDashboardEndpoint?d=a.liveDashboardEndpoint.videoId?Ch("/live_dashboard",{v:a.liveDashboardEndpoint.videoId}):"/live_dashboard":a.signalNavigationEndpoint&&a.signalNavigationEndpoint.signal&&"WEBCAM"==a.signalNavigationEndpoint.signal&&(d="/webcam")}return d?
Ch(d,b||{}):(b=Error("Error: Can't construct url for endpoint"),b.params=a,L(b),null)}
function Eh(a){if(a){if(a.browseEndpoint)return!!a.browseEndpoint.nofollow;if(a.watchEndpoint)return!!a.watchEndpoint.nofollow;if(a.urlEndpoint)return!!a.urlEndpoint.nofollow}return!1}
;var Fh=function(){};
Fh.prototype.getUrl=function(){};
Fh.prototype.getNavigationEventDetails=function(){};var Gh=function(){};
Gh.prototype.getUrl=function(a){return a.hasOwnProperty("shareEndpoint")?null:Dh(a)};
Gh.prototype.getNavigationEventDetails=function(a,b){a={endpoint:a,actions:[]};b=(b.path?b.path[0]:b.target).icon||"";var c=b.indexOf(":");0<c&&(b=b.substr(c+1));b&&a.actions.push(b);return a};var Hh=/Command$/,Ih=/Endpoint$/,Jh=new Map,Kh=null;function Lh(a,b){if(!a)return null;a=Object.keys(a);a=n(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=c.toLowerCase();if(-1<d.indexOf(b,d.length-b.length))return c}return null}
function Mh(a,b){var c=b+a,d=Jh.get(c);if(d)return d;a=b+"-"+a.replace(/([A-Z])/g,"-$1").toLowerCase();Jh.set(c,a);return a}
function Nh(a){for(var b=Object.keys(a),c=0,d=b.length;c<d;c++){var f=b[c];if(Ih.test(f)||Hh.test(f))return Oh(a[f])}return[]}
function Oh(a){return a.command?[a.command]:a.clientActions||a.actions||a.commands||[]}
function Ph(a){if(a&&a.simpleText)return a.simpleText;var b="";if(a&&a.runs)for(var c=0,d=a.runs.length;c<d;c++)a.runs[c].text&&(b+=a.runs[c].text);return b}
function Qh(){Kh||(Kh=Bh(Fh))||(Kh=new Gh);return Kh}
function Rh(a){var b=Qh();return b&&a&&!E.isEmpty(a)?b.getUrl(a):""}
function Sh(a,b){if(b){a.data=b;var c=Rh(b);c?(ie(a,c),Eh(b)||!Yg(c)?a.rel="nofollow":a.removeAttribute("rel")):(a.removeAttribute("href"),a.removeAttribute("rel"))}}
;function Th(a,b,c){b=new CustomEvent(b,{bubbles:!0,cancelable:!1,composed:!0,detail:c});a.dispatchEvent(b);return b}
function Uh(a,b,c,d){return Th(a,"yt-action",new uh(b,!(void 0===d||!d),c)).detail.returnValue}
function Vh(a,b,c,d){b.forEach(function(b){var f=Lh(b,"action")||Lh(b,"command")||Lh(b,"endpoint");f&&(f=Mh(f,"yt"),b.signalAction&&(f+="-"+b.signalAction.signal.toLowerCase().replace(/_/g,"-")),Uh(a,f,[b,c,d],!0))})}
function Wh(a,b){var c=[a];b&&c.push.apply(c,b);b=Uh(a,"yt-service-request",c);return 0<b.length&&(b=b[0],Th(a,"yt-service-request-sent",b),b&&b.ajaxPromise)?(b.ajaxPromise.then(function(b){Th(a,"yt-service-request-completed",b)},function(b){Th(a,"yt-service-request-error",{error:b,
params:c})},a),b.ajaxPromise):Hf()}
;var Xh=new Map;
function Yh(a){if(Xh.has(a))return Xh.get(a);var b=a.toLowerCase(),c=b.replace(/_/g,"-"),d="yt-icons";switch(a){case "MY_CHANNEL":b="account_circle";break;case "ACCOUNT_LINKED":case "ACCOUNT_UNLINKED":d="icons";b=c;break;case "ADD_TO_LIBRARY":b="add";break;case "ALERT_WARN_RED":b="warning";break;case "BLOCK_USER":b="block";break;case "CLOSED_CAPTION":d=Zh;b="closed-caption";break;case "CONTACT":d="icons";b="business";break;case "CREATOR_STUDIO_ERROR_ON_LOAD":case "CREATOR_STUDIO_NO_COMMENTS":case "CREATOR_STUDIO_NO_HELD_COMMENTS":case "CREATOR_STUDIO_NO_SEARCH_MATCH":d=$h;
b=c.split("creator-studio-")[1];break;case "DISMISSAL":b="close";break;case "DO_NOT_DISTURB":b="block";break;case "DOGFOOD":d="icons";b="pets";break;case "EMPTY_LIKE":b="like_outline";break;case "EXIT_APP":b="exit_to_app";break;case "GAMES":d=ai;b="my-games";break;case "GO_TO_PAGE":b="arrow-forward";break;case "GROUP":d=bi;break;case "HIDE":b="not_interested";break;case "INPUT_COMPONENT":d="icons";b="settings-input-component";break;case "MEMBERSHIP_LIMITED_PRE_PURCHASE":case "MEMBERSHIP_OFFER":d=
ai;b="membership-pre-purchase";break;case "MEMBERSHIP_LIMITED_POST_PURCHASE":d=ai;b="membership-post-purchase";break;case "MY_LOCATION":d=ci;b=c;break;case "NEXT":b="chevron_right";break;case "OFFLINE":b="power-settings-new";break;case "PAUSE":d=di;break;case "PAYMENT":d="icons";break;case "PHONE_DOWNLOAD":b="phone_download";break;case "QUESTION_ANSWER":b="question_answer";break;case "REMOVE":case "REMOVE_FROM_HISTORY":case "REMOVE_FROM_PLAYLIST":d="icons";b="remove-circle-outline";break;case "SAVE_PLAYLIST":b=
"library_add";break;case "SETTINGS_LIGHT":b="settings_applications";break;case "SETTINGS_MATERIAL":b="settings";break;case "SEARCH_HISTORY":b="watch_history";break;case "SOCIAL":d=bi;b="people";break;case "STAFF_PICK":d=ai;b="spotlight";break;case "START_DVR":b="add";break;case "STOP_DVR":d=Zh;b="stop";break;case "SUBSCRIPTIONS":d=Zh;break;case "TAB_LIKED":b="like";break;case "TERMS_OF_SERVICE":d="icons";b="description";break;case "TRENDING_UP":d="icons";b=c;break;case "UNBLOCK_USER":b="remove";break;
case "UNPLUGGED_DARK_THEME":d=ei;b="brightness-3";break;case "UNPLUGGED_LIVE_GUIDE":b="live";break;case "UNPLUGGED_SPORTS":d=fi;b="visibility-off";break;case "VOLUME_UP":d=di;b=c;break;case "YOUTUBE":d=gi,b="lozenge"}b=""+d+":"+b;Xh.set(a,b);return b}
var Zh="av",ai="ytg",gi="yt-logos",ci="maps",di="miniplayer",ei="image",bi="social",fi="ytu",$h="ytcp-icons";var hi={};hi.ComponentBehavior={_noAccessors:!0,ready:function(){this.provides&&Ah(this.provides,this,!1)},
getInterface:function(a){return Bh(a)},
asyncFrame:function(a,b){return setTimeout(function(){requestAnimationFrame(a)},b)},
getSimpleString:Ph,getEndpointHandler_:Qh,computeHref_:function(a){return a?(a=Rh(a))?M("enable_polymer_resin")?Ld(a).getTypedStringValue():a:null:null},
computeNofollow_:function(a){return a?Eh(a)?"nofollow":null:null},
computeIcon_:function(a){return a&&a.iconType?Yh(a.iconType):""}};var ii=function(){};
ii.prototype.showFeedbackDialog=function(){};
ii.prototype.showFeedbackDialog=ii.prototype.showFeedbackDialog;ii.prototype.showHelpDialog=function(){};
ii.prototype.showHelpDialog=ii.prototype.showHelpDialog;var ji=function(){};
ji.prototype.updatePageData=function(){};
ji.prototype.getCurrentPage=function(){};
ji.prototype.getCurrentData=function(){};
ji.prototype.preparePage=function(){};var ki=function(){};
e=ki.prototype;e.update=function(){};
e.updatePlayerComponents=function(){};
e.loadPlayer=function(){};
e.getPlayer=function(){};
e.getPlayerPromise=function(){};
e.preparePlayer=function(){};
e.updatePlayerStyles=function(){};
e.pause=function(){};
e.play=function(){};
e.stop=function(){};
e.resetForNewPlayback=function(){};function li(a,b){b=void 0===b?!1:b;a=a.getInterface(ji);if(!a)return null;if(a=a.getCurrentPage())a:{if(M("kevlar_use_ytd_player")){if(a&&a.getPlayer){b=a.getPlayer();break a}}else if(void 0===b||!b||a.requiresPlayer){b=a.getInterface(ki);break a}b=null}else b=null;return b}
function mi(a){(a=li(a))||L(Error("Player is missing when requested."));return a}
;function ni(){var a={abuseLink:"https://support.google.com/youtube/bin/answer.py?answer=140536",customZIndex:"2000000005"};M("gfeedback_for_signed_out_users_enabled")&&(a.allowNonLoggedInFeedback=!0);return a}
var oi=function(a){this.element=a;this.productData_={};this.chatSupportLoaded_=!1;document.body.addEventListener("yt-page-data-updated",this.resetProductData_)};
e=oi.prototype;e.showFeedbackDialog=function(a,b,c,d){var f=this.getProductId_();if(!f)return!1;var g=ni();g.productId=f;b&&(g.flow="submit",g.report={description:b});c&&(g.callback=Jg(c));g.bucket=d||K("GOOGLE_FEEDBACK_BUCKET","Other");this.setLocale_(g);a=this.getProductData_("GFEEDBACK",a);try{Cg(g,a)}catch(h){return L(h),!1}return!0};
e.showHelpDialog=function(a,b,c){var d=this,f=this.getProductId_();if(!f)return!1;var g={helpCenterPath:"/youtube",productData:this.getProductData_("GUIDED_HELP",c)};this.setLocale_(g);var h=ni();h.context=a||g.productData.context||"default";h.defaultHelpArticleId=b;h.enableSendFeedback=!0;(x("gapi.load")||function(a,b){return b()})("client",function(){try{var a=g||{},b={apiKey:a.apiKey||a.apiKey,
environment:a.environment||a.environment,helpCenterPath:a.helpCenterPath||a.helpCenterPath,locale:a.locale||a.locale||"en".replace(/-/g,"_"),productData:a.productData||a.productData,receiverUri:a.receiverUri||a.receiverUri,renderApiUri:a.renderApiUri||a.renderApiUri,theme:a.theme||a.theme,window:a.window||a.window},c=Vf(Yf,"help.service.Lazy.create",f,b);var q=new Xf(c);M("web_always_load_chat_support")&&d.loadChatSupport_(q,h);q.startHelp(h)}catch(t){L(t)}})};
e.getProductId_=function(){var a=K("GOOGLE_FEEDBACK_PRODUCT_ID",void 0);a||L(Error("Missing feedback product ID"));return a};
e.setLocale_=function(a){a&&(a.locale=M("kevlar_help_use_locale")?K("INNERTUBE_CONTEXT_HL","en"):K("HTML_LANG","en"))};
e.getProductData_=function(a,b){var c=this.productData_;delete c.origin;c.device=Mb;c.gpu=this.getGpuInfo_();var d=K("GOOGLE_FEEDBACK_PRODUCT_DATA",void 0);d&&E.extend(c,d);(a=this.getServiceTrackingParameters_(a))&&E.extend(c,a);this.pauseAndPopulatePlayerInfo_(c);this.populateAutonavPauseState_(c);this.populateBrowserResolution_(c);b&&E.extend(c,b);return c};
e.getGpuInfo_=function(){var a=document.createElement("canvas");if(a){var b=a.getContext("experimental-webgl",{stencil:!0});if(b){var c=b.getExtension("WEBGL_debug_renderer_info");if(c)return b.getParameter(c.UNMASKED_RENDERER_WEBGL)}if(b=a.getContext("webgl"))return b.getParameter(b.RENDERER)}return null};
e.getServiceTrackingParameters_=function(a){if("GFEEDBACK"!=a&&"GUIDED_HELP"!=a)return L(Error("Unsupported service: ["+a+"]")),null;var b=Bh(ji);if(!b)return null;if((b=b.getCurrentPage())&&b.getServiceTrackingParams){var c=b.getServiceTrackingParams();if(c)for(var d=0;b=c[d++];)if(b.service==a){a=null;if(b=b.params)for(a={},c=0;d=b[c++];)a[d.key]=d.value;return a}}return null};
e.loadChatSupport_=function(a,b){if(!this.chatSupportLoaded_)try{a.loadChatSupport(b),this.chatSupportLoaded_=!0}catch(c){}};
e.pauseAndPopulatePlayerInfo_=function(a){var b=li(this.element);b&&(b=b.getPlayer())&&(b.pauseVideo(),a.playback_id=b.getVideoData().cpn,a.debug_text=b.getDebugText(!0))};
e.resetProductData_=function(){this.productData_={}};
e.populateAutonavPauseState_=function(a){var b=Uh(this.element,"yt-get-autonav-pause-debug-state",void 0,!0);b&&b.length&&(a.autonav_pause_state=b[0])};
e.populateBrowserResolution_=function(a){var b=xe(window);a.browser_resolution=b.width+"\u00d7"+b.height+"@"+(window.devicePixelRatio||1)+"x"};Polymer({is:"yt-gfeedback-manager",provides:ii,behaviors:[hi.ComponentBehavior],created:function(){this.feedbackManager=new oi(this)},
factoryImpl:function(){},
showFeedbackDialog:function(a,b,c,d){return this.feedbackManager.showFeedbackDialog(a,b,c,d)},
showHelpDialog:function(a,b,c){return this.feedbackManager.showHelpDialog(a,b,c)}});var pi=function(a){if(!a)return"";a=a.split("#")[0].split("?")[0];a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);/^[\w\-]*:\/\//.test(a)||(a=window.location.href);var b=a.substring(a.indexOf("://")+3),c=b.indexOf("/");-1!=c&&(b=b.substring(0,c));a=a.substring(0,a.indexOf("://"));if("http"!==a&&"https"!==a&&"chrome-extension"!==a&&"file"!==a&&"android-app"!==a&&"chrome-search"!==a&&"app"!==a)throw Error("Invalid URI scheme in origin: "+a);c="";var d=b.indexOf(":");if(-1!=d){var f=
b.substring(d+1);b=b.substring(0,d);if("http"===a&&"80"!==f||"https"===a&&"443"!==f)c=":"+f}return a+"://"+b+c};var qi=function(){function a(){f[0]=1732584193;f[1]=4023233417;f[2]=2562383102;f[3]=271733878;f[4]=3285377520;q=m=0}
function b(a){for(var b=h,c=0;64>c;c+=4)b[c/4]=a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3];for(c=16;80>c;c++)a=b[c-3]^b[c-8]^b[c-14]^b[c-16],b[c]=(a<<1|a>>>31)&4294967295;a=f[0];var d=f[1],g=f[2],k=f[3],l=f[4];for(c=0;80>c;c++){if(40>c)if(20>c){var m=k^d&(g^k);var q=1518500249}else m=d^g^k,q=1859775393;else 60>c?(m=d&g|k&(d|g),q=2400959708):(m=d^g^k,q=3395469782);m=((a<<5|a>>>27)&4294967295)+m+l+q+b[c]&4294967295;l=k;k=g;g=(d<<30|d>>>2)&4294967295;d=a;a=m}f[0]=f[0]+a&4294967295;f[1]=f[1]+d&4294967295;f[2]=
f[2]+g&4294967295;f[3]=f[3]+k&4294967295;f[4]=f[4]+l&4294967295}
function c(a,c){if("string"===typeof a){a=unescape(encodeURIComponent(a));for(var d=[],f=0,h=a.length;f<h;++f)d.push(a.charCodeAt(f));a=d}c||(c=a.length);d=0;if(0==m)for(;d+64<c;)b(a.slice(d,d+64)),d+=64,q+=64;for(;d<c;)if(g[m++]=a[d++],q++,64==m)for(m=0,b(g);d+64<c;)b(a.slice(d,d+64)),d+=64,q+=64}
function d(){var a=[],d=8*q;56>m?c(k,56-m):c(k,64-(m-56));for(var h=63;56<=h;h--)g[h]=d&255,d>>>=8;b(g);for(h=d=0;5>h;h++)for(var l=24;0<=l;l-=8)a[d++]=f[h]>>l&255;return a}
for(var f=[],g=[],h=[],k=[128],l=1;64>l;++l)k[l]=0;var m,q;a();return{reset:a,update:c,digest:d,digestString:function(){for(var a=d(),b="",c=0;c<a.length;c++)b+="0123456789ABCDEF".charAt(Math.floor(a[c]/16))+"0123456789ABCDEF".charAt(a[c]%16);return b}}};var si=function(a,b,c,d){var f=[];if(1==(y(c)?2:1))return f=[b,a],C(d,function(a){f.push(a)}),ri(f.join(" "));
var g=[],h=[];C(c,function(a){h.push(a.key);g.push(a.value)});
c=Math.floor((new Date).getTime()/1E3);f=0==g.length?[c,b,a]:[g.join(":"),c,b,a];C(d,function(a){f.push(a)});
a=ri(f.join(" "));a=[c,a];0==h.length||a.push(h.join(""));return a.join("_")},ri=function(a){var b=qi();
b.update(a);return b.digestString().toLowerCase()};var ti=function(a){var b=pi(String(r.location.href)),c=r.__OVERRIDE_SID;null==c&&(c=(new id(document)).get("SID"));if(c){var d=(c=0==b.indexOf("https:")||0==b.indexOf("chrome-extension:"))?r.__SAPISID:r.__APISID;null==d&&(d=(new id(document)).get(c?"SAPISID":"APISID"));if(d)return b=String(r.location.href),c=c?"SAPISIDHASH":"APISIDHASH",b&&d&&c?[c,si(pi(b),d,a||null,[])].join(" "):null}return null};var ui=function(){this.blockSize=-1};var vi=function(){this.blockSize=-1;this.blockSize=64;this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.pad_[0]=128;for(var a=1;a<this.blockSize;++a)this.pad_[a]=0;this.total_=this.inbuf_=0;this.reset()};
B(vi,ui);vi.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.total_=this.inbuf_=0};
vi.prototype.compress_=function(a,b){b||(b=0);var c=this.W_;if(v(a))for(var d=0;16>d;d++)c[d]=a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3),b+=4;else for(d=0;16>d;d++)c[d]=a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3],b+=4;for(d=16;80>d;d++){var f=c[d-3]^c[d-8]^c[d-14]^c[d-16];c[d]=(f<<1|f>>>31)&4294967295}a=this.chain_[0];b=this.chain_[1];var g=this.chain_[2],h=this.chain_[3],k=this.chain_[4];for(d=0;80>d;d++){if(40>d)if(20>d){f=h^b&(g^h);var l=1518500249}else f=b^g^h,l=
1859775393;else 60>d?(f=b&g|h&(b|g),l=2400959708):(f=b^g^h,l=3395469782);f=(a<<5|a>>>27)+f+k+l+c[d]&4294967295;k=h;h=g;g=(b<<30|b>>>2)&4294967295;b=a;a=f}this.chain_[0]=this.chain_[0]+a&4294967295;this.chain_[1]=this.chain_[1]+b&4294967295;this.chain_[2]=this.chain_[2]+g&4294967295;this.chain_[3]=this.chain_[3]+h&4294967295;this.chain_[4]=this.chain_[4]+k&4294967295};
vi.prototype.update=function(a,b){if(null!=a){u(b)||(b=a.length);for(var c=b-this.blockSize,d=0,f=this.buf_,g=this.inbuf_;d<b;){if(0==g)for(;d<=c;)this.compress_(a,d),d+=this.blockSize;if(v(a))for(;d<b;){if(f[g]=a.charCodeAt(d),++g,++d,g==this.blockSize){this.compress_(f);g=0;break}}else for(;d<b;)if(f[g]=a[d],++g,++d,g==this.blockSize){this.compress_(f);g=0;break}}this.inbuf_=g;this.total_+=b}};
vi.prototype.digest=function(){var a=[],b=8*this.total_;56>this.inbuf_?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var c=this.blockSize-1;56<=c;c--)this.buf_[c]=b&255,b/=256;this.compress_(this.buf_);for(c=b=0;5>c;c++)for(var d=24;0<=d;d-=8)a[b]=this.chain_[c]>>d&255,++b;return a};var wi=function(){this.disposed_=this.disposed_;this.onDisposeCallbacks_=this.onDisposeCallbacks_};
e=wi.prototype;e.disposed_=!1;e.isDisposed=function(){return this.disposed_};
e.getDisposed=wi.prototype.isDisposed;e.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};
e.registerDisposable=function(a){this.addOnDisposeCallback(Ra(xi,a))};
e.addOnDisposeCallback=function(a,b){this.disposed_?u(b)?a.call(b):a():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(u(b)?z(a,b):a))};
e.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};
var xi=function(a){a&&"function"==typeof a.dispose&&a.dispose()};var yi=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},zi=function(a){a=String(a);
if(yi(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);},Bi=function(a,b){return(new Ai(b)).serialize(a)},Ai=function(a){this.replacer_=a};
Ai.prototype.serialize=function(a){var b=[];this.serializeInternal(a,b);return b.join("")};
Ai.prototype.serializeInternal=function(a,b){if(null==a)b.push("null");else{if("object"==typeof a){if(y(a)){this.serializeArray(a,b);return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{this.serializeObject_(a,b);return}}switch(typeof a){case "string":this.serializeString_(a,b);break;case "number":this.serializeNumber_(a,b);break;case "boolean":b.push(String(a));break;case "function":b.push("null");break;default:throw Error("Unknown type: "+typeof a);}}};
var Ci={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Di=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;Ai.prototype.serializeString_=function(a,b){b.push('"',a.replace(Di,function(a){var b=Ci[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),Ci[a]=b);return b}),'"')};
Ai.prototype.serializeNumber_=function(a,b){b.push(isFinite(a)&&!isNaN(a)?String(a):"null")};
Ai.prototype.serializeArray=function(a,b){var c=a.length;b.push("[");for(var d="",f=0;f<c;f++)b.push(d),d=a[f],this.serializeInternal(this.replacer_?this.replacer_.call(a,String(f),d):d,b),d=",";b.push("]")};
Ai.prototype.serializeObject_=function(a,b){b.push("{");var c="",d;for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)){var f=a[d];"function"!=typeof f&&(b.push(c),this.serializeString_(d,b),b.push(":"),this.serializeInternal(this.replacer_?this.replacer_.call(a,d,f):f,b),c=",")}b.push("}")};var Ei=function(a){wi.call(this);this.key_=1;this.pendingKeys_=[];this.publishDepth_=0;this.subscriptions_=[];this.topics_={};this.async_=!!a};
B(Ei,wi);e=Ei.prototype;e.subscribe=function(a,b,c){var d=this.topics_[a];d||(d=this.topics_[a]=[]);var f=this.key_;this.subscriptions_[f]=a;this.subscriptions_[f+1]=b;this.subscriptions_[f+2]=c;this.key_=f+3;d.push(f);return f};
e.subscribeOnce=function(a,b,c){var d=!1,f=this.subscribe(a,function(a){d||(d=!0,this.unsubscribeByKey(f),b.apply(c,arguments))},this);
return f};
e.unsubscribe=function(a,b,c){if(a=this.topics_[a]){var d=this.subscriptions_;if(a=cb(a,function(a){return d[a+1]==b&&d[a+2]==c}))return this.unsubscribeByKey(a)}return!1};
e.unsubscribeByKey=function(a){var b=this.subscriptions_[a];if(b){var c=this.topics_[b];0!=this.publishDepth_?(this.pendingKeys_.push(a),this.subscriptions_[a+1]=Fa):(c&&eb(c,a),delete this.subscriptions_[a],delete this.subscriptions_[a+1],delete this.subscriptions_[a+2])}return!!b};
e.publish=function(a,b){var c=this.topics_[a];if(c){for(var d=Array(arguments.length-1),f=1,g=arguments.length;f<g;f++)d[f-1]=arguments[f];if(this.async_)for(f=0;f<c.length;f++){var h=c[f];Gi(this.subscriptions_[h+1],this.subscriptions_[h+2],d)}else{this.publishDepth_++;try{for(f=0,g=c.length;f<g;f++)h=c[f],this.subscriptions_[h+1].apply(this.subscriptions_[h+2],d)}finally{if(this.publishDepth_--,0<this.pendingKeys_.length&&0==this.publishDepth_)for(;c=this.pendingKeys_.pop();)this.unsubscribeByKey(c)}}return 0!=
f}return!1};
var Gi=function(a,b,c){zf(function(){a.apply(b,c)})};
Ei.prototype.clear=function(a){if(a){var b=this.topics_[a];b&&(C(b,this.unsubscribeByKey,this),delete this.topics_[a])}else this.subscriptions_.length=0,this.topics_={}};
Ei.prototype.getCount=function(a){if(a){var b=this.topics_[a];return b?b.length:0}a=0;for(b in this.topics_)a+=this.getCount(b);return a};
Ei.prototype.disposeInternal=function(){Ei.superClass_.disposeInternal.call(this);this.clear();this.pendingKeys_.length=0};var Hi=function(a){this.mechanism=a};
Hi.prototype.set=function(a,b){u(b)?this.mechanism.set(a,Bi(b)):this.mechanism.remove(a)};
Hi.prototype.get=function(a){try{var b=this.mechanism.get(a)}catch(c){return}if(null!==b)try{return JSON.parse(b)}catch(c){throw"Storage: Invalid value was encountered";}};
Hi.prototype.remove=function(a){this.mechanism.remove(a)};var Ii=function(a){this.mechanism=a};
B(Ii,Hi);var Ji=function(a){this.data=a},Ki=function(a){return!u(a)||a instanceof Ji?a:new Ji(a)};
Ii.prototype.set=function(a,b){Ii.superClass_.set.call(this,a,Ki(b))};
Ii.prototype.getWrapper=function(a){a=Ii.superClass_.get.call(this,a);if(!u(a)||a instanceof Object)return a;throw"Storage: Invalid value was encountered";};
Ii.prototype.get=function(a){if(a=this.getWrapper(a)){if(a=a.data,!u(a))throw"Storage: Invalid value was encountered";}else a=void 0;return a};var Li=function(a){this.mechanism=a};
B(Li,Ii);Li.prototype.set=function(a,b,c){if(b=Ki(b)){if(c){if(c<A()){Li.prototype.remove.call(this,a);return}b.expiration=c}b.creation=A()}Li.superClass_.set.call(this,a,b)};
Li.prototype.getWrapper=function(a,b){var c=Li.superClass_.getWrapper.call(this,a);if(c){if(b=!b){b=c.creation;var d=c.expiration;b=!!d&&d<A()||!!b&&b>A()}if(b)Li.prototype.remove.call(this,a);else return c}};var Mi=function(){};var Ni=function(){};
B(Ni,Mi);Ni.prototype.getCount=function(){var a=0;bg(this.__iterator__(!0),function(){a++});
return a};
Ni.prototype.clear=function(){var a=cg(this.__iterator__(!0)),b=this;C(a,function(a){b.remove(a)})};var Oi=function(a){this.storage_=a};
B(Oi,Ni);e=Oi.prototype;e.isAvailable=function(){if(!this.storage_)return!1;try{return this.storage_.setItem("__sak","1"),this.storage_.removeItem("__sak"),!0}catch(a){return!1}};
e.set=function(a,b){try{this.storage_.setItem(a,b)}catch(c){if(0==this.storage_.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};
e.get=function(a){a=this.storage_.getItem(a);if(!v(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};
e.remove=function(a){this.storage_.removeItem(a)};
e.getCount=function(){return this.storage_.length};
e.__iterator__=function(a){var b=0,c=this.storage_,d=new $f;d.next=function(){if(b>=c.length)throw Zf;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!v(d))throw"Storage mechanism: Invalid value was encountered";return d};
return d};
e.clear=function(){this.storage_.clear()};
e.key=function(a){return this.storage_.key(a)};var Pi=function(){var a=null;try{a=window.localStorage||null}catch(b){}this.storage_=a};
B(Pi,Oi);var Ri=function(a,b){this.storageKey_=a;this.storageNode_=null;if(F&&!(9<=Number(oc))){Qi||(Qi=new dg);this.storageNode_=Qi.get(a);this.storageNode_||(b?this.storageNode_=document.getElementById(b):(this.storageNode_=document.createElement("userdata"),this.storageNode_.addBehavior("#default#userData"),document.body.appendChild(this.storageNode_)),Qi.set(a,this.storageNode_));try{this.loadNode_()}catch(c){this.storageNode_=null}}};
B(Ri,Ni);var Si={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},Qi=null,Ti=function(a){return"_"+encodeURIComponent(a).replace(/[.!~*'()%]/g,function(a){return Si[a]})};
e=Ri.prototype;e.isAvailable=function(){return!!this.storageNode_};
e.set=function(a,b){this.storageNode_.setAttribute(Ti(a),b);this.saveNode_()};
e.get=function(a){a=this.storageNode_.getAttribute(Ti(a));if(!v(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};
e.remove=function(a){this.storageNode_.removeAttribute(Ti(a));this.saveNode_()};
e.getCount=function(){return this.getNode_().attributes.length};
e.__iterator__=function(a){var b=0,c=this.getNode_().attributes,d=new $f;d.next=function(){if(b>=c.length)throw Zf;var d=c[b++];if(a)return decodeURIComponent(d.nodeName.replace(/\./g,"%")).substr(1);d=d.nodeValue;if(!v(d))throw"Storage mechanism: Invalid value was encountered";return d};
return d};
e.clear=function(){for(var a=this.getNode_(),b=a.attributes.length;0<b;b--)a.removeAttribute(a.attributes[b-1].nodeName);this.saveNode_()};
e.loadNode_=function(){this.storageNode_.load(this.storageKey_)};
e.saveNode_=function(){try{this.storageNode_.save(this.storageKey_)}catch(a){throw"Storage mechanism: Quota exceeded";}};
e.getNode_=function(){return this.storageNode_.XMLDocument.documentElement};var Ui=function(a,b){this.mechanism_=a;this.prefix_=b+"::"};
B(Ui,Ni);Ui.prototype.set=function(a,b){this.mechanism_.set(this.prefix_+a,b)};
Ui.prototype.get=function(a){return this.mechanism_.get(this.prefix_+a)};
Ui.prototype.remove=function(a){this.mechanism_.remove(this.prefix_+a)};
Ui.prototype.__iterator__=function(a){var b=this.mechanism_.__iterator__(!0),c=this,d=new $f;d.next=function(){for(var d=b.next();d.substr(0,c.prefix_.length)!=c.prefix_;)d=b.next();return a?d.substr(c.prefix_.length):c.mechanism_.get(d)};
return d};var Vi=function(a){var b=new Pi;return b.isAvailable()?a?new Ui(b,a):b:null};var Wi=0,Xi=Zb?"webkit":Yb?"moz":F?"ms":Vb?"o":"";function Yi(a){if(a=Oe(a,function(a){return Ie(a)?Ue(a)&&!!a.offsetParent:!1}))return a}
w("ytDomDomGetNextId",x("ytDomDomGetNextId")||function(){return++Wi},void 0);var Zi={stopImmediatePropagation:1,stopPropagation:1,preventMouseEvent:1,preventManipulation:1,preventDefault:1,layerX:1,layerY:1,screenX:1,screenY:1,scale:1,rotation:1,webkitMovementX:1,webkitMovementY:1},$i=function(a){this.type="";this.state=this.source=this.data=this.currentTarget=this.relatedTarget=this.target=null;this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.ctrlKey=this.altKey=!1;this.rotation=this.clientY=this.clientX=0;this.scale=1;this.changedTouches=this.touches=null;if(a=
a||window.event){this.event=a;for(var b in a)b in Zi||(this[b]=a[b]);this.scale=a.scale;this.rotation=a.rotation;(b=a.target||a.srcElement)&&3==b.nodeType&&(b=b.parentNode);this.target=b;(b=a.relatedTarget)?b=this.filterXulElement_(b):"mouseover"==this.type?b=a.fromElement:"mouseout"==this.type&&(b=a.toElement);this.relatedTarget=b;this.clientX=void 0!=a.clientX?a.clientX:a.pageX;this.clientY=void 0!=a.clientY?a.clientY:a.pageY;this.keyCode=a.keyCode?a.keyCode:a.which;this.charCode=a.charCode||("keypress"==
this.type?this.keyCode:0);this.altKey=a.altKey;this.ctrlKey=a.ctrlKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pageX_=a.pageX;this.pageY_=a.pageY}};
e=$i.prototype;e.filterXulElement_=function(a){try{return a.nodeName?a:null}catch(b){return null}};
e.calculatePageXYForLegacyBrowser_=function(){if(document.body&&document.documentElement){var a=document.body.scrollTop+document.documentElement.scrollTop;this.pageX_=this.clientX+(document.body.scrollLeft+document.documentElement.scrollLeft);this.pageY_=this.clientY+a}};
e.getPageX=function(){u(this.pageX_)||this.calculatePageXYForLegacyBrowser_();return this.pageX_};
e.getPageY=function(){u(this.pageY_)||this.calculatePageXYForLegacyBrowser_();return this.pageY_};
e.getScreenX=function(){return this.event?this.event.screenX:0};
e.getScreenY=function(){return this.event?this.event.screenY:0};
e.preventDefault=function(){this.event&&(this.event.returnValue=!1,this.event.preventDefault&&this.event.preventDefault())};
e.isDefaultPrevented=function(){return this.event?!1===this.event.returnValue:!1};
e.stopPropagation=function(){this.event&&(this.event.cancelBubble=!0,this.event.stopPropagation&&this.event.stopPropagation())};
e.stopImmediatePropagation=function(){this.event&&(this.event.cancelBubble=!0,this.event.stopImmediatePropagation&&this.event.stopImmediatePropagation())};
e.hasModifierKey=function(){return this.altKey||this.ctrlKey||this.shiftKey||this.metaKey};var aj=x("ytEventsEventsListeners")||{};w("ytEventsEventsListeners",aj,void 0);var bj=x("ytEventsEventsCounter")||{count:0};w("ytEventsEventsCounter",bj,void 0);
function cj(a,b,c,d){d=void 0===d?{}:d;a.addEventListener&&("mouseenter"!=b||"onmouseenter"in document?"mouseleave"!=b||"onmouseenter"in document?"mousewheel"==b&&"MozBoxSizing"in document.documentElement.style&&(b="MozMousePixelScroll"):b="mouseout":b="mouseover");return E.findKey(aj,function(f){var g=ya(f[4])&&f[4]==!!d,h=Ka(f[4])&&Ka(d)&&E.equals(f[4],d);return!!f.length&&f[0]==a&&f[1]==b&&f[2]==c&&(g||h)})}
var dj=nd(function(){var a=!1;try{var b=Object.defineProperty({},"capture",{get:function(){a=!0}});
window.addEventListener("test",null,b)}catch(c){}return a}),ej=function(a,b,c,d){d=void 0===d?{}:d;
if(!a||!a.addEventListener&&!a.attachEvent)return"";var f=cj(a,b,c,d);if(f)return f;f=++bj.count+"";var g=!("mouseenter"!=b&&"mouseleave"!=b||!a.addEventListener||"onmouseenter"in document);var h=g?function(d){d=new $i(d);if(!Xe(d.relatedTarget,function(b){return b==a},!0))return d.currentTarget=a,d.type=b,c.call(a,d)}:function(b){b=new $i(b);
b.currentTarget=a;return c.call(a,b)};
h=Jg(h);a.addEventListener?("mouseenter"==b&&g?b="mouseover":"mouseleave"==b&&g?b="mouseout":"mousewheel"==b&&"MozBoxSizing"in document.documentElement.style&&(b="MozMousePixelScroll"),dj()||ya(d)?a.addEventListener(b,h,d):a.addEventListener(b,h,!!d.capture)):a.attachEvent("on"+b,h);aj[f]=[a,b,c,h,d];return f},fj=function(a){a&&("string"==typeof a&&(a=[a]),C(a,function(a){if(a in aj){var b=aj[a],d=b[0],f=b[1],g=b[3];
b=b[4];d.removeEventListener?dj()||ya(b)?d.removeEventListener(f,g,b):d.removeEventListener(f,g,!!b.capture):d.detachEvent&&d.detachEvent("on"+f,g);delete aj[a]}}))};var gj=function(a){this.callback_=a;this.position_=null;this.previousTime_=0;this.previousPosition_=null;this.previousVelocity_=0;this.cycles_=[];for(a=0;4>a;a++)this.cycles_.push(0);this.index_=0;this.mouseListenerKey_=ej(window,"mousemove",z(this.onMouseMove_,this));a=z(this.checkPosition_,this);Ja(a)&&(a=Jg(a));this.timerId_=window.setInterval(a,25)};
B(gj,wi);gj.prototype.onMouseMove_=function(a){this.position_=new le(a.getPageX(),a.getPageY())};
gj.prototype.getPosition=function(){return this.position_||new le};
gj.prototype.checkPosition_=function(){if(this.position_){var a=Fg();if(0!=this.previousTime_){var b=this.previousPosition_,c=this.position_,d=b.x-c.x;b=b.y-c.y;d=Math.sqrt(d*d+b*b)/(a-this.previousTime_);this.cycles_[this.index_]=.5<Math.abs((d-this.previousVelocity_)/this.previousVelocity_)?1:0;for(c=b=0;4>c;c++)b+=this.cycles_[c]||0;3<=b&&this.callback_();this.previousVelocity_=d}this.previousTime_=a;this.previousPosition_=this.position_;this.index_=(this.index_+1)%4}};
gj.prototype.disposeInternal=function(){window.clearInterval(this.timerId_);fj(this.mouseListenerKey_)};var hj=x("ytPubsubPubsubInstance")||new Ei;Ei.prototype.subscribe=Ei.prototype.subscribe;Ei.prototype.unsubscribeByKey=Ei.prototype.unsubscribeByKey;Ei.prototype.publish=Ei.prototype.publish;Ei.prototype.clear=Ei.prototype.clear;w("ytPubsubPubsubInstance",hj,void 0);var ij=x("ytPubsubPubsubSubscribedKeys")||{};w("ytPubsubPubsubSubscribedKeys",ij,void 0);var jj=x("ytPubsubPubsubTopicToKeys")||{};w("ytPubsubPubsubTopicToKeys",jj,void 0);var kj=x("ytPubsubPubsubIsSynchronous")||{};
w("ytPubsubPubsubIsSynchronous",kj,void 0);function lj(a,b,c){var d=mj();if(d){var f=d.subscribe(a,function(){var d=arguments;var h=Tg(function(){ij[f]&&b.apply(c||window,d)},"yt.pubsub.callFn");
try{kj[a]?h():Rg(h,0)}catch(k){L(k)}},c);
ij[f]=!0;jj[a]||(jj[a]=[]);jj[a].push(f);return f}return 0}
function nj(a,b){var c=mj();return c?c.publish.apply(c,arguments):!1}
function oj(a){var b=mj();if(b)if(b.clear(a),a)pj(a);else for(var c in jj)pj(c)}
function mj(){return x("ytPubsubPubsubInstance")}
function pj(a){jj[a]&&(a=jj[a],C(a,function(a){ij[a]&&delete ij[a]}),a.length=0)}
;var qj=Math.pow(2,16)-1,rj=null,sj=0,tj={log_event:"events",log_interaction:"interactions"},uj=Object.create(null);uj.log_event="GENERIC_EVENT_LOGGING";uj.log_interaction="INTERACTION_LOGGING";var vj=new Set(["log_event"]),wj={},xj=0,yj=0,zj=x("ytLoggingTransportLogPayloadsQueue_")||{};w("ytLoggingTransportLogPayloadsQueue_",zj,void 0);var Aj=x("ytLoggingTransportTokensToCttTargetIds_")||{};w("ytLoggingTransportTokensToCttTargetIds_",Aj,void 0);var Bj=x("ytLoggingTransportDispatchedStats_")||{};
w("ytLoggingTransportDispatchedStats_",Bj,void 0);var Cj=x("ytLoggingTransportCapturedTime_")||{};w("ytytLoggingTransportCapturedTime_",Cj,void 0);function Dj(){Sg(xj);Sg(yj);yj=0;if(!E.isEmpty(zj)){for(var a in zj){var b=wj[a];b&&(Ej(a,b),delete zj[a])}E.isEmpty(zj)||Fj()}}
function Gj(){var a=[];for(f in zj){var b=Bj[f]||{};Bj[f]=b;for(var c in zj[f]){var d=Hj(f,c);b.storedEventsCount=b.storedEventsCount||0;b.storedEventsCount+=d.length}}var f=Math.round(Fg());for(var g in Bj)b=Bj[g],b.eventType=g in uj?uj[g]:"UNKNOWN_TYPE",c=Cj[g],b.metricIntervalMs=c?f-c:f-NaN,a.push(b),Cj[g]=f,delete Bj[g];return a}
function Fj(){M("web_gel_timeout_cap")&&!yj&&(yj=Rg(Dj,3E4));Sg(xj);xj=Rg(Dj,K("LOGGING_BATCH_TIMEOUT",1E4))}
function Hj(a,b){b=void 0===b?"":b;zj[a]=zj[a]||{};zj[a][b]=zj[a][b]||[];return zj[a][b]}
function Ej(a,b){var c=tj[a],d=Bj[a]||{};Bj[a]=d;var f=Math.round(Fg()),g;for(g in zj[a]){var h=b.buildSkeletonRequest();h[c]=Hj(a,g);d.dispatchedEventCount=d.dispatchedEventCount||0;d.dispatchedEventCount+=h[c].length;var k=Aj[g];if(k)a:{var l=g;if(k.videoId)var m="VIDEO";else if(k.playlistId)m="PLAYLIST";else break a;h.credentialTransferTokenTargetId=k;h.context=h.context||{};h.context.user=h.context.user||{};h.context.user.credentialTransferTokens=[{token:l,scope:m}]}delete Aj[g];h.requestTimeMs=
f;if(k=K("EVENT_ID",void 0))m=(K("BATCH_CLIENT_COUNTER",void 0)||0)+1,m>qj&&(m=1),Hg("BATCH_CLIENT_COUNTER",m),k={serializedEventId:k,clientCounter:m},h.serializedClientEventId=k,rj&&sj&&M("log_gel_rtt_web")&&(h.previousBatchInfo={serializedClientEventId:rj,roundtripMs:sj}),rj=k,sj=0;b.postWithOptions(a,h,{retry:vj.has(a),onSuccess:z(Ij,this,Fg())})}d.previousDispatchMs&&(a=f-d.previousDispatchMs,b=d.diffCount||0,d.averageTimeBetweenDispatchesMs=b?(d.averageTimeBetweenDispatchesMs*b+a)/(b+1):a,d.diffCount=
b+1);d.previousDispatchMs=f}
function Ij(a){sj=Math.round(Fg()-a)}
;var Jj={};
function Kj(a){var b=void 0===a?{}:a;a=void 0===b.inferFromNonUserEvents?!0:b.inferFromNonUserEvents;b=void 0===b.preferMobileEvents?!1:b.preferMobileEvents;if(null==x("_lact",window)){var c=parseInt(K("LACT"),10);c=isFinite(c)?A()-Math.max(c,0):-1;w("_lact",c,window);w("_fact",c,window);-1==c&&Lj();ej(document,"keydown",Lj);ej(document,"keyup",Lj);ej(document,"mousedown",Lj);ej(document,"mouseup",Lj);a&&(b?ej(window,"touchmove",function(){Mj("touchmove",200)},{passive:!0}):(ej(window,"resize",function(){Mj("resize",
200)}),ej(window,"scroll",function(){Mj("scroll",200)})));
new gj(function(){Mj("mouse",100)});
ej(document,"touchstart",Lj,{passive:!0});ej(document,"touchend",Lj,{passive:!0})}}
function Mj(a,b){Jj[a]||(Jj[a]=!0,N.addLowPriorityJob(function(){Lj();Jj[a]=!1},b))}
function Lj(){null==x("_lact",window)&&Kj();var a=A();w("_lact",a,window);-1==x("_fact",window)&&w("_fact",a,window);(a=x("ytglobal.ytUtilActivityCallback_"))&&a()}
function Nj(){var a=x("_lact",window);return null==a?-1:Math.max(A()-a,0)}
;function Oj(a,b,c,d,f){var g={};g.eventTimeMs=Math.round(d||Fg());g[a]=b;g.context={lastActivityMs:String(d?-1:Nj())};f?(a={},f.videoId?a.videoId=f.videoId:f.playlistId&&(a.playlistId=f.playlistId),Aj[f.token]=a,f=Hj("log_event",f.token)):f=Hj("log_event");f.push(g);c&&(wj.log_event=new c);f.length>=(Ng("web_logging_max_batch")||20)?Dj():Fj()}
;var Pj=function(a){this.veData_=a},Qj=function(a){return new Pj({trackingParams:a})};
Pj.prototype.getAsJson=function(){var a={};void 0!==this.veData_.trackingParams?a.trackingParams=this.veData_.trackingParams:(a.veType=this.veData_.veType,null!=this.veData_.veCounter&&(a.veCounter=this.veData_.veCounter),null!=this.veData_.elementIndex&&(a.elementIndex=this.veData_.elementIndex));void 0!==this.veData_.dataElement&&(a.dataElement=this.veData_.dataElement.getAsJson());void 0!==this.veData_.youtubeData&&(a.youtubeData=this.veData_.youtubeData);return a};
Pj.prototype.isClientVe=function(){return!this.veData_.trackingParams&&!!this.veData_.veType};function Rj(a,b,c,d){b={csn:b,parentVe:c.getAsJson(),childVes:Za(d,function(a){return a.getAsJson()})};
Oj("visualElementAttached",b,a)}
function Sj(a,b,c){Oj("visualElementShown",{csn:b,ve:c.getAsJson(),eventType:1},a)}
function Tj(a,b,c,d,f){b={csn:b,ve:c.getAsJson(),gestureType:d||"INTERACTION_LOGGING_GESTURE_TYPE_GENERIC_CLICK"};f&&(b.clientData=f);Oj("visualElementGestured",b,a)}
;function Uj(a,b,c){c=void 0===c?{}:c;var d={"X-Goog-Visitor-Id":c.visitorData||K("VISITOR_DATA","")};if(b&&b.includes("www.youtube-nocookie.com"))return d;(b=c.authorization||K("AUTHORIZATION"))||(b=a?"Bearer "+x("gapi.auth.getToken")().access_token:ti([]));b&&(d.Authorization=b,d["X-Goog-AuthUser"]=K("SESSION_INDEX",0),M("pageid_as_header_web")&&(d["X-Goog-PageId"]=K("DELEGATED_SESSION_ID")));return d}
function Vj(a){a=Object.assign({},a);delete a.Authorization;var b=ti();if(b){var c=new vi;c.update(K("INNERTUBE_API_KEY",void 0));c.update(b);a.hash=xc(c.digest(),!0)}return a}
;function Wj(a,b,c,d,f,g){jd.set(""+a,b,c,d,void 0===f?"youtube.com":f,void 0===g?!1:g)}
;var Xj=function(a,b){b?a=null:((b=Vi(a))||(a=new Ri(a||"UserDataSharedStore"),b=a.isAvailable()?a:null),a=b);this.expiringStorage_=a?new Li(a):null;this.domain_=document.domain||window.location.hostname};
e=Xj.prototype;e.hasLocalStorage=function(){return!!this.expiringStorage_};
e.set=function(a,b,c,d){c=c||31104E3;this.remove(a);if(this.hasLocalStorage())try{this.expiringStorage_.set(a,b,A()+1E3*c);return}catch(g){}var f="";if(d)try{f=escape(Bi(b))}catch(g){return}else f=escape(b);Wj(a,f,c,"/",this.domain_)};
e.get=function(a,b){var c=void 0,d=!this.hasLocalStorage();if(!d)try{c=this.expiringStorage_.get(a)}catch(f){d=!0}if(d&&(c=jd.get(""+a,void 0))&&(c=unescape(c),b))try{c=JSON.parse(c)}catch(f){this.remove(a),c=void 0}return c};
e.remove=function(a){this.hasLocalStorage()&&this.expiringStorage_.remove(a);var b=this.domain_;jd.remove(""+a,"/",void 0===b?"youtube.com":b)};
e.getCreationTime=function(a){return this.hasLocalStorage()&&(a=(this.expiringStorage_.getWrapper(a)||{}).creation,Aa(a))?a:null};
e.getExpirationTime=function(a){return this.hasLocalStorage()&&(a=(this.expiringStorage_.getWrapper(a)||{}).expiration,Aa(a))?a:null};var Yj=new Xj("yt.innertube");function Zj(a,b,c,d){if(d)return null;d=Yj.get("nextId",!0)||1;var f=Yj.get("requests",!0)||{};f[d]={method:a,request:b,authState:Vj(c),requestTime:Math.round(Fg())};Yj.set("nextId",d+1,86400,!0);Yj.set("requests",f,86400,!0);return d}
function ak(a){var b=Yj.get("requests",!0)||{};delete b[a];Yj.set("requests",b,86400,!0)}
function bk(a){var b=Yj.get("requests",!0);if(b){for(var c in b){var d=b[c];if(!(6E4>Math.round(Fg())-d.requestTime)){var f=d.authState,g=Vj(Uj(!1));E.equals(f,g)&&(f=d.request,"requestTimeMs"in f&&(f.requestTimeMs=Math.round(Fg())),a.postWithOptions(d.method,f,{}));delete b[c]}}Yj.set("requests",b,86400,!0)}}
;var ck=function(a){var b=this;this.config_=a||{innertubeApiKey:K("INNERTUBE_API_KEY",void 0),innertubeApiVersion:K("INNERTUBE_API_VERSION",void 0),innertubeContextClientName:K("INNERTUBE_CONTEXT_CLIENT_NAME","WEB"),innertubeContextClientVersion:K("INNERTUBE_CONTEXT_CLIENT_VERSION",void 0),innertubeContextHostLanguage:K("INNERTUBE_CONTEXT_HL",void 0),innertubeContextGeoLocation:K("INNERTUBE_CONTEXT_GL",void 0),innertubeHostOverride:K("INNERTUBE_HOST_OVERRIDE",void 0)||"",innertubeUseThirdPartyAuth:!!K("INNERTUBE_USE_THIRD_PARTY_AUTH",
!1)};N.addIdlePriorityJob(function(){bk(b)},5E3)};
ck.prototype.buildSkeletonRequest=function(){var a=this.config_;a={client:{hl:a.innertubeContextHostLanguage,gl:a.innertubeContextGeoLocation,clientName:a.innertubeContextClientName,clientVersion:a.innertubeContextClientVersion}};var b=window.devicePixelRatio;b&&1!=b&&(a.client.screenDensityFloat=String(b));K("DELEGATED_SESSION_ID")&&!M("pageid_as_header_web")&&(a.user={onBehalfOfUser:K("DELEGATED_SESSION_ID")});return{context:a}};
ck.prototype.postWithOptions=function(a,b,c){var d=this;!K("VISITOR_DATA")&&.01>Math.random()&&L(Error("Missing VISITOR_DATA when sending innertube request."),"WARNING");var f={headers:{"Content-Type":"application/json"},method:"POST",postParams:b,postBodyFormat:"JSON",onTimeout:function(){},
onFetchTimeout:c.onTimeout,onSuccess:function(a,b){if(c.onSuccess)c.onSuccess(b)},
onFetchSuccess:function(a){if(c.onSuccess)c.onSuccess(a)},
onError:function(a,b){if(c.onError)c.onError(b)},
onFetchError:function(a){if(c.onError)c.onError(a)},
timeout:c.timeout,withCredentials:!0},g="",h=this.config_.innertubeHostOverride;h&&(g=h);h=this.config_.innertubeUseThirdPartyAuth||!1;var k=Uj(h,g,c);Object.assign(f.headers,k);f.headers.Authorization&&!g&&(f.headers["x-origin"]=window.location.origin);var l=""+g+("/youtubei/"+this.config_.innertubeApiVersion+"/"+a)+"?alt=json&key="+this.config_.innertubeApiKey,m;if(c.retry&&M("retry_web_logging_batches")&&"www.youtube-nocookie.com"!=g&&(m=Zj(a,b,k,h))){var q=f.onSuccess,t=f.onFetchSuccess;f.onSuccess=
function(a,b){ak(m);q(a,b)};
b.onFetchSuccess=function(a,b){ak(m);t(a,b)}}try{M("use_fetch_for_op_xhr")?eh(l,f):oh(l,f)}catch(G){if("InvalidAccessError"==G)m&&(ak(m),m=0),L(Error("An extension is blocking network request."),"WARNING");
else throw G;}m&&N.addIdlePriorityJob(function(){bk(d)},5E3)};function dk(a,b){C(b,function(b){Sj(ck,a,b)})}
function ek(a,b){C(b,function(b){Oj("visualElementHidden",{csn:a,ve:b.getAsJson(),eventType:2},ck)})}
function fk(a,b){C(b,function(b){Oj("visualElementShown",{csn:a,ve:b.getAsJson(),eventType:4},ck)})}
function gk(a,b,c){C(b,function(b){Oj("visualElementHidden",{csn:a,ve:b.getAsJson(),eventType:c?16:8},ck)})}
;var hk=A().toString();
function ik(a){a:{if(window.crypto&&window.crypto.getRandomValues)try{var b=Array(a),c=new Uint8Array(a);window.crypto.getRandomValues(c);for(var d=0;d<b.length;d++)b[d]=c[d];var f=b;break a}catch(g){}f=Array(a);for(b=0;b<a;b++){c=A();for(d=0;d<c%23;d++)f[b]=Math.random();f[b]=Math.floor(256*Math.random())}if(hk)for(b=1,c=0;c<hk.length;c++)f[b%a]=f[b%a]^f[(b-1)%a]/4^hk.charCodeAt(c),b++}a=f;f=[];for(b=0;b<a.length;b++)f.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(a[b]&63));
return f.join("")}
;var jk=x("ytLoggingTimeDocumentNonce_")||ik(16);w("ytLoggingTimeDocumentNonce_",jk,void 0);function kk(a){a=void 0===a?0:a;return 0==a?"client-screen-nonce":"client-screen-nonce."+a}
function lk(a){a=void 0===a?0:a;return 0==a?"ROOT_VE_TYPE":"ROOT_VE_TYPE."+a}
function mk(a){return K(lk(void 0===a?0:a),void 0)}
w("yt_logging_screen.getRootVeType",mk,void 0);w("yt.logging.screen.getRootVeType",mk,void 0);function nk(a){return(a=mk(void 0===a?0:a))?new Pj({veType:a,youtubeData:void 0}):null}
function ok(a){a=void 0===a?0:a;var b=K(kk(a));b||0!=a||(b=K("EVENT_ID"));return b?b:null}
w("yt_logging_screen.getCurrentCsn",ok,void 0);w("yt.logging.screen.getCurrentCsn",ok,void 0);function pk(a,b,c){c=void 0===c?0:c;if(a!==K(kk(c))||b!==K(lk(c)))Hg(kk(c),a),Hg(lk(c),b),0==c&&(b=function(){setTimeout(function(){a&&Oj("foregroundHeartbeatScreenAssociated",{clientDocumentNonce:jk,clientScreenNonce:a},ck)},0)},"requestAnimationFrame"in window?window.requestAnimationFrame(b):b())}
w("yt_logging_screen.setCurrentScreen",pk,void 0);w("yt.logging.screen.setCurrentScreen",pk,void 0);var qk={},rk=0;function sk(a,b,c,d,f){f=void 0===f?"":f;a&&(c&&(c=Mb,c=!(c&&0<=c.toLowerCase().indexOf("cobalt"))),c?a&&(a=Id(Ld(a)),"about:invalid#zClosurez"===a?a="":(a=$d(be(a)),a=encodeURIComponent(String(Bi(a)))),qb(a)||(a=Ae("IFRAME",{src:'javascript:"<body><img src=\\""+'+a+'+"\\"></body>"',style:"display:none"}),oe(a).body.appendChild(a))):f?jh(a,b,"POST",f,d):K("USE_NET_AJAX_FOR_PING_TRANSPORT",!1)||d?jh(a,b,"GET","",d):tk(a,b))}
function tk(a,b){var c=new Image,d=""+rk++;qk[d]=c;c.onload=c.onerror=function(){b&&qk[d]&&b();delete qk[d]};
c.src=a}
;var O={},Q={YtActionSenderBehavior:{_noAccessors:!0,sendAction:function(a,b){return Uh(this,a,b)},
sendOptionalAction:function(a,b){return Uh(this,a,b,!0)},
sendSingletonAction:function(a,b){return Uh(this,a,b)[0]},
sendInnerTubeActions:function(a,b,c){Vh(this,a,b,c)},
sendServiceRequestAction:function(a){return Wh(this,a)}}};var R={};R.YtActionHandlerBehavior=[Q.YtActionSenderBehavior,{actionMap:{},attached:function(){this.registerActionMap(this.actionMap)},
detached:function(){this.unregisterActionMap(this.actionMap)},
registerActionMap:function(a){for(var b=n(Object.keys(a)),c=b.next();!c.done;c=b.next())c=c.value,(c=this.createRegisterActionDetail_(c,a[c]))&&this.registerAction_(c)},
unregisterActionMap:function(a){a=n(Object.keys(a));for(var b=a.next();!b.done;b=a.next())this.unregisterAction_(new wh(b.value,this))},
registerAction_:function(a){this.fire("yt-register-action",a)},
unregisterAction_:function(a){this.fire("yt-unregister-action",a,{node:document})},
createRegisterActionDetail_:function(a,b){var c=this[b];if(c)return new vh(a,this,c);a=Error("Unable to register undefined function");a.params=b;L(a);return null}}];var uk=function(){};
e=uk.prototype;e.endpointToXhrUrl=function(){};
e.fetchData=function(){};
e.postData=function(){};
e.requestDataForEndpoint=function(){};
e.requestDataForServiceEndpoint=function(){};var vk={},wk="accountDisconnectionEndpoint accountIntegrationEndpoint accountLinkCommand accountUnlinkCommand addToRemoteQueueEndpoint clearRemoteQueueEndpoint insertInRemoteQueueEndpoint pingingEndpoint removeFromRemoteQueueEndpoint".split(" "),xk=["updatedMetadataEndpoint"],yk=["GET_UNSEEN_NOTIFICATION_COUNT"],zk=function(){},Ak=function(a,b){this.data=a;
this.actions=b};
vk.YtEndpointHandlerBehavior=[R.YtActionHandlerBehavior,Q.YtActionSenderBehavior,{_noAccessors:!0,created:function(){this.endpointHandlerActionMap_={"yt-service-request":"handleServiceRequest_"};this.serviceEndpointHandlers_=[]},
attached:function(){this.registerActionMap(this.endpointHandlerActionMap_)},
detached:function(){this.unregisterActionMap(this.endpointHandlerActionMap_)},
registerServiceEndpointHandler:function(a){this.serviceEndpointHandlers_.push(a)},
handleServiceRequest_:function(a,b,c){var d=new zk;d.endpoint=b;var f=Nh(b);f&&(this.sendInnerTubeActions(f,a,c),d.actions=f);!M("kevlar_logging_urls_killswitch")&&b.loggingUrls&&b.loggingUrls.forEach(function(a){a.baseUrl&&sk(a.baseUrl)});
(f=ok())&&b.clickTrackingParams&&!this.isPollingEndpoint_(b)&&!this.hasNavigationLogging_(a)&&Tj(ck,f,Qj(b.clickTrackingParams),void 0,void 0);f=!1;for(var g=0;g<this.serviceEndpointHandlers_.length;g++)if((0,this.serviceEndpointHandlers_[g])(a,b,c)){f=!0;break}!f&&this.shouldSendNetworkRequest_(b)&&(d.ajaxPromise=this.sendServiceAjax_(a,b,c));return d},
hasNavigationLogging_:function(a){return(a=a.data&&a.data.navigationEndpoint)&&!!a.clickTrackingParams},
isPollingEndpoint_:function(a){if(a.signalServiceEndpoint){var b=a.signalServiceEndpoint.signal;if(b&&0<=yk.indexOf(b))return!0}for(var c in a)if(0<=xk.indexOf(c))return!0;return!1},
shouldSendNetworkRequest_:function(a){if(a.signalServiceEndpoint&&"CLIENT_SIGNAL"==a.signalServiceEndpoint.signal)return!1;for(var b in a)if(0<=wk.indexOf(b))return!1;a=Object.keys(a);return 1==a.length&&"loggingUrls"==a[0]?!1:!0},
getCancellableNetworkPromise_:function(a,b,c,d){var f=this,g=a.requestDataForServiceEndpoint(c,d),h=Nf();h.promise.thenCatch(function(){g.cancel("Resolver promise rejected")});
g.then(function(a){if(a){if(a.data){a.data.trackingParams&&!M("kevlar_attach_service_response_killswitch")&&f.logServiceAjaxResponse_(b,a.data.trackingParams);var d=Oh(a.data);d&&f.sendInnerTubeActions(d,b);h.resolve(new Ak(a.data,d))}a.error&&h.reject(Error(a.error))}else h.reject(Error("Invalid service endpoint provided: "+JSON.stringify(c)))},function(a){h.reject(a)},this);
return h.promise},
sendServiceAjax_:function(a,b,c){var d=this,f;return(f=a.getNetworkManager&&a.getNetworkManager()?a.getNetworkManager():this.getInterface(uk))?M("kevlar_cancellable_service_request")?this.getCancellableNetworkPromise_(f,a,b,c):new Df(function(g,h){f.requestDataForServiceEndpoint(b,c).then(function(c){if(c){if(c.data){c.data.trackingParams&&!M("kevlar_attach_service_response_killswitch")&&d.logServiceAjaxResponse_(a,c.data.trackingParams);var f=Oh(c.data);f&&d.sendInnerTubeActions(f,a);g(new Ak(c.data,
f))}c.error&&h(Error(c.error))}else h(Error("Invalid service endpoint provided: "+JSON.stringify(b)))},function(a){h(a)},d)},this):If("No network manager.")},
logServiceAjaxResponse_:function(a,b){var c=a.getScreenLayer?a.getScreenLayer():void 0;a=ok(c);c=nk(c);a&&c&&(b=Qj(b),Rj(ck,a,c,[b]),this.sendOptionalAction("yt-store-grafted-ve-action",[b]))}}];var S={YtPostMessageBehavior:{_noAccessors:!0,postMessage:function(a,b,c){var d={};d[a]=b;window.top.postMessage(d,this.getTargetOrigin_(),c)},
getTargetOrigin_:function(){return K("POST_TO_PARENT_DOMAIN","https://www.youtube.com")}}};Polymer({is:"yt-iframed-buyflow-launcher",behaviors:[R.YtActionHandlerBehavior,S.YtPostMessageBehavior],actionMap:{"yt-open-payments-dialog":"onStartWalletBuyFlow_"},created:function(){this.messageChannel_=null},
onStartWalletBuyFlow_:function(a,b){this.messageChannel_=new MessageChannel;this.messageChannel_.port1.onmessage=function(a){if(a.data.buyFlowResponse)this.onDialogSuccess_(b,a.data.buyFlowResponse);else if(a.data.error)this.onDialogError_(b,a.data.error);else this.onDialogClose_(b)}.bind(this);
this.postMessage("yt-iframed-buyflow-launcher",{encryptedPurchaseParams:a.data.encryptedPurchaseParams,serializedTransactionFlowLoggingParams:a.data.serializedTransactionFlowLoggingParams},[this.messageChannel_.port2])},
onDialogSuccess_:function(a,b){a({success:!0,buyFlowResponse:b})},
onDialogClose_:function(a){a({success:!1,closed:!0})},
onDialogError_:function(a,b){a({success:!1,error:b})}});var Bk={YtComponentBehavior:{_noAccessors:!0,ready:function(){this.provides&&Ah(this.provides,this,!1)},
getInterface:function(a){return Bh(a)},
asyncFrame:function(a,b){return setTimeout(function(){requestAnimationFrame(a)},b)}}};Polymer({is:"yt-iframed-gfeedback-manager",provides:ii,behaviors:[Bk.YtComponentBehavior,S.YtPostMessageBehavior],factoryImpl:function(){},
showFeedbackDialog:function(a,b,c,d){if(c){var f=new MessageChannel;f.port1.onmessage=c;c=[f.port2]}else c=void 0;this.postMessage("yt-show-feedback-dialog",{customProductData:a,feedbackContent:b,bucket:d},c);return!0},
showHelpDialog:function(a,b,c){this.postMessage("yt-show-help-dialog",{helpContext:a,articleId:b,customProductData:c});return!0}});Polymer({is:"yt-iframed-player-events-relay",behaviors:[Q.YtActionSenderBehavior,S.YtPostMessageBehavior],attached:function(){this.listen(window,"message","handlePostMessage_")},
detached:function(){this.unlisten(window,"message","handlePostMessage_")},
ready:function(){this.setupPlayerEventsRelay_()},
setupPlayerEventsRelay_:function(){this.postMessage("yt-iframed-player-progress-relay",{})},
handlePostMessage_:function(a){if(a.origin==window.location.protocol+"//"+window.location.host&&a.data)if(a.data["yt-iframed-parent-ready"])this.setupPlayerEventsRelay_();else{var b=Object.keys(a.data);b.length&&-1!=b[0].indexOf("yt-player-")&&(b=b[0],this.sendOptionalAction(b,[a.data[b]]))}}});function Ck(a,b){return a?a.dataset?a.dataset[Dk(b)]:a.getAttribute("data-"+b):null}
var Ek={};function Dk(a){return Ek[a]||(Ek[a]=String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()}))}
;function Fk(a,b,c,d){var f=ck;K("ytLoggingEventsDefaultDisabled",!1)&&ck==ck&&(f=null);Oj(a,b,f,c,d)}
function Gk(){M("log_web_meta")&&Gj().forEach(function(a){Fk("delayedEventMetricCaptured",a)})}
;var Hk=/\.vflset|-vfl[a-zA-Z0-9_+=-]+/,Ik=/-[a-zA-Z]{2,3}_[a-zA-Z]{2,3}(?=(\/|$))/;function Jk(a,b,c){c=void 0===c?null:c;if(window.spf){c="";if(a){var d=a.indexOf("jsbin/"),f=a.lastIndexOf(".js"),g=d+6;-1<d&&-1<f&&f>g&&(c=a.substring(g,f),c=c.replace(Hk,""),c=c.replace(Ik,""),c=c.replace("debug-",""),c=c.replace("tracing-",""))}spf.script.load(a,c,b);return null}return Kk(a,b,c)}
function Kk(a,b,c){c=void 0===c?null:c;var d=Lk(a),f=document.getElementById(d),g=f&&Ck(f,"loaded"),h=f&&!g;if(g)return b&&b(),f;b&&(lj(d,b),Na(b));return h?f:f=Mk(a,d,function(){if(!Ck(f,"loaded")){var a=f;a&&(a.dataset?a.dataset[Dk("loaded")]="true":a.setAttribute("data-loaded","true"));nj(d);Rg(Ra(oj,d),0)}},c)}
function Mk(a,b,c,d){d=void 0===d?null:d;var f=document.createElement("SCRIPT");f.id=b;f.onload=function(){c&&setTimeout(c,0)};
f.onreadystatechange=function(){switch(f.readyState){case "loaded":case "complete":f.onload()}};
d&&f.setAttribute("nonce",d);je(f,$e(a));a=document.getElementsByTagName("head")[0]||document.body;a.insertBefore(f,a.firstChild);return f}
function Lk(a){var b=document.createElement("a");ie(b,a);a=b.href.replace(/^[a-zA-Z]+:\/\//,"//");return"js-"+Ib(a)}
;function Nk(a,b,c,d,f){var g={};b&&(g[b]=c);d?g.errorType=d:f&&(g.errorReason=f);Fk(a,g);Gk();Dj()}
function Ok(a){a&&Nk("transactionFlowSucceeded","serializedTransactionFlowLoggingParams",a)}
function Pk(a,b){b&&Nk("transactionFlowFailed","serializedTransactionFlowLoggingParams",b,a)}
function Qk(a,b){b&&Nk("ypcCancelFlowFailed","serializedYpcCancelFlowLoggingParams",b,void 0,a)}
;var Rk=function(a,b){var c={};E.extend(c,{label:a,pageName:K("PAGE_NAME")});b&&E.extend(c,b);a=ug(c);sk("/gen_204?a=ypc-checkout"+(a?"&"+a:""),void 0)};var Sk=function(){this.megabloxUrl_=null};
Ga(Sk);e=Sk.prototype;e.load=function(a){Rk("mb-api-loading");this.megabloxUrl_=K("YPC_MB_URL",void 0);Jk(this.megabloxUrl_,z(function(){a&&a()},this))};
e.openBuyDialog=function(a,b,c,d,f,g,h,k,l,m,q){q&&Nk("transactionFlowStarted","serializedTransactionFlowLoggingParams",q);this.load(z(function(){this.openBuyDialog_(a,b,c,d,f,g,h,k,l,m,q)},this))};
e.openFixFlowDialog=function(a,b,c,d){this.load(z(function(){this.openFixFlowDialog_(a,b,c,d)},this))};
e.getBootstrapper_=function(a,b,c,d){var f=a.mashupMode.popup("buyFlowDivId").usingDraggableDialog().usingPreferredWidth(600);M("enable_window_constrained_buy_flow_dialog")&&(f=f.usingPopupStyle(x("payments.business.integration").PopupStyle.WINDOW_CONSTRAINED));d&&(f=f.usingCloseCallback(d));a.bootstrap.fromPaymentsUrl(this.megabloxUrl_);a=a.bootstrap.asMashupMode(f);b=b?b:K("YPC_GB_LANGUAGE");a.usingGaiaIndex(c?c:K("SESSION_INDEX")).usingLocale(b).usingDefaultActivityStatusChangeHandler().usingStyle(":md;pc=#444;ac=#2793e6").usingBaseZIndex(2E9);
return a};
e.openBuyDialog_=function(a,b,c,d,f,g,h,k,l,m,q){try{h&&h("orchestration-script-init");var t=x("payments.business.integration"),G=t.standaloneContextAuthId.forUserId(),ea=l;m&&(ea=function(){try{ia.unload()}catch(za){L(za,void 0,void 0,void 0,!0)}l&&l()});
var U=this.getBootstrapper_(t,g,f,ea);k&&U.usingServerAnalyticsEventHandler(k);var P=U.inStandaloneContext(G);h&&h("orchestration-script-bootstrapper");var ia=P.buyFlow(function(a){!a||a.integratorData&&""!==a.integratorData&&!a.error||(a.error?"-1"===String(a.error)?q&&Nk("transactionFlowCancelled","serializedTransactionFlowLoggingParams",q):(L(Error(a.error)),Pk("TRANSACTION_ERROR_TYPE_YPC_BUYFLOW_COMPLETE_FAILURE",q)):(L(Error("IntegratorData not present in BuyFlow Complete Callback")),Pk("TRANSACTION_ERROR_TYPE_YPC_BUYFLOW_COMPLETE_EMPTY",
q)));b&&b(a)}).withEncryptedParameters(a);
h&&h("orchestration-script-buy-flow-enc-params");ia.load(c,function(a){Pk("TRANSACTION_ERROR_TYPE_LOAD_FAILURE",q);L(a,void 0,void 0,void 0,!0);d&&d(a)});
h&&h("orchestration-script-buy-flow-load")}catch(za){throw L(za,void 0,void 0,void 0,!0),za;}};
e.openFixFlowDialog_=function(a,b,c,d){try{this.getBootstrapper_(x("payments.business.integration")).forWidget().fixInstrument().withEncryptedParameters(a).withIntegratorCallback(b).load(c,d)}catch(f){throw L(f,void 0,void 0,void 0,!0),f;}};Polymer({is:"yt-native-buyflow-launcher",behaviors:[R.YtActionHandlerBehavior],actionMap:{"yt-open-payments-dialog":"onStartWalletBuyFlow_"},onStartWalletBuyFlow_:function(a,b){Sk.getInstance().openBuyDialog(a.data.encryptedPurchaseParams.replace(/-/g,"+").replace(/_/g,"/"),this.onDialogSuccess_.bind(this,b),void 0,this.onDialogError_.bind(this,b),void 0,void 0,void 0,void 0,this.onDialogClose_.bind(this,b),void 0,a.data.serializedTransactionFlowLoggingParams)},
onDialogSuccess_:function(a,b){a({success:!0,buyFlowResponse:b})},
onDialogClose_:function(a){a({success:!1,closed:!0})},
onDialogError_:function(a,b){a({success:!1,error:b})}});var Tk=!F||9<=Number(oc),Uk=!F||9<=Number(oc),Vk=F&&!nc("9"),Wk=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});
try{r.addEventListener("test",Fa,b),r.removeEventListener("test",Fa,b)}catch(c){}return a}();var Xk=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.propagationStopped_=!1;this.returnValue_=!0};
Xk.prototype.stopPropagation=function(){this.propagationStopped_=!0};
Xk.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};var Yk=function(a,b){Xk.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.platformModifierKey=!1;this.pointerId=0;this.pointerType="";this.event_=null;a&&this.init(a,b)};
B(Yk,Xk);var Zk=[1,4,2],$k={2:"touch",3:"pen",4:"mouse"};e=Yk.prototype;
e.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;(b=a.relatedTarget)?Yb&&(Tb(b,"nodeName")||(b=null)):"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.offsetX=Zb||void 0!==a.offsetX?a.offsetX:
a.layerX,this.offsetY=Zb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=$b?a.metaKey:a.ctrlKey;this.pointerId=a.pointerId||
0;this.pointerType=v(a.pointerType)?a.pointerType:$k[a.pointerType]||"";this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault()};
e.isButton=function(a){return Tk?this.event_.button==a:"click"==this.type?0==a:!!(this.event_.button&Zk[a])};
e.isMouseActionButton=function(){return this.isButton(0)&&!(Zb&&$b&&this.ctrlKey)};
e.stopPropagation=function(){Yk.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
e.preventDefault=function(){Yk.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Vk)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};
e.getBrowserEvent=function(){return this.event_};var al="closure_listenable_"+(1E6*Math.random()|0),bl=function(a){return!(!a||!a[al])},cl=0;var dl=function(a,b,c,d,f,g){this.listener=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!f;this.handler=g;this.key=++cl;this.removed=this.callOnce=!1};
dl.prototype.markAsRemoved=function(){this.removed=!0;this.handler=this.src=this.proxy=this.listener=null};var el=function(a){this.src=a;this.listeners={};this.typeCount_=0};
e=el.prototype;e.getTypeCount=function(){return this.typeCount_};
e.getListenerCount=function(){var a=0,b;for(b in this.listeners)a+=this.listeners[b].length;return a};
e.add=function(a,b,c,d,f){var g=a.toString();a=this.listeners[g];a||(a=this.listeners[g]=[],this.typeCount_++);var h=fl(a,b,d,f);-1<h?(b=a[h],c||(b.callOnce=!1)):(b=new dl(b,null,this.src,g,!!d,f),b.callOnce=c,a.push(b));return b};
e.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var f=this.listeners[a];b=fl(f,b,c,d);return-1<b?(f[b].markAsRemoved(),Array.prototype.splice.call(f,b,1),0==f.length&&(delete this.listeners[a],this.typeCount_--),!0):!1};
e.removeByKey=function(a){var b=a.type;if(!(b in this.listeners))return!1;var c=eb(this.listeners[b],a);c&&(a.markAsRemoved(),0==this.listeners[b].length&&(delete this.listeners[b],this.typeCount_--));return c};
e.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],f=0;f<d.length;f++)++b,d[f].markAsRemoved();delete this.listeners[c];this.typeCount_--}return b};
e.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var f=a[d];f.capture==b&&c.push(f)}return c};
e.getListener=function(a,b,c,d){a=this.listeners[a.toString()];var f=-1;a&&(f=fl(a,b,c,d));return-1<f?a[f]:null};
e.hasListener=function(a,b){var c=u(a),d=c?a.toString():"",f=u(b);return E.some(this.listeners,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||f&&a[g].capture!=b))return!0;return!1})};
var fl=function(a,b,c,d){for(var f=0;f<a.length;++f){var g=a[f];if(!g.removed&&g.listener==b&&g.capture==!!c&&g.handler==d)return f}return-1};var gl="closure_lm_"+(1E6*Math.random()|0),hl={},il=0,kl=function(a,b,c,d,f){if(d&&d.once)return jl(a,b,c,d,f);if(y(b)){for(var g=0;g<b.length;g++)kl(a,b[g],c,d,f);return null}c=ll(c);return bl(a)?a.listen(b,c,Ka(d)?!!d.capture:!!d,f):ml(a,b,c,!1,d,f)},ml=function(a,b,c,d,f,g){if(!b)throw Error("Invalid event type");
var h=Ka(f)?!!f.capture:!!f,k=nl(a);k||(a[gl]=k=new el(a));c=k.add(b,c,d,h,g);if(c.proxy)return c;d=ol();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Wk||(f=h),void 0===f&&(f=!1),a.addEventListener(b.toString(),d,f);else if(a.attachEvent)a.attachEvent(pl(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");il++;return c},ol=function(){var a=ql,b=Uk?function(c){return a.call(b.src,b.listener,c)}:function(c){c=
a.call(b.src,b.listener,c);
if(!c)return c};
return b},jl=function(a,b,c,d,f){if(y(b)){for(var g=0;g<b.length;g++)jl(a,b[g],c,d,f);
return null}c=ll(c);return bl(a)?a.listenOnce(b,c,Ka(d)?!!d.capture:!!d,f):ml(a,b,c,!0,d,f)},rl=function(a,b,c,d,f){if(y(b)){for(var g=0;g<b.length;g++)rl(a,b[g],c,d,f);
return null}d=Ka(d)?!!d.capture:!!d;c=ll(c);if(bl(a))return a.unlisten(b,c,d,f);if(!a)return!1;if(a=nl(a))if(b=a.getListener(b,c,d,f))return sl(b);return!1},sl=function(a){if(Aa(a)||!a||a.removed)return!1;
var b=a.src;if(bl(b))return b.unlistenByKey(a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(pl(c),d):b.addListener&&b.removeListener&&b.removeListener(d);il--;(c=nl(b))?(c.removeByKey(a),0==c.getTypeCount()&&(c.src=null,b[gl]=null)):a.markAsRemoved();return!0},tl=function(a,b,c,d,f){c=ll(c);
d=!!d;return bl(a)?a.getListener(b,c,d,f):a?(a=nl(a))?a.getListener(b,c,d,f):null:null},pl=function(a){return a in hl?hl[a]:hl[a]="on"+a},vl=function(a,b,c,d){var f=!0;
if(a=nl(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.capture==c&&!g.removed&&(g=ul(g,d),f=f&&!1!==g)}return f},ul=function(a,b){var c=a.listener,d=a.handler||a.src;
a.callOnce&&sl(a);return c.call(d,b)},ql=function(a,b){if(a.removed)return!0;
if(!Uk){var c=b||x("window.event");b=new Yk(c,this);var d=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(h){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=b.currentTarget;f;f=f.parentNode)c.push(f);a=a.type;for(f=c.length-1;!b.propagationStopped_&&0<=f;f--){b.currentTarget=c[f];var g=vl(c[f],a,!0,b);d=d&&g}for(f=0;!b.propagationStopped_&&f<c.length;f++)b.currentTarget=c[f],g=vl(c[f],a,!1,b),d=d&&g}return d}return ul(a,new Yk(b,
this))},nl=function(a){a=a[gl];
return a instanceof el?a:null},wl="__closure_events_fn_"+(1E9*Math.random()>>>0),ll=function(a){if(Ja(a))return a;
a[wl]||(a[wl]=function(b){return a.handleEvent(b)});
return a[wl]};/*
 Copyright (c) Microsoft Corporation. All rights reserved.
 Licensed under the Apache License, Version 2.0 (the "License"); you may not use
 this file except in compliance with the License. You may obtain a copy of the
 License at http://www.apache.org/licenses/LICENSE-2.0

 THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
 WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
 MERCHANTABLITY OR NON-INFRINGEMENT.

 See the Apache Version 2.0 License for specific language governing permissions
 and limitations under the License.
*/
/*
 *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.

See the License for the specific language governing permissions and
limitations under the License.
*****************************************************************************/
var xl=xl||{id:"third_party/javascript/node_modules/reflect_decorators/Reflect.closure.js"},yl;(function(a){function b(a,b,c){var d=Fi.get(a);if(!d){if(!c)return;d=new za;Fi.set(a,d)}a=d.get(b);if(!a){if(!c)return;a=new za;d.set(b,a)}return a}
function c(a,b,f){if(d(a,b,f))return!0;b=G(b);return null!==b?c(a,b,f):!1}
function d(a,c,d){c=b(c,d,!1);return void 0===c?!1:!!c.has(a)}
function f(a,b,c){if(d(a,b,c))return g(a,b,c);b=G(b);if(null!==b)return f(a,b,c)}
function g(a,c,d){c=b(c,d,!1);if(void 0!==c)return c.get(a)}
function h(a,b){var c=k(a,b);a=G(a);if(null===a)return c;var d=h(a,b);if(0>=d.length)return c;if(0>=c.length)return d;b=new fx;a=[];c=n(c);for(var f=c.next();!f.done;f=c.next())f=f.value,b.has(f)||(b.add(f),a.push(f));c=n(d);for(f=c.next();!f.done;f=c.next())d=f.value,b.has(d)||(b.add(d),a.push(d));return a}
function k(a,c){a=b(a,c,!1);var d=[];a&&a.forEach(function(a,b){return d.push(b)});
return d}
function l(a){return void 0===a}
function m(a){return"object"===typeof a?null!==a:"function"===typeof a}
function q(a){return"function"===typeof a}
function t(a){return"symbol"===typeof a?a:String(a)}
function G(a){var b=Object.getPrototypeOf(a);if("function"!==typeof a||a===ia||b!==ia)return b;var c=Object.getPrototypeOf(a.prototype);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c}
function ea(){function a(){this._keys=[];this._values=[];this._cache=b}
var b={};a.prototype={get size(){return this._keys.length},has:function(a){return a===this._cache?!0:0<=this._find(a)?(this._cache=a,!0):!1},
get:function(a){var b=this._find(a);if(0<=b)return this._cache=a,this._values[b]},
set:function(a,b){this.delete(a);this._keys.push(a);this._values.push(b);this._cache=a;return this},
delete:function(a){a=this._find(a);return 0<=a?(this._keys.splice(a,1),this._values.splice(a,1),this._cache=b,!0):!1},
clear:function(){this._keys.length=0;this._values.length=0;this._cache=b},
forEach:function(a){for(var b=this.size,c=0;c<b;++c){var d=this._keys[c],f=this._values[c];this._cache=d;a.call(this,f,d,this)}},
_find:function(a){for(var b=this._keys,c=b.length,d=0;d<c;++d)if(b[d]===a)return d;return-1}};
return a}
function U(){function a(){this._map=new za}
a.prototype={get size(){return this._map.length},has:function(a){return this._map.has(a)},
add:function(a){this._map.set(a,a);return this},
delete:function(a){return this._map.delete(a)},
clear:function(){this._map.clear()},
forEach:function(a,b){this._map.forEach(a,b)}};
return a}
function P(){function a(){this._key=c()}
function b(a,b){for(var c=0;c<b;++c)a[c]=255*Math.random()|0}
function c(){do{if(f)var a=f.randomBytes(16);else"function"===typeof Uint8Array?(a=new Uint8Array(16),"undefined"!==typeof crypto?crypto.getRandomValues(a):b(a,16)):(a=Array(16),b(a,16));a[6]=a[6]&79|64;a[8]=a[8]&191|128;for(var c="",d=0;16>d;++d){var k=a[d];if(4===d||6===d||8===d)c+="-";16>k&&(c+="0");c+=k.toString(16).toLowerCase()}a="@@WeakMap@@"+c}while(g.call(h,a));h[a]=!0;return a}
function d(a,b){if(!g.call(a,k)){if(!b)return;Object.defineProperty(a,k,{value:Object.create(null)})}return a[k]}
var f="undefined"!==typeof global&&"object"===typeof xl&&"function"===typeof require&&require("crypto"),g=Object.prototype.hasOwnProperty,h={},k=c();a.prototype={has:function(a){return(a=d(a,!1))?this._key in a:!1},
get:function(a){if(a=d(a,!1))return a[this._key]},
set:function(a,b){d(a,!0)[this._key]=b;return this},
delete:function(a){return(a=d(a,!1))&&this._key in a?delete a[this._key]:!1},
clear:function(){this._key=c()}};
return a}
var ia=Object.getPrototypeOf(Function),za="function"===typeof Map?Map:ea(),fx="function"===typeof Set?Set:U(),gx="function"===typeof WeakMap?WeakMap:P(),Fi=new gx;a.decorate=function(a,b,c,d){if(l(d)){if(l(c)){if(!Array.isArray(a))throw new TypeError;if(!q(b))throw new TypeError;for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!l(d)){if(!q(d))throw new TypeError;b=d}return b}if(!Array.isArray(a))throw new TypeError;if(!m(b))throw new TypeError;c=t(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c)}else{if(Array.isArray(a))if(m(b)){if(l(c))throw new TypeError;
if(!m(d))throw new TypeError;}else throw new TypeError;else throw new TypeError;c=t(c);for(var f=a.length-1;0<=f;--f){var g=(0,a[f])(b,c,d);if(!l(g)){if(!m(g))throw new TypeError;d=g}}return d}};
a.metadata=function(a,c){return function(d,f){if(l(f)){if(!q(d))throw new TypeError;b(d,void 0,!0).set(a,c)}else{if(!m(d))throw new TypeError;f=t(f);b(d,f,!0).set(a,c)}}};
a.defineMetadata=function(a,c,d,f){if(m(d))l(f)||(f=t(f));else throw new TypeError;b(d,f,!0).set(a,c)};
a.hasMetadata=function(a,b,d){if(m(b))l(d)||(d=t(d));else throw new TypeError;return c(a,b,d)};
a.hasOwnMetadata=function(a,b,c){if(m(b))l(c)||(c=t(c));else throw new TypeError;return d(a,b,c)};
a.getMetadata=function(a,b,c){if(m(b))l(c)||(c=t(c));else throw new TypeError;return f(a,b,c)};
a.getOwnMetadata=function(a,b,c){if(m(b))l(c)||(c=t(c));else throw new TypeError;return g(a,b,c)};
a.getMetadataKeys=function(a,b){if(m(a))l(b)||(b=t(b));else throw new TypeError;return h(a,b)};
a.getOwnMetadataKeys=function(a,b){if(m(a))l(b)||(b=t(b));else throw new TypeError;return k(a,b)};
a.deleteMetadata=function(a,c,d){if(m(c))l(d)||(d=t(d));else throw new TypeError;var f=b(c,d,!1);if(!l(f)){if(!f.delete(a))return!1;if(0<f.size)return!0;a=Fi.get(c);a.delete(d);if(0<a.size)return!0;Fi.delete(c);return!0}};
(function(b){if("undefined"!==typeof b.Reflect){if(b.Reflect!==a)for(var c in a)b.Reflect[c]=a[c]}else b.Reflect=a})("undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof global?global:Function("return this;")())})(yl||(yl={}));(function(){function a(a,b){var c="";if(a)if(a=a.toLowerCase()," "===a||q.test(a))c="space";else if(t.test(a))c="esc";else if(1==a.length){if(!b||k.test(a))c=a}else c=m.test(a)?a.replace("arrow",""):"multiply"==a?"*":a;return c}
function b(b,c){var d=b.hasModifiers;if(c.key)d=a(c.key,d);else if(c.detail&&c.detail.key)d=a(c.detail.key,d);else{d=c.keyIdentifier;var h="";d&&(d in f?h=f[d]:l.test(d)?(d=parseInt(d.replace("U+","0x"),16),h=String.fromCharCode(d).toLowerCase()):h=d.toLowerCase());(d=h)||(d=c.keyCode,h="",Number(d)&&(h=65<=d&&90>=d?String.fromCharCode(32+d):112<=d&&123>=d?"f"+(d-112+1):48<=d&&57>=d?String(d-48):96<=d&&105>=d?String(d-96):g[d]),d=h);d=d||""}return d===b.key&&(!b.hasModifiers||!!c.shiftKey===!!b.shiftKey&&
!!c.ctrlKey===!!b.ctrlKey&&!!c.altKey===!!b.altKey&&!!c.metaKey===!!b.metaKey)}
function c(a){return 1===a.length?{combo:a,key:a,event:"keydown"}:a.split("+").reduce(function(a,b){var c=b.split(":");b=c[0];c=c[1];b in h?(a[h[b]]=!0,a.hasModifiers=!0):(a.key=b,a.event=c||"keydown");return a},{combo:a.split(":").shift()})}
function d(a){return a.trim().split(" ").map(function(a){return c(a)})}
var f={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},g={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},h={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},k=/[a-z0-9*]/,l=/U\+/,m=/^arrow/,q=/^space(bar)?/,t=/^escape$/;Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},
stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},
_imperativeKeyBindings:{type:Object,value:function(){return{}}}},
observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},
attached:function(){this._listenKeyEventListeners()},
detached:function(){this._unlistenKeyEventListeners()},
addOwnKeyBinding:function(a,b){this._imperativeKeyBindings[a]=b;this._prepKeyBindings();this._resetKeyEventListeners()},
removeOwnKeyBindings:function(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},
keyboardEventMatchesKeys:function(a,c){c=d(c);for(var f=0;f<c.length;++f)if(b(c[f],a))return!0;return!1},
_collectKeyBindings:function(){var a=this.behaviors.map(function(a){return a.keyBindings});
-1===a.indexOf(this.keyBindings)&&a.push(this.keyBindings);return a},
_prepKeyBindings:function(){this._keyBindings={};this._collectKeyBindings().forEach(function(a){for(var b in a)this._addKeyBinding(b,a[b])},this);
for(var a in this._imperativeKeyBindings)this._addKeyBinding(a,this._imperativeKeyBindings[a]);for(var b in this._keyBindings)this._keyBindings[b].sort(function(a,b){a=a[0].hasModifiers;return a===b[0].hasModifiers?0:a?-1:1})},
_addKeyBinding:function(a,b){d(a).forEach(function(a){this._keyBindings[a.event]=this._keyBindings[a.event]||[];this._keyBindings[a.event].push([a,b])},this)},
_resetKeyEventListeners:function(){this._unlistenKeyEventListeners();this.isAttached&&this._listenKeyEventListeners()},
_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(a){var b=this._onKeyBindingEvent.bind(this,this._keyBindings[a]);this._boundKeyHandlers.push([this.keyEventTarget,a,b]);this.keyEventTarget.addEventListener(a,b)},this)},
_unlistenKeyEventListeners:function(){for(var a,b,c;this._boundKeyHandlers.length;)a=this._boundKeyHandlers.pop(),b=a[0],c=a[1],a=a[2],b.removeEventListener(c,a)},
_onKeyBindingEvent:function(a,c){this.stopKeyboardEventPropagation&&c.stopPropagation();if(!c.defaultPrevented)for(var d=0;d<a.length;d++){var f=a[d][0],g=a[d][1];if(b(f,c)&&(this._triggerKeyHandler(f,g,c),c.defaultPrevented))break}},
_triggerKeyHandler:function(a,b,c){var d=Object.create(a);d.keyboardEvent=c;a=new CustomEvent(a.event,{detail:d,cancelable:!0});this[b].call(this,a);a.defaultPrevented&&c.preventDefault()}}})();Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},
__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!Polymer.Element}}},
observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0);this.addEventListener("blur",this._boundFocusBlurHandler,!0)},
_focusBlurHandler:function(a){if(Polymer.Element)this._setFocused("focus"===a.type);else if(a.target===this)this._setFocused("focus"===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}},
_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false");this.style.pointerEvents=a?"none":"";a?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},
_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},
observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},
_focusChanged:function(a){this._detectKeyboardFocus(a);a||this._setPressed(!1)},
_detectKeyboardFocus:function(a){this._setReceivedFocusFromKeyboard(!this.pointerDown&&a)},
_userActivate:function(a){this.active!==a&&(this.active=a,this.fire("change"))},
_downHandler:function(){this._setPointerDown(!0);this._setPressed(!0);this._setReceivedFocusFromKeyboard(!1)},
_upHandler:function(){this._setPointerDown(!1);this._setPressed(!1)},
_spaceKeyDownHandler:function(a){a=a.detail.keyboardEvent;var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||(a.preventDefault(),a.stopImmediatePropagation(),this._setPressed(!0))},
_spaceKeyUpHandler:function(a){a=Polymer.dom(a.detail.keyboardEvent).localTarget;this.isLightDescendant(a)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},
_asyncClick:function(){this.async(function(){this.click()},1)},
_pressedChanged:function(){this._changedButtonState()},
_ariaActiveAttributeChanged:function(a,b){b&&b!=a&&this.hasAttribute(b)&&this.removeAttribute(b)},
_activeChanged:function(a){this.toggles?this.setAttribute(this.ariaActiveAttribute,a?"true":"false"):this.removeAttribute(this.ariaActiveAttribute);this._changedButtonState()},
_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},
_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}};
Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];var zl=document.createElement("style");zl.textContent="[hidden] { display: none !important; }";document.head.appendChild(zl);(function(){Polymer.IronMeta=function(a){Polymer.IronMeta[" "](a);this.type=a&&a.type||"default";this.key=a&&a.key;a&&"value"in a&&(this.value=a.value)};
Polymer.IronMeta[" "]=function(){};
Polymer.IronMeta.types={};Polymer.IronMeta.prototype={get value(){var a=this.type,c=this.key;if(a&&c)return Polymer.IronMeta.types[a]&&Polymer.IronMeta.types[a][c]},set value(a){var b=this.type,d=this.key;b&&d&&(b=Polymer.IronMeta.types[b]=Polymer.IronMeta.types[b]||{},null==a?delete b[d]:b[d]=a)},get list(){if(this.type){var b=Polymer.IronMeta.types[this.type];return b?Object.keys(b).map(function(b){return a[this.type][b]},this):[]}},
byKey:function(a){this.key=a;return this.value}};
var a=Polymer.IronMeta.types;Polymer({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(a,c,d){a=new Polymer.IronMeta({type:a,key:c});void 0!==d&&d!==a.value?a.value=d:this.value!==a.value&&(this.value=a.value);return a},
get list(){return this.__meta&&this.__meta.list},_selfChanged:function(a){a&&(this.value=this)},
byKey:function(a){return(new Polymer.IronMeta({type:this.type,key:a})).value}})})();Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},
attached:function(){this.style.display="none"},
getIconNames:function(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(a){return this.name+":"+a},this)},
applyIcon:function(a,b){this.removeIcon(a);if(b=this._cloneIcon(b,this.rtlMirroring&&this._targetIsRTL(a))){var c=Polymer.dom(a.root||a);c.insertBefore(b,c.childNodes[0]);return a._svgIcon=b}return null},
removeIcon:function(a){a._svgIcon&&(Polymer.dom(a.root||a).removeChild(a._svgIcon),a._svgIcon=null)},
_targetIsRTL:function(a){null==this.__targetIsRTL&&(this.useGlobalRtlAttribute?this.__targetIsRTL="rtl"===(document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement).getAttribute("dir"):(a&&a.nodeType!==Node.ELEMENT_NODE&&(a=a.host),this.__targetIsRTL=a&&"rtl"===window.getComputedStyle(a).direction));return this.__targetIsRTL},
_nameChanged:function(){this._meta.value=null;this._meta.key=this.name;this._meta.value=this;this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},
_createIconMap:function(){var a=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(b){a[b.id]=b});
return a},
_cloneIcon:function(a,b){this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[a],this.size,b)},
_prepareSvgClone:function(a,b,c){if(a){a=a.cloneNode(!0);var d=document.createElementNS("http://www.w3.org/2000/svg","svg");b=a.getAttribute("viewBox")||"0 0 "+b+" "+b;var f="pointer-events: none; display: block; width: 100%; height: 100%;";c&&a.hasAttribute("mirror-in-rtl")&&(f+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;");d.setAttribute("viewBox",b);d.setAttribute("preserveAspectRatio","xMidYMid meet");d.setAttribute("focusable","false");d.style.cssText=f;d.appendChild(a).removeAttribute("id");
return d}return null}});Polymer.IronSelection=function(a){this.selection=[];this.selectCallback=a};
Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},
clear:function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&this.setItemSelected(b,!1)},this)},
isSelected:function(a){return 0<=this.selection.indexOf(a)},
setItemSelected:function(a,b){if(null!=a&&b!==this.isSelected(a)){if(b)this.selection.push(a);else{var c=this.selection.indexOf(a);0<=c&&this.selection.splice(c,1)}this.selectCallback&&this.selectCallback(a,b)}},
select:function(a){this.multi?this.toggle(a):this.get()!==a&&(this.setItemSelected(this.get(),!1),this.setItemSelected(a,!0))},
toggle:function(a){this.setItemSelected(a,!this.isSelected(a))}};Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},
_excludedLocalNames:{type:Object,value:function(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},
observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},
attached:function(){this._observer=this._observeItems(this);this._addListener(this.activateEvent)},
detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer);this._removeListener(this.activateEvent)},
indexOf:function(a){return this.items?this.items.indexOf(a):-1},
select:function(a){this.selected=a},
selectPrevious:function(){var a=this.items.length;a=(Number(this._valueToIndex(this.selected))-1+a)%a;this.selected=this._indexToValue(a)},
selectNext:function(){var a=(Number(this._valueToIndex(this.selected))+1)%this.items.length;this.selected=this._indexToValue(a)},
selectIndex:function(a){this.select(this._indexToValue(a))},
forceSynchronousItemUpdate:function(){this._observer&&"function"===typeof this._observer.flush?this._observer.flush():this._updateItems()},
get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},
_addListener:function(a){this.listen(this,a,"_activateHandler")},
_removeListener:function(a){this.unlisten(this,a,"_activateHandler")},
_activateEventChanged:function(a,b){this._removeListener(b);this._addListener(a)},
_updateItems:function(){var a=Polymer.dom(this).queryDistributedElements(this.selectable||"*");a=Array.prototype.filter.call(a,this._bindFilterItem);this._setItems(a)},
_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},
_updateSelected:function(){this._selectSelected(this.selected)},
_selectSelected:function(){if(this.items){var a=this._valueToItem(this.selected);a?this._selection.select(a):this._selection.clear();this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},
_filterItem:function(a){return!this._excludedLocalNames[a.localName]},
_valueToItem:function(a){return null==a?null:this.items[this._valueToIndex(a)]},
_valueToIndex:function(a){if(this.attrForSelected)for(var b=0,c;c=this.items[b];b++){if(this._valueForItem(c)==a)return b}else return Number(a)},
_indexToValue:function(a){if(this.attrForSelected){if(a=this.items[a])return this._valueForItem(a)}else return a},
_valueForItem:function(a){if(!a)return null;if(!this.attrForSelected)return a=this.indexOf(a),-1===a?null:a;var b=a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return void 0!=b?b:a.getAttribute(this.attrForSelected)},
_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,b,a);this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,b,a);this._selectionChange();this.fire("iron-"+(b?"select":"deselect"),{item:a})},
_selectionChange:function(){this._setSelectedItem(this._selection.get())},
_observeItems:function(a){return Polymer.dom(a).observeNodes(function(a){this._updateItems();this._updateSelected();this.fire("iron-items-changed",a,{bubbles:!1,cancelable:!1})})},
_activateHandler:function(a){a=a.target;for(var b=this.items;a&&a!=this;){var c=b.indexOf(a);if(0<=c){b=this._indexToValue(c);this._itemActivate(b,a);break}a=a.parentNode}},
_itemActivate:function(a,b){this.fire("iron-activate",{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}};Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},
selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},
observers:["_updateSelected(selectedValues.splices)"],select:function(a){this.multi?this._toggleSelected(a):this.selected=a},
multiChanged:function(a){this._selection.multi=a;this._updateSelected()},
get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&0<this.selectedItems.length&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},
_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},
_selectMulti:function(a){a=a||[];a=(this._valuesToItems(a)||[]).filter(function(a){return null!==a&&void 0!==a});
this._selection.clear(a);for(var b=0;b<a.length;b++)this._selection.setItemSelected(a[b],!0);this.fallbackSelection&&!this._selection.get().length&&this._valueToItem(this.fallbackSelection)&&this.select(this.fallbackSelection)},
_selectionChange:function(){var a=this._selection.get();this.multi?(this._setSelectedItems(a),this._setSelectedItem(a.length?a[0]:null)):null!==a&&void 0!==a?(this._setSelectedItems([a]),this._setSelectedItem(a)):(this._setSelectedItems([]),this._setSelectedItem(null))},
_toggleSelected:function(a){var b=this.selectedValues.indexOf(a);0>b?this.push("selectedValues",a):this.splice("selectedValues",b,1)},
_valuesToItems:function(a){return null==a?null:a.map(function(a){return this._valueToItem(a)},this)}};
Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:"Alt AltGraph CapsLock Control Fn FnLock Hyper Meta NumLock OS ScrollLock Shift Super Symbol SymbolLock".split(" "),_SEARCH_RESET_TIMEOUT_MS:1E3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown",
"iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},
select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute("disabled")||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},
_resetTabindices:function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute("tabindex",b===a?"0":"-1")},this)},
_updateMultiselectable:function(a){a?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},
_focusWithKeyboardEvent:function(a){if(-1===this._MODIFIER_KEYS.indexOf(a.key)){this.cancelDebouncer("_clearSearchText");var b=this._searchText||"";b+=(a.key&&1==a.key.length?a.key:String.fromCharCode(a.keyCode)).toLocaleLowerCase();a=b.length;for(var c=0,d;d=this.items[c];c++)if(!d.hasAttribute("disabled")){var f=this.attrForItemTitle||"textContent";f=(d[f]||d.getAttribute(f)||"").trim();if(!(f.length<a)&&f.slice(0,a).toLocaleLowerCase()==b){this._setFocusedItem(d);break}}this._searchText=b;this.debounce("_clearSearchText",
this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},
_clearSearchText:function(){this._searchText=""},
_focusPrevious:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b-c+a)%a];if(!d.hasAttribute("disabled")){var f=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(f).activeElement==d)break}}},
_focusNext:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b+c)%a];if(!d.hasAttribute("disabled")){var f=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(f).activeElement==d)break}}},
_applySelection:function(a,b){b?a.setAttribute("aria-selected","true"):a.removeAttribute("aria-selected");Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},
_focusedItemChanged:function(a,b){b&&b.setAttribute("tabindex","-1");!a||a.hasAttribute("disabled")||this.disabled||(a.setAttribute("tabindex","0"),a.focus())},
_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},
_onShiftTabDown:function(){var a=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},
_onFocus:function(a){!Polymer.IronMenuBehaviorImpl._shiftTabPressed&&(a=Polymer.dom(a).rootTarget,a===this||"undefined"===typeof a.tabIndex||this.isLightDescendant(a))&&(this._defaultFocusAsync=this.async(function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);a?this._setFocusedItem(a):this.items[0]&&this._focusNext()}))},
_onUpKey:function(a){this._focusPrevious();a.detail.keyboardEvent.preventDefault()},
_onDownKey:function(a){this._focusNext();a.detail.keyboardEvent.preventDefault()},
_onEscKey:function(){var a=this.focusedItem;a&&a.blur()},
_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down esc")||this._focusWithKeyboardEvent(a);a.stopPropagation()},
_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a);a.stopPropagation()},
_disabledChanged:function(a){a?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)}};
Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},
attached:function(){this.opened&&this._openedChanged(this.opened)},
prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},
open:function(){this.opened=!0},
close:function(){this.opened=!1},
complete:function(){this.opened||this.parentNode!==document.body||Polymer.dom(this.parentNode).removeChild(this)},
_onTransitionend:function(a){a&&a.target===this&&this.complete()},
_openedChanged:function(a){a?this.prepare():(a=window.getComputedStyle(this),"0s"!==a.transitionDuration&&0!=a.opacity||this.complete());this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this)))}});Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document.documentElement,"tap",function(){});
document.addEventListener("tap",this._onCaptureClick.bind(this),!0);document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};
Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop"));return this._backdropElement},get deepActiveElement(){var a=document.activeElement;a&&!1!==a instanceof Element||(a=document.body);for(;a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},_bringOverlayAtIndexToFront:function(a){var b=this._overlays[a];if(b){var c=
this._overlays.length-1,d=this._overlays[c];d&&this._shouldBeBehindOverlay(b,d)&&c--;if(!(a>=c)){d=Math.max(this.currentOverlayZ(),this._minimumZ);for(this._getZ(b)<=d&&this._applyOverlayZ(b,d);a<c;)this._overlays[a]=this._overlays[a+1],a++;this._overlays[c]=b}}},
addOrRemoveOverlay:function(a){a.opened?this.addOverlay(a):this.removeOverlay(a)},
addOverlay:function(a){var b=this._overlays.indexOf(a);if(0<=b)this._bringOverlayAtIndexToFront(b);else{b=this._overlays.length;var c=this._overlays[b-1],d=Math.max(this._getZ(c),this._minimumZ),f=this._getZ(a);c&&this._shouldBeBehindOverlay(a,c)&&(this._applyOverlayZ(c,d),b--,d=Math.max(this._getZ(this._overlays[b-1]),this._minimumZ));f<=d&&this._applyOverlayZ(a,d);this._overlays.splice(b,0,a)}this.trackBackdrop()},
removeOverlay:function(a){a=this._overlays.indexOf(a);-1!==a&&(this._overlays.splice(a,1),this.trackBackdrop())},
currentOverlay:function(){return this._overlays[this._overlays.length-1]},
currentOverlayZ:function(){return this._getZ(this.currentOverlay())},
ensureMinimumZ:function(a){this._minimumZ=Math.max(this._minimumZ,a)},
focusOverlay:function(){var a=this.currentOverlay();a&&a._applyFocus()},
trackBackdrop:function(){var a=this._overlayWithBackdrop();if(a||this._backdropElement)this.backdropElement.style.zIndex=this._getZ(a)-1,this.backdropElement.opened=!!a,this.backdropElement.prepare()},
getBackdrops:function(){for(var a=[],b=0;b<this._overlays.length;b++)this._overlays[b].withBackdrop&&a.push(this._overlays[b]);return a},
backdropZ:function(){return this._getZ(this._overlayWithBackdrop())-1},
_overlayWithBackdrop:function(){for(var a=this._overlays.length-1;0<=a;a--)if(this._overlays[a].withBackdrop)return this._overlays[a]},
_getZ:function(a){var b=this._minimumZ;a&&(a=Number(a.style.zIndex||window.getComputedStyle(a).zIndex),a===a&&(b=a));return b},
_setZ:function(a,b){a.style.zIndex=b},
_applyOverlayZ:function(a,b){this._setZ(a,b+2)},
_overlayInPath:function(a){a=a||[];for(var b=0;b<a.length;b++)if(a[b]._manager===this)return a[b]},
_onCaptureClick:function(a){var b=this._overlays.length-1;if(-1!==b)for(var c=Polymer.dom(a).path,d;(d=this._overlays[b])&&this._overlayInPath(c)!==d;)if(d._onCaptureClick(a),d.allowClickThrough)b--;else break},
_onCaptureFocus:function(a){var b=this.currentOverlay();b&&b._onCaptureFocus(a)},
_onCaptureKeyDown:function(a){var b=this.currentOverlay();b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"esc")?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"tab")&&b._onCaptureTab(a))},
_shouldBeBehindOverlay:function(a,b){return!a.alwaysOnTop&&b.alwaysOnTop}};
Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}});/*

 Copyright Google Inc. All Rights Reserved.

 Use of this source code is governed by an MIT-style license that can be
 found in the LICENSE file at https://angular.io/license
*/
function Al(a,b,c){function d(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=function(a,b,c){for(b=Reflect.getMetadata("parameters",a)||[];b.length<=c;)b.push(null);b[c]=b[c]||[];b[c].push(g);Reflect.defineMetadata("parameters",b,a);return a};
if(this instanceof d)return f.apply(this,b),this;var g=new (Function.prototype.bind.apply(d,[null].concat(ka(b))));c.annotation=g;return c}
var f=Bl(b);c&&(d.prototype=Object.create(c.prototype));d.prototype.toString=function(){return"@"+a};
return d.annotationCls=d}
function Bl(a){return function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];var f=this;a.forEach(function(a,b){b=c[b];if(Array.isArray(a))f[a[0]]=b&&void 0!==b?b:a[1];else for(var d in a)f[d]=b&&void 0!==b[d]?b[d]:a[d]})}}
;function Cl(a){if("string"===typeof a)return a;if(void 0===a||null===a)return""+a;if(a.overriddenName)return a.overriddenName;if(a.name)return a.name;a=a.toString();var b=a.indexOf("\n");return-1===b?a:a.substring(0,b)}
;function Dl(a){a.__forward_ref__=Dl;a.toString=function(){return Cl(this())};
return a}
;Al("Injectable",[]);Al("Inject",[["token",void 0]]);Al("Optional",[]);Al("Injectable",[]);Al("Self",[]);Al("SkipSelf",[]);Al("Host",[]);var El=function(){};
El.prototype.get=function(){throw Error("unimplemented");};var Fl=function(a,b){this.token=a;this.id=b;if(void 0===a||null===a)throw Error("Token must be defined!");};
ca.Object.defineProperties(Fl.prototype,{displayName:{configurable:!0,enumerable:!0,get:function(){return Cl(this.token)}}});
ca.Object.defineProperties(Fl,{numberOfKeys:{configurable:!0,enumerable:!0,get:function(){return Gl.numberOfKeys}}});
var Hl=function(){this._allKeys=new Map};
Hl.prototype.get=function(a){if(a instanceof Fl)return a;if(this._allKeys.has(a))return this._allKeys.get(a);var b=new Fl(a,Fl.numberOfKeys);this._allKeys.set(a,b);return b};
ca.Object.defineProperties(Hl.prototype,{numberOfKeys:{configurable:!0,enumerable:!0,get:function(){return this._allKeys.size}}});
var Gl=new Hl;Gl.get(function(a){return"function"===typeof a&&a.hasOwnProperty("__forward_ref__")&&a.__forward_ref__===Dl?a():a}(El));var Il=x("ytglobal.prefsUserPrefsPrefs_")||{};w("ytglobal.prefsUserPrefsPrefs_",Il,void 0);var Jl=function(){this.cookieName_=K("ALT_PREF_COOKIE_NAME","PREF");var a=jd.get(""+this.cookieName_,void 0);a&&this.parse_(a)};
e=Jl.prototype;e.get=function(a,b){this.throwOnInvalidKey_(a);a=this.getString_(a);return null!=a?a:b?b:""};
e.set=function(a,b){this.throwOnInvalidKey_(a);this.throwOnNull_(b);this.setValue_(a,b)};
e.getFlag=function(a){return this.getFlag_("f"+(Math.floor(a/31)+1),1<<a%31)};
e.setFlag=function(a,b){this.setFlag_("f"+(Math.floor(a/31)+1),1<<a%31,b)};
e.remove=function(a){this.throwOnInvalidKey_(a);this.deleteValue_(a)};
e.save=function(){Wj(this.cookieName_,this.dump(),63072E3,"/")};
e.clear=function(){E.clear(Il)};
e.dump=function(){var a=[],b;for(b in Il)a.push(b+"="+encodeURIComponent(String(Il[b])));return a.join("&")};
e.throwOnNull_=function(a){if(null==a)throw Error("ExpectedNotNull");};
e.throwOnRegexMatch_=function(a,b){if(b.test(a))throw Error("ExpectedRegexMatch: "+a);};
e.throwOnRegexMismatch_=function(a,b){if(!b.test(a))throw Error("ExpectedRegexMismatch: "+a);};
e.throwOnInvalidKey_=function(a){this.throwOnRegexMismatch_(a,/^\w+$/);this.throwOnRegexMatch_(a,/^f([1-9][0-9]*)$/)};
e.setValue_=function(a,b){Il[a]=b.toString()};
e.getNumber_=function(a){a=this.getString_(a);return null!=a&&/^[A-Fa-f0-9]+$/.test(a)?parseInt(a,16):null};
e.getString_=function(a){return void 0!==Il[a]?Il[a].toString():null};
e.setFlag_=function(a,b,c){var d=this.getNumber_(a)||0;d=c?d|b:d&~b;0==d?this.deleteValue_(a):this.setValue_(a,d.toString(16))};
e.getFlag_=function(a,b){return!!((this.getNumber_(a)||0)&b)};
e.deleteValue_=function(a){delete Il[a]};
e.parse_=function(a){a=decodeURIComponent(a).split("&");for(var b=0;b<a.length;b++){var c=a[b].split("="),d=c[0];(c=c[1])&&this.setValue_(d,c)}};
Ga(Jl);var Kl=new Map([["dark","USER_INTERFACE_THEME_DARK"],["light","USER_INTERFACE_THEME_LIGHT"]]);function Ll(a){a=void 0===a?window.location.href:a;if(M("kevlar_disable_theme_param"))return null;if("/youtuberedoriginals"===kg(jg(a)[5]||null,!0))return"USER_INTERFACE_THEME_DARK";a=Wg(a).theme;return Kl.get(a)||null}
;var Ml=function(){this.shownElements_=new Set;this.hiddenElements_=new Set;this.visibleState_=new Map;this.csn_=null};
e=Ml.prototype;e.newScreen=function(){this.clear();this.csn_=ok()};
e.clear=function(){this.shownElements_.clear();this.hiddenElements_.clear();this.visibleState_.clear();this.csn_=null};
e.reportShown=function(a,b,c){b=this.shownElements_.has(a);var d=this.visibleState_.get(a);this.shownElements_.add(a);this.visibleState_.set(a,!0);a.impressionLog&&!b&&a.impressionLog();var f=this.getTrackingParams_(a);if(f||a.visualElement)if(c=this.getCurrentCsn_(a,c)){var g=this.getVisibilityTypes_(a);if(g||!this.hasLoggingDirectives_(a))a=a.visualElement?a.visualElement:Qj(f),g||b?g&4?d||fk(c,[a]):g&1&&!b&&dk(c,[a]):Sj(ck,c,a)}};
e.reportHidden=function(a,b,c){b=this.hiddenElements_.has(a);var d=this.visibleState_.get(a);this.hiddenElements_.add(a);this.visibleState_.set(a,!1);if(!1===d)return!0;d=this.getTrackingParams_(a);if(!d&&!a.visualElement)return!1;c=this.getCurrentCsn_(a,c);if(!c)return!1;var f=this.getVisibilityTypes_(a);if(!f&&this.hasLoggingDirectives_(a))return!1;a=a.visualElement?a.visualElement:Qj(d);f&8?gk(c,[a]):f&2&&!b&&ek(c,[a]);return!0};
e.reportChildrenHidden=function(a,b){var c=Array.from(a.children);a.shadowRoot&&(c=c.concat(a.shadowRoot.children));if(c&&c.length){a=c.length;for(var d=0;d<a;d++){var f=c[d],g=f.screenLayer||b;this.reportHidden(f,void 0,g)||this.reportChildrenHidden(f,g)}}};
e.getTrackingParams_=function(a){return a.data&&a.data.loggingDirectives?a.data.loggingDirectives.trackingParams||"":a.data&&a.data.trackingParams||""};
e.getCurrentCsn_=function(a,b){var c=ok(b);return null===this.csn_||c==this.csn_||b?c:(L(Error(a.tagName+" is calling VETracker. However, VETracker.newScreen() was not called after screen changed. "+("Previous CSN: '"+this.csn_+"'. Current CSN: '"+c+"'")),"WARNING",void 0,void 0,void 0),null)};
e.hasLoggingDirectives_=function(a){return a.data&&a.data.loggingDirectives};
e.getVisibilityTypes_=function(a){return parseInt(a.data&&a.data.loggingDirectives&&a.data.loggingDirectives.visibility&&a.data.loggingDirectives.visibility.types||"",10)||0};
Ga(Ml);var Nl=function(){this.actionRoutingMap=new Map};
e=Nl.prototype;e.triggerAction=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=new uh(a,!1,c);this.handleAction(c);return c.returnValue};
e.triggerOptionalAction=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=new uh(a,!0,c);this.handleAction(c);return c.returnValue};
e.triggerInnerTubeActions=function(a,b,c){var d=this;a.forEach(function(a){var f=Lh(a,"action")||Lh(a,"command")||Lh(a,"endpoint");f&&(f=Mh(f,"yt"),a.signalAction&&(f+="-"+a.signalAction.signal.toLowerCase().replace(/_/g,"-")),d.triggerOptionalAction(f,a,b,c))})};
e.handleAction=function(a){var b=this.actionRoutingMap.get(a.actionName);a.optionalAction||b?b&&this.executeActionHandlers_(a,b):(b=Error("Unhandled action"),b.params=a.actionName,L(b,"WARNING",void 0,void 0,void 0))};
e.executeActionHandlers_=function(a,b){b.forEach(function(b){var c=null;b?c=b.apply(null,a.args):(b=Error("Missing handler for action"),b.params=a.actionName,L(b));a.returnValue.push(c)})};
Ga(Nl);var Ol=function(){};
Ol.prototype.markDirty=function(){};
Ol.prototype.isNodeVisible=function(){};var Pl=function(a){this.actionRouter_=a=void 0===a?Nl.getInstance():a;this.targetMap_=new Map;this.visibilityMonitor_=null;this.triggeredTargets_=new Set};
e=Pl.prototype;e.setVisibilityMonitor=function(a){this.visibilityMonitor_=a;kl(this.visibilityMonitor_,"yt-visibility-monitor-refreshed",this.handleVisibilityRefreshed_,!1,this)};
e.dispose=function(){this.visibilityMonitor_&&rl(this.visibilityMonitor_,"yt-visibility-monitor-refreshed",this.handleVisibilityRefreshed_,!1,this)};
e.handleVisibilityRefreshed_=function(){var a=this;this.targetMap_.forEach(function(b,c){a.maybeTriggerTarget_(c,b)})};
e.registerTargetAction=function(a,b){if(!this.triggeredTargets_.has(a)){var c=this.getTargetInfo_(a);c.action=b;this.maybeTriggerTarget_(a,c)}};
e.registerTargetElement=function(a,b){var c=this.getTargetInfo_(a);c.element=b;this.maybeTriggerTarget_(a,c)};
e.maybeTriggerTarget_=function(a,b){var c=b.action;(b=b.element)&&c&&this.visibilityMonitor_&&this.visibilityMonitor_.isNodeVisible(b)&&(this.actionRouter_.triggerInnerTubeActions([c],b),this.targetMap_.delete(a),this.triggeredTargets_.add(a))};
e.getTargetInfo_=function(a){this.targetMap_.get(a)||this.targetMap_.set(a,{});return this.targetMap_.get(a)};
Ga(Pl);var Ql=function(a,b,c,d){this.taskManager_=a;this.onFulfilled_=Ja(b)?b:null;this.onRejected_=Ja(c)?c:null;this.context_=d};
Ql.prototype.enqueueSuccessJob=function(a){var b=this;this.onFulfilled_&&this.taskManager_.addMediumPriorityJob(function(){b.onFulfilled_.call(b.context_,a)})};
Ql.prototype.enqueueFailureJob=function(a){var b=this;this.onRejected_&&this.taskManager_.addMediumPriorityJob(function(){b.onRejected_.call(b.context_,a)})};
var Rl=function(a){this.taskManager_=a;this.callbacks_=[]};
Rl.prototype.then=function(a,b,c){this.callbacks_.push(new Ql(this.taskManager_,a,b,c));return this};
Rl.prototype.onSuccess=function(a){this.callbacks_.forEach(function(b){b.enqueueSuccessJob(a)})};
Rl.prototype.onFailure=function(a){this.callbacks_.forEach(function(b){b.enqueueFailureJob(a)})};
Rl.prototype.cancel=function(){this.callbacks_.length=0};
Bf(Rl);var Sl=function(){this.isEnabled_=M("enable_signals");this.softSignals_=Object.create(null);this.signals_=Object.create(null);this.compoundSignals_=Object.create(null);this.inProgressSignals_=Object.create(null);this.parkedJobs_=Object.create(null);this.parkedProcessors_=Object.create(null)};
e=Sl.prototype;e.onAny=function(a){return this.getCompoundSignal_(a,2)};
e.onAll=function(a){return this.getCompoundSignal_(a,1)};
e.parkOrScheduleJob=function(a,b,c,d,f){this.isSignalProcessed(c)?N.addJob(a,b,d):(f&&(a=this.getExecutor_(a),this.setTimeout_(a,b,c,f)),(f=this.parkedJobs_[c])||(f=this.parkedJobs_[c]=[]),f.push({job:a,priority:b,delay:d}))};
e.parkOrScheduleConditionalPriorityJob=function(a,b,c,d,f){var g=E.getKeys(b);1==g.length?(f=g[0],g=b.get(f),this.parkOrScheduleJob(a,g,f,c,d)):1<g.length&&(g=this.onAny(g),d&&(a=this.getExecutor_(a),this.setTimeout_(a,void 0===f?0:f,g,d)),d=function(){var d=0,f;for(f in b)this.isSignalProcessedOrBeingProcessed(f)&&(d=Math.max(d,b[f]));N.addJob(a,d,c)}.bind(this),this.parkOrScheduleJob(d,10,g))};
e.addListener=function(a,b,c){this.isEnabled_&&(c&&(b=this.getExecutor_(b),this.setTimeout_(b,0,a,c)),(c=this.parkedProcessors_[a])||(c=this.parkedProcessors_[a]=[]),c.push(b))};
e.processSignal=function(a){if(!this.isSignalProcessed(a)){this.inProgressSignals_[a]=!0;var b=this.parkedJobs_[a];if(b){for(var c=0,d;d=b[c++];)N.addJob(d.job,d.priority,d.delay);b.length=0}if(b=this.parkedProcessors_[a]){for(c=0;d=b[c++];)d();b.length=0}this.signals_[a]=!0;this.inProgressSignals_[a]=!1}};
e.isSignalProcessed=function(a){return this.areSignalStateInquiriesBypassed_()?!0:void 0!==this.signals_[a]};
e.isSignalProcessedOrBeingProcessed=function(a){return this.areSignalStateInquiriesBypassed_()?!0:this.isSignalProcessed(a)||!!this.inProgressSignals_[a]};
e.isRegistered=function(a){return this.isSignalProcessed(a)};
e.onComponent=function(a,b,c){this.parkOrScheduleJob(b,c,a)};
e.onComponents=function(a,b,c){a=this.onAll(a);this.parkOrScheduleJob(b,c,a)};
e.markComponentAsRegistered=function(a){this.processSignal(a)};
e.areSignalStateInquiriesBypassed_=function(){return this.isEnabled_&&(K("IS_HOMEPAGE_COLD",void 0)||K("IS_RESULTS_PAGE_COLD",void 0)||K("IS_WATCH_PAGE_COLD",void 0))?!1:!0};
e.getExecutor_=function(a){var b=!1;return function(){b||(b=!0,a())}};
e.setTimeout_=function(a,b,c,d){if(this.isSoftSignal_(c))N.addJob(a,b,d);else{var f=this.compoundSignals_[c];if(f){var g=function(){this.isSignalProcessed(c)||(f.isTimeoutConditionSatisfied?N.addJob(a,b):f.timeoutConditionObservers.push(function(){N.addJob(a,b)}))}.bind(this);
N.addJob(g,b,d)}}};
e.getCompoundSignal_=function(a,b){if(!this.isEnabled_)return"n/a";if(1<a.length){for(var c=[],d=Object.create(null),f=0,g;g=a[f++];)d[g]||(c.push(g),d[g]=!0);a=c}if(1==a.length)return a[0];c=this.canonicalize_(a,b);if(!this.compoundSignals_[c]){d=0;f=[];g=0;for(var h;h=a[g++];)d++,this.isSignalProcessed(h)||f.push(h);(b=2==b)&&d>f.length||!b&&!f.length?this.signals_[c]=!0:this.createAndAddCompoundSignalListener_(c,b,a,f)}return c};
e.canonicalize_=function(a,b){var c="";b=2===b?"|":"&";a.sort();for(var d=0,f;f=a[d++];)c+=f+b;return c};
e.createAndAddCompoundSignalListener_=function(a,b,c,d){for(var f=d.length,g=function(){b||0==--f?this.processSignal(a):this.evaluateTimeoutCondition_(a)}.bind(this),h=0,k=void 0;k=d[h++];)this.addListener(k,g);
this.compoundSignals_[a]={signals:c,isOnAny:b,isInitialized:!1,isTimeoutConditionSatisfied:!1,timeoutConditionObservers:[]};this.evaluateTimeoutCondition_(a)};
e.evaluateTimeoutCondition_=function(a){if(!this.isSignalProcessed(a)){var b=this.compoundSignals_[a];if(!b.isTimeoutConditionSatisfied){for(var c=!1,d=0,f=0,g=0,h;h=b.signals[g++];){var k=!this.isSignalProcessed(h);this.isSoftSignal_(h)?c=!0:(h=this.compoundSignals_[h])?k&&!h.isTimeoutConditionSatisfied&&(f++,b.isInitialized||(k=this.evaluateTimeoutCondition_.bind(this,a),h.timeoutConditionObservers.push(k))):k&&d++}b.isInitialized=!0;b.isOnAny?c&&(b.isTimeoutConditionSatisfied=!0):0==d&&0==f&&(b.isTimeoutConditionSatisfied=
!0);if(b.isTimeoutConditionSatisfied)for(a=0;c=b.timeoutConditionObservers[a++];)c()}}};
e.isSoftSignal_=function(a){if(E.isEmpty(this.softSignals_))for(var b=0,c;c=Tl[b++];)this.softSignals_[c]=!0;return this.softSignals_[a]};
Sl.prototype.processSignal=Sl.prototype.processSignal;Sl.prototype.parkOrScheduleJob=Sl.prototype.parkOrScheduleJob;Sl.prototype.onAny=Sl.prototype.onAny;Ga(Sl);w("ytsignals.getInstance",Sl.getInstance,void 0);Sl.prototype.onAny=Sl.prototype.onAny;Sl.prototype.parkOrScheduleJob=Sl.prototype.parkOrScheduleJob;Sl.prototype.processSignal=Sl.prototype.processSignal;var Tl=["eop","eocs","dl","pcl"];var Ul=function(a,b,c){c=void 0===c?N:c;this.priority_=a;this.signal_=b;this.parkedJobs_=null;this.nextJobDescriptor_=0;this.scheduledJobs_=Object.create(null);this.signals_=Sl.getInstance();this.scheduler_=c};
e=Ul.prototype;e.queueJob=function(a){if(a)if(this.signal_&&!this.signals_.isSignalProcessed(this.signal_)){var b=this.parkedJobs_;b||(b=this.parkedJobs_=[],this.signals_.addListener(this.signal_,this.processSignal_.bind(this)));b.push(a)}else this.scheduleJob_(a)};
e.updatePriority=function(a){if(a!=this.priority_){this.priority_=a;for(var b in this.scheduledJobs_){var c=this.scheduledJobs_[b];this.scheduler_.cancelJob(c.jobId);c.jobId=this.scheduler_.addJob(c.jobWrapper,a)}}};
e.executeOnNextFrame=function(){this.updatePriorityAndProcessSignal_(4)};
e.flushJobs=function(){this.updatePriorityAndProcessSignal_(10)};
e.updatePriorityAndProcessSignal_=function(a){this.updatePriority(a);this.processSignal_()};
e.cancel=function(){for(var a in this.scheduledJobs_)this.scheduler_.cancelJob(this.scheduledJobs_[a].jobId),delete this.scheduledJobs_[a];this.parkedJobs_&&(this.parkedJobs_.length=0)};
e.processSignal_=function(){if(this.parkedJobs_){for(var a=0,b;b=this.parkedJobs_[a++];)this.scheduleJob_(b);this.parkedJobs_.length=0}};
e.scheduleJob_=function(a){var b=this;if(10==this.priority_)this.scheduler_.addImmediateJob(a);else{var c=this.nextJobDescriptor_++,d=function(){a();b.markExecuted_(c)},f=this.scheduler_.addJob(d,this.priority_);
this.scheduledJobs_[c]={jobWrapper:d,jobId:f}}};
e.markExecuted_=function(a){delete this.scheduledJobs_[a]};var Vl=[],Wl=["ytd-section-list-renderer","yt-horizontal-list-renderer","ytd-item-section-renderer","ytd-watch-next-secondary-results-renderer","ytd-video-primary-info-renderer"],Xl=function(a,b){this.usableComponents_=new Map;this.experimentMode_=String(Mg("polymer_task_manager_status")||"");"disabled"!=this.experimentMode_&&this.populateUsableComponentMaps_(a||Vl,b||Wl)};
Xl.prototype.canUseComponent=function(a){if("disabled"==this.experimentMode_)return!1;a=!!this.usableComponents_.get(a);return"counterfactual"==this.experimentMode_?!1:a};
Xl.prototype.populateUsableComponentMaps_=function(a,b){var c=this,d=Og("polymer_task_manager_blacklisted_components")||[],f="experimental"==this.experimentMode_,g="production"==this.experimentMode_,h="counterfactual"==this.experimentMode_;f&&a.forEach(function(a){c.usableComponents_.set(a,!0)});
(g||f||h)&&b.forEach(function(a){c.usableComponents_.set(a,!0)});
d.forEach(function(a){c.usableComponents_.set(a,!1)})};
Ga(Xl);function Yl(a,b,c){var d=K("VALID_SESSION_TEMPDATA_DOMAINS",[]),f=lg(window.location.href);f&&d.push(f);f=lg(a);if(db(d,f)||!f&&0==a.lastIndexOf("/",0))if(M("autoescape_tempdata_url")&&(d=document.createElement("a"),ie(d,a),a=d.href),a&&(a=og(a),a=pg(a))){if(b.itct||b.ved)b.csn=b.csn||ok();c?(c=parseInt(c,10),isFinite(c)&&0<c&&(a="ST-"+Ib(a).toString(36),b=b?ug(b):"",Wj(a,b,c||5,"/"))):(c="ST-"+Ib(a).toString(36),b=b?ug(b):"",Wj(c,b,5,"/"))}}
;var Zl=function(a){a&=16777215;var b=[(a&16711680)>>16,(a&65280)>>8,a&255];a=b[0];var c=b[1];b=b[2];a=Number(a);c=Number(c);b=Number(b);if(a!=(a&255)||c!=(c&255)||b!=(b&255))throw Error('"('+a+","+c+","+b+'") is not a valid RGB color');c=a<<16|c<<8|b;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)},$l=function(a){a=[(a&16711680)>>>16,
(a&65280)>>>8,a&255,(a&4278190080)>>>24];var b=bb(a,function(a){return a==(a&255)});
a[3]=(a[3]/255).toFixed(3);if(!b)throw Error('"('+a.join(",")+'") is not a valid RGBA color');return"rgba("+a.join(",")+")"};var am=function(){if(this.constructor===am)throw new TypeError("VisibilityObserver cannot be instantiated directly.");};
e=am.prototype;e.dispose=function(){};
e.disconnect=function(){};
e.reconnect=function(){};
e.observe=function(){};
e.unobserveAll=function(){};
e.unobserveByKey=function(){};var bm=function(a,b){b=void 0===b?0:b;am.call(this);this.observer_=new IntersectionObserver(this.handleObserveEvent_.bind(this),a?{root:a,rootMargin:"-0.1px"}:{rootMargin:"-0.1px"});b="-0.1px -0.1px "+b+"px -0.1px";this.prescanObserver_=new IntersectionObserver(this.handlePrescanEvent_.bind(this),a?{root:a,rootMargin:b}:{rootMargin:b});this.handlers_=new Map;this.isConnected_=!0};
p(bm,am);e=bm.prototype;e.dispose=function(){this.isConnected_=!1;this.observer_.disconnect();this.prescanObserver_.disconnect();this.handlers_.clear()};
e.disconnect=function(){this.isConnected_=!1;this.observer_.disconnect();this.prescanObserver_.disconnect()};
e.reconnect=function(){if(!this.isConnected_){this.isConnected_=!0;for(var a=n(this.handlers_),b=a.next();!b.done;b=a.next()){var c=n(b.value);b=c.next().value;var d=c.next().value;c=!1;d=n(d.keys());for(var f=d.next();!f.done;f=d.next())if("prescan"==f.value.state){c=!0;break}c&&this.prescanObserver_.observe(b);this.observer_.observe(b)}}};
e.unobserveAll=function(){this.observer_.disconnect();this.prescanObserver_.disconnect();this.handlers_.clear()};
e.handleObserveEvent_=function(a){var b=this;a.forEach(function(a){var c=b.handlers_.get(a.target);if(c){var f=a.isIntersecting;c=n(c);for(var g=c.next();!g.done;g=c.next()){var h=n(g.value);g=h.next().value;h=h.next().value;if("visible"==g.state&&f||"hidden"==g.state&&!f)h(a.target,g.state),g.calledOnce&&b.unobserveByKey({element:a.target,option:g})}}})};
e.handlePrescanEvent_=function(a){var b=this;a.forEach(function(a){var c=b.handlers_.get(a.target);if(c&&a.isIntersecting){c=n(c);for(var f=c.next();!f.done;f=c.next()){var g=n(f.value);f=g.next().value;g=g.next().value;"prescan"==f.state&&(g(a.target,f.state),f.calledOnce&&b.unobserveByKey({element:a.target,option:f}))}}})};
e.observe=function(a,b,c){var d=this.findHandlerKey_(a,c);if(d)return d;d={element:a,option:c};this.handlers_.has(a)||this.handlers_.set(a,new Map);var f=this.handlers_.get(a);f.has(c)||f.set(c,b);"prescan"==c.state&&this.prescanObserver_.observe(a);this.observer_.observe(a);return d};
e.unobserveByKey=function(a){var b=this.handlers_.get(a.element);b&&b.has(a.option)&&(b.delete(a.option),"prescan"==a.option&&this.prescanObserver_.unobserve(a.element),0==b.size&&(this.handlers_.delete(a.element),this.observer_.unobserve(a.element)))};
e.findHandlerKey_=function(a,b){var c=this.handlers_.get(a);if(c&&c.has(b))return{element:a,option:b}};function cm(a,b){if(window.IntersectionObserver)return new bm(a,void 0===b?400:b);throw new TypeError("Non-IntersectionObserver version of VisibilityObserver is not yet implemented");}
;var em=function(){navigator.serviceWorker.getRegistrations().then(function(a){a.forEach(dm)})},dm=function(a){a&&navigator.serviceWorker.register("/sw.js?0",{scope:a.scope||String(Mg("service_worker_scope")||"")||"/"})};var fm={};fm.YtOpenPopupBehavior=[{properties:{popupPositionTarget:Object},listeners:{"yt-service-request-completed":"onOpenPopupServiceRequestCompleted_"},created:function(){this.openPopupConfig=null},
openPopup:function(a){this.sendAction("yt-open-popup-action",[a,this])},
getNavigationEndpointPopupAction:function(a){var b=Lh(a,"endpoint"),c=Lh(a,"action");if(b=c?c:b)if(b=this.openPopupConfig&&this.openPopupConfig.navigationEndpointPopupMap[b])if(a=this.get(b,a),(b=Lh(a,"renderer"))&&this.openPopupConfig.supportedPopups.hasOwnProperty(b))return{openPopupAction:{popupType:this.openPopupConfig.popupTypeMap[b],popup:a}};return null},
onOpenPopupServiceRequestCompleted_:function(a,b){b=this.get("data.contents",b);b instanceof Array&&b.length&&(b=b[0]);if(b){var c=Lh(b,"renderer");this.openPopupConfig.supportedPopups.hasOwnProperty(c)&&(a.stopPropagation(),this.openPopup({openPopupAction:{popupType:this.openPopupConfig.popupTypeMap[c],popup:b}}))}}},
Q.YtActionSenderBehavior];var gm={};gm.YtdOpenPopupBehavior=[fm.YtOpenPopupBehavior,{_noAccessors:!0,created:function(){this.openPopupConfig=K("openPopupConfig")}}];var im=function(a,b,c){this.popupConfig=c||hm;this.forwardedEvents=a||[];this.prefix=b;this.SHARED_RENDERERS_={bubbleHintRenderer:!0,confirmDialogRenderer:!0,fancyDismissibleDialogRenderer:!0,notificationActionRenderer:!0,reportFormModalRenderer:!0,sharingEmbedRenderer:!0,sharingRenderer:!0,sortFilterSubMenuPopupRenderer:!0,tooltipRenderer:!0,unlimitedFamilyMessageInterstitialRenderer:!0,unlimitedFamilyProfileInterstitialRenderer:!0,unpluggedPauseMembershipDialogRenderer:!0,ypcUpgradeDialogRenderer:!0}};
im.prototype.getPrefixForElement=function(a){return this.SHARED_RENDERERS_.hasOwnProperty(a)?"yt":this.prefix};
var jm={DIALOG:{component:"paper-dialog",properties:{withBackdrop:!0},preventAutonav:!0},DROPDOWN:{component:"iron-dropdown",properties:{noOverlap:!0,horizontalAlign:"auto",verticalAlign:"top",dynamicAlign:!0,withBackdrop:!1},forceFocus:!0,slotName:"dropdown-content",preventAutonav:!0},HINT:{component:"iron-dropdown",properties:{allowOutsideScroll:!0,dynamicAlign:!1,horizontalAlign:"center",noOverlap:!0,scrollAction:"refit",verticalAlign:"bottom",verticalOffset:15,withBackdrop:!1},positionalProperties:{OPEN_POPUP_POSITION_TOPLEFT:{horizontalAlign:"right",
horizontalOffset:-12,shiftedHorizontalOffset:24,verticalAlign:"bottom",verticalOffset:15},OPEN_POPUP_POSITION_TOPRIGHT:{horizontalAlign:"left",horizontalOffset:-12,shiftedHorizontalOffset:24,verticalAlign:"bottom",verticalOffset:15},OPEN_POPUP_POSITION_LEFT:{horizontalAlign:"right",horizontalOffset:12,verticalAlign:"middle",verticalOffset:0},OPEN_POPUP_POSITION_RIGHT:{horizontalAlign:"left",horizontalOffset:12,verticalAlign:"middle",verticalOffset:0},OPEN_POPUP_POSITION_BOTTOM:{horizontalAlign:"center",
horizontalOffset:0,verticalAlign:"top",verticalOffset:12}},forceCloseOnOutsideClick:!0,forceFocus:!0,slotName:"dropdown-content"},MEALBAR:{component:"paper-dialog",properties:{keepBelowPlayer:!0,noAutoFocus:!0,noCancelOnOutsideClick:!0,withBackdrop:!1},styles:{position:"fixed",top:"auto",left:"0",right:"auto",bottom:"0",margin:"16px"},rtlStyles:{position:"fixed",top:"auto",right:"0",left:"auto",bottom:"0",margin:"16px"}},MODAL:{component:"paper-dialog",properties:{modal:!0},forceFocus:!0,preventAutonav:!0},
MOLE:{component:null,styles:{position:"fixed",top:"auto",left:"auto",right:"0",bottom:"0",zIndex:"var(--ytd-z-index-miniplayer)"},rtlStyles:{position:"fixed",top:"auto",left:"0",right:"auto",bottom:"0",zIndex:"var(--ytd-z-index-miniplayer)"}},NOTIFICATION:{component:null,styles:{position:"fixed",top:"0",left:"auto",right:"0",bottom:"auto",marginTop:"60px",zIndex:"var(--ytd-z-index-notification)"},rtlStyles:{position:"fixed",top:"0",left:"0",right:"auto",bottom:"auto",marginTop:"60px",zIndex:"var(--ytd-z-index-notification)"},
preventAutonav:!0},OVERLAY_DROPDOWN:{component:"iron-dropdown",properties:{noOverlap:!1,horizontalAlign:"auto",verticalAlign:"top",dynamicAlign:!0,withBackdrop:!1},forceFocus:!0,slotName:"dropdown-content",preventAutonav:!0},RESPONSIVE_DROPDOWN:{component:"iron-dropdown",properties:{noOverlap:!0,horizontalAlign:"auto",verticalAlign:"top",dynamicAlign:!0,withBackdrop:!1},narrowProperties:{horizontalAlign:null,verticalAlign:null,dynamicAlign:!1,withBackdrop:!0},forceFocus:!0,slotName:"dropdown-content",
preventAutonav:!0}};jm.SURVEY={component:"paper-dialog",properties:{withBackdrop:!1,noCancelOnOutsideClick:!0,noAutoFocus:!0},styles:{position:"fixed",top:"auto",left:"auto",right:"0",bottom:"0"},rtlStyles:{position:"fixed",top:"auto",left:"0",right:"auto",bottom:"0"},preventAutonav:M("web_survey_popup_prevent_autonav")};jm.TOAST={component:null,properties:{}};var hm=jm;var km=new function(a,b,c){this.supportedPopups=a;this.navigationEndpointPopupMap=b;this.popupTypeMap=c}({adInfoDialogRenderer:!0,
addToPlaylistRenderer:!0,backstagePostDialogPopupRenderer:!0,bubbleHintRenderer:!0,confirmDialogRenderer:!0,checkboxSurveyRenderer:!0,dismissalFollowUpRenderer:!0,formPopupRenderer:!0,gamingAccountLinkConfirmDialogRenderer:!0,gamingAccountLinkSettingRenderer:!0,gamingMultipleAccountLinkDialogRenderer:!0,hotkeyDialogRenderer:!0,manageMembershipRenderer:!0,sponsorshipConfirmCancelRenderer:!0,modalWithTitleAndButtonRenderer:!0,notificationActionRenderer:!0,reportFormModalRenderer:!0,searchSuggestionReportDialog:!0,
sharingRenderer:!0,sharingEmbedRenderer:!0,menuPopupRenderer:!0,singleOptionSurveyRenderer:!0,surveyFollowUpRenderer:!0,unifiedSharePanelRenderer:!0,unlimitedFamilyMessageInterstitialRenderer:!0,unlimitedFamilyProfileInterstitialRenderer:!0,unpluggedPauseMembershipDialogRenderer:!0,ypcUpgradeDialogRenderer:!0,ypcOffersOverlayRenderer:!0,redCancelSurveyRenderer:!0,conversationSectionController:!0,conversationHighPriorityNotificationContentRenderer:!0},{adInfoDialogEndpoint:"adInfoDialogEndpoint.dialog",
createBackstagePostDialogEndpoint:"createBackstagePostDialogEndpoint.dialog",confirmDialogEndpoint:"confirmDialogEndpoint.content",managePurchaseEndpoint:"managePurchaseEndpoint.content",modalEndpoint:"modalEndpoint.modal",shareEndpoint:"shareEndpoint",shareEntityEndpoint:"shareEntityEndpoint",unlimitedFamilyFlowEndpoint:"unlimitedFamilyFlowEndpoint.unlimitedFamilyFlowEndpointSupportedRenderers",openPopupAction:"openPopupAction.popup",ypcCancelSurveyEndpoint:"ypcCancelSurveyEndpoint.surveySupportedRenderers"},
{adInfoDialogRenderer:"RESPONSIVE_DROPDOWN",addToPlaylistRenderer:"RESPONSIVE_DROPDOWN",backstagePostDialogPopupRenderer:"DIALOG",bubbleHintRenderer:"HINT",checkboxSurveyRenderer:"SURVEY",confirmDialogRenderer:"DIALOG",dismissalFollowUpRenderer:"DIALOG",gamingAccountLinkConfirmDialogRenderer:"DIALOG",gamingAccountLinkSettingRenderer:"DIALOG",gamingMultipleAccountLinkDialogRenderer:"DIALOG",hotkeyDialogRenderer:"DIALOG",manageMembershipRenderer:"DIALOG",sponsorshipConfirmCancelRenderer:"DIALOG",menuPopupRenderer:"RESPONSIVE_DROPDOWN",
modalWithTitleAndButtonRenderer:"RESPONSIVE_DROPDOWN",notificationActionRenderer:"TOAST",reportFormModalRenderer:"DIALOG",searchSuggestionReportDialog:"DIALOG",sharingEmbedRenderer:"DIALOG",sharingRenderer:"RESPONSIVE_DROPDOWN",singleOptionSurveyRenderer:"SURVEY",surveyFollowUpRenderer:"SURVEY",unifiedSharePanelRenderer:"DIALOG",unlimitedFamilyMessageInterstitialRenderer:"DIALOG",unlimitedFamilyProfileInterstitialRenderer:"DIALOG",unpluggedPauseMembershipDialogRenderer:"DIALOG",ypcOffersOverlayRenderer:"DIALOG",
ypcUpgradeDialogRenderer:"DIALOG",redCancelSurveyRenderer:"DIALOG",conversationSectionController:"MOLE",conversationHighPriorityNotificationContentRenderer:"NOTIFICATION"}),lm=new im("yt-action yt-navigate yt-popup-canceled yt-popup-closed yt-popup-opened yt-service-request-completed yt-service-request-error yt-service-request-sent yt-request-is-in-queued-item".split(" "),"ytd");var mm={};
mm.YtEndpointBehavior=[fm.YtOpenPopupBehavior,{properties:{openPopupConfig:Object,endpointHandlerTarget:Object},ready:function(){this.openPopupConfig=K("openPopupConfig");this.endpointHandlerTarget||(this.endpointHandlerTarget=this);this.listen(this.endpointHandlerTarget,"tap","onEndpointTap_");this.listen(this.endpointHandlerTarget,"touchstart","onEndpointTapStart_");this.listen(this.endpointHandlerTarget,"touchend","onEndpointTouchEnd_");this.listen(this.endpointHandlerTarget,"mousedown","onEndpointTapStart_")},
getEndpointFromEvent_:function(a){a=Polymer.dom(a).path;for(var b,c=0;c<a.length;c++){b=a[c];if("yt-endpoint"==b.is)break;if("A"==b.tagName&&b.classList.contains("yt-simple-endpoint")){if(!b.data)break;return b}}return null},
onEndpointTap_:function(a){var b=this.getEndpointFromEvent_(a);if(b){var c=0===Ng("pbj_navigate_limit",-1),d=a.detail.sourceEvent,f=void 0!==d.button;d=0==d.button&&!(d.shiftKey||d.altKey||d.metaKey||d.ctrlKey);b.data&&(!f||f&&d)&&(this.setClickTrackingData_(b),f=this.getEndpointHandler_().getNavigationEventDetails(b.data,a),(d=this.getNavigationEndpointPopupAction(b.data))?(a.preventDefault(),a.stopPropagation(),this.openPopup(d)):c||(a.preventDefault(),a.stopPropagation(),this.fire("yt-navigate",
f,{node:b})))}},
onEndpointTouchEnd_:function(a){this.getEndpointFromEvent_(a)&&a.preventDefault()},
onEndpointTapStart_:function(a){var b=this.getEndpointFromEvent_(a);b&&(this.setClickTrackingData_(b),M("polymer_endpoint_tap_start_stop_propagation")&&a.stopPropagation())},
setClickTrackingData_:function(a){a.href&&Yl(a.href,{itct:a.data.clickTrackingParams})}}];var nm={},om=null,pm={isVisibilityRoot:!1,observeVisibleOption:null,observeHiddenOption:null,observePrescanOption:null,properties:{viewroot:Object},created:function(){this.prescanHandlerKey_=this.hiddenHandlerKey_=this.visibleHandlerKey_=this.visibilityObserverForChild_=this.localVisibilityObserver_=null;this.visibilityOptionVisible_=this.observeVisibleOption?{calledOnce:"observe_once"==this.observeVisibleOption,state:"visible"}:null;this.visibilityOptionHidden_=this.observeHiddenOption?{calledOnce:"observe_once"==
this.observeHiddenOption,state:"hidden"}:null;this.visibilityOptionPrescan_=this.observePrescanOption?{calledOnce:"observe_once"==this.observePrescanOption,state:"prescan"}:null},
attached:function(){this.isVisibilityRoot&&(this.visibilityObserverForChild_=cm(this.viewroot));this.async(this.initVisibilityObserver_)},
initVisibilityObserver_:function(){this.visibilityObserver&&this.configureVisibilityObserver_()},
configureVisibilityObserver_:function(){var a=this;this.visibilityOptionVisible_&&(this.visibleHandlerKey_=this.visibilityObserver.observe(this,function(){return a.onVisible()},this.visibilityOptionVisible_));
this.visibilityOptionHidden_&&(this.hiddenHandlerKey_=this.visibilityObserver.observe(this,function(){return a.onHidden()},this.visibilityOptionHidden_));
this.visibilityOptionPrescan_&&(this.prescanHandlerKey_=this.visibilityObserver.observe(this,function(){if(!a.disablePrescanVisibility)a.onPrescanVisible()},this.visibilityOptionPrescan_))},
detached:function(){this.visibleHandlerKey_&&(this.visibilityObserver.unobserveByKey(this.visibleHandlerKey_),this.visibleHandlerKey_=null);this.hiddenHandlerKey_&&(this.visibilityObserver.unobserveByKey(this.hiddenHandlerKey_),this.hiddenHandlerKey_=null);this.prescanHandlerKey_&&(this.visibilityObserver.unobserveByKey(this.prescanHandlerKey_),this.prescanHandlerKey_=null);this.visibilityObserverForChild_=this.localVisibilityObserver_=null},
markDirtyVisibilityObserver:function(){this.localVisibilityObserver_&&this.configureVisibilityObserver_()},
getVisibilityObserverForChild:function(){return this.visibilityObserverForChild_?this.visibilityObserverForChild_:this.localVisibilityObserver_},
get visibilityObserver(){if(this.localVisibilityObserver_)return this.localVisibilityObserver_;var a=Xe(this.parentNode,function(a){return!!a.getVisibilityObserverForChild&&a.getVisibilityObserverForChild()},!0);
a?a=a.getVisibilityObserverForChild():(om||(om=cm()),a=om);return this.localVisibilityObserver_=a},onVisible:function(){},
onHidden:function(){},
onPrescanVisible:function(){}};
M("kevlar_import_vimio_behavior")||M("gaming_vimio_behavior_onshow")||(pm={});pm&&!M("kevlar_attach_vimio_behavior")&&(delete pm.attached,delete pm.detached);nm.YtVisibilityObserverBehavior=[pm];var qm={};qm.YtVisualElementBehavior=[nm.YtVisibilityObserverBehavior,{properties:{visualElement:Object},observeVisibleOption:"observe_multiple",observeHiddenOption:"observe_multiple",onVisible:function(){if(M("kevlar_enable_vimio_callback")&&this.onShow)this.onShow();var a=this.getVETracker();a&&a.reportShown(this)},
onHidden:function(){if(M("kevlar_enable_vimio_callback")&&this.onHide)this.onHide();var a=this.getVETracker();a&&a.reportHidden(this)},
getVETracker:function(){return M("kevlar_enable_vimio_callback")&&M("kevlar_enable_vimio_logging")?Ml.getInstance():null}}];var T={},rm=0;function sm(a){var b=Polymer.Element?Polymer.Async.animationFrame.cancel.bind(Polymer.Async.animationFrame):Polymer.Async.cancel.bind(Polymer.Async),c=Polymer.Element?Polymer.Async.animationFrame.run.bind(Polymer.Async.animationFrame):Polymer.Async.run.bind(Polymer.Async);rm&&b(rm);rm=c(function(){a.fire("yt-visibility-refresh");rm=0})}
var tm={_noAccessors:!0,properties:{data:Object},observers:["ytRendererBehaviorDataObserver_(data)","ytRendererBehaviorTargetIdObserver_(data.targetId)"],dirtyTree:!1,childCache_:null,parentComponent:null,wasVisible:!1,wasPrescan:!1,lastHandledScroll_:0,isRenderer_:!0,screenLayer:null,created:function(){this.childCache_=new Set},
detached:function(){this.monitorScroll&&this.unlisten(this,"scroll","onScroll");this.parentComponent&&(this.parentComponent.childCache_.delete(this),this.parentComponent=null);this.markDirty()},
registerRenderer_:function(a){a.parentComponent=this;this.childCache_.add(a);this.markDirty()},
unregisterRenderer_:function(a){this.childCache_.delete(a);this.markDirty()},
attached:function(){var a=this.getParentRenderer_();a&&a.registerRenderer_(this);this.monitorScroll&&this.listen(this,"scroll","onScroll")},
getParentRenderer_:function(){for(var a=this.parentNode;a&&!a.isRenderer_;)a=a.parentNode||a.host;return a},
ytRendererBehaviorDataObserver_:function(){this.data&&(this.wasVisible=!1,M("kevlar_attach_vimio_behavior")&&this.markDirtyVisibilityObserver(),K("ADD_SCRAPER_ATTRIBUTES",void 0)&&this.data.trackingParams&&(this.dataset.ved=this.data.trackingParams))},
ytRendererBehaviorTargetIdObserver_:function(){if(this.data&&this.data.targetId){var a=this.data.targetId;M("kevlar_nitrate_driven_tooltips")&&Pl.getInstance().registerTargetElement(a,this)}},
onScroll:function(){var a=Date.now();50>a-this.lastHandledScroll_||(this.lastHandledScroll_=a,this.markDirty())},
markDirty:function(){M("kevlar_use_vimio_behavior")||sm(this);M("kevlar_attach_vimio_behavior")&&this.markDirtyVisibilityObserver()},
getScreenLayer:function(){if(this.screenLayer)return this.screenLayer;var a=this.getParentRenderer_();if(a)return a.getScreenLayer()},
invalidate:function(a){this.markDirty();this.wasPrescan=this.wasVisible=!1;a&&(this.dirtyTree=!0)},
getNodes:function(){return this.childCache_?Array.from(this.childCache_):[]},
impressionLog:function(){if(this.data&&this.data.impressionEndpoints)for(var a=0;a<this.data.impressionEndpoints.length;a++){var b=this.data.impressionEndpoints[a];b.clickTrackingParams&&delete b.clickTrackingParams;this.sendServiceRequestAction([b])}},
getEndpointHandler_:Qh};M("kevlar_use_vimio_behavior")&&(delete tm.created,delete tm.attached,delete tm.detached,delete tm.getNodes,delete tm.registerRenderer_,delete tm.unregisterRenderer_);T.YtRendererBehavior=[hi.ComponentBehavior,Q.YtActionSenderBehavior,qm.YtVisualElementBehavior,tm];S.YtConditionalRendererBehaviorImpl_={_noAccessors:!0,properties:{hidden:{type:Boolean,reflectToAttribute:!0}},observers:["updateHidden_(data, isAttached)"],updateHidden_:function(a,b){this.hidden=!this.shouldShow_(a,b)},
shouldShow_:function(a,b){return b?a&&a.supportedDatas&&a.supportedDatas.rendererVisibilityConditionData&&a.supportedDatas.rendererVisibilityConditionData.showIf?this.isVisibilityConditionSatisfied_(a.supportedDatas.rendererVisibilityConditionData.showIf):a&&a.visibilityCondition&&a.visibilityCondition.showIf?this.isVisibilityConditionSatisfied_(a.visibilityCondition.showIf):a&&a.visibilityConditionType?this.isLegacyVisibilityConditionSatisfied_(a.visibilityConditionType):!0:!1},
isVisibilityConditionSatisfied_:function(a){switch(a){case "VISIBILITY_CONDITION_TYPE_MDX_CONNECTED":return this.isMdxConnected_();case "VISIBILITY_CONDITION_TYPE_MDX_DISCONNECTED":return!this.isMdxConnected_();case "VISIBILITY_CONDITION_TYPE_QUEUEABLE":return this.isQueueable_();default:return!1}},
isLegacyVisibilityConditionSatisfied_:function(a){switch(a){case "MDX_CONNECTED":return this.isMdxConnected_();default:return!1}},
isMdxConnected_:function(){var a=this.sendAction("yt-get-mdx-status");return 1==a.length&&a[0].connected},
isQueueable_:function(){var a={};this.fire("yt-request-is-in-queued-item",a);return!a.queued}};
S.YtConditionalRendererBehavior=[T.YtRendererBehavior,S.YtConditionalRendererBehaviorImpl_];Polymer({is:"yt-icon",properties:{icon:String,targetContainer:{type:String,value:""}},observers:["iconChanged_(icon, targetContainer, isAttached)"],meta_:new Polymer.IronMeta({type:"iconset"}),created:function(){this.iconName_="";this.iconsetName_="yt-icons";this.iconset_=null;this.missingIconSet_=!1},
iconChanged_:function(a,b,c){(a||this.iconName_)&&c&&(a?(a=(a||"").split(":"),1==a.length&&a.unshift("yt-icons"),a[1]=a[1].toLowerCase(),a.length&&(this.iconsetName_=a[0],this.iconName_=a[1])):this.iconName_=this.iconsetName_="",b?this.classList.add("external-container"):this.classList.remove("external-container"),this.updateIcon_(b))},
onIconsetAdded_:function(){this.updateIcon_(this.targetContainer)},
updateIcon_:function(a){var b=this;if(a){if(!this.domHost||!this.domHost.$)return;b=this.domHost.$[a]||this.domHost.$$("#"+a)}""==this.iconName_?this.iconset_&&this.iconset_.removeIcon(b):this.iconsetName_&&this.meta_&&((this.iconset_=this.meta_.byKey(this.iconsetName_))?(this.iconset_.applyIcon(b,this.iconName_),this.missingIconSet_&&(this.missingIconSet_=!1,this.unlisten(window,"iron-iconset-added","onIconsetAdded_"))):(this.missingIconSet_=!0,this.listen(window,"iron-iconset-added","onIconsetAdded_")))}});O.YtPlaintextBehavior_={properties:{plaintextOnly:{type:Boolean,value:!1}},detached:function(){this.plaintextOnly&&(this.removeEventListener("paste",this.onPaste_),this.removeOwnKeyBindings())},
ready:function(){this.plaintextOnly&&(this.addEventListener("paste",this.onPaste_),this.addOwnKeyBinding("ctrl+b meta+b ctrl+i meta+i","preventRichTextFormatting_"))},
onPaste_:function(a){a.preventDefault();a=a.clipboardData.getData("text/plain");document.execCommand("insertText",!1,a)},
preventRichTextFormatting_:function(a){qc&&(a=a.detail.keyboardEvent,a.stopImmediatePropagation(),a.preventDefault())}};
O.YtPlaintextBehavior=[Polymer.IronA11yKeysBehavior,O.YtPlaintextBehavior_];var um=void 0;
function vm(a,b){if(!(b instanceof HTMLElement))return um=b,document.createElement(a);var c;if(!(c=b.injector))a:{for(;b=Polymer.Element?b._host:b.dataHost&&b.dataHost._rootDataHost?b.dataHost._rootDataHost:b.dataHost;)if(b.injector){c=b.injector;break a}c=void 0}um=c;a=document.createElement(a);if(um)throw um=void 0,Error("Element "+a.tagName.toLowerCase()+" was created with createElementWithInjectionParent but did not use adopting injector. Most likely the element does not include InjectBehavior");return a}
function wm(){function a(a,b,d,f){var g=a[b];a[b]=function(){this._host=c.currentHost();this.initializeInjection&&this.initializeInjection();return g.apply(this,arguments)};
var h=a[d];a[d]=function(){c.push(f?this._host:this);var a=h.apply(this,arguments);c.pop();return a}}
var b=Polymer,c={stack:[],push:function(a){this.stack.push(a)},
pop:function(){this.stack.pop()},
currentHost:function(){if(this.stack.length)return this.stack[this.stack.length-1]}},d=b._polymerFn.Class?b._polymerFn:b,f=d.Class;
d.Class=function(b){b=f(b);a(b.prototype,"created","_stampTemplate",!1);return b};
a(b.DomRepeat.prototype,"_initializeProperties","__stampInstance",!0);a(b.DomIf.prototype,"_initializeProperties","__ensureInstance",!0)}
function xm(){var a=Polymer,b=a.Base._registerHost;a.Base._registerHost=function(a){b.call(this,a);this.initializeInjection&&this.initializeInjection()}}
var ym=!1,zm;if(window.hasOwnProperty("Polymer")){var Am=Polymer;zm=Am&&Am.Base}else zm=!1;zm&&!ym&&(Polymer.Element?wm():xm(),ym=!0);var Em=function(a,b){var c=Bm.get(a);if(c&&(c=c.pop())){if(b&&b.injector&&c.injector){if(!c.injector)throw Error("");if(!b.injector)throw Error("");c.injector!==b.injector&&c.initializeInjection&&(um=b.injector,c.initializeInjection())}Cm++;return c}Dm++;return b&&b.injector?vm(a,b):document.createElement(a)},Fm=function(a){var b=a.is;
if(!b)return L(Error("Element pool should only handle custom elements. Element name: "+a.nodeName),"WARNING"),!1;var c=Bm.get(b);c||(c=[],Bm.set(b,c));if(c.length>=((K("ELEMENT_POOL_CONFIG")||{})[b]||K("ELEMENT_POOL_DEFAULT_CAP",0)))return!1;c.push(a);return!0},Bm=new Map,Dm=0,Cm=0;var Gm=0,Hm=new WeakMap,Im=0,Jm=new Set;function Km(a,b,c,d){d||(d="width");if(!a||!a.length)return null;var f=Gm;f||(f=Gm=window.devicePixelRatio);1<f&&(b*=f);f=a.length;if(c)for(var g=0;g<f;g++)if(0<=a[g].url.indexOf(c))return a[g].url||null;for(c=0;c<f;c++)if(a[c][d]>=b)return a[c].url||null;for(b=f-1;0<b;b--)if(a[b][d])return a[b].url||null;return a[0].url||null}
function Lm(){Jm.size?setTimeout(function(){N.addImmediateJob(Mm)},0):Im=0}
function Mm(){var a=Fg(),b=null;Jm.forEach(function(c){c.loaded=!0;c.loadTime=a;c.pendingPaint=!1;var d=Hm.get(c);d&&d.resolve(a);b=c});
b&&b.markDirty();Jm.clear();Im=0}
function Nm(a){var b=Hm.get(a);b||(b=Nf(),Hm.set(a,b));Infinity>a.loadTime&&0<a.loadTime&&b.resolve(a.loadTime);return b.promise}
;Polymer({is:"yt-formatted-string",properties:{text:{type:Object,observer:"textChanged_"},noEndpoints:Boolean,noStyles:Boolean,splitLines:{type:Boolean,reflectToAttribute:!0},forceDefaultStyle:{type:Boolean,reflectToAttribute:!0},ellipsisTruncate:{type:Boolean,reflectToAttribute:!0,observer:"ellipsisTruncateChanged_"},ariaLabel:{type:String,reflectToAttribute:!0,computed:"computeAriaLabel_(text.accessibility.accessibilityData.label)"},hasLinkOnly_:{type:String,reflectToAttribute:!0,computed:"computeHasLinkOnly_(text.runs)"},
emojiSize:{type:Number,value:24},target:{type:String},enableContentEditable:{type:Boolean,observer:"enableContentEditableChanged_"},overrideAriaLabel:{type:String,observer:"overrideAriaLabelChanged_"},respectHtmlDir:Boolean},behaviors:[hi.ComponentBehavior,O.YtPlaintextBehavior,Q.YtActionSenderBehavior,T.YtRendererBehavior],created:function(){this.hasSetTitle_=this.hasChange_=!1},
ready:function(){Polymer.Settings.useShadow&&this.toggleClass("use-shadow",!0);"rtl"!=K("HTML_DIR",void 0)||this.respectHtmlDir||this.setAttribute("dir","auto");this.enableContentEditableChanged_()},
attached:function(){this.hasChange_&&this.textChanged_(this.text)},
clearContents_:function(){for(var a=this.getRoot(),b=a.lastChild;b&&"STYLE"!=b.tagName;)a.removeChild(b),"yt-endpoint"==b.is&&(Fm(b),b.innerHTML=""),b=a.lastChild},
textChanged_:function(a){if(void 0===this.isAttached)this.hasChange_=!0;else{this.hasChange_=!1;var b=this.getRoot();if(a&&(a.runs||a.simpleText)){this.ellipsisTruncateChanged_(this.ellipsisTruncate);var c=a.simpleText;!c&&1==a.runs.length&&this.isSimpleString_(a.runs[0])&&(c=a.runs[0].text);void 0!==c?c!=b.textContent&&(Polymer.Settings.useShadow?(this.clearContents_(),a=document.createElement("span"),a.appendChild(document.createTextNode(c)),b.appendChild(a)):b.textContent=c):(this.ellipsisTruncate?
this.classList.add("complex-string"):this.classList.remove("complex-string"),a.runs&&this.updateText_(a.runs))}else this.clearContents_()}},
ellipsisTruncateChanged_:function(a){!a||this.hasAttribute("title")&&!this.hasSetTitle_?this.hasSetTitle_&&(this.removeAttribute("title"),this.hasSetTitle_=!1):(this.setAttribute("title",this.getRawText()),this.hasSetTitle_=!0)},
computeAriaLabel_:function(a){return a},
setNodeStyle_:function(a,b){this.noStyles||(a.bold&&b.classList.add("bold"),a.deemphasize&&b.classList.add("deemphasize"),a.italics&&b.classList.add("italic"),a.strikethrough&&b.classList.add("strikethrough"),a.textColor&&(b.style.color=Zl(a.textColor)))},
setNodeTrackingParams_:function(a,b){b.data||(b.data={});b.data.trackingParams=a.loggingDirectives?a.loggingDirectives.trackingParams:null},
computeHasLinkOnly_:function(a){return!(!a||1!=a.length||this.noEndpoints||!a[0].navigationEndpoint)},
getRoot:function(){var a=Polymer.dom(this.root);this.enableContentEditable&&Polymer.Element&&(a=a.firstChild);return a},
fixContenteditableScope:function(){this.getRoot().childNodes.forEach(function(a){1==a.nodeType&&(a.classList.add("style-scope"),a.classList.add("yt-formatted-string"))})},
updateText_:function(a){for(var b=a.length,c=this.getRoot(),d=c.firstChild;d&&"STYLE"==d.nodeName;)d=d.nextSibling;for(var f=0;f<b&&d;){var g=a[f];if(this.isSimpleString_(g)&&!Polymer.Settings.useShadow)if("#text"==d.nodeName){d.textContent!=g.text&&(d.textContent=g.text);f++;d=d.nextSibling;continue}else break;if(g.emoji)break;else if(!this.noEndpoints&&g.navigationEndpoint){if("A"!=d.nodeName)break;this.setDataOnAnchor_(d,g.navigationEndpoint)}else if("SPAN"!=d.nodeName)break;this.setNodeStyle_(g,
d);this.setNodeTrackingParams_(g,d);d.textContent!=g.text&&(d.textContent=g.text);f++;d=d.nextSibling}if(d)for(g=c.lastChild,d=f?d.previousSibling:null;g&&g!=d;)c.removeChild(g),"yt-endpoint"==g.is&&(Fm(g),g.innerHTML=""),g=c.lastChild;f!=b&&this.addTextNodes_(a,f)},
addTextNodes_:function(a,b){for(var c=document.createDocumentFragment(),d=a.length;b<d;b++){var f=a[b];if(this.isSimpleString_(f)&&!Polymer.Settings.useShadow)c.appendChild(document.createTextNode(f.text));else if(f.emoji){if(f.emoji.image){var g=document.createElement("img");g.classList.add("emoji");g.src=Km(f.emoji.image.thumbnails,this.emojiSize);var h=this.get("image.accessibility.accessibilityData.label",f.emoji);g.alt=h?h:f.emoji.isCustomEmoji?f.emoji.shortcuts[0]:f.emoji.emojiId;c.appendChild(g)}}else!this.noEndpoints&&
f.navigationEndpoint?(g=document.createElement("a"),g.classList.add("yt-simple-endpoint"),g.setAttribute("spellcheck","false"),this.setDataOnAnchor_(g,f.navigationEndpoint)):g=document.createElement("span"),this.setNodeStyle_(f,g),this.setNodeTrackingParams_(f,g),g.appendChild(document.createTextNode(f.text)),c.appendChild(g)}this.getRoot().appendChild(c)},
isSimpleString_:function(a){return(this.noEndpoints||!a.navigationEndpoint)&&!a.emoji&&(this.noStyles||!(a.bold||a.deemphasize||a.italics||a.strikethrough||a.textColor))&&!a.loggingDirectives},
getRawText:function(){return Ph(this.text)},
getFirstRunText:function(){if(this.text&&this.text.runs[0])return this.text.runs[0].text},
setFirstRunText:function(a){this.text.runs[0]&&(this.text.runs[0].text=a,this.textChanged_(this.text))},
setDataOnAnchor_:function(a,b){!M("yf_formatted_string_service_endpoint_killswitch")&&this.isServiceEndpoint_(b)?(a.onclick=this.serviceEndpointHandler_(b),a.href="#"):(Sh(a,b),a.href&&this.target?a.target=this.target:a.removeAttribute("target"))},
isServiceEndpoint_:function(a){return null!=(a.commandMetadata&&a.commandMetadata.webCommandMetadata&&a.commandMetadata.webCommandMetadata.sendPost)},
serviceEndpointHandler_:function(a){var b=this;return function(c){b.sendServiceRequestAction([a]);c.preventDefault()}},
overrideAriaLabelChanged_:function(){if(Polymer.Element){var a=this.getRoot();this.enableContentEditable&&a&&a.setAttribute("aria-label",this.overrideAriaLabel)}else this.overrideAriaLabel&&this.setAttribute("aria-label",this.overrideAriaLabel)},
enableContentEditableChanged_:function(){if(this.enableContentEditable)if(Polymer.Element){this.removeAttribute("dir");var a=Polymer.dom(this.root);if(!a.lastChild||a.lastChild&&"contenteditable-root"!=a.lastChild.id){var b=document.createElement("div");b.id="contenteditable-root";b.setAttribute("contenteditable",!0);b.setAttribute("dir","auto");this.shadowRoot.appendChild(b)}this.overrideAriaLabel&&b.setAttribute("aria-label",this.overrideAriaLabel)}else this.setAttribute("contenteditable",!0);else a=
Polymer.dom(this.root),a.firstChild&&"contenteditable-root"==a.firstChild.id&&a.removeChild(a.firstChild)},
getNodesForVisibilityLogging_:function(){var a=[];this.getRoot().childNodes.forEach(function(b){b.data&&b.data.trackingParams&&a.push(b)});
return a},
getNodes:function(){return this.getNodesForVisibilityLogging_()},
onShow:function(){var a=this.getVETracker();a&&this.getNodesForVisibilityLogging_().forEach(function(b){return a.reportShown(b)})},
onHide:function(){var a=this.getVETracker();a&&this.getNodesForVisibilityLogging_().forEach(function(b){return a.reportHidden(b)})}});Polymer({is:"ytd-menu-navigation-item-renderer",hostAttributes:{role:"menuitem"},behaviors:[Q.YtActionSenderBehavior,S.YtConditionalRendererBehavior,gm.YtdOpenPopupBehavior,mm.YtEndpointBehavior],properties:{data:Object,icon_:{type:String,computed:"computeIcon_(data.icon)",value:""},useIcons:{type:Boolean,reflectToAttribute:!0,value:!1},menuRefresh:{type:Boolean,reflectToAttribute:!0},hasSeparator_:{type:Boolean,computed:"computeHasSeparator_(data.hasSeparator)",reflectToAttribute:!0}},listeners:{focus:"onFocus_"},
ready:function(){this.listen(this,"tap","onEndpointTapExtra_")},
onFocus_:function(){this.$$("paper-item").focus()},
onEndpointTapExtra_:function(a){this.fire("iron-activate");var b=this.data.navigationEndpoint;b&&b.userFeedbackEndpoint&&(a.stopPropagation(),this.sendInnerTubeActions([b],this))},
computeIcon_:function(a){return a&&a.iconType?Yh(a.iconType):""},
computeHasSeparator_:function(){return!(!this.data||!this.data.hasSeparator)},
computeIconHidden_:function(){return this.useIcons?!1:!this.icon_}});Polymer({is:"ytd-menu-service-item-renderer",hostAttributes:{role:"menuitem"},behaviors:[gm.YtdOpenPopupBehavior,Q.YtActionSenderBehavior,S.YtConditionalRendererBehavior],properties:{data:Object,icon_:{type:String,computed:"computeIcon_(data.icon)",value:""},useIcons:{type:Boolean,reflectToAttribute:!0,value:!1},menuRefresh:{type:Boolean,reflectToAttribute:!0},hasSeparator_:{type:Boolean,computed:"computeHasSeparator_(data.hasSeparator)",reflectToAttribute:!0}},listeners:{tap:"onTap_",focus:"onFocus_"},
onFocus_:function(){this.$$("paper-item").focus()},
onTap_:function(){var a=this.data.serviceEndpoint;a&&this.sendServiceRequestAction([a])},
computeIcon_:function(a){return a&&a.iconType?Yh(a.iconType):""},
computeIconHidden_:function(){return this.useIcons?!1:!this.icon_},
computeHasSeparator_:function(){return!(!this.data||!this.data.hasSeparator)}});Polymer({is:"ytd-toggle-menu-service-item-renderer",behaviors:[Polymer.PaperItemBehavior,T.YtRendererBehavior],properties:{data:Object,useIcons:{type:Boolean,reflectToAttribute:!0,value:!1},menuRefresh:{type:Boolean,reflectToAttribute:!0},icon_:{type:String,computed:"computeIcon_(data.isToggled, data.defaultIcon, data.toggledIcon)",value:""}},listeners:{tap:"onTap_","yt-service-request-completed":"onYtServiceRequestCompleted_"},computeText_:function(a,b,c){return this.getSimpleString(a?c:b)},
onTap_:function(){var a=this.data.isToggled?this.data.toggledServiceEndpoint:this.data.defaultServiceEndpoint;a&&this.sendServiceRequestAction([a])},
onYtServiceRequestCompleted_:function(){this.set("data.isToggled",!this.data.isToggled)},
computeIcon_:function(a,b,c){return(a=a?c:b)&&a.iconType?Yh(a.iconType):""},
computeIconHidden_:function(){return this.useIcons?!1:!this.icon_}});var Om={YtEventForwardingBehavior:{created:function(){this.eventSink_=null;this.eventList_=[]},
forwardEvent_:function(a,b){a.stopPropagation();this.eventSink_.fire(a.type,b)},
startForwardingEvents:function(a,b){this.eventSink_&&this.stopForwardingEvents();for(var c=0;c<a.length;c++)this.listen(this,a[c],"forwardEvent_");this.eventSink_=b;this.eventList_=a},
stopForwardingEvents:function(){for(var a=0;a<this.eventList_.length;a++)this.unlisten(this,this.eventList_[a],"forwardEvent_");this.eventSink_=null;this.eventList_=[]}}};var Pm=new WeakMap,Qm=function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&b[c])return c;return null},Rm=function(a){var b=a.match(/\[\[([\w\.]+)\]\]/);
if(b&&1<b.length)return b[1];L(Error("Failed to parse binding: "+a));return null},Sm=function(a){return void 0===a?!!K("REUSE_COMPONENTS",!1):a||!1},Tm=function(a,b,c){c&&(b.is?Fm(b):b.__proto__==HTMLElement.prototype&&L(Error("Rendererstamper ("+a+") removed a non custom element: "+(b&&b.nodeName)),"WARNING"))},Um=function(a,b,c,d){var f=b.node?b.node:b;
Polymer.dom(c).parentNode==f&&(b.removeChild(c),Tm(a,c,d));if(a=Pm.get(c))Pm.delete(c),N.cancelJob(a);c.hidden=!1},Vm=function(a,b,c,d){var f=b.children[c];
if(f)if(K("DEFERRED_DETACH",void 0))for(c=f;c&&!Pm.has(c);){var g=a,h=b;f=c;var k=d;f.hidden=!0;g=N.addIdlePriorityJob(Um.bind(null,g,h,f,k),0);Pm.set(f,g);c=c.nextElementSibling}else for(;(c=b.lastElementChild)&&(b.removeChild(c),Tm(a,c,d),c!=f););};O.YtRendererStamperBehavior=[{created:function(){this.cachedProviderNode_=null},
detached:function(){this.cachedProviderNode_=null},
getTaskManager:function(){var a=this.getContext_();return a?a.getTaskManager():N},
getContext_:function(){if(this.shouldUseTaskManager()){if(!this.cachedProviderNode_){var a=this.fire("yt-get-context-provider");a.detail&&a.detail.contextProvider?this.cachedProviderNode_=a.detail.contextProvider:this.parentElement&&(this.cachedProviderNode_=this)}if(this.cachedProviderNode_&&this.cachedProviderNode_.getProvidedContext&&this.cachedProviderNode_.getProvidedContext())return this.cachedProviderNode_.getProvidedContext()}},
shouldUseTaskManager:function(){return Xl.getInstance().canUseComponent(this.localName)},
getNetworkManager:function(){var a=this.getContext_();if(a)return a.getNetworkManager()}},
{mappings:null,stampDom:null,rendererStamperLogger_:null,beforeRegister:function(){this.configureRendererStamper&&"function"===typeof this.configureRendererStamper&&(this.stampDom=this.configureRendererStamper());this.stampDom&&this.addStampDomObservers_()},
created:function(){this.deferredBindingTasks_=[];this.renderJobsMap_=Object.create(null);this.hasDataPath_=Object.create(null);this.stampDom&&this.addStampDomObserverFns_();this.telemetry_={};this.resetTelemetry_()},
resetTelemetry_:function(){this.telemetry_.create=0;this.telemetry_.reuse=0},
addStampDomObservers_:function(){var a=(this.constructor.generatedFrom||this).observers;a||(a=[]);for(var b in this.stampDom){var c="stamp"+this.stampDom[b].id.replace("-","_")+"_";a.push(c+"("+b+".*)")}Polymer.Element?this.constructor.generatedFrom.observers=a:this.observers=a},
addStampDomObserverFns_:function(){for(var a in this.stampDom){var b=this.stampDom[a];b.id?(this["stamp"+b.id.replace("-","_")+"_"]=this.rendererStamperObserver_.bind(this,a,b.id),this.hasDataPath_[a]=!1):L(Error("Bad rendererstamper config "+this.is+":"+a))}},
rendererStamperObserver_:function(a,b,c){if(c.path==a){if(void 0===c.value&&!this.hasDataPath_[a])return;this.hasDataPath_[a]=void 0!==c.value}this.rendererStamperApplyChangeRecord_(a,b,c)},
rendererStamperApplyChangeRecord_:function(a,b,c){var d=this.renderJobsMap_[b],f=null;a==c.path?(c=c.value,Ia(c)||(c=void 0===c||null===c?[]:[c]),a=this.stampDom[a],a.mapping&&(f=this.stampDomArray_.bind(this,c,b,a.mapping,a.reuseComponents,a.events)),d&&d.cancel(),c=a.usePageScheduler?this.getTaskManager():void 0,d||void 0==a.initialRenderPriority)?void 0==a.renderPriority||d||(d=new Ul(a.renderPriority,a.waitForSignal,c),this.renderJobsMap_[b]=d):(d=new Ul(a.initialRenderPriority,a.waitForSignal,
c),this.renderJobsMap_[b]=d,f=function(a,b){a();b.updatePriority(10)}.bind(this,f,d)):f=a+".splices"==c.path?this.stampDomArraySplices_.bind(this,a,b,c.value):this.forwardRendererStamperChanges_.bind(this,a,b,c);
d?d.queueJob(f):f()},
forwardRendererStamperChanges_:function(a,b,c){var d=c.path.slice(a.length+1),f=this.getStampContainer_(b);b=d.indexOf(".");var g=d.substring(0,b),h=!1,k=0,l=parseInt(g,0);"#"==g[0]?(h=parseInt(g.substring(1),0),k=this.get(a),a=this.get([a,g]),k=k[h]==a?h:k.indexOf(a),h=!0):isNaN(l)||(k=l,h=!0);h&&(d=d.substring(g.length+1),b=d.indexOf("."));if(a=Polymer.dom(f).children[k])d="data"+d.slice(b),c.value?a.notifyPath(d,c.value):a.notifyPath(d)},
stampDomArraySplices_:function(a,b,c){if(c&&c.indexSplices){var d=this.getStampContainer_(b);if(d){b=Polymer.dom(d);for(var f=Sm(this.stampDom[a].reuseComponents),g=c.indexSplices.length,h=0;h<g;h++){for(var k=c.indexSplices[h],l=b.children[k.index],m=k.removed.length;0<m;m--)l&&l.parentElement&&(Polymer.dom(l.parentElement).removeChild(l),f&&Fm(l),l=b.children[k.index]);m=this.stampDom[a].mapping;for(var q=k.index+k.addedCount,t=document.createDocumentFragment(),G=f,ea=k.index;ea<q;ea++){var U=k.object[ea],
P=Qm(m,U);if(P){var ia=m[P];U=U[P];P=this.getComponentName_(ia,U);var za=l?Pm.has(l):!1;G&&l&&l.is==P&&za?(P=l,this.telemetry_.reuse++,l=l.nextElementSibling):G&&l&&za?(P=this.createComponent_(ia,U,f),za=Polymer.dom(l).nextElementSibling,b.insertBefore(P,za),Um(this.is,b,l,f),l=za):(G=!1,P=this.createComponent_(ia,U,f),t.appendChild(P));this.deferRenderStamperBinding_(P,ia,U)}else L(Error("Unimplemented type"+U))}b.insertBefore(t,l)}this.flushRenderStamperComponentBindings_();this.stampDom[a].events&&
this.fire("yt-rendererstamper-finished",{container:d})}else a=Error("Container object not found"),a.params=b,L(a)}},
stampDomArray_:function(a,b,c,d,f){var g=this.getStampContainer_(b);if(g)if(b=Polymer.dom(g),d=Sm(d),a){var h=0,k=0,l;if(K("STAMPER_STABLE_LIST",!1))for(l=b.firstElementChild;l&&!Pm.has(l)&&a.length>k;){var m=a[k],q=Qm(c,m);if(q){if(this.getComponentName_(c[q],m[q])!=l.is){var t=this.createComponent_(c[q],m[q],d),G=Polymer.dom(l).nextElementSibling;G?b.insertBefore(t,G):b.appendChild(t);Um(this.is,b,l,d);l=t}else this.telemetry_.reuse++;this.deferRenderStamperBinding_(l,c[q],m[q]);h++;k++;l=Polymer.dom(l).nextElementSibling}else k++}Vm(this.is,
b,h,d);h=l;if(a.length>k){m=document.createDocumentFragment();for(q=a.length;k<q;k++)if(t=a[k],G=Qm(c,t))l=this.createComponent_(c[G],t[G],d),this.deferRenderStamperBinding_(l,c[G],t[G]),m.appendChild(l);h&&Polymer.dom(h).parentNode&&l&&!Pm.has(l)?b.insertBefore(m,h):b.appendChild(m)}this.flushRenderStamperComponentBindings_();this.markDirty&&this.markDirty();f&&this.fire("yt-rendererstamper-finished",{container:g})}else Vm(this.is,b,0,d);else L(Error("Container object not found"+b))},
getStampContainer_:function(a){return this.$[a]||this.$$("#"+a)},
getComponentName_:function(a,b){return"string"===typeof a?a:a.matcher?a.matcher.call(this,b):a.component},
createComponent_:function(a,b,c){b=this.getComponentName_(a,b);c?(a=Em(b,this.isInjectionEnabled_(a)?this:void 0),a.updateStyles?a.updateStyles():L(Error("Unregistered element: "+b),"WARNING")):a=a&&this.isInjectionEnabled_(a)?vm(b,this):document.createElement(b);this.telemetry_.create++;return a},
deferRenderStamperBinding_:function(a,b,c){this.deferredBindingTasks_.push({component:a,typeOrConfig:b,data:c})},
flushRenderStamperComponentBindings_:function(){for(var a=0,b=this.deferredBindingTasks_.length;a<b;a++){var c=this.deferredBindingTasks_[a],d=void 0,f=void 0,g=c.component,h=c.typeOrConfig;c=c.data;if("string"!==typeof h){for(f in h.attributes)!0===h.attributes[f]?g.setAttribute(f,""):!1===h.attributes[f]?g.removeAttribute(f):g.setAttribute(f,h.attributes[f]);for(d in h.params)g[d]=h.params[d];for(d in h.properties)(f=h.properties[d])?(f=Rm(f),g[d]=this.get(f),"on-tap"==d&&g.listen(g,"tap","on-tap")):
L(Error("Undefined property binding for "+d));if(h.classListBinding&&(f=Rm(h.classListBinding),d=this[f]))for(h=0;h<d.length;h++)g.toggleClass(d[h],!0)}g.data=c;if(c=Pm.get(g))g.hidden=!1,Pm.delete(g),N.cancelJob(c)}this.deferredBindingTasks_.length=0},
isInjectionEnabled_:function(a,b){return!this.injector||a.noInjection?!1:!b||!!b.injector}}];Polymer({is:"ytd-menu-popup-renderer",behaviors:[Om.YtEventForwardingBehavior,O.YtRendererStamperBehavior,Q.YtActionSenderBehavior,T.YtRendererBehavior],properties:{data:Object,veData:Object,ariaLabel:{type:String,reflectToAttribute:!0,readOnly:!0,computed:"computeAriaLabel_(data.menuPopupAccessibility.label)"},useIcons_:{type:Boolean,computed:"computeUseIcons_(data)",reflectToAttribute:!0},menuRefresh_:{type:Boolean,value:function(){return M("kevlar_menu_refresh")},
reflectToAttribute:!0}},listeners:{"yt-popup-opened":"onPopupOpened_"},stampDom:{"data.items":{id:"items",mapping:{menuNavigationItemRenderer:{component:"ytd-menu-navigation-item-renderer",properties:{useIcons:"[[useIcons_]]",menuRefresh:"[[menuRefresh_]]"}},menuServiceItemRenderer:{component:"ytd-menu-service-item-renderer",properties:{useIcons:"[[useIcons_]]",menuRefresh:"[[menuRefresh_]]"}},menuConditionalNavigationItemRenderer:{component:"ytd-menu-navigation-item-renderer",properties:{useIcons:"[[useIcons_]]",
menuRefresh:"[[menuRefresh_]]"}},menuConditionalServiceItemRenderer:{component:"ytd-menu-service-item-renderer",properties:{useIcons:"[[useIcons_]]",menuRefresh:"[[menuRefresh_]]"}},toggleMenuServiceItemRenderer:{component:"ytd-toggle-menu-service-item-renderer",registration:["defer-on-watch"],properties:{useIcons:"[[useIcons_]]",menuRefresh:"[[menuRefresh_]]"}}}}},computeAriaLabel_:function(a){return a},
onPopupOpened_:function(){this.$.items.selected=null;Polymer.dom(this.$.items).children.forEach(function(a){a.popupPositionTarget=this.positionTarget}.bind(this))},
onIronActivate_:function(){this.sendAction("yt-close-popup-action",["ytd-menu-popup-renderer"]);if(this.veData){var a=ok();a&&this.veData&&Tj(ck,a,this.veData,void 0,void 0)}},
computeUseIcons_:function(){return M("kevlar_icons_on_menus")&&this.data&&this.data.items?this.data.items.some(function(a){var b=Object.keys(a)[0];return!!a[b].icon}):!1}});function Wm(a,b,c,d){return window.spf?Xm(a,b,c,void 0===d?!1:d):Ym(a,b)}
function Xm(a,b,c,d){var f=Zm(a,b,c);return f.then($m,function(a){d&&f.cancel();return If(a)})}
function Zm(a,b,c){var d=null,f=new Df(function(f,h){var g={};if(b){g.method=b.method;var l=b.postParams||{};ph(a,b)&&(l[K("XSRF_FIELD_NAME",void 0)]=K("XSRF_TOKEN",void 0));g.postData=ug(l);b.type&&(g.type=b.type);l=b.headers}g.headers=bh(a,l);M("debug_forward_web_query_parameters")&&(a=dh(a,window.location.search));g.experimental_headers=g.headers;g.onError=function(a){h(a.err)};
g.onPartDone=function(a){c&&c.call(null,a.part)};
g.onDone=function(b){var c=an(b.response,"xsrf_token");qg(window.location.href,a)&&c&&Hg("XSRF_TOKEN",c);if(c=an(b.response,"service_worker_killswitch"))Hg("SERVICE_WORKER_KILLSWITCH",c),em();f(b.response)};
d=spf.request(a,g)});
M("cancel_pending_navs")&&f.thenCatch(function(){d.abort()});
return f}
function $m(a){if("multipart"==a.type){var b=a.timing;a=a.parts.reduce(function(a,b){Sa(a,b);return a},{});
a.timing=a.timing||{};Sa(a.timing,b);a.type="reduced"}return a}
function Ym(a,b){b=void 0===b?{}:b;var c=null,d=new Df(function(d,g){b.onFinish=function(b){if(b.readyState==XMLHttpRequest.DONE)if(200==b.status){if("json"!=b.responseType)try{var c=JSON.parse(b.response)}catch(m){c=m}else c=b.response;if(c instanceof Error)g(c);else{var f=an(c,"xsrf_token");qg(window.location.href,a)&&f&&Hg("XSRF_TOKEN",f);b=b.responseURL;window.performance&&window.performance.getEntriesByName?(f=window.performance.getEntriesByName(b).pop())?b={responseStart:Fg()-(f.responseEnd-
f.responseStart)}:(f=Error("No timing found"),f.params=b,L(f),b={responseStart:-1}):b={responseStart:0};c.timing=c.timing||{};Sa(c.timing,b);d(c)}}else g(Error("HTTP error: "+b.status))};
(c=fh(a,b))||g(Error("HTTP error: "+c.status))});
M("cancel_pending_navs")&&d.thenCatch(function(){c.abort()});
return d}
function an(a,b){var c=a[b],d=a.parts;"multipart"==a.type&&d&&(c=(a=d.find(function(a){return b in a}))&&a[b]);
return c}
;Polymer({is:"yt-network-manager",provides:uk,behaviors:[hi.ComponentBehavior],properties:{baseUrl:{type:String,value:""},mobile:Boolean},factoryImpl:function(){},
created:function(){this.aTag_=document.createElement("a");this.preloadTagPool_=[]},
attached:function(){this.listen(document,"yt-preconnect-urls","onYtPreconnectUrls_")},
detached:function(){this.unlisten(document,"yt-preconnect-urls","onYtPreconnectUrls_")},
onYtPreconnectUrls_:function(a,b){for(a=0;a<b.length;a++){var c=b[a];(new Image).src=c}},
endpointToXhrUrl:function(a,b){b=void 0===b?{}:b;b.pbj||(b.pbj=1);a=Dh(a,b);this.aTag_.href=a;return this.aTag_.href},
fetchData:function(a){return Wm(a)},
postData:function(a,b){var c={method:"POST"};if(b){for(var d in b){var f=b[d];Ka(f)&&(b[d]=JSON.stringify(f))}c.postParams=b}return Wm(a,c)},
requestDataForEndpoint:function(a,b,c,d,f){b=this.endpointToXhrUrl(a,b);if(!b)throw c=Error("Cannot construct url for endpoint"),c.params=a,c;return Wm(b,d,c,f)},
requestDataForServiceEndpoint:function(a,b){b=b||{};var c=a.webSerializedServiceEndpointExtension;c?b.se=c.base64EncodedServiceEndpoint:b.sej=JSON.stringify(a);(c=ok())&&M("enable_service_ajax_csn")&&(b.csn=c);if(a.getAccountMenuEndpoint&&a.getAccountMenuEndpoint.sendTheme){c=void 0;c=void 0===c?!1:c;var d=Jl.getInstance().getFlag(165)?"USER_INTERFACE_THEME_DARK":"USER_INTERFACE_THEME_LIGHT";c=c?d:Ll()||d;b.theme=c}c=null;for(var f in a)if(pb(f,"Endpoint")||pb(f,"Command")){c=f;break}if(!c)return b=
Error("Missing endpoint name for serviceEndpoint"),b.params=a,th(b,"WARNING"),a=Nf(),a.reject(b),a;f=vg("/service_ajax",{name:c});a.clickTrackingParams&&Yl(f,{itct:a.clickTrackingParams});return this.postServiceRequest_(f,b)},
postServiceRequest_:function(a,b){return this.postData(a,b)}});Polymer({is:"ytd-live-chat-config",beforeRegister:function(){Hg({openPopupConfig:km})},
created:function(){Polymer.IronOverlayManager.ensureMinimumZ(2200)},
attached:function(){Bh(uk)||Polymer.dom(this.root).appendChild(document.createElement("yt-network-manager"));this.fire("yt-live-chat-popup-config",lm)}});var bn=function(){wi.call(this);this.eventTargetListeners_=new el(this);this.actualEventTarget_=this;this.parentEventTarget_=null};
B(bn,wi);bn.prototype[al]=!0;e=bn.prototype;e.getParentEventTarget=function(){return this.parentEventTarget_};
e.setParentEventTarget=function(a){this.parentEventTarget_=a};
e.addEventListener=function(a,b,c,d){kl(this,a,b,c,d)};
e.removeEventListener=function(a,b,c,d){rl(this,a,b,c,d)};
e.dispatchEvent=function(a){var b,c=this.getParentEventTarget();if(c)for(b=[];c;c=c.getParentEventTarget())b.push(c);c=this.actualEventTarget_;var d=a.type||a;if(v(a))a=new Xk(a,c);else if(a instanceof Xk)a.target=a.target||c;else{var f=a;a=new Xk(d,c);E.extend(a,f)}f=!0;if(b)for(var g=b.length-1;!a.propagationStopped_&&0<=g;g--){var h=a.currentTarget=b[g];f=h.fireListeners(d,!0,a)&&f}a.propagationStopped_||(h=a.currentTarget=c,f=h.fireListeners(d,!0,a)&&f,a.propagationStopped_||(f=h.fireListeners(d,
!1,a)&&f));if(b)for(g=0;!a.propagationStopped_&&g<b.length;g++)h=a.currentTarget=b[g],f=h.fireListeners(d,!1,a)&&f;return f};
e.disposeInternal=function(){bn.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=null};
e.listen=function(a,b,c,d){return this.eventTargetListeners_.add(String(a),b,!1,c,d)};
e.listenOnce=function(a,b,c,d){return this.eventTargetListeners_.add(String(a),b,!0,c,d)};
e.unlisten=function(a,b,c,d){return this.eventTargetListeners_.remove(String(a),b,c,d)};
e.unlistenByKey=function(a){return this.eventTargetListeners_.removeByKey(a)};
e.removeAllListeners=function(a){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(a):0};
e.fireListeners=function(a,b,c){a=this.eventTargetListeners_.listeners[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,f=0;f<a.length;++f){var g=a[f];if(g&&!g.removed&&g.capture==b){var h=g.listener,k=g.handler||g.src;g.callOnce&&this.unlistenByKey(g);d=!1!==h.call(k,c)&&d}}return d&&0!=c.returnValue_};
e.getListeners=function(a,b){return this.eventTargetListeners_.getListeners(String(a),b)};
e.getListener=function(a,b,c,d){return this.eventTargetListeners_.getListener(String(a),b,c,d)};
e.hasListener=function(a,b){return this.eventTargetListeners_.hasListener(u(a)?String(a):void 0,b)};
e.setTargetForTesting=function(a){this.actualEventTarget_=a};
e.assertInitialized_=function(){};var cn=function(a,b){bn.call(this);this.interval_=a||1;this.timerObject_=b||r;this.boundTick_=z(this.tick_,this);this.last_=A()};
B(cn,bn);e=cn.prototype;e.enabled=!1;e.timer_=null;e.getInterval=function(){return this.interval_};
e.setInterval=function(a){this.interval_=a;this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()};
e.tick_=function(){if(this.enabled){var a=A()-this.last_;0<a&&a<.8*this.interval_?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-a):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.stop(),this.start()))}};
e.dispatchTick=function(){this.dispatchEvent("tick")};
e.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=A())};
e.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};
e.disposeInternal=function(){cn.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};
var dn=function(a,b,c){if(Ja(a))c&&(a=z(a,c));else if(a&&"function"==typeof a.handleEvent)a=z(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:r.setTimeout(a,b||0)};var en=function(a){wi.call(this);this.handler_=a;this.keys_={}};
B(en,wi);var fn=[];e=en.prototype;e.listen=function(a,b,c,d){return this.listen_(a,b,c,d)};
e.listenWithScope=function(a,b,c,d,f){return this.listen_(a,b,c,d,f)};
e.listen_=function(a,b,c,d,f){y(b)||(b&&(fn[0]=b.toString()),b=fn);for(var g=0;g<b.length;g++){var h=kl(a,b[g],c||this.handleEvent,d||!1,f||this.handler_||this);if(!h)break;this.keys_[h.key]=h}return this};
e.listenOnce=function(a,b,c,d){return this.listenOnce_(a,b,c,d)};
e.listenOnceWithScope=function(a,b,c,d,f){return this.listenOnce_(a,b,c,d,f)};
e.listenOnce_=function(a,b,c,d,f){if(y(b))for(var g=0;g<b.length;g++)this.listenOnce_(a,b[g],c,d,f);else{a=jl(a,b,c||this.handleEvent,d,f||this.handler_||this);if(!a)return this;this.keys_[a.key]=a}return this};
e.listenWithWrapper=function(a,b,c,d){return this.listenWithWrapper_(a,b,c,d)};
e.listenWithWrapperAndScope=function(a,b,c,d,f){return this.listenWithWrapper_(a,b,c,d,f)};
e.listenWithWrapper_=function(a,b,c,d,f){b.listen(a,c,d,f||this.handler_||this,this);return this};
e.getListenerCount=function(){var a=0,b;for(b in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,b)&&a++;return a};
e.unlisten=function(a,b,c,d,f){if(y(b))for(var g=0;g<b.length;g++)this.unlisten(a,b[g],c,d,f);else if(a=tl(a,b,c||this.handleEvent,Ka(d)?!!d.capture:!!d,f||this.handler_||this))sl(a),delete this.keys_[a.key];return this};
e.unlistenWithWrapper=function(a,b,c,d,f){b.unlisten(a,c,d,f||this.handler_||this,this);return this};
e.removeAll=function(){E.forEach(this.keys_,function(a,b){this.keys_.hasOwnProperty(b)&&sl(a)},this);
this.keys_={}};
e.disposeInternal=function(){en.superClass_.disposeInternal.call(this);this.removeAll()};
e.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var gn=function(){};
gn.prototype.cachedOptions_=null;gn.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};var hn,jn=function(){};
B(jn,gn);jn.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};
jn.prototype.internalGetOptions=function(){var a={};this.getProgId_()&&(a[0]=!0,a[1]=!0);return a};
jn.prototype.getProgId_=function(){if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;b<a.length;b++){var c=a[b];try{return new ActiveXObject(c),this.ieProgId_=c}catch(d){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return this.ieProgId_};
hn=new jn;var kn=function(a){return a.getCount&&"function"==typeof a.getCount?a.getCount():Ia(a)||v(a)?a.length:E.getCount(a)},ln=function(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();
if(v(a))return a.split("");if(Ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return E.getValues(a)},mn=function(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();
if(!a.getValues||"function"!=typeof a.getValues){if(Ia(a)||v(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return E.getKeys(a)}},nn=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);
else if(Ia(a)||v(a))C(a,b,c);else for(var d=mn(a),f=ln(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)},on=function(a,b,c){if("function"==typeof a.every)return a.every(b,c);
if(Ia(a)||v(a))return bb(a,b,c);for(var d=mn(a),f=ln(a),g=f.length,h=0;h<g;h++)if(!b.call(c,f[h],d&&d[h],a))return!1;return!0};var pn=function(a,b){this.domain_=this.userInfo_=this.scheme_="";this.port_=null;this.fragment_=this.path_="";this.ignoreCase_=this.isReadOnly_=!1;var c;a instanceof pn?(this.ignoreCase_=u(b)?b:a.getIgnoreCase(),this.setScheme(a.getScheme()),this.setUserInfo(a.getUserInfo()),this.setDomain(a.getDomain()),this.setPort(a.getPort()),this.setPath(a.getPath()),this.setQueryData(a.getQueryData().clone()),this.setFragment(a.getFragment())):a&&(c=jg(String(a)))?(this.ignoreCase_=!!b,this.setScheme(c[1]||
"",!0),this.setUserInfo(c[2]||"",!0),this.setDomain(c[3]||"",!0),this.setPort(c[4]),this.setPath(c[5]||"",!0),this.setQueryData(c[6]||"",!0),this.setFragment(c[7]||"",!0)):(this.ignoreCase_=!!b,this.queryData_=new qn(null,null,this.ignoreCase_))};
e=pn.prototype;
e.toString=function(){var a=[],b=this.getScheme();b&&a.push(rn(b,sn,!0),":");var c=this.getDomain();if(c||"file"==b)a.push("//"),(b=this.getUserInfo())&&a.push(rn(b,sn,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.getPort(),null!=c&&a.push(":",String(c));if(c=this.getPath())this.hasDomain()&&"/"!=c.charAt(0)&&a.push("/"),a.push(rn(c,"/"==c.charAt(0)?tn:un,!0));(c=this.getEncodedQuery())&&a.push("?",c);(c=this.getFragment())&&a.push("#",rn(c,vn));return a.join("")};
e.resolve=function(a){var b=this.clone(),c=a.hasScheme();c?b.setScheme(a.getScheme()):c=a.hasUserInfo();c?b.setUserInfo(a.getUserInfo()):c=a.hasDomain();c?b.setDomain(a.getDomain()):c=a.hasPort();var d=a.getPath();if(c)b.setPort(a.getPort());else if(c=a.hasPath()){if("/"!=d.charAt(0))if(this.hasDomain()&&!this.hasPath())d="/"+d;else{var f=b.getPath().lastIndexOf("/");-1!=f&&(d=b.getPath().substr(0,f+1)+d)}f=d;if(".."==f||"."==f)d="";else if(-1!=f.indexOf("./")||-1!=f.indexOf("/.")){d=0==f.lastIndexOf("/",
0);f=f.split("/");for(var g=[],h=0;h<f.length;){var k=f[h++];"."==k?d&&h==f.length&&g.push(""):".."==k?((1<g.length||1==g.length&&""!=g[0])&&g.pop(),d&&h==f.length&&g.push("")):(g.push(k),d=!0)}d=g.join("/")}else d=f}c?b.setPath(d):c=a.hasQuery();c?b.setQueryData(a.getQueryData().clone()):c=a.hasFragment();c&&b.setFragment(a.getFragment());return b};
e.clone=function(){return new pn(this)};
e.getScheme=function(){return this.scheme_};
e.setScheme=function(a,b){this.enforceReadOnly();if(this.scheme_=b?wn(a,!0):a)this.scheme_=this.scheme_.replace(/:$/,"");return this};
e.hasScheme=function(){return!!this.scheme_};
e.getUserInfo=function(){return this.userInfo_};
e.setUserInfo=function(a,b){this.enforceReadOnly();this.userInfo_=b?wn(a):a;return this};
e.hasUserInfo=function(){return!!this.userInfo_};
e.getDomain=function(){return this.domain_};
e.setDomain=function(a,b){this.enforceReadOnly();this.domain_=b?wn(a,!0):a;return this};
e.hasDomain=function(){return!!this.domain_};
e.getPort=function(){return this.port_};
e.setPort=function(a){this.enforceReadOnly();if(a){a=Number(a);if(isNaN(a)||0>a)throw Error("Bad port number "+a);this.port_=a}else this.port_=null;return this};
e.hasPort=function(){return null!=this.port_};
e.getPath=function(){return this.path_};
e.setPath=function(a,b){this.enforceReadOnly();this.path_=b?wn(a,!0):a;return this};
e.hasPath=function(){return!!this.path_};
e.hasQuery=function(){return""!==this.queryData_.toString()};
e.setQueryData=function(a,b){this.enforceReadOnly();a instanceof qn?(this.queryData_=a,this.queryData_.setIgnoreCase(this.ignoreCase_)):(b||(a=rn(a,xn)),this.queryData_=new qn(a,null,this.ignoreCase_));return this};
e.setQuery=function(a,b){return this.setQueryData(a,b)};
e.getEncodedQuery=function(){return this.queryData_.toString()};
e.getDecodedQuery=function(){return this.queryData_.toDecodedString()};
e.getQueryData=function(){return this.queryData_};
e.getQuery=function(){return this.getEncodedQuery()};
e.setParameterValue=function(a,b){this.enforceReadOnly();this.queryData_.set(a,b);return this};
e.setParameterValues=function(a,b){this.enforceReadOnly();y(b)||(b=[String(b)]);this.queryData_.setValues(a,b);return this};
e.getParameterValues=function(a){return this.queryData_.getValues(a)};
e.getParameterValue=function(a){return this.queryData_.get(a)};
e.getFragment=function(){return this.fragment_};
e.setFragment=function(a,b){this.enforceReadOnly();this.fragment_=b?wn(a):a;return this};
e.hasFragment=function(){return!!this.fragment_};
e.hasSameDomainAs=function(a){return(!this.hasDomain()&&!a.hasDomain()||this.getDomain()==a.getDomain())&&(!this.hasPort()&&!a.hasPort()||this.getPort()==a.getPort())};
e.makeUnique=function(){this.enforceReadOnly();this.setParameterValue("zx",Gb());return this};
e.removeParameter=function(a){this.enforceReadOnly();this.queryData_.remove(a);return this};
e.setReadOnly=function(a){this.isReadOnly_=a;return this};
e.isReadOnly=function(){return this.isReadOnly_};
e.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri");};
e.setIgnoreCase=function(a){this.ignoreCase_=a;this.queryData_&&this.queryData_.setIgnoreCase(a);return this};
e.getIgnoreCase=function(){return this.ignoreCase_};
var wn=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},rn=function(a,b,c){return v(a)?(a=encodeURI(a).replace(b,yn),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},yn=function(a){a=a.charCodeAt(0);
return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},sn=/[#\/\?@]/g,un=/[#\?:]/g,tn=/[#\?]/g,xn=/[#\?@]/g,vn=/#/g,qn=function(a,b,c){this.count_=this.keyMap_=null;
this.encodedQuery_=a||null;this.ignoreCase_=!!c};
e=qn.prototype;e.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_=new dg,this.count_=0,this.encodedQuery_)){var a=this;rg(this.encodedQuery_,function(b,c){a.add(sb(b),c)})}};
e.getCount=function(){this.ensureKeyMapInitialized_();return this.count_};
e.add=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);var c=this.keyMap_.get(a);c||this.keyMap_.set(a,c=[]);c.push(b);this.count_+=1;return this};
e.remove=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);return this.keyMap_.containsKey(a)?(this.invalidateCache_(),this.count_-=this.keyMap_.get(a).length,this.keyMap_.remove(a)):!1};
e.clear=function(){this.invalidateCache_();this.keyMap_=null;this.count_=0};
e.isEmpty=function(){this.ensureKeyMapInitialized_();return 0==this.count_};
e.containsKey=function(a){this.ensureKeyMapInitialized_();a=this.getKeyName_(a);return this.keyMap_.containsKey(a)};
e.containsValue=function(a){var b=this.getValues();return db(b,a)};
e.forEach=function(a,b){this.ensureKeyMapInitialized_();this.keyMap_.forEach(function(c,d){C(c,function(c){a.call(b,c,d,this)},this)},this)};
e.getKeys=function(){this.ensureKeyMapInitialized_();for(var a=this.keyMap_.getValues(),b=this.keyMap_.getKeys(),c=[],d=0;d<b.length;d++)for(var f=a[d],g=0;g<f.length;g++)c.push(b[d]);return c};
e.getValues=function(a){this.ensureKeyMapInitialized_();var b=[];if(v(a))this.containsKey(a)&&(b=fb(b,this.keyMap_.get(this.getKeyName_(a))));else{a=this.keyMap_.getValues();for(var c=0;c<a.length;c++)b=fb(b,a[c])}return b};
e.set=function(a,b){this.ensureKeyMapInitialized_();this.invalidateCache_();a=this.getKeyName_(a);this.containsKey(a)&&(this.count_-=this.keyMap_.get(a).length);this.keyMap_.set(a,[b]);this.count_+=1;return this};
e.get=function(a,b){if(!a)return b;a=this.getValues(a);return 0<a.length?String(a[0]):b};
e.setValues=function(a,b){this.remove(a);0<b.length&&(this.invalidateCache_(),this.keyMap_.set(this.getKeyName_(a),gb(b)),this.count_+=b.length)};
e.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";for(var a=[],b=this.keyMap_.getKeys(),c=0;c<b.length;c++){var d=b[c],f=encodeURIComponent(String(d));d=this.getValues(d);for(var g=0;g<d.length;g++){var h=f;""!==d[g]&&(h+="="+encodeURIComponent(String(d[g])));a.push(h)}}return this.encodedQuery_=a.join("&")};
e.toDecodedString=function(){return wn(this.toString())};
e.invalidateCache_=function(){this.encodedQuery_=null};
e.filterKeys=function(a){this.ensureKeyMapInitialized_();this.keyMap_.forEach(function(b,c){db(a,c)||this.remove(c)},this);
return this};
e.clone=function(){var a=new qn;a.encodedQuery_=this.encodedQuery_;this.keyMap_&&(a.keyMap_=this.keyMap_.clone(),a.count_=this.count_);return a};
e.getKeyName_=function(a){a=String(a);this.ignoreCase_&&(a=a.toLowerCase());return a};
e.setIgnoreCase=function(a){a&&!this.ignoreCase_&&(this.ensureKeyMapInitialized_(),this.invalidateCache_(),this.keyMap_.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),this.setValues(b,a))},this));
this.ignoreCase_=a};
e.extend=function(a){for(var b=0;b<arguments.length;b++)nn(arguments[b],function(a,b){this.add(b,a)},this)};var zn=function(a){bn.call(this);this.headers=new dg;this.xmlHttpFactory_=a||null;this.active_=!1;this.xhrOptions_=this.xhr_=null;this.lastMethod_=this.lastUri_="";this.lastErrorCode_=0;this.lastError_="";this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=!1;this.timeoutInterval_=0;this.timeoutId_=null;this.responseType_="";this.useXhr2Timeout_=this.progressEventsEnabled_=this.withCredentials_=!1};
B(zn,bn);zn.prototype.logger_=null;var An=/^https?$/i,Bn=["POST","PUT"],Cn=[],Dn=function(a,b,c,d,f,g,h){var k=new zn;Cn.push(k);b&&k.listen("complete",b);k.listenOnce("ready",k.cleanupSend_);g&&k.setTimeoutInterval(g);h&&k.setWithCredentials(h);k.send(a,c,d,f);return k};
e=zn.prototype;e.cleanupSend_=function(){this.dispose();eb(Cn,this)};
e.getTimeoutInterval=function(){return this.timeoutInterval_};
e.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};
e.setResponseType=function(a){this.responseType_=a};
e.getResponseType=function(){return this.responseType_};
e.setWithCredentials=function(a){this.withCredentials_=a};
e.getWithCredentials=function(){return this.withCredentials_};
e.setProgressEventsEnabled=function(a){this.progressEventsEnabled_=a};
e.getProgressEventsEnabled=function(){return this.progressEventsEnabled_};
e.send=function(a,b,c,d){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a);b=b?b.toUpperCase():"GET";this.lastUri_=a;this.lastError_="";this.lastErrorCode_=0;this.lastMethod_=b;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():hn.getOptions();this.xhr_.onreadystatechange=z(this.onReadyStateChange_,this);this.getProgressEventsEnabled()&&"onprogress"in
this.xhr_&&(this.xhr_.onprogress=z(function(a){this.onProgressHandler_(a,!0)},this),this.xhr_.upload&&(this.xhr_.upload.onprogress=z(this.onProgressHandler_,this)));
try{this.inOpen_=!0,this.xhr_.open(b,String(a),!0),this.inOpen_=!1}catch(g){this.error_(5,g);return}a=c||"";var f=this.headers.clone();d&&nn(d,function(a,b){f.set(b,a)});
d=cb(f.getKeys(),En);c=r.FormData&&a instanceof r.FormData;!db(Bn,b)||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");f.forEach(function(a,b){this.xhr_.setRequestHeader(b,a)},this);
this.responseType_&&(this.xhr_.responseType=this.responseType_);"withCredentials"in this.xhr_&&this.xhr_.withCredentials!==this.withCredentials_&&(this.xhr_.withCredentials=this.withCredentials_);try{this.cleanUpTimeoutTimer_(),0<this.timeoutInterval_&&((this.useXhr2Timeout_=Fn(this.xhr_))?(this.xhr_.timeout=this.timeoutInterval_,this.xhr_.ontimeout=z(this.timeout_,this)):this.timeoutId_=dn(this.timeout_,this.timeoutInterval_,this)),this.inSend_=!0,this.xhr_.send(a),this.inSend_=!1}catch(g){this.error_(5,
g)}};
var Fn=function(a){return F&&nc(9)&&Aa(a.timeout)&&u(a.ontimeout)},En=function(a){return"content-type"==a.toLowerCase()};
e=zn.prototype;e.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():hn.createInstance()};
e.timeout_=function(){"undefined"!=typeof xa&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",this.lastErrorCode_=8,this.dispatchEvent("timeout"),this.abort(8))};
e.error_=function(a,b){this.active_=!1;this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1);this.lastError_=b;this.lastErrorCode_=a;this.dispatchErrors_();this.cleanUpXhr_()};
e.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))};
e.abort=function(a){this.xhr_&&this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.cleanUpXhr_())};
e.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0));zn.superClass_.disposeInternal.call(this)};
e.onReadyStateChange_=function(){if(!this.isDisposed())if(this.inOpen_||this.inSend_||this.inAbort_)this.onReadyStateChangeHelper_();else this.onReadyStateChangeEntryPoint_()};
e.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};
e.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof xa&&(!this.xhrOptions_[1]||4!=this.getReadyState()||2!=this.getStatus()))if(this.inSend_&&4==this.getReadyState())dn(this.onReadyStateChange_,0,this);else if(this.dispatchEvent("readystatechange"),this.isComplete()){this.active_=!1;try{this.isSuccess()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.lastErrorCode_=6,this.lastError_=this.getStatusText()+" ["+this.getStatus()+"]",this.dispatchErrors_())}finally{this.cleanUpXhr_()}}};
e.onProgressHandler_=function(a,b){this.dispatchEvent(Gn(a,"progress"));this.dispatchEvent(Gn(a,b?"downloadprogress":"uploadprogress"))};
var Gn=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}};
e=zn.prototype;e.cleanUpXhr_=function(a){if(this.xhr_){this.cleanUpTimeoutTimer_();var b=this.xhr_,c=this.xhrOptions_[0]?Fa:null;this.xhrOptions_=this.xhr_=null;a||this.dispatchEvent("ready");try{b.onreadystatechange=c}catch(d){}}};
e.cleanUpTimeoutTimer_=function(){this.xhr_&&this.useXhr2Timeout_&&(this.xhr_.ontimeout=null);this.timeoutId_&&(r.clearTimeout(this.timeoutId_),this.timeoutId_=null)};
e.isActive=function(){return!!this.xhr_};
e.isComplete=function(){return 4==this.getReadyState()};
e.isSuccess=function(){var a=this.getStatus();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break a;default:b=!1}return b||0===a&&!this.isLastUriEffectiveSchemeHttp_()};
e.isLastUriEffectiveSchemeHttp_=function(){var a=jg(String(this.lastUri_))[1]||null;!a&&r.self&&r.self.location&&(a=r.self.location.protocol,a=a.substr(0,a.length-1));return An.test(a?a.toLowerCase():"")};
e.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};
e.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_.status:-1}catch(a){return-1}};
e.getStatusText=function(){try{return 2<this.getReadyState()?this.xhr_.statusText:""}catch(a){return""}};
e.getLastUri=function(){return String(this.lastUri_)};
e.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:""}catch(a){return""}};
e.getResponseBody=function(){try{if(this.xhr_&&"responseBody"in this.xhr_)return this.xhr_.responseBody}catch(a){}return null};
e.getResponseXml=function(){try{return this.xhr_?this.xhr_.responseXML:null}catch(a){return null}};
e.getResponseJson=function(a){if(this.xhr_){var b=this.xhr_.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));a:{a=b;if(r.JSON)try{var c=r.JSON.parse(a);break a}catch(d){}c=zi(a)}return c}};
e.getResponse=function(){try{if(!this.xhr_)return null;if("response"in this.xhr_)return this.xhr_.response;switch(this.responseType_){case "":case "text":return this.xhr_.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in this.xhr_)return this.xhr_.mozResponseArrayBuffer}return null}catch(a){return null}};
e.getResponseHeader=function(a){if(this.xhr_&&this.isComplete())return a=this.xhr_.getResponseHeader(a),null===a?void 0:a};
e.getAllResponseHeaders=function(){return this.xhr_&&this.isComplete()?this.xhr_.getAllResponseHeaders()||"":""};
e.getResponseHeaders=function(){for(var a={},b=this.getAllResponseHeaders().split("\r\n"),c=0;c<b.length;c++)if(!qb(b[c])){var d=Lb(b[c],":",1),f=d[0];d=d[1];if(v(d)){d=d.trim();var g=a[f]||[];a[f]=g;g.push(d)}}return E.map(a,function(a){return a.join(", ")})};
e.getStreamingResponseHeader=function(a){return this.xhr_?this.xhr_.getResponseHeader(a):null};
e.getAllStreamingResponseHeaders=function(){return this.xhr_?this.xhr_.getAllResponseHeaders():""};
e.getLastErrorCode=function(){return this.lastErrorCode_};
e.getLastError=function(){return v(this.lastError_)?this.lastError_:String(this.lastError_)};
e.formatMsg_=function(a){return a+" ["+this.lastMethod_+" "+this.lastUri_+" "+this.getStatus()+"]"};var Hn=function(a){this.nextPtr_=0;this.maxSize_=a||100;this.buff_=[]};
e=Hn.prototype;e.add=function(a){var b=this.buff_[this.nextPtr_];this.buff_[this.nextPtr_]=a;this.nextPtr_=(this.nextPtr_+1)%this.maxSize_;return b};
e.get=function(a){a=this.normalizeIndex_(a);return this.buff_[a]};
e.set=function(a,b){a=this.normalizeIndex_(a);this.buff_[a]=b};
e.getCount=function(){return this.buff_.length};
e.isEmpty=function(){return 0==this.buff_.length};
e.clear=function(){this.nextPtr_=this.buff_.length=0};
e.getValues=function(){return this.getNewestValues(this.getCount())};
e.getNewestValues=function(a){var b=this.getCount(),c=[];for(a=this.getCount()-a;a<b;a++)c.push(this.get(a));return c};
e.getKeys=function(){for(var a=[],b=this.getCount(),c=0;c<b;c++)a[c]=c;return a};
e.containsKey=function(a){return a<this.getCount()};
e.containsValue=function(a){for(var b=this.getCount(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};
e.getLast=function(){return 0==this.getCount()?null:this.get(this.getCount()-1)};
e.normalizeIndex_=function(a){if(a>=this.buff_.length)throw Error("Out of bounds exception");return this.buff_.length<this.maxSize_?a:(this.nextPtr_+Number(a))%this.maxSize_};new bn;var In=function(a,b){this.bcError_=a;this.lastHttpStatusCode_=b};
In.prototype.getBrowserChannelErrorCode=function(){return this.bcError_};
In.prototype.getLastHttpStatusCode=function(){return this.lastHttpStatusCode_};var Jn=function(a,b,c){this.messageType_=a;this.name_=b.name||null;this.fullName_=b.fullName||null;this.containingType_=b.containingType;this.fields_={};for(a=0;a<c.length;a++)b=c[a],this.fields_[b.getTag()]=b};
e=Jn.prototype;e.getName=function(){return this.name_};
e.getFullName=function(){return this.fullName_};
e.getContainingType=function(){return this.containingType_?this.containingType_.getDescriptor():null};
e.getFields=function(){var a=E.getValues(this.fields_);lb(a,function(a,c){return a.getTag()-c.getTag()});
return a};
e.getFieldsMap=function(){return this.fields_};
e.findFieldByName=function(a){return E.findValue(this.fields_,function(b){return b.getName()==a})||null};
e.findFieldByTag=function(a){return this.fields_[parseInt(a,10)]||null};
e.createMessageInstance=function(){return new this.messageType_};var Kn=function(a,b,c){this.parent_=a;this.tag_=b;this.name_=c.name;this.isPacked_=!!c.packed;this.isRepeated_=!!c.repeated;this.isRequired_=!!c.required;this.fieldType_=c.fieldType;this.nativeType_=c.type;this.deserializationConversionPermitted_=!1;switch(this.fieldType_){case 3:case 4:case 6:case 16:case 18:case 2:case 1:this.deserializationConversionPermitted_=!0}this.defaultValue_=c.defaultValue};
e=Kn.prototype;e.getTag=function(){return this.tag_};
e.getContainingType=function(){return this.parent_.prototype.getDescriptor()};
e.getName=function(){return this.name_};
e.getDefaultValue=function(){if(void 0===this.defaultValue_){var a=this.nativeType_;if(a===Boolean)this.defaultValue_=!1;else if(a===Number)this.defaultValue_=0;else if(a===String)this.defaultValue_=this.deserializationConversionPermitted_?"0":"";else return new a}return this.defaultValue_};
e.getFieldType=function(){return this.fieldType_};
e.getNativeType=function(){return this.nativeType_};
e.deserializationConversionPermitted=function(){return this.deserializationConversionPermitted_};
e.getFieldMessageType=function(){return this.nativeType_.prototype.getDescriptor()};
e.isCompositeType=function(){return 11==this.fieldType_||10==this.fieldType_};
e.isPacked=function(){return this.isPacked_};
e.isRepeated=function(){return this.isRepeated_};
e.isRequired=function(){return this.isRequired_};
e.isOptional=function(){return!this.isRepeated_&&!this.isRequired_};var V=function(){this.values_={};this.fields_=this.getDescriptor().getFieldsMap();this.deserializedFields_=this.lazyDeserializer_=null};
e=V.prototype;e.initializeForLazyDeserializer=function(a,b){this.lazyDeserializer_=a;this.values_=b;this.deserializedFields_={}};
e.setUnknown=function(a,b){this.values_[a]=b;this.deserializedFields_&&delete this.deserializedFields_[a]};
e.forEachUnknown=function(a,b){b=b||this;for(var c in this.values_){var d=Number(c);this.fields_[d]||a.call(b,d,this.values_[c])}};
e.has=function(a){return this.has$Value(a.getTag())};
e.arrayOf=function(a){return this.array$Values(a.getTag())};
e.countOf=function(a){return this.count$Values(a.getTag())};
e.get=function(a,b){return this.get$Value(a.getTag(),b)};
e.getOrDefault=function(a,b){return this.get$ValueOrDefault(a.getTag(),b)};
e.set=function(a,b){this.set$Value(a.getTag(),b)};
e.add=function(a,b){this.add$Value(a.getTag(),b)};
e.clear=function(a){this.clear$Field(a.getTag())};
e.equals=function(a){if(!a||this.constructor!=a.constructor)return!1;for(var b=this.getDescriptor().getFields(),c=0;c<b.length;c++){var d=b[c],f=d.getTag();if(this.has$Value(f)!=a.has$Value(f))return!1;if(this.has$Value(f)){var g=d.isCompositeType(),h=this.getValueForTag_(f);f=a.getValueForTag_(f);if(d.isRepeated()){if(h.length!=f.length)return!1;for(d=0;d<h.length;d++){var k=h[d],l=f[d];if(g?!k.equals(l):k!=l)return!1}}else if(g?!h.equals(f):h!=f)return!1}}return!0};
e.copyFrom=function(a){this!=a&&(this.values_={},this.deserializedFields_&&(this.deserializedFields_={}),this.mergeFrom(a))};
e.mergeFrom=function(a){for(var b=this.getDescriptor().getFields(),c=0;c<b.length;c++){var d=b[c],f=d.getTag();if(a.has$Value(f)){this.deserializedFields_&&delete this.deserializedFields_[d.getTag()];var g=d.isCompositeType();if(d.isRepeated()){d=a.array$Values(f);for(var h=0;h<d.length;h++)this.add$Value(f,g?d[h].clone():d[h])}else d=a.getValueForTag_(f),g?(g=this.getValueForTag_(f))?g.mergeFrom(d):this.set$Value(f,d.clone()):this.set$Value(f,d)}}};
e.clone=function(){var a=new this.constructor;a.copyFrom(this);return a};
e.initDefaults=function(a){for(var b=this.getDescriptor().getFields(),c=0;c<b.length;c++){var d=b[c],f=d.getTag(),g=d.isCompositeType();this.has$Value(f)||d.isRepeated()||(g?this.values_[f]=new (d.getNativeType()):a&&(this.values_[f]=d.getDefaultValue()));if(g)if(d.isRepeated())for(d=this.array$Values(f),f=0;f<d.length;f++)d[f].initDefaults(a);else this.get$Value(f).initDefaults(a)}};
e.has$Value=function(a){return null!=this.values_[a]};
e.getValueForTag_=function(a){var b=this.values_[a];return null==b?null:this.lazyDeserializer_?a in this.deserializedFields_?this.deserializedFields_[a]:(b=this.lazyDeserializer_.deserializeField(this,this.fields_[a],b),this.deserializedFields_[a]=b):b};
e.get$Value=function(a,b){var c=this.getValueForTag_(a);return this.fields_[a].isRepeated()?c[b||0]:c};
e.get$ValueOrDefault=function(a,b){return this.has$Value(a)?this.get$Value(a,b):this.fields_[a].getDefaultValue()};
e.array$Values=function(a){return this.getValueForTag_(a)||[]};
e.count$Values=function(a){return this.fields_[a].isRepeated()?this.has$Value(a)?this.values_[a].length:0:this.has$Value(a)?1:0};
e.set$Value=function(a,b){this.values_[a]=b;this.deserializedFields_&&(this.deserializedFields_[a]=b)};
e.add$Value=function(a,b){this.values_[a]||(this.values_[a]=[]);this.values_[a].push(b);this.deserializedFields_&&delete this.deserializedFields_[a]};
e.checkFieldType_=function(){};
e.clear$Field=function(a){delete this.values_[a];this.deserializedFields_&&delete this.deserializedFields_[a]};
var W=function(a,b){var c=[],d=b[0],f;for(f in b)0!=f&&c.push(new Kn(a,f,b[f]));return new Jn(a,d,c)};var Ln=function(){V.call(this)};
B(Ln,V);var Mn=null;e=Ln.prototype;e.getAuthuser=function(){return this.get$Value(1)};
e.getAuthuserOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setAuthuser=function(a){this.set$Value(1,a)};
e.hasAuthuser=function(){return this.has$Value(1)};
e.authuserCount=function(){return this.count$Values(1)};
e.clearAuthuser=function(){this.clear$Field(1)};
e.getClientType=function(){return this.get$Value(2)};
e.getClientTypeOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setClientType=function(a){this.set$Value(2,a)};
e.hasClientType=function(){return this.has$Value(2)};
e.clientTypeCount=function(){return this.count$Values(2)};
e.clearClientType=function(){this.clear$Field(2)};
e.getInitDelayMs=function(){return this.get$Value(3)};
e.getInitDelayMsOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setInitDelayMs=function(a){this.set$Value(3,a)};
e.hasInitDelayMs=function(){return this.has$Value(3)};
e.initDelayMsCount=function(){return this.count$Values(3)};
e.clearInitDelayMs=function(){this.clear$Field(3)};
e.getServiceOverride=function(){return this.get$Value(4)};
e.getServiceOverrideOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setServiceOverride=function(a){this.set$Value(4,a)};
e.hasServiceOverride=function(){return this.has$Value(4)};
e.serviceOverrideCount=function(){return this.count$Values(4)};
e.clearServiceOverride=function(){this.clear$Field(4)};
e.getGapiSrc=function(){return this.get$Value(5)};
e.getGapiSrcOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setGapiSrc=function(a){this.set$Value(5,a)};
e.hasGapiSrc=function(){return this.has$Value(5)};
e.gapiSrcCount=function(){return this.count$Values(5)};
e.clearGapiSrc=function(){this.clear$Field(5)};
e.getPropertyId=function(){return this.get$Value(6)};
e.getPropertyIdOrDefault=function(){return this.get$ValueOrDefault(6)};
e.setPropertyId=function(a){this.set$Value(6,a)};
e.hasPropertyId=function(){return this.has$Value(6)};
e.propertyIdCount=function(){return this.count$Values(6)};
e.clearPropertyId=function(){this.clear$Field(6)};
e.getApplicationVersion=function(){return this.get$Value(7)};
e.getApplicationVersionOrDefault=function(){return this.get$ValueOrDefault(7)};
e.setApplicationVersion=function(a){this.set$Value(7,a)};
e.hasApplicationVersion=function(){return this.has$Value(7)};
e.applicationVersionCount=function(){return this.count$Values(7)};
e.clearApplicationVersion=function(){this.clear$Field(7)};
e.getRetryOnAuthError=function(){return this.get$Value(8)};
e.getRetryOnAuthErrorOrDefault=function(){return this.get$ValueOrDefault(8)};
e.setRetryOnAuthError=function(a){this.set$Value(8,a)};
e.hasRetryOnAuthError=function(){return this.has$Value(8)};
e.retryOnAuthErrorCount=function(){return this.count$Values(8)};
e.clearRetryOnAuthError=function(){this.clear$Field(8)};
e.getGsidServletPath=function(){return this.get$Value(9)};
e.getGsidServletPathOrDefault=function(){return this.get$ValueOrDefault(9)};
e.setGsidServletPath=function(a){this.set$Value(9,a)};
e.hasGsidServletPath=function(){return this.has$Value(9)};
e.gsidServletPathCount=function(){return this.count$Values(9)};
e.clearGsidServletPath=function(){this.clear$Field(9)};
e.getPageId=function(){return this.get$Value(10)};
e.getPageIdOrDefault=function(){return this.get$ValueOrDefault(10)};
e.setPageId=function(a){this.set$Value(10,a)};
e.hasPageId=function(){return this.has$Value(10)};
e.pageIdCount=function(){return this.count$Values(10)};
e.clearPageId=function(){this.clear$Field(10)};
e.getInitialRetryDelayMs=function(){return this.get$Value(11)};
e.getInitialRetryDelayMsOrDefault=function(){return this.get$ValueOrDefault(11)};
e.setInitialRetryDelayMs=function(a){this.set$Value(11,a)};
e.hasInitialRetryDelayMs=function(){return this.has$Value(11)};
e.initialRetryDelayMsCount=function(){return this.count$Values(11)};
e.clearInitialRetryDelayMs=function(){this.clear$Field(11)};
e.getMaxBackoffFactor=function(){return this.get$Value(12)};
e.getMaxBackoffFactorOrDefault=function(){return this.get$ValueOrDefault(12)};
e.setMaxBackoffFactor=function(a){this.set$Value(12,a)};
e.hasMaxBackoffFactor=function(){return this.has$Value(12)};
e.maxBackoffFactorCount=function(){return this.count$Values(12)};
e.clearMaxBackoffFactor=function(){this.clear$Field(12)};
e.getUseSharedChannel=function(){return this.get$Value(13)};
e.getUseSharedChannelOrDefault=function(){return this.get$ValueOrDefault(13)};
e.setUseSharedChannel=function(a){this.set$Value(13,a)};
e.hasUseSharedChannel=function(){return this.has$Value(13)};
e.useSharedChannelCount=function(){return this.count$Values(13)};
e.clearUseSharedChannel=function(){this.clear$Field(13)};
e.getStableConnectionThresholdMs=function(){return this.get$Value(14)};
e.getStableConnectionThresholdMsOrDefault=function(){return this.get$ValueOrDefault(14)};
e.setStableConnectionThresholdMs=function(a){this.set$Value(14,a)};
e.hasStableConnectionThresholdMs=function(){return this.has$Value(14)};
e.stableConnectionThresholdMsCount=function(){return this.count$Values(14)};
e.clearStableConnectionThresholdMs=function(){this.clear$Field(14)};
var Nn=function(){V.call(this)};
B(Nn,V);var On=null;e=Nn.prototype;e.getOrigin=function(){return this.get$Value(1)};
e.getOriginOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setOrigin=function(a){this.set$Value(1,a)};
e.hasOrigin=function(){return this.has$Value(1)};
e.originCount=function(){return this.count$Values(1)};
e.clearOrigin=function(){this.clear$Field(1)};
e.getScheme=function(){return this.get$Value(2)};
e.getSchemeOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setScheme=function(a){this.set$Value(2,a)};
e.hasScheme=function(){return this.has$Value(2)};
e.schemeCount=function(){return this.count$Values(2)};
e.clearScheme=function(){this.clear$Field(2)};
e.getToken=function(){return this.get$Value(3)};
e.getTokenOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setToken=function(a){this.set$Value(3,a)};
e.hasToken=function(){return this.has$Value(3)};
e.tokenCount=function(){return this.count$Values(3)};
e.clearToken=function(){this.clear$Field(3)};
e.getAuthuser=function(){return this.get$Value(4)};
e.getAuthuserOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setAuthuser=function(a){this.set$Value(4,a)};
e.hasAuthuser=function(){return this.has$Value(4)};
e.authuserCount=function(){return this.count$Values(4)};
e.clearAuthuser=function(){this.clear$Field(4)};
Ln.prototype.getDescriptor=function(){var a=Mn;a||(Mn=a=W(Ln,{0:{name:"BrowserChannelConfig",fullName:"buzz.channel.proto.BrowserChannelConfig"},1:{name:"authuser",fieldType:4,type:Number},2:{name:"client_type",fieldType:9,type:String},3:{name:"init_delay_ms",fieldType:5,type:Number},4:{name:"service_override",fieldType:9,type:String},5:{name:"gapi_src",fieldType:9,type:String},6:{name:"property_id",fieldType:9,type:String},7:{name:"application_version",fieldType:9,type:String},8:{name:"retry_on_auth_error",
fieldType:8,type:Boolean},9:{name:"gsid_servlet_path",fieldType:9,type:String},10:{name:"page_id",fieldType:9,type:String},11:{name:"initial_retry_delay_ms",fieldType:5,defaultValue:1E4,type:Number},12:{name:"max_backoff_factor",fieldType:5,defaultValue:180,type:Number},13:{name:"use_shared_channel",fieldType:8,type:Boolean},14:{name:"stable_connection_threshold_ms",fieldType:5,defaultValue:3E5,type:Number}}));return a};
Ln.getDescriptor=Ln.prototype.getDescriptor;Nn.prototype.getDescriptor=function(){var a=On;a||(On=a=W(Nn,{0:{name:"AuthenticationParameters",fullName:"buzz.channel.proto.AuthenticationParameters"},1:{name:"origin",fieldType:9,type:String},2:{name:"scheme",fieldType:5,type:Number},3:{name:"token",fieldType:9,type:String},4:{name:"authuser",fieldType:13,type:Number}}));return a};
Nn.getDescriptor=Nn.prototype.getDescriptor;var Pn={APISIDHASH:1,SAPISIDHASH:2,OAuth:3};var Qn=function(a){this.map_=new dg;a&&this.addAll(a)},Rn=function(a){var b=typeof a;
return"object"==b&&a||"function"==b?"o"+Na(a):b.substr(0,1)+a};
e=Qn.prototype;e.getCount=function(){return this.map_.getCount()};
e.add=function(a){this.map_.set(Rn(a),a)};
e.addAll=function(a){a=ln(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};
e.removeAll=function(a){a=ln(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};
e.remove=function(a){return this.map_.remove(Rn(a))};
e.clear=function(){this.map_.clear()};
e.isEmpty=function(){return this.map_.isEmpty()};
e.contains=function(a){return this.map_.containsKey(Rn(a))};
e.containsAll=function(a){return on(a,this.contains,this)};
e.intersection=function(a){var b=new Qn;a=ln(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};
e.difference=function(a){var b=this.clone();b.removeAll(a);return b};
e.getValues=function(){return this.map_.getValues()};
e.clone=function(){return new Qn(this)};
e.equals=function(a){return this.getCount()==kn(a)&&this.isSubsetOf(a)};
e.isSubsetOf=function(a){var b=kn(a);if(this.getCount()>b)return!1;!(a instanceof Qn)&&5<b&&(a=new Qn(a));return on(this,function(b){var c=a;return c.contains&&"function"==typeof c.contains?c.contains(b):c.containsValue&&"function"==typeof c.containsValue?c.containsValue(b):Ia(c)||v(c)?db(c,b):E.containsValue(c,b)})};
e.__iterator__=function(){return this.map_.__iterator__(!1)};new Qn([1,2,3]);var Sn=new Qn([1,2]);var Tn=function(a,b,c){this.initialMaxDelay_=b;this.maxExponentialFactor_=c;this.random_=a;this.reset()};
Tn.prototype.reset=function(){this.currentMaxDelay_=this.initialMaxDelay_;this.inRetryMode_=!1};
Tn.prototype.getNextDelay=function(){var a=0;if(this.inRetryMode_){a=Math.ceil(this.random_()*this.currentMaxDelay_);var b=this.initialMaxDelay_*this.maxExponentialFactor_;this.currentMaxDelay_<=b&&(this.currentMaxDelay_*=2,this.currentMaxDelay_>b&&(this.currentMaxDelay_=b))}this.inRetryMode_=!0;return a};var Vn=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,l,m,q,t){if("%"==m)return"%";var f=c.shift();if("undefined"==typeof f)throw Error("[goog.string.format] Not enough arguments");arguments[0]=f;return Un[m].apply(null,arguments)})},Un={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?
a+Eb(" ",Number(c)-a.length):Eb(" ",Number(c)-a.length)+a},
f:function(a,b,c,d,f){d=a.toString();isNaN(f)||""==f||(d=parseFloat(a).toFixed(f));var g=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=g+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(f)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(f);a=Number(c)-d.length-g.length;0<=b.indexOf("-",0)?d=g+d+Eb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=g+Eb(b,a)+d);return d},
d:function(a,b,c,d,f,g,h,k){return Un.f(parseInt(a,10),b,c,d,0,g,h,k)}};
Un.i=Un.d;Un.u=Un.d;var Wn=function(){this.logger_=null};
e=Wn.prototype;e.severe=function(a,b){xa.log&&xa.log.ENABLED&&this.logInternalLevel_(Va.Logger.Level.SEVERE,arguments)};
e.warning=function(a,b){xa.log&&xa.log.ENABLED&&this.logInternalLevel_(Va.Logger.Level.WARNING,arguments)};
e.info=function(a,b){xa.log&&xa.log.ENABLED&&this.logInternalLevel_(Va.Logger.Level.INFO,arguments)};
e.fine=function(a,b){xa.log&&xa.log.ENABLED&&this.logInternalLevel_(Va.Logger.Level.FINE,arguments)};
e.isLoggable=function(a){return null!=this.logger_&&xa.log.ENABLED&&this.logger_.isLoggable(a)};
e.setLevel=function(){};
e.logInternalLevel_=function(a,b){this.logger_&&this.logger_.isLoggable(a)&&Vn.apply(null,b)};var Xn=function(){};
Xn.prototype.getSerializedValue=function(a,b){return a.isCompositeType()?this.serialize(b):Aa(b)&&!isFinite(b)?b.toString():b};
Xn.prototype.deserialize=function(a,b){a=a.createMessageInstance();this.deserializeTo(a,b);return a};
Xn.prototype.getDeserializedValue=function(a,b){if(a.isCompositeType())return b instanceof V?b:this.deserialize(a.getFieldMessageType(),b);if(14==a.getFieldType())return v(b)&&Yn.test(b)&&(a=Number(b),0<a)?a:b;if(!a.deserializationConversionPermitted())return b;a=a.getNativeType();if(a===String){if(Aa(b))return String(b)}else if(a===Number&&v(b)&&("Infinity"===b||"-Infinity"===b||"NaN"===b||Yn.test(b)))return Number(b);return b};
var Yn=/^-?[0-9]+$/;var Zn=function(a,b){this.keyOption_=a;this.serializeBooleanAsNumber_=b};
B(Zn,Xn);Zn.prototype.serialize=function(a){for(var b=a.getDescriptor().getFields(),c={},d=0;d<b.length;d++){var f=b[d],g=f.getTag();switch(this.keyOption_){case 1:g=f.getName();break;case 2:g=Jb(f.getName().replace(/_/g,"-"))}if(a.has(f))if(f.isRepeated()){var h=[];c[g]=h;for(g=0;g<a.countOf(f);g++)h.push(this.getSerializedValue(f,a.get(f,g)))}else c[g]=this.getSerializedValue(f,a.get(f))}a.forEachUnknown(function(a,b){c[a]=b});
return c};
Zn.prototype.getSerializedValue=function(a,b){return this.serializeBooleanAsNumber_&&8==a.getFieldType()&&ya(b)?b?1:0:Zn.superClass_.getSerializedValue.call(this,a,b)};
Zn.prototype.getDeserializedValue=function(a,b){return 8==a.getFieldType()&&Aa(b)?!!b:Zn.superClass_.getDeserializedValue.call(this,a,b)};
Zn.prototype.deserializeTo=function(a,b){var c=a.getDescriptor(),d;for(d in b){var f=b[d],g=!/[^0-9]/.test(d);if(g)var h=c.findFieldByTag(d);else 2==this.keyOption_&&(d=String(d).replace(/([A-Z])/g,"-$1").toLowerCase().replace(/\-/g,"_")),h=c.findFieldByName(d);if(h)if(h.isRepeated())for(g=0;g<f.length;g++)a.add(h,this.getDeserializedValue(h,f[g]));else a.set(h,this.getDeserializedValue(h,f));else g&&a.setUnknown(Number(d),f)}};var $n=function(a,b){this.ignoreMissingFields_=!!a;this.useEnumValues_=!!b};
B($n,Xn);e=$n.prototype;e.deserializeTo=function(a,b){var c=new ao;return c.parse(a,b.toString(),this.ignoreMissingFields_)?null:c.getError()};
e.serialize=function(a){var b=new bo;this.serializeMessage_(a,b);return b.toString()};
e.serializeMessage_=function(a,b){var c=a.getDescriptor().getFields();C(c,function(c){this.printField_(a,c,b)},this);
a.forEachUnknown(function(a,c){this.serializeUnknown_(a,c,b)},this)};
e.serializeUnknown_=function(a,b,c){if(null!=b)if(y(b))C(b,function(b){this.serializeUnknown_(a,b,c)},this);
else{if(Ka(b)){c.append(a);c.append(" {");c.appendLine();c.indent();if(b instanceof V)this.serializeMessage_(b,c);else for(var d in b)this.serializeUnknown_(Kb(d),b[d],c);c.dedent();c.append("}")}else v(b)&&(b=Db(b)),c.append(a),c.append(": "),c.append(b.toString());c.appendLine()}};
e.printFieldValue_=function(a,b,c){switch(b.getFieldType()){case 1:case 2:case 3:case 4:case 5:case 13:case 6:case 7:case 8:case 15:case 16:case 17:case 18:c.append(a);break;case 12:case 9:a=Db(a.toString());c.append(a);break;case 14:if(!this.useEnumValues_){var d=!1;E.forEach(b.getNativeType(),function(b,g){d||b!=a||(c.append(g),d=!0)})}d&&!this.useEnumValues_||c.append(a.toString());
break;case 10:case 11:this.serializeMessage_(a,c)}};
e.printField_=function(a,b,c){if(a.has(b))for(var d=a.countOf(b),f=0;f<d;++f){c.append(b.getName());11==b.getFieldType()||10==b.getFieldType()?(c.append(" {"),c.appendLine(),c.indent()):c.append(": ");this.printFieldValue_(a.get(b,f),b,c);if(11==b.getFieldType()||10==b.getFieldType())c.dedent(),c.append("}");c.appendLine()}};
var bo=function(){this.indentation_=0;this.buffer_=[];this.requiresIndentation_=!0};
e=bo.prototype;e.toString=function(){return this.buffer_.join("")};
e.indent=function(){this.indentation_+=2};
e.dedent=function(){this.indentation_-=2};
e.append=function(a){if(this.requiresIndentation_){for(var b=0;b<this.indentation_;++b)this.buffer_.push(" ");this.requiresIndentation_=!1}this.buffer_.push(a.toString())};
e.appendLine=function(){this.buffer_.push("\n");this.requiresIndentation_=!0};
var eo=function(a,b,c){this.ignoreWhitespace_=!!b;this.ignoreComments_=!!c;this.data_=a;this.index_=0;this.currentData_=a;this.current_={type:co,value:null}};
eo.prototype.getCurrent=function(){return this.current_};
var co=/---end---/,fo=/^-?[a-zA-Z][a-zA-Z0-9_]*/,go=/^(0x[0-9a-f]+)|(([-])?[0-9][0-9]*(\.?[0-9]+)?(e[+-]?[0-9]+|[f])?)/,ho=/^#.*/,io=/^"([^"\\]|\\.)*"/,jo=/^\s/,ko={END:co,IDENTIFIER:fo,NUMBER:go,COMMENT:ho,OPEN_BRACE:/^{/,CLOSE_BRACE:/^}/,OPEN_TAG:/^</,CLOSE_TAG:/^>/,OPEN_LIST:/^\[/,CLOSE_LIST:/^\]/,STRING:io,COLON:/^:/,COMMA:/^,/,SEMI:/^;/,WHITESPACE:jo};
eo.prototype.next=function(){for(;this.nextInternal_();){var a=this.getCurrent().type;if(a!=jo&&a!=ho||a==jo&&!this.ignoreWhitespace_||a==ho&&!this.ignoreComments_)return!0}this.current_={type:co,value:null};return!1};
eo.prototype.nextInternal_=function(){if(this.index_>=this.data_.length)return!1;var a=this.currentData_,b=null;E.some(ko,function(c){if(b||c==co)return!1;var d=c.exec(a);d&&0==d.index&&(b={type:c,value:d[0]});return!!b});
b&&(this.current_=b,this.index_+=b.value.length,this.currentData_=this.currentData_.substring(b.value.length));return!!b};
var ao=function(){this.tokenizer_=this.error_=null;this.ignoreMissingFields_=!1};
e=ao.prototype;e.parse=function(a,b,c){this.error_=null;this.ignoreMissingFields_=!!c;this.tokenizer_=new eo(b,!0,!0);this.tokenizer_.next();return this.consumeMessage_(a,"")};
e.getError=function(){return this.error_};
e.reportError_=function(a){this.error_=a};
e.consumeMessage_=function(a,b){for(;!this.lookingAt_(">")&&!this.lookingAt_("}")&&!this.lookingAtType_(co);)if(!this.consumeField_(a))return!1;if(b){if(!this.consume_(b))return!1}else this.lookingAtType_(co)||this.reportError_("Expected END token");return!0};
e.consumeFieldValue_=function(a,b){var c=this.getFieldValue_(b);if(null===c)return!1;b.isRepeated()?a.add(b,c):a.set(b,c);return!0};
var lo=function(a){return-1!=a.indexOf(".")?parseFloat(a):Kb(a)};
e=ao.prototype;
e.getFieldValue_=function(a){switch(a.getFieldType()){case 1:case 2:if(a=this.consumeIdentifier_())if(a=/^-?inf(?:inity)?f?$/i.test(a)?Infinity*(0==a.lastIndexOf("-",0)?-1:1):/^nanf?$/i.test(a)?NaN:null,null!=a)return a;case 5:case 13:case 7:case 15:case 17:var b=this.consumeNumber_();return b?lo(b):null;case 3:case 4:case 6:case 16:case 18:return(b=this.consumeNumber_())?a.getNativeType()==Number?lo(b):b:null;case 8:a=this.consumeIdentifier_();if(!a)return null;switch(a){case "true":return!0;case "false":return!1;
default:return this.reportError_("Unknown type for bool: "+a),null}case 14:if(this.lookingAtType_(go))return(b=this.consumeNumber_())?lo(b):null;b=this.consumeIdentifier_();if(!b)return null;a=a.getNativeType()[b];return null==a?(this.reportError_("Unknown enum value: "+b),null):a;case 12:case 9:return this.consumeString_()}};
e.consumeNestedMessage_=function(a,b){if(this.tryConsume_("<"))var c=">";else{if(!this.consume_("{"))return!1;c="}"}var d=b.getFieldMessageType().createMessageInstance();if(!this.consumeMessage_(d,c))return!1;b.isRepeated()?a.add(b,d):a.set(b,d);return!0};
e.consumeUnknownFieldValue_=function(){this.tryConsume_(":");if(this.tryConsume_("[")){for(;;){this.tokenizer_.next();if(this.tryConsume_("]"))break;if(!this.consume_(","))return!1}return!0}if(this.tryConsume_("<"))return this.consumeMessage_(null,">");if(this.tryConsume_("{"))return this.consumeMessage_(null,"}");this.tokenizer_.next();return!0};
e.consumeField_=function(a){var b=this.consumeIdentifier_();if(!b)return this.reportError_("Missing field name"),!1;var c=null;a&&(c=a.getDescriptor().findFieldByName(b.toString()));if(null==c){if(this.ignoreMissingFields_)return this.consumeUnknownFieldValue_();this.reportError_("Unknown field: "+b);return!1}if(11==c.getFieldType()||10==c.getFieldType()){if(this.tryConsume_(":"),!this.consumeNestedMessage_(a,c))return!1}else{if(!this.consume_(":"))return!1;if(c.isRepeated()&&this.tryConsume_("["))for(;;){if(!this.consumeFieldValue_(a,
c))return!1;if(this.tryConsume_("]"))break;if(!this.consume_(","))return!1}else if(!this.consumeFieldValue_(a,c))return!1}this.tryConsume_(",")||this.tryConsume_(";");return!0};
e.tryConsume_=function(a){return this.lookingAt_(a)?(this.tokenizer_.next(),!0):!1};
e.consumeToken_=function(a){if(!this.lookingAtType_(a))return this.reportError_("Expected token type: "+a),null;a=this.tokenizer_.getCurrent().value;this.tokenizer_.next();return a};
e.consumeIdentifier_=function(){return this.consumeToken_(fo)};
e.consumeNumber_=function(){return this.consumeToken_(go)};
e.consumeString_=function(){var a=this.consumeToken_(io);if(!a)return null;for(var b=JSON.parse(a).toString();this.lookingAtType_(io);)a=this.consumeToken_(io),b+=JSON.parse(a).toString();return b};
e.consume_=function(a){return this.tryConsume_(a)?!0:(this.reportError_('Expected token "'+a+'"'),!1)};
e.lookingAt_=function(a){return this.tokenizer_.getCurrent().value==a};
e.lookingAtType_=function(a){return this.tokenizer_.getCurrent().type==a};var mo=new Zn(0),no=new Zn(2),oo=new $n,po=function(a){a=mo.serialize(a);return Bi(a)},qo=function(a){a=no.serialize(a);
return Bi(a)},ro=JSON.parse,so=function(a,b){try{var c=ro(b)}catch(f){return null}try{var d=no.deserialize(a,c)}catch(f){return null}return null==d?null:d};
V.prototype.toString=function(){return oo.serialize(this)};
var to=function(a){var b=qe(document,a);null==b&&(b=Ae("DIV",{id:a,style:"display:none"}),te(document,"body",void 0,void 0)[0].appendChild(b));return b};var uo=null;function vo(){uo||(uo=wo()?"0":Math.floor(30*Math.random()).toString());return uo}
function wo(){try{if(r.PerformanceNavigationTiming){var a=performance.getEntriesByType("navigation")[0];return"hq"===a.nextHopProtocol||"h2"===a.nextHopProtocol}return!!r.chrome.loadTimes().wasFetchedViaSpdy}catch(b){return!1}}
;var xo=function(){V.call(this)};
B(xo,V);var yo=null;e=xo.prototype;e.getMajorVersion=function(){return this.get$Value(1)};
e.getMajorVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setMajorVersion=function(a){this.set$Value(1,a)};
e.hasMajorVersion=function(){return this.has$Value(1)};
e.majorVersionCount=function(){return this.count$Values(1)};
e.clearMajorVersion=function(){this.clear$Field(1)};
e.getMinorVersion=function(){return this.get$Value(2)};
e.getMinorVersionOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setMinorVersion=function(a){this.set$Value(2,a)};
e.hasMinorVersion=function(){return this.has$Value(2)};
e.minorVersionCount=function(){return this.count$Values(2)};
e.clearMinorVersion=function(){this.clear$Field(2)};
var zo=function(){V.call(this)};
B(zo,V);var Ao=null;e=zo.prototype;e.getVersion=function(){return this.get$Value(1)};
e.getVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setVersion=function(a){this.set$Value(1,a)};
e.hasVersion=function(){return this.has$Value(1)};
e.versionCount=function(){return this.count$Values(1)};
e.clearVersion=function(){this.clear$Field(1)};
var Bo=function(){V.call(this)};
B(Bo,V);var Co=null;e=Bo.prototype;e.getVersion=function(){return this.get$Value(1)};
e.getVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setVersion=function(a){this.set$Value(1,a)};
e.hasVersion=function(){return this.has$Value(1)};
e.versionCount=function(){return this.count$Values(1)};
e.clearVersion=function(){this.clear$Field(1)};
e.getPlatform=function(){return this.get$Value(2)};
e.getPlatformOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setPlatform=function(a){this.set$Value(2,a)};
e.hasPlatform=function(){return this.has$Value(2)};
e.platformCount=function(){return this.count$Values(2)};
e.clearPlatform=function(){this.clear$Field(2)};
e.getLanguage=function(){return this.get$Value(3)};
e.getLanguageOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setLanguage=function(a){this.set$Value(3,a)};
e.hasLanguage=function(){return this.has$Value(3)};
e.languageCount=function(){return this.count$Values(3)};
e.clearLanguage=function(){this.clear$Field(3)};
e.getApplicationInfo=function(){return this.get$Value(4)};
e.getApplicationInfoOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setApplicationInfo=function(a){this.set$Value(4,a)};
e.hasApplicationInfo=function(){return this.has$Value(4)};
e.applicationInfoCount=function(){return this.count$Values(4)};
e.clearApplicationInfo=function(){this.clear$Field(4)};
var Do=function(){V.call(this)};
B(Do,V);var Eo=null;e=Do.prototype;e.getServiceName=function(){return this.get$Value(1)};
e.getServiceNameOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setServiceName=function(a){this.set$Value(1,a)};
e.hasServiceName=function(){return this.has$Value(1)};
e.serviceNameCount=function(){return this.count$Values(1)};
e.clearServiceName=function(){this.clear$Field(1)};
e.getSessionName=function(){return this.get$Value(2)};
e.getSessionNameOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setSessionName=function(a){this.set$Value(2,a)};
e.hasSessionName=function(){return this.has$Value(2)};
e.sessionNameCount=function(){return this.count$Values(2)};
e.clearSessionName=function(){this.clear$Field(2)};
var Fo=function(){V.call(this)};
B(Fo,V);var Go=null;e=Fo.prototype;e.getHeader=function(){return this.get$Value(1)};
e.getHeaderOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setHeader=function(a){this.set$Value(1,a)};
e.hasHeader=function(){return this.has$Value(1)};
e.headerCount=function(){return this.count$Values(1)};
e.clearHeader=function(){this.clear$Field(1)};
e.getInitEndpointMessage=function(){return this.get$Value(2)};
e.getInitEndpointMessageOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setInitEndpointMessage=function(a){this.set$Value(2,a)};
e.hasInitEndpointMessage=function(){return this.has$Value(2)};
e.initEndpointMessageCount=function(){return this.count$Values(2)};
e.clearInitEndpointMessage=function(){this.clear$Field(2)};
e.getInitSessionMessage=function(){return this.get$Value(3)};
e.getInitSessionMessageOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setInitSessionMessage=function(a){this.set$Value(3,a)};
e.hasInitSessionMessage=function(){return this.has$Value(3)};
e.initSessionMessageCount=function(){return this.count$Values(3)};
e.clearInitSessionMessage=function(){this.clear$Field(3)};
e.getClientDataMessageDeprecated=function(){return this.get$Value(4)};
e.getClientDataMessageDeprecatedOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setClientDataMessageDeprecated=function(a){this.set$Value(4,a)};
e.hasClientDataMessageDeprecated=function(){return this.has$Value(4)};
e.clientDataMessageDeprecatedCount=function(){return this.count$Values(4)};
e.clearClientDataMessageDeprecated=function(){this.clear$Field(4)};
e.getSendOnDisconnectMessage=function(){return this.get$Value(5)};
e.getSendOnDisconnectMessageOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setSendOnDisconnectMessage=function(a){this.set$Value(5,a)};
e.hasSendOnDisconnectMessage=function(){return this.has$Value(5)};
e.sendOnDisconnectMessageCount=function(){return this.count$Values(5)};
e.clearSendOnDisconnectMessage=function(){this.clear$Field(5)};
e.getCloseSessionMessage=function(){return this.get$Value(6)};
e.getCloseSessionMessageOrDefault=function(){return this.get$ValueOrDefault(6)};
e.setCloseSessionMessage=function(a){this.set$Value(6,a)};
e.hasCloseSessionMessage=function(){return this.has$Value(6)};
e.closeSessionMessageCount=function(){return this.count$Values(6)};
e.clearCloseSessionMessage=function(){this.clear$Field(6)};
var Ho=function(){V.call(this)};
B(Ho,V);var Io=null;e=Ho.prototype;e.getProtocolVersion=function(){return this.get$Value(1)};
e.getProtocolVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setProtocolVersion=function(a){this.set$Value(1,a)};
e.hasProtocolVersion=function(){return this.has$Value(1)};
e.protocolVersionCount=function(){return this.count$Values(1)};
e.clearProtocolVersion=function(){this.clear$Field(1)};
e.getClientVersion=function(){return this.get$Value(2)};
e.getClientVersionOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setClientVersion=function(a){this.set$Value(2,a)};
e.hasClientVersion=function(){return this.has$Value(2)};
e.clientVersionCount=function(){return this.count$Values(2)};
e.clearClientVersion=function(){this.clear$Field(2)};
e.getClientTimeMs=function(){return this.get$Value(3)};
e.getClientTimeMsOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setClientTimeMs=function(a){this.set$Value(3,a)};
e.hasClientTimeMs=function(){return this.has$Value(3)};
e.clientTimeMsCount=function(){return this.count$Values(3)};
e.clearClientTimeMs=function(){this.clear$Field(3)};
e.getMaxKnownServerTimeMs=function(){return this.get$Value(4)};
e.getMaxKnownServerTimeMsOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setMaxKnownServerTimeMs=function(a){this.set$Value(4,a)};
e.hasMaxKnownServerTimeMs=function(){return this.has$Value(4)};
e.maxKnownServerTimeMsCount=function(){return this.count$Values(4)};
e.clearMaxKnownServerTimeMs=function(){this.clear$Field(4)};
e.getMessageId=function(){return this.get$Value(5)};
e.getMessageIdOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setMessageId=function(a){this.set$Value(5,a)};
e.hasMessageId=function(){return this.has$Value(5)};
e.messageIdCount=function(){return this.count$Values(5)};
e.clearMessageId=function(){this.clear$Field(5)};
var Jo=function(){V.call(this)};
B(Jo,V);var Ko=null,Lo=function(){V.call(this)};
B(Lo,V);var Mo=null;e=Lo.prototype;e.getSessionId=function(){return this.get$Value(1)};
e.getSessionIdOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setSessionId=function(a){this.set$Value(1,a)};
e.hasSessionId=function(){return this.has$Value(1)};
e.sessionIdCount=function(){return this.count$Values(1)};
e.clearSessionId=function(){this.clear$Field(1)};
e.getSubscriberInfo=function(){return this.get$Value(2)};
e.getSubscriberInfoOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setSubscriberInfo=function(a){this.set$Value(2,a)};
e.hasSubscriberInfo=function(){return this.has$Value(2)};
e.subscriberInfoCount=function(){return this.count$Values(2)};
e.clearSubscriberInfo=function(){this.clear$Field(2)};
var No=function(){V.call(this)};
B(No,V);var Oo=null;e=No.prototype;e.getSessionId=function(){return this.get$Value(1)};
e.getSessionIdOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setSessionId=function(a){this.set$Value(1,a)};
e.hasSessionId=function(){return this.has$Value(1)};
e.sessionIdCount=function(){return this.count$Values(1)};
e.clearSessionId=function(){this.clear$Field(1)};
var Po=function(){V.call(this)};
B(Po,V);var Qo=null;e=Po.prototype;e.getSessionId=function(){return this.get$Value(1)};
e.getSessionIdOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setSessionId=function(a){this.set$Value(1,a)};
e.hasSessionId=function(){return this.has$Value(1)};
e.sessionIdCount=function(){return this.count$Values(1)};
e.clearSessionId=function(){this.clear$Field(1)};
e.getMessage=function(){return this.get$Value(2)};
e.getMessageOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setMessage=function(a){this.set$Value(2,a)};
e.hasMessage=function(){return this.has$Value(2)};
e.messageCount=function(){return this.count$Values(2)};
e.clearMessage=function(){this.clear$Field(2)};
var Ro=function(){V.call(this)};
B(Ro,V);var So=null;e=Ro.prototype;e.getSessionId=function(){return this.get$Value(1)};
e.getSessionIdOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setSessionId=function(a){this.set$Value(1,a)};
e.hasSessionId=function(){return this.has$Value(1)};
e.sessionIdCount=function(){return this.count$Values(1)};
e.clearSessionId=function(){this.clear$Field(1)};
e.getAddress=function(){return this.get$Value(2)};
e.getAddressOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setAddress=function(a){this.set$Value(2,a)};
e.hasAddress=function(){return this.has$Value(2)};
e.addressCount=function(){return this.count$Values(2)};
e.clearAddress=function(){this.clear$Field(2)};
e.getIsBroadcastToUser=function(){return this.get$Value(3)};
e.getIsBroadcastToUserOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setIsBroadcastToUser=function(a){this.set$Value(3,a)};
e.hasIsBroadcastToUser=function(){return this.has$Value(3)};
e.isBroadcastToUserCount=function(){return this.count$Values(3)};
e.clearIsBroadcastToUser=function(){this.clear$Field(3)};
e.getStatus=function(){return this.get$Value(4)};
e.getStatusOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setStatus=function(a){this.set$Value(4,a)};
e.hasStatus=function(){return this.has$Value(4)};
e.statusCount=function(){return this.count$Values(4)};
e.clearStatus=function(){this.clear$Field(4)};
e.getSubscriberInfo=function(){return this.get$Value(5)};
e.getSubscriberInfoOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setSubscriberInfo=function(a){this.set$Value(5,a)};
e.hasSubscriberInfo=function(){return this.has$Value(5)};
e.subscriberInfoCount=function(){return this.count$Values(5)};
e.clearSubscriberInfo=function(){this.clear$Field(5)};
var To=function(){V.call(this)};
B(To,V);var Uo=null;e=To.prototype;e.getHeader=function(){return this.get$Value(1)};
e.getHeaderOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setHeader=function(a){this.set$Value(1,a)};
e.hasHeader=function(){return this.has$Value(1)};
e.headerCount=function(){return this.count$Values(1)};
e.clearHeader=function(){this.clear$Field(1)};
e.getServerDataMessage=function(){return this.get$Value(2)};
e.getServerDataMessageOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setServerDataMessage=function(a){this.set$Value(2,a)};
e.hasServerDataMessage=function(){return this.has$Value(2)};
e.serverDataMessageCount=function(){return this.count$Values(2)};
e.clearServerDataMessage=function(){this.clear$Field(2)};
e.getPostmanInvalidation=function(){return this.get$Value(5)};
e.getPostmanInvalidationOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setPostmanInvalidation=function(a){this.set$Value(5,a)};
e.hasPostmanInvalidation=function(){return this.has$Value(5)};
e.postmanInvalidationCount=function(){return this.count$Values(5)};
e.clearPostmanInvalidation=function(){this.clear$Field(5)};
e.getChannelStatusMessage=function(){return this.get$Value(3)};
e.getChannelStatusMessageOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setChannelStatusMessage=function(a){this.set$Value(3,a)};
e.hasChannelStatusMessage=function(){return this.has$Value(3)};
e.channelStatusMessageCount=function(){return this.count$Values(3)};
e.clearChannelStatusMessage=function(){this.clear$Field(3)};
e.getSessionStatusMessage=function(){return this.get$Value(4)};
e.getSessionStatusMessageOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setSessionStatusMessage=function(a){this.set$Value(4,a)};
e.hasSessionStatusMessage=function(){return this.has$Value(4)};
e.sessionStatusMessageCount=function(){return this.count$Values(4)};
e.clearSessionStatusMessage=function(){this.clear$Field(4)};
var Vo=function(){V.call(this)};
B(Vo,V);var Wo=null;e=Vo.prototype;e.getProtocolVersion=function(){return this.get$Value(1)};
e.getProtocolVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setProtocolVersion=function(a){this.set$Value(1,a)};
e.hasProtocolVersion=function(){return this.has$Value(1)};
e.protocolVersionCount=function(){return this.count$Values(1)};
e.clearProtocolVersion=function(){this.clear$Field(1)};
e.getServerTimeMs=function(){return this.get$Value(4)};
e.getServerTimeMsOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setServerTimeMs=function(a){this.set$Value(4,a)};
e.hasServerTimeMs=function(){return this.has$Value(4)};
e.serverTimeMsCount=function(){return this.count$Values(4)};
e.clearServerTimeMs=function(){this.clear$Field(4)};
e.getMessageId=function(){return this.get$Value(5)};
e.getMessageIdOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setMessageId=function(a){this.set$Value(5,a)};
e.hasMessageId=function(){return this.has$Value(5)};
e.messageIdCount=function(){return this.count$Values(5)};
e.clearMessageId=function(){this.clear$Field(5)};
var Xo=function(){V.call(this)};
B(Xo,V);var Yo=null;e=Xo.prototype;e.getCode=function(){return this.get$Value(1)};
e.getCodeOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setCode=function(a){this.set$Value(1,a)};
e.hasCode=function(){return this.has$Value(1)};
e.codeCount=function(){return this.count$Values(1)};
e.clearCode=function(){this.clear$Field(1)};
e.getDescription=function(){return this.get$Value(2)};
e.getDescriptionOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setDescription=function(a){this.set$Value(2,a)};
e.hasDescription=function(){return this.has$Value(2)};
e.descriptionCount=function(){return this.count$Values(2)};
e.clearDescription=function(){this.clear$Field(2)};
var Zo=function(){V.call(this)};
B(Zo,V);var $o=null;e=Zo.prototype;e.getStatus=function(){return this.get$Value(1)};
e.getStatusOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setStatus=function(a){this.set$Value(1,a)};
e.hasStatus=function(){return this.has$Value(1)};
e.statusCount=function(){return this.count$Values(1)};
e.clearStatus=function(){this.clear$Field(1)};
e.getJidResource=function(){return this.get$Value(2)};
e.getJidResourceOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setJidResource=function(a){this.set$Value(2,a)};
e.hasJidResource=function(){return this.has$Value(2)};
e.jidResourceCount=function(){return this.count$Values(2)};
e.clearJidResource=function(){this.clear$Field(2)};
var ap=function(){V.call(this)};
B(ap,V);var bp=null;e=ap.prototype;e.getSignal=function(){return this.get$Value(1)};
e.getSignalOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setSignal=function(a){this.set$Value(1,a)};
e.hasSignal=function(){return this.has$Value(1)};
e.signalCount=function(){return this.count$Values(1)};
e.clearSignal=function(){this.clear$Field(1)};
e.getSessionId=function(){return this.get$Value(2)};
e.getSessionIdOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setSessionId=function(a){this.set$Value(2,a)};
e.hasSessionId=function(){return this.has$Value(2)};
e.sessionIdCount=function(){return this.count$Values(2)};
e.clearSessionId=function(){this.clear$Field(2)};
e.getAckId=function(){return this.get$Value(3)};
e.getAckIdOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setAckId=function(a){this.set$Value(3,a)};
e.hasAckId=function(){return this.has$Value(3)};
e.ackIdCount=function(){return this.count$Values(3)};
e.clearAckId=function(){this.clear$Field(3)};
var cp=function(){V.call(this)};
B(cp,V);var dp=null;e=cp.prototype;e.getSubscriptionKey=function(){return this.get$Value(1)};
e.getSubscriptionKeyOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setSubscriptionKey=function(a){this.set$Value(1,a)};
e.hasSubscriptionKey=function(){return this.has$Value(1)};
e.subscriptionKeyCount=function(){return this.count$Values(1)};
e.clearSubscriptionKey=function(){this.clear$Field(1)};
e.getMessage=function(){return this.get$Value(2)};
e.getMessageOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setMessage=function(a){this.set$Value(2,a)};
e.hasMessage=function(){return this.has$Value(2)};
e.messageCount=function(){return this.count$Values(2)};
e.clearMessage=function(){this.clear$Field(2)};
var ep=function(){V.call(this)};
B(ep,V);var fp=null;e=ep.prototype;e.getName=function(){return this.get$Value(1)};
e.getNameOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setName=function(a){this.set$Value(1,a)};
e.hasName=function(){return this.has$Value(1)};
e.nameCount=function(){return this.count$Values(1)};
e.clearName=function(){this.clear$Field(1)};
e.getTopicName=function(){return this.get$Value(2)};
e.getTopicNameOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setTopicName=function(a){this.set$Value(2,a)};
e.hasTopicName=function(){return this.has$Value(2)};
e.topicNameCount=function(){return this.count$Values(2)};
e.clearTopicName=function(){this.clear$Field(2)};
var gp=function(){V.call(this)};
B(gp,V);var hp=null;e=gp.prototype;e.getData=function(){return this.get$Value(1)};
e.getDataOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setData=function(a){this.set$Value(1,a)};
e.hasData=function(){return this.has$Value(1)};
e.dataCount=function(){return this.count$Values(1)};
e.clearData=function(){this.clear$Field(1)};
e.getTraceId=function(){return this.get$Value(2)};
e.getTraceIdOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setTraceId=function(a){this.set$Value(2,a)};
e.hasTraceId=function(){return this.has$Value(2)};
e.traceIdCount=function(){return this.count$Values(2)};
e.clearTraceId=function(){this.clear$Field(2)};
e.getPublishTimestampMicros=function(){return this.get$Value(3)};
e.getPublishTimestampMicrosOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setPublishTimestampMicros=function(a){this.set$Value(3,a)};
e.hasPublishTimestampMicros=function(){return this.has$Value(3)};
e.publishTimestampMicrosCount=function(){return this.count$Values(3)};
e.clearPublishTimestampMicros=function(){this.clear$Field(3)};
e.getIsSuppressor=function(){return this.get$Value(4)};
e.getIsSuppressorOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setIsSuppressor=function(a){this.set$Value(4,a)};
e.hasIsSuppressor=function(){return this.has$Value(4)};
e.isSuppressorCount=function(){return this.count$Values(4)};
e.clearIsSuppressor=function(){this.clear$Field(4)};
xo.prototype.getDescriptor=function(){var a=yo;a||(yo=a=W(xo,{0:{name:"Version",fullName:"buzz.channel.Version"},1:{name:"major_version",fieldType:5,type:Number},2:{name:"minor_version",fieldType:5,type:Number}}));return a};
xo.getDescriptor=xo.prototype.getDescriptor;zo.prototype.getDescriptor=function(){var a=Ao;a||(Ao=a=W(zo,{0:{name:"ProtocolVersion",fullName:"buzz.channel.ProtocolVersion"},1:{name:"version",fieldType:11,type:xo}}));return a};
zo.getDescriptor=zo.prototype.getDescriptor;Bo.prototype.getDescriptor=function(){var a=Co;a||(Co=a=W(Bo,{0:{name:"ClientVersion",fullName:"buzz.channel.ClientVersion"},1:{name:"version",fieldType:11,type:xo},2:{name:"platform",fieldType:9,type:String},3:{name:"language",fieldType:9,type:String},4:{name:"application_info",fieldType:9,type:String}}));return a};
Bo.getDescriptor=Bo.prototype.getDescriptor;Do.prototype.getDescriptor=function(){var a=Eo;a||(Eo=a=W(Do,{0:{name:"SessionId",fullName:"buzz.channel.SessionId"},1:{name:"service_name",fieldType:9,type:String},2:{name:"session_name",fieldType:9,type:String}}));return a};
Do.getDescriptor=Do.prototype.getDescriptor;
Fo.prototype.getDescriptor=function(){var a=Go;a||(Go=a=W(Fo,{0:{name:"ClientToServerMessage",fullName:"buzz.channel.ClientToServerMessage"},1:{name:"header",fieldType:11,type:Ho},2:{name:"init_endpoint_message",fieldType:11,type:Jo},3:{name:"init_session_message",fieldType:11,type:Lo},4:{name:"client_data_message_deprecated",fieldType:11,type:Po},5:{name:"send_on_disconnect_message",fieldType:11,type:Po},6:{name:"close_session_message",fieldType:11,type:No}}));return a};
Fo.getDescriptor=Fo.prototype.getDescriptor;Ho.prototype.getDescriptor=function(){var a=Io;a||(Io=a=W(Ho,{0:{name:"ClientHeader",fullName:"buzz.channel.ClientHeader"},1:{name:"protocol_version",fieldType:11,type:zo},2:{name:"client_version",fieldType:11,type:Bo},3:{name:"client_time_ms",fieldType:3,type:Number},4:{name:"max_known_server_time_ms",fieldType:3,type:Number},5:{name:"message_id",fieldType:9,type:String}}));return a};
Ho.getDescriptor=Ho.prototype.getDescriptor;Jo.prototype.getDescriptor=function(){var a=Ko;a||(Ko=a=W(Jo,{0:{name:"InitEndpointMessage",fullName:"buzz.channel.InitEndpointMessage"}}));return a};
Jo.getDescriptor=Jo.prototype.getDescriptor;Lo.prototype.getDescriptor=function(){var a=Mo;a||(Mo=a=W(Lo,{0:{name:"InitSessionMessage",fullName:"buzz.channel.InitSessionMessage"},1:{name:"session_id",fieldType:11,type:Do},2:{name:"subscriber_info",fieldType:9,type:String}}));return a};
Lo.getDescriptor=Lo.prototype.getDescriptor;No.prototype.getDescriptor=function(){var a=Oo;a||(Oo=a=W(No,{0:{name:"CloseSessionMessage",fullName:"buzz.channel.CloseSessionMessage"},1:{name:"session_id",fieldType:11,type:Do}}));return a};
No.getDescriptor=No.prototype.getDescriptor;Po.prototype.getDescriptor=function(){var a=Qo;a||(Qo=a=W(Po,{0:{name:"DataMessage",fullName:"buzz.channel.DataMessage"},1:{name:"session_id",fieldType:11,type:Do},2:{name:"message",fieldType:9,type:String}}));return a};
Po.getDescriptor=Po.prototype.getDescriptor;Ro.prototype.getDescriptor=function(){var a=So;a||(So=a=W(Ro,{0:{name:"SessionStatusMessage",fullName:"buzz.channel.SessionStatusMessage"},1:{name:"session_id",fieldType:11,type:Do},2:{name:"address",fieldType:9,type:String},3:{name:"is_broadcast_to_user",fieldType:8,type:Boolean},4:{name:"status",fieldType:11,type:Xo},5:{name:"subscriber_info",fieldType:9,type:String}}));return a};
Ro.getDescriptor=Ro.prototype.getDescriptor;To.prototype.getDescriptor=function(){var a=Uo;a||(Uo=a=W(To,{0:{name:"ServerToClientMessage",fullName:"buzz.channel.ServerToClientMessage"},1:{name:"header",fieldType:11,type:Vo},2:{name:"server_data_message",fieldType:11,type:Po},5:{name:"postman_invalidation",fieldType:11,type:ap},3:{name:"channel_status_message",fieldType:11,type:Zo},4:{name:"session_status_message",fieldType:11,type:Ro}}));return a};
To.getDescriptor=To.prototype.getDescriptor;Vo.prototype.getDescriptor=function(){var a=Wo;a||(Wo=a=W(Vo,{0:{name:"ServerHeader",fullName:"buzz.channel.ServerHeader"},1:{name:"protocol_version",fieldType:11,type:zo},4:{name:"server_time_ms",fieldType:3,type:Number},5:{name:"message_id",fieldType:9,type:String}}));return a};
Vo.getDescriptor=Vo.prototype.getDescriptor;Xo.prototype.getDescriptor=function(){var a=Yo;a||(Yo=a=W(Xo,{0:{name:"StatusP",fullName:"buzz.channel.StatusP"},1:{name:"code",fieldType:5,type:Number},2:{name:"description",fieldType:9,type:String}}));return a};
Xo.getDescriptor=Xo.prototype.getDescriptor;Zo.prototype.getDescriptor=function(){var a=$o;a||($o=a=W(Zo,{0:{name:"ChannelStatusMessage",fullName:"buzz.channel.ChannelStatusMessage"},1:{name:"status",fieldType:11,type:Xo},2:{name:"jid_resource",fieldType:9,type:String}}));return a};
Zo.getDescriptor=Zo.prototype.getDescriptor;ap.prototype.getDescriptor=function(){var a=bp;a||(bp=a=W(ap,{0:{name:"LcsPostmanInvalidation",fullName:"buzz.channel.LcsPostmanInvalidation"},1:{name:"signal",fieldType:11,type:cp},2:{name:"session_id",fieldType:11,type:Do},3:{name:"ack_id",fieldType:9,type:String}}));return a};
ap.getDescriptor=ap.prototype.getDescriptor;cp.prototype.getDescriptor=function(){var a=dp;a||(dp=a=W(cp,{0:{name:"LcsSignal",fullName:"buzz.channel.LcsSignal"},1:{name:"subscription_key",fieldType:11,type:ep},2:{name:"message",fieldType:11,type:gp}}));return a};
cp.getDescriptor=cp.prototype.getDescriptor;ep.prototype.getDescriptor=function(){var a=fp;a||(fp=a=W(ep,{0:{name:"LcsSubscriptionKey",fullName:"buzz.channel.LcsSubscriptionKey"},1:{name:"name",fieldType:12,type:String},2:{name:"topic_name",fieldType:9,type:String}}));return a};
ep.getDescriptor=ep.prototype.getDescriptor;gp.prototype.getDescriptor=function(){var a=hp;a||(hp=a=W(gp,{0:{name:"LcsPostmanMessage",fullName:"buzz.channel.LcsPostmanMessage"},1:{name:"data",fieldType:9,type:String},2:{name:"trace_id",fieldType:9,type:String},3:{name:"publish_timestamp_micros",fieldType:3,type:String},4:{name:"is_suppressor",fieldType:8,defaultValue:!0,type:Boolean}}));return a};
gp.getDescriptor=gp.prototype.getDescriptor;var ip=new zo,jp=new xo;jp.setMajorVersion(3);jp.setMinorVersion(2);ip.setVersion(jp);var kp=new xo;kp.setMajorVersion(3);kp.setMinorVersion(2);var lp=new xo;lp.setMajorVersion(3);lp.setMinorVersion(2);var mp=function(){V.call(this)};
B(mp,V);var np=null;e=mp.prototype;e.getAuthParams=function(){return this.get$Value(1)};
e.getAuthParamsOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setAuthParams=function(a){this.set$Value(1,a)};
e.hasAuthParams=function(){return this.has$Value(1)};
e.authParamsCount=function(){return this.count$Values(1)};
e.clearAuthParams=function(){this.clear$Field(1)};
e.getInitSessionMessage=function(){return this.get$Value(2)};
e.getInitSessionMessageOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setInitSessionMessage=function(a){this.set$Value(2,a)};
e.hasInitSessionMessage=function(){return this.has$Value(2)};
e.initSessionMessageCount=function(){return this.count$Values(2)};
e.clearInitSessionMessage=function(){this.clear$Field(2)};
e.getBrowserChannelConfig=function(){return this.get$Value(3)};
e.getBrowserChannelConfigOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setBrowserChannelConfig=function(a){this.set$Value(3,a)};
e.hasBrowserChannelConfig=function(){return this.has$Value(3)};
e.browserChannelConfigCount=function(){return this.count$Values(3)};
e.clearBrowserChannelConfig=function(){this.clear$Field(3)};
e.getHeartbeat=function(){return this.get$Value(4)};
e.getHeartbeatOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setHeartbeat=function(a){this.set$Value(4,a)};
e.hasHeartbeat=function(){return this.has$Value(4)};
e.heartbeatCount=function(){return this.count$Values(4)};
e.clearHeartbeat=function(){this.clear$Field(4)};
var op=function(){V.call(this)};
B(op,V);var pp=null;e=op.prototype;e.getDataMessage=function(){return this.get$Value(1)};
e.getDataMessageOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setDataMessage=function(a){this.set$Value(1,a)};
e.hasDataMessage=function(){return this.has$Value(1)};
e.dataMessageCount=function(){return this.count$Values(1)};
e.clearDataMessage=function(){this.clear$Field(1)};
e.getPostmanInvalidation=function(){return this.get$Value(12)};
e.getPostmanInvalidationOrDefault=function(){return this.get$ValueOrDefault(12)};
e.setPostmanInvalidation=function(a){this.set$Value(12,a)};
e.hasPostmanInvalidation=function(){return this.has$Value(12)};
e.postmanInvalidationCount=function(){return this.count$Values(12)};
e.clearPostmanInvalidation=function(){this.clear$Field(12)};
e.getSessionStatusMessage=function(){return this.get$Value(2)};
e.getSessionStatusMessageOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setSessionStatusMessage=function(a){this.set$Value(2,a)};
e.hasSessionStatusMessage=function(){return this.has$Value(2)};
e.sessionStatusMessageCount=function(){return this.count$Values(2)};
e.clearSessionStatusMessage=function(){this.clear$Field(2)};
e.getChannelStatusMessage=function(){return this.get$Value(3)};
e.getChannelStatusMessageOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setChannelStatusMessage=function(a){this.set$Value(3,a)};
e.hasChannelStatusMessage=function(){return this.has$Value(3)};
e.channelStatusMessageCount=function(){return this.count$Values(3)};
e.clearChannelStatusMessage=function(){this.clear$Field(3)};
e.getSharedWorkerEventMessage=function(){return this.get$Value(4)};
e.getSharedWorkerEventMessageOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setSharedWorkerEventMessage=function(a){this.set$Value(4,a)};
e.hasSharedWorkerEventMessage=function(){return this.has$Value(4)};
e.sharedWorkerEventMessageCount=function(){return this.count$Values(4)};
e.clearSharedWorkerEventMessage=function(){this.clear$Field(4)};
e.getAuthParamsRequestMessage=function(){return this.get$Value(5)};
e.getAuthParamsRequestMessageOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setAuthParamsRequestMessage=function(a){this.set$Value(5,a)};
e.hasAuthParamsRequestMessage=function(){return this.has$Value(5)};
e.authParamsRequestMessageCount=function(){return this.count$Values(5)};
e.clearAuthParamsRequestMessage=function(){this.clear$Field(5)};
e.getConfigRequestMessage=function(){return this.get$Value(6)};
e.getConfigRequestMessageOrDefault=function(){return this.get$ValueOrDefault(6)};
e.setConfigRequestMessage=function(a){this.set$Value(6,a)};
e.hasConfigRequestMessage=function(){return this.has$Value(6)};
e.configRequestMessageCount=function(){return this.count$Values(6)};
e.clearConfigRequestMessage=function(){this.clear$Field(6)};
e.getSenderId=function(){return this.get$Value(7)};
e.getSenderIdOrDefault=function(){return this.get$ValueOrDefault(7)};
e.setSenderId=function(a){this.set$Value(7,a)};
e.hasSenderId=function(){return this.has$Value(7)};
e.senderIdCount=function(){return this.count$Values(7)};
e.clearSenderId=function(){this.clear$Field(7)};
e.getChannelStatMessage=function(){return this.get$Value(9)};
e.getChannelStatMessageOrDefault=function(){return this.get$ValueOrDefault(9)};
e.setChannelStatMessage=function(a){this.set$Value(9,a)};
e.hasChannelStatMessage=function(){return this.has$Value(9)};
e.channelStatMessageCount=function(){return this.count$Values(9)};
e.clearChannelStatMessage=function(){this.clear$Field(9)};
e.getBrowserChannelClosedMessage=function(){return this.get$Value(10)};
e.getBrowserChannelClosedMessageOrDefault=function(){return this.get$ValueOrDefault(10)};
e.setBrowserChannelClosedMessage=function(a){this.set$Value(10,a)};
e.hasBrowserChannelClosedMessage=function(){return this.has$Value(10)};
e.browserChannelClosedMessageCount=function(){return this.count$Values(10)};
e.clearBrowserChannelClosedMessage=function(){this.clear$Field(10)};
e.getBrowserChannelErrorMessage=function(){return this.get$Value(11)};
e.getBrowserChannelErrorMessageOrDefault=function(){return this.get$ValueOrDefault(11)};
e.setBrowserChannelErrorMessage=function(a){this.set$Value(11,a)};
e.hasBrowserChannelErrorMessage=function(){return this.has$Value(11)};
e.browserChannelErrorMessageCount=function(){return this.count$Values(11)};
e.clearBrowserChannelErrorMessage=function(){this.clear$Field(11)};
var qp=function(){V.call(this)};
B(qp,V);var rp=null;e=qp.prototype;e.getEvent=function(){return this.get$Value(1)};
e.getEventOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setEvent=function(a){this.set$Value(1,a)};
e.hasEvent=function(){return this.has$Value(1)};
e.eventCount=function(){return this.count$Values(1)};
e.clearEvent=function(){this.clear$Field(1)};
e.getConnectionCount=function(){return this.get$Value(2)};
e.getConnectionCountOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setConnectionCount=function(a){this.set$Value(2,a)};
e.hasConnectionCount=function(){return this.has$Value(2)};
e.connectionCountCount=function(){return this.count$Values(2)};
e.clearConnectionCount=function(){this.clear$Field(2)};
var sp={CREATED:1,STARTED:2},tp=function(){V.call(this)};
B(tp,V);var up=null,vp=function(){V.call(this)};
B(vp,V);var wp=null,xp=function(){V.call(this)};
B(xp,V);var yp=null,zp=function(){V.call(this)};
B(zp,V);var Ap=null;e=zp.prototype;e.getStat=function(){return this.get$Value(1)};
e.getStatOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setStat=function(a){this.set$Value(1,a)};
e.hasStat=function(){return this.has$Value(1)};
e.statCount=function(){return this.count$Values(1)};
e.clearStat=function(){this.clear$Field(1)};
var Bp=function(){V.call(this)};
B(Bp,V);var Cp=null,Dp=function(){V.call(this)};
B(Dp,V);var Ep=null;e=Dp.prototype;e.getBrowserChannelErrorCode=function(){return this.get$Value(1)};
e.getBrowserChannelErrorCodeOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setBrowserChannelErrorCode=function(a){this.set$Value(1,a)};
e.hasBrowserChannelErrorCode=function(){return this.has$Value(1)};
e.browserChannelErrorCodeCount=function(){return this.count$Values(1)};
e.clearBrowserChannelErrorCode=function(){this.clear$Field(1)};
e.getLastHttpStatusCode=function(){return this.get$Value(2)};
e.getLastHttpStatusCodeOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setLastHttpStatusCode=function(a){this.set$Value(2,a)};
e.hasLastHttpStatusCode=function(){return this.has$Value(2)};
e.lastHttpStatusCodeCount=function(){return this.count$Values(2)};
e.clearLastHttpStatusCode=function(){this.clear$Field(2)};
mp.prototype.getDescriptor=function(){var a=np;a||(np=a=W(mp,{0:{name:"ClientToSharedWorkerMessage",fullName:"buzz.channel.proto.ClientToSharedWorkerMessage"},1:{name:"auth_params",fieldType:11,type:Nn},2:{name:"init_session_message",fieldType:11,type:Lo},3:{name:"browser_channel_config",fieldType:11,type:Ln},4:{name:"heartbeat",fieldType:11,type:tp}}));return a};
mp.getDescriptor=mp.prototype.getDescriptor;
op.prototype.getDescriptor=function(){var a=pp;a||(pp=a=W(op,{0:{name:"SharedWorkerToClientMessage",fullName:"buzz.channel.proto.SharedWorkerToClientMessage"},1:{name:"data_message",fieldType:11,type:Po},12:{name:"postman_invalidation",fieldType:11,type:ap},2:{name:"session_status_message",fieldType:11,type:Ro},3:{name:"channel_status_message",fieldType:11,type:Zo},4:{name:"shared_worker_event_message",fieldType:11,type:qp},5:{name:"auth_params_request_message",fieldType:11,type:vp},6:{name:"config_request_message",
fieldType:11,type:xp},7:{name:"sender_id",fieldType:9,type:String},9:{name:"channel_stat_message",fieldType:11,type:zp},10:{name:"browser_channel_closed_message",fieldType:11,type:Bp},11:{name:"browser_channel_error_message",fieldType:11,type:Dp}}));return a};
op.getDescriptor=op.prototype.getDescriptor;qp.prototype.getDescriptor=function(){var a=rp;a||(rp=a=W(qp,{0:{name:"SharedWorkerEventMessage",fullName:"buzz.channel.proto.SharedWorkerEventMessage"},1:{name:"event",fieldType:14,defaultValue:1,type:sp},2:{name:"connection_count",fieldType:5,type:Number}}));return a};
qp.getDescriptor=qp.prototype.getDescriptor;tp.prototype.getDescriptor=function(){var a=up;a||(up=a=W(tp,{0:{name:"Heartbeat",fullName:"buzz.channel.proto.Heartbeat"}}));return a};
tp.getDescriptor=tp.prototype.getDescriptor;vp.prototype.getDescriptor=function(){var a=wp;a||(wp=a=W(vp,{0:{name:"AuthenticationParametersRequestMessage",fullName:"buzz.channel.proto.AuthenticationParametersRequestMessage"}}));return a};
vp.getDescriptor=vp.prototype.getDescriptor;xp.prototype.getDescriptor=function(){var a=yp;a||(yp=a=W(xp,{0:{name:"BrowserChannelConfigRequestMessage",fullName:"buzz.channel.proto.BrowserChannelConfigRequestMessage"}}));return a};
xp.getDescriptor=xp.prototype.getDescriptor;zp.prototype.getDescriptor=function(){var a=Ap;a||(Ap=a=W(zp,{0:{name:"ChannelStatMessage",fullName:"buzz.channel.proto.ChannelStatMessage"},1:{name:"stat",fieldType:5,type:Number}}));return a};
zp.getDescriptor=zp.prototype.getDescriptor;Bp.prototype.getDescriptor=function(){var a=Cp;a||(Cp=a=W(Bp,{0:{name:"BrowserChannelClosedMessage",fullName:"buzz.channel.proto.BrowserChannelClosedMessage"}}));return a};
Bp.getDescriptor=Bp.prototype.getDescriptor;Dp.prototype.getDescriptor=function(){var a=Ep;a||(Ep=a=W(Dp,{0:{name:"BrowserChannelErrorMessage",fullName:"buzz.channel.proto.BrowserChannelErrorMessage"},1:{name:"browser_channel_error_code",fieldType:5,type:Number},2:{name:"last_http_status_code",fieldType:5,type:Number}}));return a};
Dp.getDescriptor=Dp.prototype.getDescriptor;var Fp=function(){if(ac){var a=/Windows NT ([0-9.]+)/;return(a=a.exec(Mb))?a[1]:"0"}return $b?(a=/10[_.][0-9_.]+/,(a=a.exec(Mb))?a[0].replace(/_/g,"."):"10"):cc?(a=/Android\s+([^\);]+)(\)|;)/,(a=a.exec(Mb))?a[1]:""):dc||ec||fc?(a=/(?:iPhone|CPU)\s+OS\s+(\S+)/,(a=a.exec(Mb))?a[1].replace(/_/g,"."):""):""}();function Gp(a,b,c){var d=new Bo;d.setVersion(lp);d.setPlatform(a);d.setLanguage(b);d.setApplicationInfo(c);return d}
function Hp(a,b){var c=new Do;c.setServiceName(a);null!=b&&c.setSessionName(b);return c}
function Ip(a,b,c){var d=new Lo;d.setSessionId(Hp(a,b));c&&d.setSubscriberInfo(c);return d}
;var Jp=function(a,b){this.authuser=0;this.useCors=this.useSharedChannel=this.retryOnAuthError=!1;a=new pn(a);var c=a.getDomain();if("client-channel.google.com"===c){var d=vo();d&&a.setDomain(d+"."+c)}this.uri=a;this.clientType=b;(b=r.gapi)&&b.load&&r.gapi.load("auth")};
e=Jp.prototype;e.getUri=function(){return this.uri.toString()};
e.getClientType=function(){return this.clientType};
e.getAuthuser=function(){return this.authuser};
e.setAuthuser=function(a){this.authuser=a};
e.getPageId=function(){return this.pageId||null};
e.setPageId=function(a){this.pageId=a};
e.getGaiaServiceOverride=function(){return this.gaiaServiceOverride||null};
e.setGaiaServiceOverride=function(a){this.gaiaServiceOverride=a};
e.setGapiSrc=function(a){this.gapiSrc=a};
e.setApplicationVersion=function(a){this.applicationVersion=a};
e.setPropertyId=function(a){this.propertyId=a};
e.setRetryOnAuthError=function(a){this.retryOnAuthError=a};
e.setUseSharedChannel=function(a){if(-1!==this.uri.getDomain().indexOf("client-channel.google.com")){var b=a?this.getClientType():vo();this.uri.setDomain(b+".client-channel.google.com")}this.useSharedChannel=a};
e.setUseCors=function(a){a&&this.isIframed()||(this.useCors=a)};
e.getUseCors=function(){return this.useCors};
e.setDomHelper=function(a){this.domHelper=a};
e.getDomHelper=function(){return this.domHelper||null};
e.shouldUseSharedChannel=function(){return!this.pageId&&r.SharedWorker&&this.isIframed()?this.useSharedChannel:!1};
e.toConfigProto=function(){var a=this.clientType,b=this.gaiaServiceOverride||null,c=this.gapiSrc||null,d=this.propertyId||null,f=this.applicationVersion||null,g=this.retryOnAuthError,h=this.pageId||null,k=this.shouldUseSharedChannel(),l=new Ln;l.setClientType(a);null!==b&&l.setServiceOverride(b);null!==c&&l.setGapiSrc(c);null!==d&&l.setPropertyId(d);null!==f&&l.setApplicationVersion(f);l.setRetryOnAuthError(g);null!==h&&l.setPageId(h);l.setUseSharedChannel(k);return l};
e.getFirstPartyAuthSchemeAndHash=function(){var a;if(r.gapi&&r.gapi.auth&&(a=r.gapi.auth.getAuthHeaderValueForFirstParty))try{var b=a([]);if(b){var c=b.split(" ");var d={scheme:c[0],hash:c[1]}}else d=null;return d}catch(f){}return null};var Kp=function(){var a=ti([]);return a?(a=a.split(" "),{scheme:a[0],hash:a[1]}):null};var Lp=function(a,b,c){wi.call(this);this.listener_=a;this.interval_=b||0;this.handler_=c;this.callback_=z(this.doAction_,this)};
B(Lp,wi);e=Lp.prototype;e.id_=0;e.disposeInternal=function(){Lp.superClass_.disposeInternal.call(this);this.stop();delete this.listener_;delete this.handler_};
e.start=function(a){this.stop();this.id_=dn(this.callback_,u(a)?a:this.interval_)};
e.startIfNotActive=function(a){this.isActive()||this.start(a)};
e.stop=function(){this.isActive()&&r.clearTimeout(this.id_);this.id_=0};
e.fire=function(){this.stop();this.doAction_()};
e.fireIfActive=function(){this.isActive()&&this.fire()};
e.isActive=function(){return 0!=this.id_};
e.doAction_=function(){this.id_=0;this.listener_&&this.listener_.call(this.handler_)};var Mp=function(){wi.call(this);this.services_={}};
B(Mp,wi);e=Mp.prototype;e.logger=null;e.connect=function(a){a&&a()};
e.isConnected=function(){return!0};
e.registerService=function(a,b,c){this.services_[a]={callback:b,objectPayload:!!c}};
e.registerDefaultService=function(a){this.defaultService_=a};
e.deliver=function(a,b){var c=this.getService(a,b);c&&(a=this.decodePayload(a,b,c.objectPayload),null!=a&&c.callback(a))};
e.getService=function(a,b){var c=this.services_[a];return c?c:this.defaultService_?{callback:Ra(this.defaultService_,a),objectPayload:Ka(b)}:null};
e.decodePayload=function(a,b,c){if(c&&v(b))try{return JSON.parse(b)}catch(d){return null}else if(!c&&!v(b))return Bi(b);return b};
e.disposeInternal=function(){Mp.superClass_.disposeInternal.call(this);delete this.services_;delete this.defaultService_};var Np={1:"NativeMessagingTransport",2:"FrameElementMethodTransport",3:"IframeRelayTransport",4:"IframePollingTransport",5:"FlashTransport",6:"NixTransport",7:"DirectTransport"},Op=["pu","lru","pru","lpu","ppu"],Pp={},Rp=function(a,b){b=b||Qp;for(var c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d},Qp="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var Sp=function(a){wi.call(this);this.domHelper_=a||pe()};
B(Sp,wi);Sp.prototype.transportType=0;Sp.prototype.getType=function(){return this.transportType};
Sp.prototype.getWindow=function(){return this.domHelper_.getWindow()};
Sp.prototype.getName=function(){return Np[String(this.transportType)]||""};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var Tp=function(a,b){this.sequence_=[];this.onCancelFunction_=a;this.defaultScope_=b||null;this.hadError_=this.fired_=!1;this.result_=void 0;this.silentlyCanceled_=this.blocking_=this.blocked_=!1;this.unhandledErrorId_=0;this.parent_=null;this.branches_=0};
e=Tp.prototype;e.cancel=function(a){if(this.hasFired())this.result_ instanceof Tp&&this.result_.cancel();else{if(this.parent_){var b=this.parent_;delete this.parent_;a?b.cancel(a):b.branchCancel_()}this.onCancelFunction_?this.onCancelFunction_.call(this.defaultScope_,this):this.silentlyCanceled_=!0;this.hasFired()||this.errback(new Up(this))}};
e.branchCancel_=function(){this.branches_--;0>=this.branches_&&this.cancel()};
e.continue_=function(a,b){this.blocked_=!1;this.updateResult_(a,b)};
e.updateResult_=function(a,b){this.fired_=!0;this.result_=b;this.hadError_=!a;this.fire_()};
e.check_=function(){if(this.hasFired()){if(!this.silentlyCanceled_)throw new Vp(this);this.silentlyCanceled_=!1}};
e.callback=function(a){this.check_();this.updateResult_(!0,a)};
e.errback=function(a){this.check_();this.makeStackTraceLong_(a);this.updateResult_(!1,a)};
e.makeStackTraceLong_=function(){};
e.assertNotDeferred_=function(){};
e.addCallback=function(a,b){return this.addCallbacks(a,null,b)};
e.addErrback=function(a,b){return this.addCallbacks(null,a,b)};
e.addBoth=function(a,b){return this.addCallbacks(a,a,b)};
e.addFinally=function(a,b){return this.addCallbacks(a,function(b){var c=a.call(this,b);if(!u(c))throw b;return c},b)};
e.addCallbacks=function(a,b,c){this.sequence_.push([a,b,c]);this.hasFired()&&this.fire_();return this};
e.then=function(a,b,c){var d,f,g=new Df(function(a,b){d=a;f=b});
this.addCallbacks(d,function(a){a instanceof Up?g.cancel():f(a)});
return g.then(a,b,c)};
Bf(Tp);e=Tp.prototype;e.chainDeferred=function(a){this.addCallbacks(a.callback,a.errback,a);return this};
e.awaitDeferred=function(a){return a instanceof Tp?this.addCallback(z(a.branch,a)):this.addCallback(function(){return a})};
e.branch=function(a){var b=new Tp;this.chainDeferred(b);a&&(b.parent_=this,this.branches_++);return b};
e.hasFired=function(){return this.fired_};
e.isError=function(a){return a instanceof Error};
e.hasErrback_=function(){return ab(this.sequence_,function(a){return Ja(a[1])})};
e.fire_=function(){if(this.unhandledErrorId_&&this.hasFired()&&this.hasErrback_()){var a=this.unhandledErrorId_,b=Wp[a];b&&(b.resetTimer(),delete Wp[a]);this.unhandledErrorId_=0}this.parent_&&(this.parent_.branches_--,delete this.parent_);a=this.result_;for(var c=b=!1;this.sequence_.length&&!this.blocked_;){var d=this.sequence_.shift(),f=d[0],g=d[1];d=d[2];if(f=this.hadError_?g:f)try{var h=f.call(d||this.defaultScope_,a);u(h)&&(this.hadError_=this.hadError_&&(h==a||this.isError(h)),this.result_=a=
h);if(Cf(a)||"function"===typeof r.Promise&&a instanceof r.Promise)this.blocked_=c=!0}catch(k){a=k,this.hadError_=!0,this.makeStackTraceLong_(a),this.hasErrback_()||(b=!0)}}this.result_=a;c&&(h=z(this.continue_,this,!0),c=z(this.continue_,this,!1),a instanceof Tp?(a.addCallbacks(h,c),a.blocking_=!0):a.then(h,c));b&&(a=new Xp(a),Wp[a.id_]=a,this.unhandledErrorId_=a.id_)};
var Vp=function(a){Wa.call(this);this.deferred=a};
B(Vp,Wa);Vp.prototype.message="Deferred has already fired";Vp.prototype.name="AlreadyCalledError";var Up=function(a){Wa.call(this);this.deferred=a};
B(Up,Wa);Up.prototype.message="Deferred was canceled";Up.prototype.name="CanceledError";var Xp=function(a){this.id_=r.setTimeout(z(this.throwError,this),0);this.error_=a};
Xp.prototype.throwError=function(){delete Wp[this.id_];throw this.error_;};
Xp.prototype.resetTimer=function(){r.clearTimeout(this.id_)};
var Wp={};var Yp=function(a,b){Sp.call(this,b);this.channel_=a;this.eventHandler_=new en(this);this.registerDisposable(this.eventHandler_);this.maybeAttemptToConnectTimer_=new cn(100,this.getWindow());this.registerDisposable(this.maybeAttemptToConnectTimer_);this.setupAckReceived_=new Tp;this.setupAckSent_=new Tp;this.connected_=new Tp;this.endpointId_=Rp(10);this.peerEndpointId_=null;this.asyncSendsMap_={};this.originalChannelName_=this.channel_.name;this.channel_.updateChannelNameAndCatalog(this.channel_.name+
"_"+this.channel_.getRole());this.initialized_=!1;this.connected_.awaitDeferred(this.setupAckReceived_);this.connected_.awaitDeferred(this.setupAckSent_);this.connected_.addCallback(this.notifyConnected_,this);this.connected_.callback(!0);this.eventHandler_.listen(this.maybeAttemptToConnectTimer_,"tick",this.maybeAttemptToConnect_)};
B(Yp,Sp);var Zp={},bq=function(a){var b=new $p(a.channelName,a.service,a.payload);a=b.channelName;var c=b.service;b=b.payload;var d=Pp[a];if(d)return d.xpcDeliver(c,b),!0;d=aq(b)[0];for(var f in Pp){var g=Pp[f];if(1==g.getRole()&&!g.isConnected()&&"tp"==c&&"SETUP"==d)return g.updateChannelNameAndCatalog(a),g.xpcDeliver(c,b),!0}return!1};
e=Yp.prototype;e.transportType=7;e.transportServiceHandler=function(a){a=aq(a);var b=a[1];switch(a[0]){case "SETUP_ACK":this.setupAckReceived_.hasFired()||this.setupAckReceived_.callback(!0);break;case "SETUP":this.sendSetupAckMessage_(),null!=this.peerEndpointId_&&this.peerEndpointId_!=b&&this.sendSetupMessage_(),this.peerEndpointId_=b}};
e.sendSetupMessage_=function(){this.send("tp","SETUP,"+this.endpointId_)};
e.sendSetupAckMessage_=function(){this.send("tp","SETUP_ACK");this.setupAckSent_.hasFired()||this.setupAckSent_.callback(!0)};
e.connect=function(){var a=this.getWindow();if(a){var b=Na(a);0==(Zp[b]||0)&&null==x("crosswindowmessaging.channel",a)&&w("crosswindowmessaging.channel",bq,a);Zp[b]++;this.initialized_=!0;this.maybeAttemptToConnect_()}};
e.maybeAttemptToConnect_=function(){this.channel_.isConnected()?this.maybeAttemptToConnectTimer_.stop():(this.maybeAttemptToConnectTimer_.start(),this.sendSetupMessage_())};
e.send=function(a,b){this.channel_.getPeerWindowObject()&&(a=new $p(this.originalChannelName_+"_"+this.getPeerRole_(),a,b),this.channel_.getConfig().directSyncMode?this.executeScheduledSend_(a):this.asyncSendsMap_[Na(a)]=dn(z(this.executeScheduledSend_,this,a),0))};
e.executeScheduledSend_=function(a){var b=Na(a);this.asyncSendsMap_[b]&&delete this.asyncSendsMap_[b];try{var c=x("crosswindowmessaging.channel",this.channel_.getPeerWindowObject())}catch(d){return}if(null!==c)try{c(a.toLiteral())}catch(d){}};
e.getPeerRole_=function(){return 0==this.channel_.getRole()?1:0};
e.notifyConnected_=function(){this.channel_.notifyConnected(0)};
e.disposeInternal=function(){if(this.initialized_){var a=this.getWindow(),b=Na(a);1==--Zp[b]&&w("crosswindowmessaging.channel",null,a)}this.asyncSendsMap_&&(E.forEach(this.asyncSendsMap_,function(a){r.clearTimeout(a)}),this.asyncSendsMap_=null);
this.setupAckReceived_&&(this.setupAckReceived_.cancel(),delete this.setupAckReceived_);this.setupAckSent_&&(this.setupAckSent_.cancel(),delete this.setupAckSent_);this.connected_&&(this.connected_.cancel(),delete this.connected_);Yp.superClass_.disposeInternal.call(this)};
var aq=function(a){a=a.split(",");a[1]=a[1]||null;return a},$p=function(a,b,c){this.channelName=a;
this.service=b;this.payload=c};
$p.prototype.toLiteral=function(){return{channelName:this.channelName,service:this.service,payload:this.payload}};var cq=function(a,b){Sp.call(this,b);this.channel_=a;this.queue_=[];this.deliverQueuedCb_=z(this.deliverQueued_,this)};
B(cq,Sp);e=cq.prototype;e.transportType=2;e.recursive_=!1;e.connect=function(){0==this.channel_.getRole()?(this.iframeElm_=this.channel_.getIframeElement(),this.iframeElm_.XPC_toOuter=z(this.incoming_,this)):this.attemptSetup_()};
e.attemptSetup_=function(){var a=!0;try{this.iframeElm_||(this.iframeElm_=this.getWindow().frameElement),this.iframeElm_&&this.iframeElm_.XPC_toOuter&&(this.outgoing_=this.iframeElm_.XPC_toOuter,this.iframeElm_.XPC_toOuter.XPC_toInner=z(this.incoming_,this),a=!1,this.send("tp","SETUP_ACK"),this.channel_.notifyConnected())}catch(b){}a&&(this.attemptSetupCb_||(this.attemptSetupCb_=z(this.attemptSetup_,this)),this.getWindow().setTimeout(this.attemptSetupCb_,100))};
e.transportServiceHandler=function(a){if(0!=this.channel_.getRole()||this.channel_.isConnected()||"SETUP_ACK"!=a)throw Error("Got unexpected transport message.");this.outgoing_=this.iframeElm_.XPC_toOuter.XPC_toInner;this.channel_.notifyConnected()};
e.incoming_=function(a,b){this.recursive_||0!=this.queue_.length?(this.queue_.push({serviceName:a,payload:b}),1==this.queue_.length&&this.getWindow().setTimeout(this.deliverQueuedCb_,1)):this.channel_.xpcDeliver(a,b)};
e.deliverQueued_=function(){for(;this.queue_.length;){var a=this.queue_.shift();this.channel_.xpcDeliver(a.serviceName,a.payload)}};
e.send=function(a,b){this.recursive_=!0;this.outgoing_(a,b);this.recursive_=!1};
e.disposeInternal=function(){cq.superClass_.disposeInternal.call(this);this.iframeElm_=this.outgoing_=null};var eq=function(a,b){Sp.call(this,b);this.channel_=a;this.peerRelayUri_=this.channel_.getConfig().pru;this.peerIframeId_=this.channel_.getConfig().ifrid;Zb&&dq()};
B(eq,Sp);if(Zb)var fq=[],gq=0,dq=function(){gq||(gq=window.setTimeout(function(){hq()},1E3))},hq=function(a){var b=A();
for(a=a||3E3;fq.length&&b-fq[0].timestamp>=a;){var c=fq.shift().iframeElement;Fe(c)}gq=window.setTimeout(iq,1E3)},iq=function(){hq()};
var jq={};eq.prototype.transportType=3;eq.prototype.connect=function(){this.getWindow().xpcRelay||(this.getWindow().xpcRelay=kq);this.send("tp","SETUP")};
var kq=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c);b=b.substr(c+1);if(F&&-1!=(c=d.indexOf("|"))){h=d.substr(0,c);d=d.substr(c+1);c=d.indexOf("+");var f=d.substr(0,c);c=parseInt(d.substr(c+1),10);var g=jq[f];g||(g=jq[f]={fragments:[],received:0,expected:0});-1!=d.indexOf("++")&&(g.expected=c+1);g.fragments[c]=b;g.received++;if(g.received!=g.expected)return;b=g.fragments.join("");delete jq[f]}else var h=d;Pp[a].xpcDeliver(h,decodeURIComponent(b))};
eq.prototype.transportServiceHandler=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),this.channel_.notifyConnected()):"SETUP_ACK"==a&&this.channel_.notifyConnected()};
eq.prototype.send=function(a,b){b=encodeURIComponent(b);var c=b.length;if(F&&1800<c)for(var d=Gb(),f=0,g=0;f<c;g++){var h=b.substr(f,1800);f+=1800;this.send_(a,h,d+(f>=c?"++":"+")+g)}else this.send_(a,b)};
eq.prototype.send_=function(a,b,c){if(F){var d=this.getWindow().document.createElement("DIV"),f={src:null,srcdoc:null},g={sandbox:""},h={onload:new vd(td,"this.xpcOnload()"),sandbox:null};var k={};for(var l in f)k[l]=f[l];for(l in g)k[l]=g[l];for(l in h){var m=l.toLowerCase();if(m in f)throw Error('Cannot override "'+m+'" attribute, got "'+l+'" with value "'+h[l]+'"');m in g&&delete k[m];k[l]=h[l]}f=null;g="";if(k)for(G in k){if(!ce.test(G))throw Error('Invalid attribute name "'+G+'".');l=k[G];if(null!=
l){h=G;m=l;if(m instanceof vd)m=wd(m);else if("style"==h.toLowerCase()){l=void 0;if(!Ka(m))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof m+" given: "+m);if(!(m instanceof Od)){var q="";for(l in m){if(!/^[-_a-zA-Z0-9]+$/.test(l))throw Error("Name allows only [-_a-zA-Z0-9], got: "+l);var t=m[l];null!=t&&(t=y(t)?Za(t,Rd).join(" "):Rd(t),q+=l+":"+t+";")}m=q?(new Od).initSecurityPrivateDoNotAccessOrElse_(q):Pd}m instanceof Od&&m.constructor===Od&&
m.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===Nd?l=m.privateDoNotAccessOrElseSafeStyleWrappedValue_:(Ha(m),l="type_error:SafeStyle");m=l}else{if(/^on/i.test(h))throw Error('Attribute "'+h+'" requires goog.string.Const value, "'+m+'" given.');if(h.toLowerCase()in de)if(m instanceof yd)m=zd(m);else if(m instanceof Hd)m=Id(m);else if(v(m))m=Ld(m).getTypedStringValue();else throw Error('Attribute "'+h+'" on tag "iframe" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+m+'" given.');
}m.implementsGoogStringTypedString&&(m=m.getTypedStringValue());h=h+'="'+Ab(String(m))+'"';g+=" "+h}}var G="<iframe"+g;g=void 0;null!=g?y(g)||(g=[g]):g=[];!0===sd.iframe?G+=">":(f=ee(g),G+=">"+$d(f)+"</iframe>",f=f.getDirection());(k=k&&k.dir)&&(f=/^(ltr|rtl|auto)$/i.test(k)?0:null);k=ae(G,f);he(d,$d(k));d=d.childNodes[0];d.xpcOnload=lq}else d=this.getWindow().document.createElement("IFRAME"),Zb?fq.push({timestamp:A(),iframeElement:d}):kl(d,"load",lq);k=d.style;k.visibility="hidden";k.width=d.style.height=
"0px";k.position="absolute";k=this.peerRelayUri_;k+="#"+this.channel_.name;this.peerIframeId_&&(k+=","+this.peerIframeId_);k+="|"+a;c&&(k+="|"+c);d.src=k+(":"+b);this.getWindow().document.body.appendChild(d)};
var lq=function(){Fe(this);this.xpcOnload=null};
eq.prototype.disposeInternal=function(){eq.superClass_.disposeInternal.call(this);Zb&&hq(0)};var mq=function(a,b,c,d,f){Sp.call(this,c);this.channel_=a;this.protocolVersion_=f||2;this.peerHostname_=b||"*";this.eventHandler_=new en(this);this.maybeAttemptToConnectTimer_=new cn(100,this.getWindow());this.oneSidedHandshake_=!!d;this.setupAckReceived_=new Tp;this.setupAckSent_=new Tp;this.connected_=new Tp;this.endpointId_=Rp(10);this.peerEndpointId_=null;this.oneSidedHandshake_?1==this.channel_.getRole()?this.connected_.awaitDeferred(this.setupAckReceived_):this.connected_.awaitDeferred(this.setupAckSent_):
(this.connected_.awaitDeferred(this.setupAckReceived_),2==this.protocolVersion_&&this.connected_.awaitDeferred(this.setupAckSent_));this.connected_.addCallback(this.notifyConnected_,this);this.connected_.callback(!0);this.eventHandler_.listen(this.maybeAttemptToConnectTimer_,"tick",this.maybeAttemptToConnect_)};
B(mq,Sp);mq.prototype.peerProtocolVersion_=null;mq.prototype.initialized_=!1;mq.prototype.transportType=1;var nq={};mq.prototype.sendTimerId_=0;mq.prototype.couldPeerVersionBe_=function(a){return null==this.peerProtocolVersion_||this.peerProtocolVersion_==a};
var pq=function(a){var b=a.getBrowserEvent().data;if(!v(b))return!1;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return!1;var f=b.substring(0,c);c=b.substring(c+1,d);b=b.substring(d+1);if(d=Pp[f])return d.xpcDeliver(c,b,a.getBrowserEvent().origin),!0;d=oq(b)[0];for(var g in Pp){var h=Pp[g];if(1==h.getRole()&&!h.isConnected()&&"tp"==c&&("SETUP"==d||"SETUP_NTPV2"==d)&&h.isMessageOriginAcceptable(a.getBrowserEvent().origin))return h.updateChannelNameAndCatalog(f),h.xpcDeliver(c,b),!0}return!1};
e=mq.prototype;
e.transportServiceHandler=function(a){var b=oq(a);a=b[1];switch(b[0]){case "SETUP_ACK":this.setPeerProtocolVersion_(1);this.setupAckReceived_.hasFired()||this.setupAckReceived_.callback(!0);break;case "SETUP_ACK_NTPV2":2==this.protocolVersion_&&(this.setPeerProtocolVersion_(2),this.setupAckReceived_.hasFired()||this.setupAckReceived_.callback(!0));break;case "SETUP":this.setPeerProtocolVersion_(1);this.sendSetupAckMessage_(1);break;case "SETUP_NTPV2":2==this.protocolVersion_&&(b=this.peerProtocolVersion_,this.setPeerProtocolVersion_(2),
this.sendSetupAckMessage_(2),1!=b&&null==this.peerEndpointId_||this.peerEndpointId_==a||this.sendSetupMessage_(),this.peerEndpointId_=a)}};
e.sendSetupMessage_=function(){2==this.protocolVersion_&&this.couldPeerVersionBe_(2)&&this.send("tp","SETUP_NTPV2,"+this.endpointId_);this.couldPeerVersionBe_(1)&&this.send("tp","SETUP")};
e.sendSetupAckMessage_=function(a){if(2==this.protocolVersion_&&this.couldPeerVersionBe_(2)&&2==a)this.send("tp","SETUP_ACK_NTPV2");else if(this.couldPeerVersionBe_(1)&&1==a)this.send("tp","SETUP_ACK");else return;this.setupAckSent_.hasFired()||this.setupAckSent_.callback(!0)};
e.setPeerProtocolVersion_=function(a){a>this.peerProtocolVersion_&&(this.peerProtocolVersion_=a);1==this.peerProtocolVersion_&&(this.setupAckSent_.hasFired()||this.oneSidedHandshake_||this.setupAckSent_.callback(!0),this.peerEndpointId_=null)};
e.connect=function(){var a=this.getWindow(),b=Na(a),c=nq[b];Aa(c)||(c=0);0==c&&kl(a.postMessage?a:a.document,"message",pq,!1,mq);nq[b]=c+1;this.initialized_=!0;this.maybeAttemptToConnect_()};
e.maybeAttemptToConnect_=function(){var a=0==this.channel_.getRole();this.oneSidedHandshake_&&a||this.channel_.isConnected()||this.isDisposed()?this.maybeAttemptToConnectTimer_.stop():(this.maybeAttemptToConnectTimer_.start(),this.sendSetupMessage_())};
e.send=function(a,b){var c=this.channel_.getPeerWindowObject();c&&(this.send=function(a,b){var d=this,f=this.channel_.name;this.sendTimerId_=dn(function(){d.sendTimerId_=0;try{var g=c.postMessage?c:c.document;g.postMessage&&g.postMessage(f+"|"+a+":"+b,d.peerHostname_)}catch(l){}},0)},this.send(a,b))};
e.notifyConnected_=function(){this.channel_.notifyConnected(1==this.protocolVersion_||1==this.peerProtocolVersion_?200:void 0)};
e.disposeInternal=function(){if(this.initialized_){var a=this.getWindow(),b=Na(a),c=nq[b];nq[b]=c-1;1==c&&rl(a.postMessage?a:a.document,"message",pq,!1,mq)}this.sendTimerId_&&(r.clearTimeout(this.sendTimerId_),this.sendTimerId_=0);xi(this.eventHandler_);delete this.eventHandler_;xi(this.maybeAttemptToConnectTimer_);delete this.maybeAttemptToConnectTimer_;this.setupAckReceived_.cancel();delete this.setupAckReceived_;this.setupAckSent_.cancel();delete this.setupAckSent_;this.connected_.cancel();delete this.connected_;
delete this.send;mq.superClass_.disposeInternal.call(this)};
var oq=function(a){a=a.split(",");a[1]=a[1]||null;return a};var qq=function(a,b){Sp.call(this,b);this.channel_=a;this.authToken_=a.at||"";this.remoteAuthToken_=a.rat||"";a=this.getWindow();if(!a.nix_setup_complete)try{a.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript"),a.nix_setup_complete=!0}catch(c){}this.GCXPC____NIXJS_handle_message=this.handleMessage_;this.GCXPC____NIXJS_create_channel=this.createChannel_};
B(qq,Sp);e=qq.prototype;e.transportType=6;e.localSetupCompleted_=!1;e.nixChannel_=null;e.connect=function(){0==this.channel_.getRole()?this.attemptOuterSetup_():this.attemptInnerSetup_()};
e.attemptOuterSetup_=function(){if(!this.localSetupCompleted_){var a=this.channel_.getIframeElement();try{a.contentWindow.opener=(0,this.getWindow().GCXPC____NIXVBS_get_wrapper)(this,this.authToken_),this.localSetupCompleted_=!0}catch(b){}this.localSetupCompleted_||this.getWindow().setTimeout(z(this.attemptOuterSetup_,this),100)}};
e.attemptInnerSetup_=function(){if(!this.localSetupCompleted_){try{var a=this.getWindow().opener;if(a&&"GCXPC____NIXVBS_container"in a){this.nixChannel_=a;if(this.nixChannel_.GetAuthToken()!=this.remoteAuthToken_)return;this.nixChannel_.CreateChannel((0,this.getWindow().GCXPC____NIXVBS_get_wrapper)(this,this.authToken_));this.localSetupCompleted_=!0;this.channel_.notifyConnected()}}catch(b){return}this.localSetupCompleted_||this.getWindow().setTimeout(z(this.attemptInnerSetup_,this),100)}};
e.createChannel_=function(a){this.nixChannel_=a;this.nixChannel_.GetAuthToken()==this.remoteAuthToken_&&this.channel_.notifyConnected()};
e.handleMessage_=function(a,b){this.getWindow().setTimeout(z(function(){this.channel_.xpcDeliver(a,b)},this),1)};
e.send=function(a,b){this.nixChannel_.SendMessage(a,b)};
e.disposeInternal=function(){qq.superClass_.disposeInternal.call(this);this.nixChannel_=null};var sq=function(a,b){Mp.call(this);for(var c=0,d;d=Op[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))throw Error("URI "+a[d]+" is invalid for field "+d);this.cfg_=a;this.name=this.cfg_.cn||Rp(10);this.domHelper_=b||pe();this.deferredDeliveries_=[];this.peerLoadHandler_=new en(this);a.lpu=a.lpu||ng(this.domHelper_.getWindow().location.href)+"/robots.txt";a.ppu=a.ppu||ng(a.pu||"")+"/robots.txt";Pp[this.name]=this;tl(window,"unload",rq)||jl(window,"unload",rq)};
B(sq,Mp);var tq=/^%*tp$/,uq=/^%+tp$/;e=sq.prototype;e.connectionDelay_=null;e.peerWindowDeferred_=null;e.transport_=null;e.state_=1;e.isConnected=function(){return 2==this.state_};
e.peerWindowObject_=null;e.iframeElement_=null;e.getConfig=function(){return this.cfg_};
e.getIframeElement=function(){return this.iframeElement_};
e.setPeerWindowObject=function(a){this.peerWindowObject_=a};
e.getPeerWindowObject=function(){return this.peerWindowObject_};
e.isPeerAvailable=function(){try{return!!this.peerWindowObject_&&!this.peerWindowObject_.closed}catch(a){return!1}};
e.determineTransportType_=function(){if(Ja(document.postMessage)||Ja(window.postMessage)||F&&window.postMessage)var a=1;else if(Yb)a=2;else if(F&&this.cfg_.pru)a=3;else{var b;if(b=F){b=!1;try{a=window.opener,window.opener={},b=Tb(window,"opener"),window.opener=a}catch(c){}}a=b?6:0}return a};
e.createTransport_=function(){if(!this.transport_){this.cfg_.tp||(this.cfg_.tp=this.determineTransportType_());if(Ja(this.cfg_.tp))this.transport_=new this.cfg_.tp(this,this.domHelper_);else switch(this.cfg_.tp){case 1:this.transport_=new mq(this,this.cfg_.ph,this.domHelper_,!!this.cfg_.osh,this.cfg_.nativeProtocolVersion||2);break;case 6:this.transport_=new qq(this,this.domHelper_);break;case 2:this.transport_=new cq(this,this.domHelper_);break;case 3:this.transport_=new eq(this,this.domHelper_);
break;case 7:var a;if(a=this.peerWindowObject_)try{a=window.document.domain==this.peerWindowObject_.document.domain}catch(b){a=!1}a&&(this.transport_=new Yp(this,this.domHelper_))}if(!this.transport_)throw Error("CrossPageChannel: No suitable transport found! You may try injecting a Transport constructor directly via the channel config object.");}};
e.getTransportType=function(){return this.transport_.getType()};
e.getTransportName=function(){return this.transport_.getName()};
e.getPeerConfiguration=function(){var a={};a.cn=this.name;a.tp=this.cfg_.tp;a.osh=this.cfg_.osh;this.cfg_.lru&&(a.pru=this.cfg_.lru);this.cfg_.lpu&&(a.ppu=this.cfg_.lpu);this.cfg_.ppu&&(a.lpu=this.cfg_.ppu);var b=this.cfg_.role;b&&(a.role=1==b?0:1);return a};
e.createPeerIframe=function(a,b,c){var d=this.cfg_.ifrid;d||(d=this.cfg_.ifrid="xpcpeer"+Rp(4));var f=pe(a).createElement("IFRAME");f.id=f.name=d;b?b(f):f.style.width=f.style.height="100%";this.cleanUpIncompleteConnection_();this.peerWindowDeferred_=new Tp(void 0,this);var g=this.getPeerUri(c);this.peerLoadHandler_.listenOnceWithScope(f,"load",this.peerWindowDeferred_.callback,!1,this.peerWindowDeferred_);Yb||Zb?window.setTimeout(z(function(){a.appendChild(f);f.src=g.toString()},this),1):(f.src=g.toString(),
a.appendChild(f));
return f};
e.cleanUpIncompleteConnection_=function(){this.peerWindowDeferred_&&(this.peerWindowDeferred_.cancel(),this.peerWindowDeferred_=null);this.deferredDeliveries_.length=0;this.peerLoadHandler_.removeAll()};
e.getPeerUri=function(a){var b=this.cfg_.pu;v(b)&&(b=this.cfg_.pu=new pn(b));!1!==a&&b.setParameterValue("xpc",Bi(this.getPeerConfiguration()));return b};
e.connect=function(a){this.connectCb_=a||Fa;3==this.state_&&(this.state_=1);this.peerWindowDeferred_?this.peerWindowDeferred_.addCallback(this.continueConnection_):this.continueConnection_()};
e.continueConnection_=function(){this.peerWindowDeferred_=null;this.cfg_.ifrid&&(this.iframeElement_=this.domHelper_.getElement(this.cfg_.ifrid));if(this.iframeElement_){var a=this.iframeElement_.contentWindow;a||(a=window.frames[this.cfg_.ifrid]);this.setPeerWindowObject(a)}if(!this.peerWindowObject_){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");this.setPeerWindowObject(window.parent)}this.createTransport_();for(this.transport_.connect();0<this.deferredDeliveries_.length;)this.deferredDeliveries_.shift()()};
e.close=function(){this.cleanUpIncompleteConnection_();this.state_=3;xi(this.transport_);this.connectCb_=this.transport_=null;xi(this.connectionDelay_);this.connectionDelay_=null};
e.notifyConnected=function(a){this.isConnected()||this.connectionDelay_&&this.connectionDelay_.isActive()||(this.state_=2,xi(this.connectionDelay_),u(a)?(this.connectionDelay_=new Lp(this.connectCb_,a),this.connectionDelay_.start()):(this.connectionDelay_=null,this.connectCb_()))};
e.notifyTransportError=function(){this.close()};
e.send=function(a,b){this.isConnected()&&(this.isPeerAvailable()?(Ka(b)&&(b=Bi(b)),this.transport_.send(this.escapeServiceName_(a),b)):this.close())};
e.xpcDeliver=function(a,b,c){this.peerWindowDeferred_?this.deferredDeliveries_.push(z(this.xpcDeliver,this,a,b,c)):this.isMessageOriginAcceptable(c)&&(this.isDisposed()||3==this.state_||(a&&"tp"!=a?this.isConnected()&&this.deliver(this.unescapeServiceName_(a),b):this.transport_.transportServiceHandler(b)))};
e.escapeServiceName_=function(a){tq.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)};
e.unescapeServiceName_=function(a){a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent);return uq.test(a)?a.substring(1):a};
e.getRole=function(){var a=this.cfg_.role;return Aa(a)?a:window.parent==this.peerWindowObject_?1:0};
e.updateChannelNameAndCatalog=function(a){delete Pp[this.name];this.name=a;Pp[a]=this};
e.isMessageOriginAcceptable=function(a){var b=this.cfg_.ph;return qb(null==a?"":String(a))||qb(null==b?"":String(b))||a==this.cfg_.ph};
e.disposeInternal=function(){this.close();this.iframeElement_=this.peerWindowObject_=null;delete Pp[this.name];xi(this.peerLoadHandler_);delete this.peerLoadHandler_;sq.superClass_.disposeInternal.call(this)};
var rq=function(){for(var a in Pp)xi(Pp[a])};var vq=function(a,b,c,d){this.xpcConfig_=a;this.iframeContainerId_=b;this.domHelper_=c;this.connectionCallback_=d;this.delayGenerator_=new Tn(Math.random,5E3,128);this.crossPageChannel_=null};
vq.prototype.createCrossPageChannel=function(){this.crossPageChannel_=new sq(this.xpcConfig_,this.domHelper_||void 0);var a=to(this.iframeContainerId_);this.crossPageChannel_.createPeerIframe(a);dn(this.checkConnectionTimeout_,this.delayGenerator_.getNextDelay()+5E3,this);this.crossPageChannel_.connect(z(function(){this.delayGenerator_.reset();this.connectionCallback_(this.crossPageChannel_)},this))};
var wq=function(a,b){a=Ge(qe(document,a));b=new pn(b);for(var c=0;c<a.length;++c)if("IFRAME"==a[c].tagName){var d=new pn(a[c].src);d.getDomain()==b.getDomain()&&d.getPath()==b.getPath()&&Fe(a[c])}};
vq.prototype.checkConnectionTimeout_=function(){this.crossPageChannel_&&!this.crossPageChannel_.isConnected()&&(this.tearDownIframeAndChannel(),this.createCrossPageChannel())};
vq.prototype.tearDownIframeAndChannel=function(){this.crossPageChannel_&&(this.crossPageChannel_.close(),this.crossPageChannel_=null);wq(this.iframeContainerId_,this.xpcConfig_.pu)};var xq=function(a,b,c,d,f){this.iframeUri=a;this.iframeContainerId=b;this.iframeChannel=c;this.handler=d;this.config=f;this.hasBeenDisposed=!1;this.logger=new Wn("IframedBrowserChannelClient")};
e=xq.prototype;e.isUsingOAuth=function(){return null!=this.authParams&&3===this.authParams.getScheme()};
e.start=function(){this.iframeChannel.start(this.getIframeUri(),this.iframeContainerId,this.onConnect.bind(this))};
e.startHandoff=function(){this.iframeChannel.makeCrossPageCall("sh",[])};
e.onConnect=function(){this.registerServices();this.authParams&&this.updateAuthParams(this.authParams);this.iframeChannel.makeCrossPageCall("s",[])};
e.getIframeUri=function(){var a=new pn(this.iframeUri),b=po(this.config);a.setParameterValue("cfg",b);a.setParameterValue("ctype",this.config.getClientType());(b=this.config.getGapiSrc())&&a.setParameterValue("gapi_src",b);(b=this.config.getServiceOverride())&&a.setParameterValue("service",b);this.isUsingOAuth()&&a.setParameterValue("oauth_token",this.authParams.getToken());this.config.getPageId()&&a.setParameterValue("pageId",this.config.getPageId());return a.toString()};
e.registerServices=function(){this.iframeChannel.registerService("cha",this.channelHandleArray.bind(this),!0);this.iframeChannel.registerService("co",this.channelOpened.bind(this),!0);this.iframeChannel.registerService("cc",this.channelClosed.bind(this),!0);this.iframeChannel.registerService("ce",this.channelError.bind(this),!0);this.iframeChannel.registerService("cse",this.channelStatEvent.bind(this),!0)};
e.close=function(){this.iframeChannel.close();wq(this.iframeContainerId,this.iframeUri)};
e.updateAuthParams=function(a){this.authParams=a;a=mo.serialize(this.authParams);this.iframeChannel.makeCrossPageCall("uap",a)};
e.sendMap=function(a){this.iframeChannel.makeCrossPageCall("sm",a)};
e.tryImmediateReconnectByUserRequest=function(){this.iframeChannel.makeCrossPageCall("tcn",[])};
e.channelOpened=function(){};
e.channelHandleArray=function(a){this.handler.channelHandleArray(a,this)};
e.channelClosed=function(){this.handler.channelClosed(this)};
e.channelError=function(a){this.handler.channelError("object"===typeof a?new In(a[0],a[1]):new In(Number(a),-1),this)};
e.channelStatEvent=function(){};
e.isDisposed=function(){return this.hasBeenDisposed};
e.dispose=function(){this.hasBeenDisposed=!0};var yq=function(a){this.domHelper=a;this.logger=new Wn("XpcIframeChannel")};
e=yq.prototype;e.start=function(a,b,c){var d={};d.pu=a;this.xpcIframeCreator=new vq(d,b,this.domHelper||null,this.onXpcConnect.bind(this,c));this.xpcIframeCreator.createCrossPageChannel()};
e.onXpcConnect=function(a,b){this.crossPageChannel=b;a()};
e.registerService=function(a,b,c){this.crossPageChannel.registerService(a,b,c)};
e.makeCrossPageCall=function(a,b){this.crossPageChannel&&this.crossPageChannel.isConnected()&&this.crossPageChannel.send(a,b||[])};
e.close=function(){this.xpcIframeCreator.tearDownIframeAndChannel();this.crossPageChannel=void 0};var zq=function(a,b,c){Jp.call(this,a,b);this.iframeContainerId=c};
p(zq,Jp);zq.prototype.createBrowserChannel=function(a){return new xq(this.getUri(),this.iframeContainerId,new yq(this.getDomHelper()||void 0),a,this.toConfigProto())};
zq.prototype.getIframeContainerId=function(){return this.iframeContainerId};
zq.prototype.getFirstPartyAuthSchemeAndHash=function(a){return Jp.prototype.getFirstPartyAuthSchemeAndHash.call(this,a)||Kp()};
zq.prototype.isIframed=function(){return!0};var Aq=function(a){this.logger=a};
Aq.prototype.validate=function(a){for(var b=a.getDescriptor(),c=this.getSpecifications()[b.getName()],d=b.getFields(),f=0;f<d.length;++f);for(var g in c){d=c[g];var h=b.findFieldByName(g);for(f=0;f<d.length;++f){if(!d[f](h,a))return!1;for(var k=0;k<a.countOf(h);++k){var l=a.get(h,k);if(l instanceof V&&!this.validate(l))return!1}}}return!0};
Aq.prototype.required=function(a,b){(b=b.has(a))||a.getName();return b};
Aq.prototype.greaterOrEqualTo=function(a,b,c){a=!c.has(b)||c.get(b)>=a;a||(b.getName(),c.get(b));return a};
Aq.prototype.nonEmpty=function(a,b){(b=!b.has(a)||""!=b.get(a))||a.getName();return b};var Bq=function(a){this.logger=a;a=function(){return!0};
var b=this.required.bind(this),c=this.greaterOrEqualTo.bind(this,0),d=this.nonEmpty.bind(this);this.specifications={Version:{major_version:[b,c],minor_version:[b,c]},ProtocolVersion:{version:[b]},ClientVersion:{version:[b],platform:[b],language:[b,d],application_info:[b,d]},ClientToServerMessage:{header:[b],init_endpoint_message:[a],init_session_message:[a],client_data_message_deprecated:[a],send_on_disconnect_message:[a],close_session_message:[a]},ClientHeader:{protocol_version:[b],client_version:[b],
client_time_ms:[b],max_known_server_time_ms:[b],message_id:[a]},SessionId:{service_name:[b,d],session_name:[a]},InitEndpointMessage:{},InitSessionMessage:{session_id:[b],subscriber_info:[a]},CloseSessionMessage:{session_id:[b]},SessionStatusMessage:{session_id:[b],address:[a,d],is_broadcast_to_user:[a],subscriber_info:[a],status:[a]},DataMessage:{session_id:[b],message:[b]},LcsPostmanInvalidation:{signal:[b],session_id:[b],ack_id:[b]},LcsSignal:{subscription_key:[b],message:[b]},LcsSubscriptionKey:{name:[b],
topic_name:[b]},LcsPostmanMessage:{data:[a],trace_id:[a],publish_timestamp_micros:[b],is_suppressor:[a]},ServerToClientMessage:{header:[b],server_data_message:[a],postman_invalidation:[a],channel_status_message:[a],session_status_message:[a]},ServerHeader:{protocol_version:[b],server_time_ms:[b,c],message_id:[a,d]},StatusP:{code:[b],description:[a]},ChannelStatusMessage:{status:[b],jid_resource:[a]}}};
p(Bq,Aq);Bq.prototype.getSpecifications=function(){return this.specifications};
Bq.prototype.isClientMessageValid=function(a){return this.validate(a)};
Bq.prototype.isServerMessageValid=function(a){return!!this.validate(a)};var Cq=function(a,b){this.channel=a;this.serviceName=b;this.isOpen=!1};
e=Cq.prototype;e.toString=function(){return"HangingGetChannel("+this.sessionName+")"};
e.open=function(){this.isOpen=!0;this.channel.sendSubscription(this)};
e.assignName=function(a){this.sessionName=a};
e.assignSubscriberInfo=function(a){this.subscriberInfo=a};
e.getSubscriberInfo=function(){return this.subscriberInfo||null};
e.getServiceName=function(){return this.serviceName};
e.getSessionName=function(){return this.sessionName||null};
var Dq=function(a,b,c){Cq.call(this,a,b);this.sessionHandler=c};
p(Dq,Cq);Dq.prototype.getSessionHandler=function(){return this.sessionHandler};
Dq.prototype.handleAddressAssigned=function(a){this.sessionHandler.onAddressAssigned(this,a)};
Dq.prototype.handleSubscriberInfo=function(){};
var Eq=function(a,b,c){Cq.call(this,a,b);this.sessionHandler=c};
p(Eq,Cq);Eq.prototype.getSessionHandler=function(){return this.sessionHandler};
Eq.prototype.handleAddressAssigned=function(){};
Eq.prototype.handleSubscriberInfo=function(a){this.assignSubscriberInfo(a);this.sessionHandler.onSubscriberInfoAssigned(this,a)};var Fq=function(a,b){this.channelHandler=a;this.channelConfig=b;this.unnamedSessions=[];this.sessions=new Map;this.broadcastSessions=new Map;this.nextChannelReloadTimeMs=0;this.logger=new Wn("HangingGetChannel");this.msgValidator=new Bq(this.logger);this.isOpen=!1;this.authParams=new Nn;this.messageId=this.lastKnownServerTimeMs=0;this.hasBeenDisposed=!1;this.channelConfig.getUseCors()?this.authParams.setScheme(5):(this.authParams.setScheme(2),this.authParams.setOrigin(ng(r.location.href)));a=b.getAuthuser();
0!==a&&this.authParams.setAuthuser(a)};
e=Fq.prototype;e.setOAuthToken=function(a){5!==this.authParams.getScheme()&&(this.authParams.setScheme(3),this.authParams.setToken(a),this.updateAuthParams())};
e.setAppAuthToken=function(a){5!==this.authParams.getScheme()&&(this.authParams.setScheme(4),this.authParams.setToken(a),this.updateAuthParams())};
e.open=function(){this.browserChannel=this.channelConfig.createBrowserChannel(this);this.updateAuthParams();this.browserChannel.start()};
e.maybeReloadChannel=function(){var a=A();a>this.nextChannelReloadTimeMs&&(this.nextChannelReloadTimeMs=a+Math.ceil(18E5*Math.random()),this.close(),this.channelClosed(),this.browserChannel=void 0,this.open())};
e.close=function(){void 0!==this.browserChannel&&this.browserChannel.close()};
e.dispose=function(){this.close();this.hasBeenDisposed=!0};
e.isDisposed=function(){return this.hasBeenDisposed};
e.updateAuthParams=function(){if(Sn.contains(this.authParams.getScheme())){var a=this.channelConfig.getFirstPartyAuthSchemeAndHash(this.authParams.getOrigin());if(null!=a){var b=a.scheme;a=a.hash;a!==this.authParams.getToken()&&(this.authParams.setScheme(Pn[b]),this.authParams.setToken(a))}else this.authParams.setToken("")}this.browserChannel&&this.browserChannel.updateAuthParams(this.authParams)};
e.channelOpened=function(){};
e.handleStatusMessage=function(a){var b=a.getStatus();b=b?b.getCode():null;if(1===b){this.setOpenStatus(!0);var c=n(this.sessions.values());for(b=c.next();!b.done;b=c.next())this.sendSubscription(b.value);c=n(this.unnamedSessions);for(b=c.next();!b.done;b=c.next())this.sendSubscription(b.value);c=n(this.broadcastSessions.values());for(b=c.next();!b.done;b=c.next())this.sendSubscription(b.value);b={};a.hasJidResource()&&(b.jidResource=a.getJidResource());this.channelHandler.onOpen(this,b)}else 4===
b?(this.setOpenStatus(!1),this.browserChannel.startHandoff()):5===b&&this.maybeReloadChannel()};
e.handleSessionStatusMessage=function(a){var b=a.getSessionId();if(null!=b){var c=b.getSessionName();if(null!=c){var d=this.getSession(b);if(null==d)for(var f=0;f<this.unnamedSessions.length;++f){var g=this.unnamedSessions[f],h=b.getServiceName();if(g.getServiceName()===h){d=g;d.assignName(c);this.unnamedSessions.splice(f,1);a.getIsBroadcastToUserOrDefault()?this.broadcastSessions.has(h)||this.broadcastSessions.set(h,d):this.sessions.set(d.getSessionName(),d);break}}if(null!=d)if(a.hasStatus()&&1!==
a.getStatus().getCode()){if(b.getServiceName(),a.getStatus().getDescription(),b=d.getSessionHandler(),null!=b.onSessionError)b.onSessionError(d,{isTransient:!1,description:a.getStatus().getDescription()||""})}else a.getAddress(),b.getSessionName(),b.getServiceName(),d.handleAddressAssigned(a.getAddress()),a.hasSubscriberInfo()&&d.handleSubscriberInfo(a.getSubscriberInfo())}}};
e.channelHandleArray=function(a){a=n(a);for(var b=a.next();!b.done;b=a.next())if(b=b.value.p)if(b=this.deserializeMessage(b),null!=b&&this.msgValidator.isServerMessageValid(b)&&b.hasHeader()){var c=b.getHeader().getServerTimeMs();this.lastKnownServerTimeMs=c?Math.max(this.lastKnownServerTimeMs,c):this.lastKnownServerTimeMs;b.hasChannelStatusMessage()&&this.handleStatusMessage(b.getChannelStatusMessage());b.hasSessionStatusMessage()&&(c=b.getSessionStatusMessage(),this.handleSessionStatusMessage(c));
if(b.hasServerDataMessage()){c=b.getServerDataMessage();var d=c.getSessionId();d=d?this.getSession(d):null;if(null==d)continue;else if(d instanceof Eq)continue;d.getSessionHandler().receive(d,c.getMessage())}b.hasPostmanInvalidation()&&(b=b.getPostmanInvalidation(),c=(c=b.getSessionId())?this.getSession(c):null,null==c||c instanceof Dq||c.getSessionHandler().receivePostmanInvalidation(c,b))}};
e.channelError=function(a){this.updateAuthParams();this.channelHandler.onError(this,a)};
e.channelClosed=function(){this.setOpenStatus(!1);this.channelHandler.onClose(this)};
e.channelStatEvent=function(){};
e.setOpenStatus=function(a){this.isOpen=a};
e.newSession=function(a,b){a=new Dq(this,a,b);this.unnamedSessions.push(a);return a};
e.newPostmanSession=function(a,b){a=new Eq(this,a,b);this.unnamedSessions.push(a);return a};
e.tryImmediateReconnectByUserRequest=function(){this.browserChannel&&this.browserChannel.tryImmediateReconnectByUserRequest()};
e.getSession=function(a){var b=this.sessions.get(a.getSessionName());null==b&&(b=this.broadcastSessions.get(a.getServiceName()));return b};
e.sendSubscription=function(a){this.isOpen&&(a=Ip(a.getServiceName(),a.getSessionName(),a.getSubscriberInfo()),this.sendMessageToServer(a))};
e.sendNoOp=function(){this.sendMessageToServer(void 0)};
e.sendMessageToServer=function(a){var b="c"+ ++this.messageId,c=A(),d=this.lastKnownServerTimeMs,f=new Ho;f.setProtocolVersion(ip);f.setClientTimeMs(c);f.setMaxKnownServerTimeMs(d);f.setMessageId(b);f.setClientVersion(Gp(Fp,"JS","lcsclient"));b=new Fo;b.setHeader(f);a instanceof Jo?b.setInitEndpointMessage(a):a instanceof Lo?b.setInitSessionMessage(a):a instanceof No&&b.setCloseSessionMessage(a);this.msgValidator.isClientMessageValid(b)&&(a={},f=po(b),a.p=f,this.browserChannel.sendMap(a))};
e.deserializeMessage=function(a){var b=To.getDescriptor();return so(b,a,this.logger)};var Gq=function(a,b,c){c=void 0===c?new yq(b.getDomHelper()||void 0):c;this.channelHandler=a;this.channelConfig=b;this.iframeChannel=c;this.authParams=new Nn;this.unnamedSessions=[];this.sessions=new Map;this.broadcastSessions=new Map;this.hasBeenDisposed=this.isConnectedToWorker=!1;this.nextChannelReloadTimeMs=0;this.clientLogger=new Wn("SharedChannelClient");this.delayGenerator=new Tn(Math.random,1E4,100);this.authParams.setOrigin(ng(r.location.href));this.authParams.setScheme(2);a=b.getAuthuser();
null!=a&&this.authParams.setAuthuser(a)};
e=Gq.prototype;e.setOAuthToken=function(){};
e.setAppAuthToken=function(){};
e.getIframeUri=function(){var a=new pn(this.channelConfig.getUri()),b=po(this.channelConfig.toConfigProto());a.setParameterValue("cfg",b);a.setParameterValue("ctype",this.channelConfig.getClientType());a.setParameterValue("sw",!0);return a.toString()};
e.open=function(){this.iframeUri=this.getIframeUri();this.iframeChannel.start(this.iframeUri,this.channelConfig.getIframeContainerId(),this.onXpcConnect.bind(this))};
e.onXpcConnect=function(){this.iframeChannel.registerService("sw2c",this.channelHandleMessage.bind(this),!1);this.sendAuthParams()};
e.newSession=function(a,b){a=new Dq(this,a,b);this.unnamedSessions.push(a);return a};
e.newPostmanSession=function(a,b){a=new Eq(this,a,b);this.unnamedSessions.push(a);return a};
e.tryImmediateReconnectByUserRequest=function(){this.sendConfig()};
e.dispose=function(){this.close();this.hasBeenDisposed=!0};
e.isDisposed=function(){return this.hasBeenDisposed};
e.close=function(){this.iframeChannel.close();this.setConnectedToWorker(!1);this.channelHandler.onClose(this)};
e.setConnectedToWorker=function(a){this.isConnectedToWorker=a};
e.updateAuthParams=function(){var a=this.channelConfig.getFirstPartyAuthSchemeAndHash(this.authParams.getOrigin());if(null!=a){var b=a.scheme;a=a.hash;a!==this.authParams.getToken()&&(this.authParams.setScheme(Pn[b]),this.authParams.setToken(a))}else this.authParams.setToken("")};
e.sendAuthParams=function(){this.updateAuthParams();var a=new mp;a.setAuthParams(this.authParams);this.send(a)};
e.sendConfig=function(){var a=new mp;a.setBrowserChannelConfig(this.channelConfig.toConfigProto());this.send(a)};
e.sharedWorkerCreated=function(){var a=this,b=this.delayGenerator.getNextDelay()+1E4;dn(function(){a.isConnectedToWorker?a.delayGenerator.reset():(a.close(),a.open())},b)};
e.sharedWorkerStarted=function(){this.setConnectedToWorker(!0);for(var a=n(this.sessions.values()),b=a.next();!b.done;b=a.next())this.sendSubscription(b.value);a=n(this.unnamedSessions);for(b=a.next();!b.done;b=a.next())this.sendSubscription(b.value);a=n(this.broadcastSessions.values());for(b=a.next();!b.done;b=a.next())this.sendSubscription(b.value)};
e.sendSubscription=function(a){if(this.isConnectedToWorker){a=Ip(a.getServiceName(),a.getSessionName(),a.getSubscriberInfo());var b=new mp;b.setInitSessionMessage(a);this.send(b)}};
e.send=function(a){a=po(a);this.iframeChannel.makeCrossPageCall("c2sw",a)};
e.getSession=function(a){var b=this.sessions.get(a.getSessionName());null==b&&(b=this.broadcastSessions.get(a.getServiceName()));return b};
e.channelHandleMessage=function(a){var b=op.getDescriptor();a=so(b,a,null);if(null!=a)if(a.hasDataMessage())this.handleDataMessage(a.getDataMessage());else if(a.hasPostmanInvalidation())this.handlePostmanInvalidation(a.getPostmanInvalidation());else if(a.hasConfigRequestMessage())this.sendConfig();else if(a.hasSessionStatusMessage())this.handleSessionStatusMessage(a.getSessionStatusMessage());else if(a.hasChannelStatusMessage())this.handleChannelStatusMessage(a.getChannelStatusMessage());else if(a.hasChannelStatMessage())this.handleChannelStatMessage(a.getChannelStatMessage());
else if(a.hasAuthParamsRequestMessage())this.sendAuthParams();else if(a.hasSharedWorkerEventMessage()){if(a=a.getSharedWorkerEventMessage(),a.hasEvent())switch(a.getEvent()){case 1:this.sharedWorkerCreated();break;case 2:this.sharedWorkerStarted(a.getConnectionCount())}}else if(a.hasBrowserChannelClosedMessage())this.channelHandler.onClose(this);else a.hasBrowserChannelErrorMessage()&&(this.sendAuthParams(),a=a.getBrowserChannelErrorMessage(),a=new In(a.getBrowserChannelErrorCode(),a.getLastHttpStatusCode()),
this.channelHandler.onError(this,a))};
e.handleDataMessage=function(a){var b=a.getSessionId();b=this.getSession(b);null==b||b instanceof Eq||b.getSessionHandler().receive(b,a.getMessage())};
e.handlePostmanInvalidation=function(a){var b=a.getSessionId();b=this.getSession(b);null==b||b instanceof Dq||b.getSessionHandler().receivePostmanInvalidation(b,a)};
e.handleSessionStatusMessage=function(a){var b=a.getSessionId();if(null!=b){var c=b.getSessionName();if(null!=c){var d=this.getSession(b);if(null==d)for(var f=0;f<this.unnamedSessions.length;++f){var g=this.unnamedSessions[f],h=b.getServiceName();if(g.getServiceName()===h){d=g;d.assignName(c);this.unnamedSessions.splice(f,1);a.getIsBroadcastToUserOrDefault()?this.broadcastSessions.has(h)||this.broadcastSessions.set(h,d):this.sessions.set(d.getSessionName(),d);break}}if(a.hasStatus()&&1!==a.getStatus().getCode()){if(b.getServiceName(),
a.getStatus().getDescription(),b=d.getSessionHandler(),null!=b.onSessionError)b.onSessionError(d,{isTransient:!1,description:a.getStatus().getDescription()||""})}else a.getAddress(),b.getSessionName(),b.getServiceName(),d.handleAddressAssigned(a.getAddress()),a.hasSubscriberInfo()&&(a=a.getSubscriberInfo(),d.handleSubscriberInfo(a))}}};
e.handleChannelStatusMessage=function(a){var b=a.getStatus();b=b?b.getCode():null;1===b?(b={},a.hasJidResource()&&(b.jidResource=a.getJidResource()),this.channelHandler.onOpen(this,b)):4!==b&&5===b&&this.maybeReloadChannel()};
e.handleChannelStatMessage=function(a){a.getStat()};
e.maybeReloadChannel=function(){var a=A();a>this.nextChannelReloadTimeMs&&(this.nextChannelReloadTimeMs=a+Math.ceil(18E5*Math.random()),this.close(),this.open())};var Hq=function(a,b){return a.shouldUseSharedChannel()?new Gq(b,a):new Fq(b,a)};var Iq=null;var Jq=function(){var a=r.performance;return a&&a.now&&a.timing?Math.floor(a.now()+a.timing.navigationStart):A()},Kq=function(a){a=void 0===a?r:a;
return(a=a.performance)&&a.now?a.now():null};var Lq=function(a,b,c,d,f){this.label=a;this.type=b;this.value=c;this.duration=void 0===d?0:d;this.uniqueId=this.label+"_"+this.type+"_"+Math.random();this.slotId=f};var Mq=r.performance,Nq=!!(Mq&&Mq.mark&&Mq.measure&&Mq.clearMarks),Oq=nd(function(){var a;if(a=Nq){var b;if(null===Iq){Iq="";try{a="";try{a=r.top.location.hash}catch(c){a=r.location.hash}a&&(Iq=(b=a.match(/\bdeid=([\d,]+)/))?b[1]:"")}catch(c){}}b=Iq;a=!!b.indexOf&&0<=b.indexOf("1337")}return a}),Pq=function(a,b){this.events=[];
this.installedWindow=b||r;var c=null;b&&(b.google_js_reporting_queue=b.google_js_reporting_queue||[],this.events=b.google_js_reporting_queue,c=b.google_measure_js_timing);this.collectionEnabled=Oq()||(null!=c?c:Math.random()<a)};
Pq.prototype.disable=function(){this.collectionEnabled=!1;this.events!=this.installedWindow.google_js_reporting_queue&&(Oq()&&C(this.events,Qq),this.events.length=0)};
Pq.prototype.recordEvent=function(a){this.collectionEnabled&&this.events.push(a)};
var Qq=function(a){a&&Mq&&Oq()&&(Mq.clearMarks("goog_"+a.uniqueId+"_start"),Mq.clearMarks("goog_"+a.uniqueId+"_end"))};
e=Pq.prototype;e.recordValue=function(a,b,c,d,f){this.collectionEnabled&&this.recordEvent(new Lq(a,b,c,void 0===d?0:d,f))};
e.start=function(a,b){if(!this.collectionEnabled)return null;var c=Kq()||Jq();a=new Lq(a,b,c);b="goog_"+a.uniqueId+"_start";Mq&&Oq()&&Mq.mark(b);return a};
e.end=function(a){if(this.collectionEnabled&&Aa(a.value)){var b=Kq()||Jq();a.duration=b-a.value;b="goog_"+a.uniqueId+"_end";Mq&&Oq()&&Mq.mark(b);this.recordEvent(a)}};
e.instant=function(a,b,c){var d=Kq();d&&this.recordValue(a,b,d,0,c)};
e.measureExecutionTime=function(a,b){if(!this.collectionEnabled)return b();a=String(a);a=this.start(a,3);try{var c=b()}catch(d){throw Qq(a),d;}this.end(a);return c};
e.timedFunction=function(a,b,c){var d=this;return function(f){for(var g=[],h=0;h<arguments.length;++h)g[h-0]=arguments[h];return d.measureExecutionTime(a,function(){return b.apply(c,g)})}};var Rq;if(lf&&!af(mf)){var Sq="."+Ta.domain;try{for(;2<Sq.split(".").length&&!af(mf);)Ta.domain=Sq=Sq.substr(Sq.indexOf(".")+1),mf=window.parent}catch(a){}af(mf)||(mf=window)}Rq=mf;var Tq=new Pq(1,Rq),Uq=function(a){null!=a&&(Rq.google_measure_js_timing=a);Rq.google_measure_js_timing||Tq.disable()};
if("complete"==Rq.document.readyState)Uq();else if(Tq.collectionEnabled){var Vq=function(){Uq()};
Rq.addEventListener&&Rq.addEventListener("load",Vq,!1)};var Wq={GCM:1,PROBER:2,GCM_STAGING:3,GCM_DEV:4,CHIME_DEV:5,CHIME_AUTOPUSH:6,CHIME_DAILY:7,CHIME_PREPROD:8,CHIME_PROD:9,TASK:10,WEB:11,WEB_ANON:13,LOAD_TEST:12};var Xq=function(){V.call(this)};
B(Xq,V);var Yq=null;e=Xq.prototype;e.getTopicName=function(){return this.get$Value(1)};
e.getTopicNameOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setTopicName=function(a){this.set$Value(1,a)};
e.hasTopicName=function(){return this.has$Value(1)};
e.topicNameCount=function(){return this.count$Values(1)};
e.clearTopicName=function(){this.clear$Field(1)};
e.getSubscriber=function(){return this.get$Value(3)};
e.getSubscriberOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setSubscriber=function(a){this.set$Value(3,a)};
e.hasSubscriber=function(){return this.has$Value(3)};
e.subscriberCount=function(){return this.count$Values(3)};
e.clearSubscriber=function(){this.clear$Field(3)};
e.getKind=function(){return this.get$Value(4)};
e.getKindOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setKind=function(a){this.set$Value(4,a)};
e.hasKind=function(){return this.has$Value(4)};
e.kindCount=function(){return this.count$Values(4)};
e.clearKind=function(){this.clear$Field(4)};
e.getSubscriptionName=function(){return this.get$Value(5)};
e.getSubscriptionNameOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setSubscriptionName=function(a){this.set$Value(5,a)};
e.hasSubscriptionName=function(){return this.has$Value(5)};
e.subscriptionNameCount=function(){return this.count$Values(5)};
e.clearSubscriptionName=function(){this.clear$Field(5)};
var Zq=function(){V.call(this)};
B(Zq,V);var $q=null;e=Zq.prototype;e.getSubscription=function(){return this.get$Value(1)};
e.getSubscriptionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setSubscription=function(a){this.set$Value(1,a)};
e.hasSubscription=function(){return this.has$Value(1)};
e.subscriptionCount=function(){return this.count$Values(1)};
e.clearSubscription=function(){this.clear$Field(1)};
e.getIsPrivatePerUser=function(){return this.get$Value(2)};
e.getIsPrivatePerUserOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setIsPrivatePerUser=function(a){this.set$Value(2,a)};
e.hasIsPrivatePerUser=function(){return this.has$Value(2)};
e.isPrivatePerUserCount=function(){return this.count$Values(2)};
e.clearIsPrivatePerUser=function(){this.clear$Field(2)};
var ar=function(){V.call(this)};
B(ar,V);var br=null;e=ar.prototype;e.getCommitTimestamp=function(){return this.get$Value(1)};
e.getCommitTimestampOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setCommitTimestamp=function(a){this.set$Value(1,a)};
e.hasCommitTimestamp=function(){return this.has$Value(1)};
e.commitTimestampCount=function(){return this.count$Values(1)};
e.clearCommitTimestamp=function(){this.clear$Field(1)};
e.getFullTopicName=function(){return this.get$Value(2)};
e.getFullTopicNameOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setFullTopicName=function(a){this.set$Value(2,a)};
e.hasFullTopicName=function(){return this.has$Value(2)};
e.fullTopicNameCount=function(){return this.count$Values(2)};
e.clearFullTopicName=function(){this.clear$Field(2)};
var cr=function(){V.call(this)};
B(cr,V);var dr=null;e=cr.prototype;e.getSubscription=function(){return this.get$Value(1)};
e.getSubscriptionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setSubscription=function(a){this.set$Value(1,a)};
e.hasSubscription=function(){return this.has$Value(1)};
e.subscriptionCount=function(){return this.count$Values(1)};
e.clearSubscription=function(){this.clear$Field(1)};
var er=function(){V.call(this)};
B(er,V);var fr=null,gr=function(){V.call(this)};
B(gr,V);var hr=null;e=gr.prototype;e.getId=function(){return this.get$Value(1)};
e.getIdOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setId=function(a){this.set$Value(1,a)};
e.hasId=function(){return this.has$Value(1)};
e.idCount=function(){return this.count$Values(1)};
e.clearId=function(){this.clear$Field(1)};
var ir=function(){V.call(this)};
B(ir,V);var jr=null;e=ir.prototype;e.getAcknowledgment=function(){return this.get$Value(1)};
e.getAcknowledgmentOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setAcknowledgment=function(a){this.set$Value(1,a)};
e.hasAcknowledgment=function(){return this.has$Value(1)};
e.acknowledgmentCount=function(){return this.count$Values(1)};
e.clearAcknowledgment=function(){this.clear$Field(1)};
e.getAck=function(a){return this.get$Value(2,a)};
e.getAckOrDefault=function(a){return this.get$ValueOrDefault(2,a)};
e.addAck=function(a){this.add$Value(2,a)};
e.ackArray=function(){return this.array$Values(2)};
e.hasAck=function(){return this.has$Value(2)};
e.ackCount=function(){return this.count$Values(2)};
e.clearAck=function(){this.clear$Field(2)};
var kr=function(){V.call(this)};
B(kr,V);var lr=null;Xq.prototype.getDescriptor=function(){var a=Yq;a||(Yq=a=W(Xq,{0:{name:"Subscription",fullName:"ipc.invalidation.doorman.Subscription"},1:{name:"topic_name",fieldType:9,type:String},3:{name:"subscriber",fieldType:12,type:String},4:{name:"kind",fieldType:14,defaultValue:1,type:Wq},5:{name:"subscription_name",fieldType:12,type:String}}));return a};
Xq.getDescriptor=Xq.prototype.getDescriptor;Zq.prototype.getDescriptor=function(){var a=$q;a||($q=a=W(Zq,{0:{name:"SubscribeRequest",fullName:"ipc.invalidation.doorman.SubscribeRequest"},1:{name:"subscription",fieldType:11,type:Xq},2:{name:"is_private_per_user",fieldType:8,type:Boolean}}));return a};
Zq.getDescriptor=Zq.prototype.getDescriptor;ar.prototype.getDescriptor=function(){var a=br;a||(br=a=W(ar,{0:{name:"SubscribeResponse",fullName:"ipc.invalidation.doorman.SubscribeResponse"},1:{name:"commit_timestamp",fieldType:3,type:String},2:{name:"full_topic_name",fieldType:9,type:String}}));return a};
ar.getDescriptor=ar.prototype.getDescriptor;cr.prototype.getDescriptor=function(){var a=dr;a||(dr=a=W(cr,{0:{name:"UnsubscribeRequest",fullName:"ipc.invalidation.doorman.UnsubscribeRequest"},1:{name:"subscription",fieldType:11,type:Xq}}));return a};
cr.getDescriptor=cr.prototype.getDescriptor;er.prototype.getDescriptor=function(){var a=fr;a||(fr=a=W(er,{0:{name:"UnsubscribeResponse",fullName:"ipc.invalidation.doorman.UnsubscribeResponse"}}));return a};
er.getDescriptor=er.prototype.getDescriptor;gr.prototype.getDescriptor=function(){var a=hr;a||(hr=a=W(gr,{0:{name:"Acknowledgment",fullName:"ipc.invalidation.doorman.Acknowledgment"},1:{name:"id",fieldType:9,type:String}}));return a};
gr.getDescriptor=gr.prototype.getDescriptor;ir.prototype.getDescriptor=function(){var a=jr;a||(jr=a=W(ir,{0:{name:"AcknowledgeRequest",fullName:"ipc.invalidation.doorman.AcknowledgeRequest"},1:{name:"acknowledgment",fieldType:11,type:gr},2:{name:"ack",repeated:!0,fieldType:11,type:gr}}));return a};
ir.getDescriptor=ir.prototype.getDescriptor;kr.prototype.getDescriptor=function(){var a=lr;a||(lr=a=W(kr,{0:{name:"AcknowledgeResponse",fullName:"ipc.invalidation.doorman.AcknowledgeResponse"}}));return a};
kr.getDescriptor=kr.prototype.getDescriptor;var mr=function(a){Sc(this,a,0,-1,null,null)};
B(mr,Nc);mr.prototype.toObject=function(a){return nr(a,this)};
var nr=function(a,b){var c={typeUrl:Wc(b,1,""),value:b.getValue_asB64()};a&&(c.$jspbMessageInstance=b);return c};
mr.prototype.serializeBinary=function(){var a=new Mc;or(this,a);return a.getResultBuffer()};
var or=function(a,b){var c=a.getTypeUrl();0<c.length&&b.writeString(1,c);c=a.getValue_asU8();0<c.length&&b.writeBytes(2,c)};
e=mr.prototype;e.getTypeUrl=function(){return Wc(this,1,"")};
e.setTypeUrl=function(a){Xc(this,1,a,"")};
e.getValue=function(){return Wc(this,2,"")};
e.getValue_asB64=function(){var a=this.getValue();null==a||v(a)||(Oc&&a instanceof Uint8Array?a=xc(a):(Ha(a),a=null));return a};
e.getValue_asU8=function(){var a=this.getValue();null==a||a instanceof Uint8Array||(v(a)?a=zc(a):(Ha(a),a=null));return a};
e.setValue=function(a){Xc(this,2,a,"")};
e.getTypeName=function(){return this.getTypeUrl().split("/").pop()};
e.pack=function(a,b,c){c||(c="type.googleapis.com/");"/"!=c.substr(-1)?this.setTypeUrl(c+"/"+b):this.setTypeUrl(c+b);this.setValue(a)};
e.packJspb=function(a,b,c){c||(c="type.googleapis.com/");"/"!=c.substr(-1)?this.setTypeUrl(c+"/"+b):this.setTypeUrl(c+b);J(this,2,a.toArray())};
e.unpack=function(a,b){return this.getTypeName()==b?a(this.getValue_asU8()):null};
e.unpackJspbCompat=function(a,b,c){return this.getTypeName()==c?(c=I(this,2),Array.isArray(c)?new a(c):b(this.getValue_asU8())):null};
e.unpackJspb=function(a,b){return this.getTypeName()==b?(b=Wc(this,2,[]),new a(b)):null};var qr=function(a){Sc(this,a,0,-1,pr,null)};
B(qr,Nc);var pr=[3];e=qr.prototype;e.toObject=function(a){var b={code:Wc(this,1,0),message:Wc(this,2,""),detailsList:Tc(this.getDetailsList(),nr,a)};a&&(b.$jspbMessageInstance=this);return b};
e.serializeBinary=function(){var a=new Mc;var b=this.getCode();0!==b&&a.writeInt32(1,b);b=this.getMessage();0<b.length&&a.writeString(2,b);b=this.getDetailsList();0<b.length&&a.writeRepeatedMessage(3,b,or);return a.getResultBuffer()};
e.getCode=function(){return Wc(this,1,0)};
e.setCode=function(a){Xc(this,1,a,0)};
e.getMessage=function(){return Wc(this,2,"")};
e.setMessage=function(a){Xc(this,2,a,"")};
e.getDetailsList=function(){return ad(this,mr,3)};
e.setDetailsList=function(a){dd(this,3,a)};
e.addDetails=function(a,b){return ed(this,3,a,mr,b)};
e.clearDetailsList=function(){this.setDetailsList([])};var rr=function(a,b,c,d,f){a=new pn(a);0!=b&&a.setParameterValue("authuser",b);null!=c&&a.setParameterValue("pageId",c);null!=d&&a.setParameterValue("service",d);this.servletUri=a.toString();this.handler=f;this.nextRequestId=0};
rr.prototype.start=function(){this.handler.onReady()};
rr.prototype.send=function(a,b,c){var d=new pn(this.servletUri),f;for(f in c)d.setParameterValue(f,c[f]);Dn(d.toString(),z(this.handleSendResult_,this,this.nextRequestId++),"POST",a,b,void 0,!0)};
rr.prototype.handleSendResult_=function(a,b){b=b.target;if(b.isSuccess())this.handler.onSuccess(a);else this.handler.onFailure(a,b.getResponseText())};var sr=function(){V.call(this)};
B(sr,V);var tr=null;e=sr.prototype;e.getMajorVersion=function(){return this.get$Value(1)};
e.getMajorVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setMajorVersion=function(a){this.set$Value(1,a)};
e.hasMajorVersion=function(){return this.has$Value(1)};
e.majorVersionCount=function(){return this.count$Values(1)};
e.clearMajorVersion=function(){this.clear$Field(1)};
e.getMinorVersion=function(){return this.get$Value(2)};
e.getMinorVersionOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setMinorVersion=function(a){this.set$Value(2,a)};
e.hasMinorVersion=function(){return this.has$Value(2)};
e.minorVersionCount=function(){return this.count$Values(2)};
e.clearMinorVersion=function(){this.clear$Field(2)};
var ur=function(){V.call(this)};
B(ur,V);var vr=null;e=ur.prototype;e.getVersion=function(){return this.get$Value(1)};
e.getVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setVersion=function(a){this.set$Value(1,a)};
e.hasVersion=function(){return this.has$Value(1)};
e.versionCount=function(){return this.count$Values(1)};
e.clearVersion=function(){this.clear$Field(1)};
var wr=function(){V.call(this)};
B(wr,V);var xr=null;e=wr.prototype;e.getVersion=function(){return this.get$Value(1)};
e.getVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setVersion=function(a){this.set$Value(1,a)};
e.hasVersion=function(){return this.has$Value(1)};
e.versionCount=function(){return this.count$Values(1)};
e.clearVersion=function(){this.clear$Field(1)};
e.getPlatform=function(){return this.get$Value(2)};
e.getPlatformOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setPlatform=function(a){this.set$Value(2,a)};
e.hasPlatform=function(){return this.has$Value(2)};
e.platformCount=function(){return this.count$Values(2)};
e.clearPlatform=function(){this.clear$Field(2)};
e.getLanguage=function(){return this.get$Value(3)};
e.getLanguageOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setLanguage=function(a){this.set$Value(3,a)};
e.hasLanguage=function(){return this.has$Value(3)};
e.languageCount=function(){return this.count$Values(3)};
e.clearLanguage=function(){this.clear$Field(3)};
e.getApplicationInfo=function(){return this.get$Value(4)};
e.getApplicationInfoOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setApplicationInfo=function(a){this.set$Value(4,a)};
e.hasApplicationInfo=function(){return this.has$Value(4)};
e.applicationInfoCount=function(){return this.count$Values(4)};
e.clearApplicationInfo=function(){this.clear$Field(4)};
var yr=function(){V.call(this)};
B(yr,V);var zr=null;e=yr.prototype;e.getCode=function(){return this.get$Value(1)};
e.getCodeOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setCode=function(a){this.set$Value(1,a)};
e.hasCode=function(){return this.has$Value(1)};
e.codeCount=function(){return this.count$Values(1)};
e.clearCode=function(){this.clear$Field(1)};
e.getDescription=function(){return this.get$Value(2)};
e.getDescriptionOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setDescription=function(a){this.set$Value(2,a)};
e.hasDescription=function(){return this.has$Value(2)};
e.descriptionCount=function(){return this.count$Values(2)};
e.clearDescription=function(){this.clear$Field(2)};
var Ar={SUCCESS:1,TRANSIENT_FAILURE:2,PERMANENT_FAILURE:3},Br=function(){V.call(this)};
B(Br,V);var Cr=null;e=Br.prototype;e.getSource=function(){return this.get$Value(1)};
e.getSourceOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setSource=function(a){this.set$Value(1,a)};
e.hasSource=function(){return this.has$Value(1)};
e.sourceCount=function(){return this.count$Values(1)};
e.clearSource=function(){this.clear$Field(1)};
e.getName=function(){return this.get$Value(2)};
e.getNameOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setName=function(a){this.set$Value(2,a)};
e.hasName=function(){return this.has$Value(2)};
e.nameCount=function(){return this.count$Values(2)};
e.clearName=function(){this.clear$Field(2)};
var Dr=function(){V.call(this)};
B(Dr,V);var Er=null;e=Dr.prototype;e.getClientType=function(){return this.get$Value(1)};
e.getClientTypeOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setClientType=function(a){this.set$Value(1,a)};
e.hasClientType=function(){return this.has$Value(1)};
e.clientTypeCount=function(){return this.count$Values(1)};
e.clearClientType=function(){this.clear$Field(1)};
e.getClientName=function(){return this.get$Value(2)};
e.getClientNameOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setClientName=function(a){this.set$Value(2,a)};
e.hasClientName=function(){return this.has$Value(2)};
e.clientNameCount=function(){return this.count$Values(2)};
e.clearClientName=function(){this.clear$Field(2)};
var Fr=function(){V.call(this)};
B(Fr,V);var Gr=null;e=Fr.prototype;e.getObjectId=function(){return this.get$Value(1)};
e.getObjectIdOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setObjectId=function(a){this.set$Value(1,a)};
e.hasObjectId=function(){return this.has$Value(1)};
e.objectIdCount=function(){return this.count$Values(1)};
e.clearObjectId=function(){this.clear$Field(1)};
e.getIsKnownVersion=function(){return this.get$Value(2)};
e.getIsKnownVersionOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setIsKnownVersion=function(a){this.set$Value(2,a)};
e.hasIsKnownVersion=function(){return this.has$Value(2)};
e.isKnownVersionCount=function(){return this.count$Values(2)};
e.clearIsKnownVersion=function(){this.clear$Field(2)};
e.getVersion=function(){return this.get$Value(3)};
e.getVersionOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setVersion=function(a){this.set$Value(3,a)};
e.hasVersion=function(){return this.has$Value(3)};
e.versionCount=function(){return this.count$Values(3)};
e.clearVersion=function(){this.clear$Field(3)};
e.getIsTrickleRestart=function(){return this.get$Value(6)};
e.getIsTrickleRestartOrDefault=function(){return this.get$ValueOrDefault(6)};
e.setIsTrickleRestart=function(a){this.set$Value(6,a)};
e.hasIsTrickleRestart=function(){return this.has$Value(6)};
e.isTrickleRestartCount=function(){return this.count$Values(6)};
e.clearIsTrickleRestart=function(){this.clear$Field(6)};
e.getPayload=function(){return this.get$Value(4)};
e.getPayloadOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setPayload=function(a){this.set$Value(4,a)};
e.hasPayload=function(){return this.has$Value(4)};
e.payloadCount=function(){return this.count$Values(4)};
e.clearPayload=function(){this.clear$Field(4)};
var Hr=function(){V.call(this)};
B(Hr,V);var Ir=null;e=Hr.prototype;e.getObjectId=function(){return this.get$Value(1)};
e.getObjectIdOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setObjectId=function(a){this.set$Value(1,a)};
e.hasObjectId=function(){return this.has$Value(1)};
e.objectIdCount=function(){return this.count$Values(1)};
e.clearObjectId=function(){this.clear$Field(1)};
e.getOpType=function(){return this.get$Value(2)};
e.getOpTypeOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setOpType=function(a){this.set$Value(2,a)};
e.hasOpType=function(){return this.has$Value(2)};
e.opTypeCount=function(){return this.count$Values(2)};
e.clearOpType=function(){this.clear$Field(2)};
var Jr={REGISTER:1,UNREGISTER:2},Kr=function(){V.call(this)};
B(Kr,V);var Lr=null;e=Kr.prototype;e.getNumRegistrations=function(){return this.get$Value(1)};
e.getNumRegistrationsOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setNumRegistrations=function(a){this.set$Value(1,a)};
e.hasNumRegistrations=function(){return this.has$Value(1)};
e.numRegistrationsCount=function(){return this.count$Values(1)};
e.clearNumRegistrations=function(){this.clear$Field(1)};
e.getRegistrationDigest=function(){return this.get$Value(2)};
e.getRegistrationDigestOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setRegistrationDigest=function(a){this.set$Value(2,a)};
e.hasRegistrationDigest=function(){return this.has$Value(2)};
e.registrationDigestCount=function(){return this.count$Values(2)};
e.clearRegistrationDigest=function(){this.clear$Field(2)};
var Mr=function(){V.call(this)};
B(Mr,V);var Nr=null;e=Mr.prototype;e.getProtocolVersion=function(){return this.get$Value(1)};
e.getProtocolVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setProtocolVersion=function(a){this.set$Value(1,a)};
e.hasProtocolVersion=function(){return this.has$Value(1)};
e.protocolVersionCount=function(){return this.count$Values(1)};
e.clearProtocolVersion=function(){this.clear$Field(1)};
e.getClientToken=function(){return this.get$Value(2)};
e.getClientTokenOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setClientToken=function(a){this.set$Value(2,a)};
e.hasClientToken=function(){return this.has$Value(2)};
e.clientTokenCount=function(){return this.count$Values(2)};
e.clearClientToken=function(){this.clear$Field(2)};
e.getRegistrationSummary=function(){return this.get$Value(3)};
e.getRegistrationSummaryOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setRegistrationSummary=function(a){this.set$Value(3,a)};
e.hasRegistrationSummary=function(){return this.has$Value(3)};
e.registrationSummaryCount=function(){return this.count$Values(3)};
e.clearRegistrationSummary=function(){this.clear$Field(3)};
e.getClientTimeMs=function(){return this.get$Value(4)};
e.getClientTimeMsOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setClientTimeMs=function(a){this.set$Value(4,a)};
e.hasClientTimeMs=function(){return this.has$Value(4)};
e.clientTimeMsCount=function(){return this.count$Values(4)};
e.clearClientTimeMs=function(){this.clear$Field(4)};
e.getMaxKnownServerTimeMs=function(){return this.get$Value(5)};
e.getMaxKnownServerTimeMsOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setMaxKnownServerTimeMs=function(a){this.set$Value(5,a)};
e.hasMaxKnownServerTimeMs=function(){return this.has$Value(5)};
e.maxKnownServerTimeMsCount=function(){return this.count$Values(5)};
e.clearMaxKnownServerTimeMs=function(){this.clear$Field(5)};
e.getMessageId=function(){return this.get$Value(6)};
e.getMessageIdOrDefault=function(){return this.get$ValueOrDefault(6)};
e.setMessageId=function(a){this.set$Value(6,a)};
e.hasMessageId=function(){return this.has$Value(6)};
e.messageIdCount=function(){return this.count$Values(6)};
e.clearMessageId=function(){this.clear$Field(6)};
e.getClientType=function(){return this.get$Value(7)};
e.getClientTypeOrDefault=function(){return this.get$ValueOrDefault(7)};
e.setClientType=function(a){this.set$Value(7,a)};
e.hasClientType=function(){return this.has$Value(7)};
e.clientTypeCount=function(){return this.count$Values(7)};
e.clearClientType=function(){this.clear$Field(7)};
var Or=function(){V.call(this)};
B(Or,V);var Pr=null;e=Or.prototype;e.getHeader=function(){return this.get$Value(1)};
e.getHeaderOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setHeader=function(a){this.set$Value(1,a)};
e.hasHeader=function(){return this.has$Value(1)};
e.headerCount=function(){return this.count$Values(1)};
e.clearHeader=function(){this.clear$Field(1)};
e.getInitializeMessage=function(){return this.get$Value(2)};
e.getInitializeMessageOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setInitializeMessage=function(a){this.set$Value(2,a)};
e.hasInitializeMessage=function(){return this.has$Value(2)};
e.initializeMessageCount=function(){return this.count$Values(2)};
e.clearInitializeMessage=function(){this.clear$Field(2)};
e.getRegistrationMessage=function(){return this.get$Value(3)};
e.getRegistrationMessageOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setRegistrationMessage=function(a){this.set$Value(3,a)};
e.hasRegistrationMessage=function(){return this.has$Value(3)};
e.registrationMessageCount=function(){return this.count$Values(3)};
e.clearRegistrationMessage=function(){this.clear$Field(3)};
e.getRegistrationSyncMessage=function(){return this.get$Value(4)};
e.getRegistrationSyncMessageOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setRegistrationSyncMessage=function(a){this.set$Value(4,a)};
e.hasRegistrationSyncMessage=function(){return this.has$Value(4)};
e.registrationSyncMessageCount=function(){return this.count$Values(4)};
e.clearRegistrationSyncMessage=function(){this.clear$Field(4)};
e.getInvalidationAckMessage=function(){return this.get$Value(5)};
e.getInvalidationAckMessageOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setInvalidationAckMessage=function(a){this.set$Value(5,a)};
e.hasInvalidationAckMessage=function(){return this.has$Value(5)};
e.invalidationAckMessageCount=function(){return this.count$Values(5)};
e.clearInvalidationAckMessage=function(){this.clear$Field(5)};
e.getInfoMessage=function(){return this.get$Value(6)};
e.getInfoMessageOrDefault=function(){return this.get$ValueOrDefault(6)};
e.setInfoMessage=function(a){this.set$Value(6,a)};
e.hasInfoMessage=function(){return this.has$Value(6)};
e.infoMessageCount=function(){return this.count$Values(6)};
e.clearInfoMessage=function(){this.clear$Field(6)};
var Qr=function(){V.call(this)};
B(Qr,V);var Rr=null;e=Qr.prototype;e.getClientType=function(){return this.get$Value(1)};
e.getClientTypeOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setClientType=function(a){this.set$Value(1,a)};
e.hasClientType=function(){return this.has$Value(1)};
e.clientTypeCount=function(){return this.count$Values(1)};
e.clearClientType=function(){this.clear$Field(1)};
e.getNonce=function(){return this.get$Value(2)};
e.getNonceOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setNonce=function(a){this.set$Value(2,a)};
e.hasNonce=function(){return this.has$Value(2)};
e.nonceCount=function(){return this.count$Values(2)};
e.clearNonce=function(){this.clear$Field(2)};
e.getApplicationClientId=function(){return this.get$Value(3)};
e.getApplicationClientIdOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setApplicationClientId=function(a){this.set$Value(3,a)};
e.hasApplicationClientId=function(){return this.has$Value(3)};
e.applicationClientIdCount=function(){return this.count$Values(3)};
e.clearApplicationClientId=function(){this.clear$Field(3)};
e.getDigestSerializationType=function(){return this.get$Value(4)};
e.getDigestSerializationTypeOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setDigestSerializationType=function(a){this.set$Value(4,a)};
e.hasDigestSerializationType=function(){return this.has$Value(4)};
e.digestSerializationTypeCount=function(){return this.count$Values(4)};
e.clearDigestSerializationType=function(){this.clear$Field(4)};
var Sr={BYTE_BASED:1,NUMBER_BASED:2},Tr=function(){V.call(this)};
B(Tr,V);var Ur=null;e=Tr.prototype;e.getRegistration=function(a){return this.get$Value(1,a)};
e.getRegistrationOrDefault=function(a){return this.get$ValueOrDefault(1,a)};
e.addRegistration=function(a){this.add$Value(1,a)};
e.registrationArray=function(){return this.array$Values(1)};
e.hasRegistration=function(){return this.has$Value(1)};
e.registrationCount=function(){return this.count$Values(1)};
e.clearRegistration=function(){this.clear$Field(1)};
var Vr=function(){V.call(this)};
B(Vr,V);var Wr=null;e=Vr.prototype;e.getSubtree=function(a){return this.get$Value(1,a)};
e.getSubtreeOrDefault=function(a){return this.get$ValueOrDefault(1,a)};
e.addSubtree=function(a){this.add$Value(1,a)};
e.subtreeArray=function(){return this.array$Values(1)};
e.hasSubtree=function(){return this.has$Value(1)};
e.subtreeCount=function(){return this.count$Values(1)};
e.clearSubtree=function(){this.clear$Field(1)};
var Xr=function(){V.call(this)};
B(Xr,V);var Yr=null;e=Xr.prototype;e.getRegisteredObject=function(a){return this.get$Value(1,a)};
e.getRegisteredObjectOrDefault=function(a){return this.get$ValueOrDefault(1,a)};
e.addRegisteredObject=function(a){this.add$Value(1,a)};
e.registeredObjectArray=function(){return this.array$Values(1)};
e.hasRegisteredObject=function(){return this.has$Value(1)};
e.registeredObjectCount=function(){return this.count$Values(1)};
e.clearRegisteredObject=function(){this.clear$Field(1)};
var Zr=function(){V.call(this)};
B(Zr,V);var $r=null;e=Zr.prototype;e.getClientVersion=function(){return this.get$Value(1)};
e.getClientVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setClientVersion=function(a){this.set$Value(1,a)};
e.hasClientVersion=function(){return this.has$Value(1)};
e.clientVersionCount=function(){return this.count$Values(1)};
e.clearClientVersion=function(){this.clear$Field(1)};
e.getConfigParameter=function(a){return this.get$Value(2,a)};
e.getConfigParameterOrDefault=function(a){return this.get$ValueOrDefault(2,a)};
e.addConfigParameter=function(a){this.add$Value(2,a)};
e.configParameterArray=function(){return this.array$Values(2)};
e.hasConfigParameter=function(){return this.has$Value(2)};
e.configParameterCount=function(){return this.count$Values(2)};
e.clearConfigParameter=function(){this.clear$Field(2)};
e.getPerformanceCounter=function(a){return this.get$Value(3,a)};
e.getPerformanceCounterOrDefault=function(a){return this.get$ValueOrDefault(3,a)};
e.addPerformanceCounter=function(a){this.add$Value(3,a)};
e.performanceCounterArray=function(){return this.array$Values(3)};
e.hasPerformanceCounter=function(){return this.has$Value(3)};
e.performanceCounterCount=function(){return this.count$Values(3)};
e.clearPerformanceCounter=function(){this.clear$Field(3)};
e.getServerRegistrationSummaryRequested=function(){return this.get$Value(4)};
e.getServerRegistrationSummaryRequestedOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setServerRegistrationSummaryRequested=function(a){this.set$Value(4,a)};
e.hasServerRegistrationSummaryRequested=function(){return this.has$Value(4)};
e.serverRegistrationSummaryRequestedCount=function(){return this.count$Values(4)};
e.clearServerRegistrationSummaryRequested=function(){this.clear$Field(4)};
e.getClientConfig=function(){return this.get$Value(5)};
e.getClientConfigOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setClientConfig=function(a){this.set$Value(5,a)};
e.hasClientConfig=function(){return this.has$Value(5)};
e.clientConfigCount=function(){return this.count$Values(5)};
e.clearClientConfig=function(){this.clear$Field(5)};
var as=function(){V.call(this)};
B(as,V);var bs=null;e=as.prototype;e.getName=function(){return this.get$Value(1)};
e.getNameOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setName=function(a){this.set$Value(1,a)};
e.hasName=function(){return this.has$Value(1)};
e.nameCount=function(){return this.count$Values(1)};
e.clearName=function(){this.clear$Field(1)};
e.getValue=function(){return this.get$Value(2)};
e.getValueOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setValue=function(a){this.set$Value(2,a)};
e.hasValue=function(){return this.has$Value(2)};
e.valueCount=function(){return this.count$Values(2)};
e.clearValue=function(){this.clear$Field(2)};
var cs=function(){V.call(this)};
B(cs,V);var ds=null;e=cs.prototype;e.getProtocolVersion=function(){return this.get$Value(1)};
e.getProtocolVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setProtocolVersion=function(a){this.set$Value(1,a)};
e.hasProtocolVersion=function(){return this.has$Value(1)};
e.protocolVersionCount=function(){return this.count$Values(1)};
e.clearProtocolVersion=function(){this.clear$Field(1)};
e.getClientToken=function(){return this.get$Value(2)};
e.getClientTokenOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setClientToken=function(a){this.set$Value(2,a)};
e.hasClientToken=function(){return this.has$Value(2)};
e.clientTokenCount=function(){return this.count$Values(2)};
e.clearClientToken=function(){this.clear$Field(2)};
e.getRegistrationSummary=function(){return this.get$Value(3)};
e.getRegistrationSummaryOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setRegistrationSummary=function(a){this.set$Value(3,a)};
e.hasRegistrationSummary=function(){return this.has$Value(3)};
e.registrationSummaryCount=function(){return this.count$Values(3)};
e.clearRegistrationSummary=function(){this.clear$Field(3)};
e.getServerTimeMs=function(){return this.get$Value(4)};
e.getServerTimeMsOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setServerTimeMs=function(a){this.set$Value(4,a)};
e.hasServerTimeMs=function(){return this.has$Value(4)};
e.serverTimeMsCount=function(){return this.count$Values(4)};
e.clearServerTimeMs=function(){this.clear$Field(4)};
e.getMessageId=function(){return this.get$Value(5)};
e.getMessageIdOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setMessageId=function(a){this.set$Value(5,a)};
e.hasMessageId=function(){return this.has$Value(5)};
e.messageIdCount=function(){return this.count$Values(5)};
e.clearMessageId=function(){this.clear$Field(5)};
var es=function(){V.call(this)};
B(es,V);var fs=null;e=es.prototype;e.getHeader=function(){return this.get$Value(1)};
e.getHeaderOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setHeader=function(a){this.set$Value(1,a)};
e.hasHeader=function(){return this.has$Value(1)};
e.headerCount=function(){return this.count$Values(1)};
e.clearHeader=function(){this.clear$Field(1)};
e.getTokenControlMessage=function(){return this.get$Value(2)};
e.getTokenControlMessageOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setTokenControlMessage=function(a){this.set$Value(2,a)};
e.hasTokenControlMessage=function(){return this.has$Value(2)};
e.tokenControlMessageCount=function(){return this.count$Values(2)};
e.clearTokenControlMessage=function(){this.clear$Field(2)};
e.getInvalidationMessage=function(){return this.get$Value(3)};
e.getInvalidationMessageOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setInvalidationMessage=function(a){this.set$Value(3,a)};
e.hasInvalidationMessage=function(){return this.has$Value(3)};
e.invalidationMessageCount=function(){return this.count$Values(3)};
e.clearInvalidationMessage=function(){this.clear$Field(3)};
e.getRegistrationStatusMessage=function(){return this.get$Value(4)};
e.getRegistrationStatusMessageOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setRegistrationStatusMessage=function(a){this.set$Value(4,a)};
e.hasRegistrationStatusMessage=function(){return this.has$Value(4)};
e.registrationStatusMessageCount=function(){return this.count$Values(4)};
e.clearRegistrationStatusMessage=function(){this.clear$Field(4)};
e.getRegistrationSyncRequestMessage=function(){return this.get$Value(5)};
e.getRegistrationSyncRequestMessageOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setRegistrationSyncRequestMessage=function(a){this.set$Value(5,a)};
e.hasRegistrationSyncRequestMessage=function(){return this.has$Value(5)};
e.registrationSyncRequestMessageCount=function(){return this.count$Values(5)};
e.clearRegistrationSyncRequestMessage=function(){this.clear$Field(5)};
e.getConfigChangeMessage=function(){return this.get$Value(6)};
e.getConfigChangeMessageOrDefault=function(){return this.get$ValueOrDefault(6)};
e.setConfigChangeMessage=function(a){this.set$Value(6,a)};
e.hasConfigChangeMessage=function(){return this.has$Value(6)};
e.configChangeMessageCount=function(){return this.count$Values(6)};
e.clearConfigChangeMessage=function(){this.clear$Field(6)};
e.getInfoRequestMessage=function(){return this.get$Value(7)};
e.getInfoRequestMessageOrDefault=function(){return this.get$ValueOrDefault(7)};
e.setInfoRequestMessage=function(a){this.set$Value(7,a)};
e.hasInfoRequestMessage=function(){return this.has$Value(7)};
e.infoRequestMessageCount=function(){return this.count$Values(7)};
e.clearInfoRequestMessage=function(){this.clear$Field(7)};
e.getErrorMessage=function(){return this.get$Value(8)};
e.getErrorMessageOrDefault=function(){return this.get$ValueOrDefault(8)};
e.setErrorMessage=function(a){this.set$Value(8,a)};
e.hasErrorMessage=function(){return this.has$Value(8)};
e.errorMessageCount=function(){return this.count$Values(8)};
e.clearErrorMessage=function(){this.clear$Field(8)};
var gs=function(){V.call(this)};
B(gs,V);var hs=null;e=gs.prototype;e.getNewToken=function(){return this.get$Value(1)};
e.getNewTokenOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setNewToken=function(a){this.set$Value(1,a)};
e.hasNewToken=function(){return this.has$Value(1)};
e.newTokenCount=function(){return this.count$Values(1)};
e.clearNewToken=function(){this.clear$Field(1)};
var is=function(){V.call(this)};
B(is,V);var js=null;e=is.prototype;e.getRegistration=function(){return this.get$Value(1)};
e.getRegistrationOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setRegistration=function(a){this.set$Value(1,a)};
e.hasRegistration=function(){return this.has$Value(1)};
e.registrationCount=function(){return this.count$Values(1)};
e.clearRegistration=function(){this.clear$Field(1)};
e.getStatus=function(){return this.get$Value(2)};
e.getStatusOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setStatus=function(a){this.set$Value(2,a)};
e.hasStatus=function(){return this.has$Value(2)};
e.statusCount=function(){return this.count$Values(2)};
e.clearStatus=function(){this.clear$Field(2)};
var ks=function(){V.call(this)};
B(ks,V);var ls=null;e=ks.prototype;e.getRegistrationStatus=function(a){return this.get$Value(1,a)};
e.getRegistrationStatusOrDefault=function(a){return this.get$ValueOrDefault(1,a)};
e.addRegistrationStatus=function(a){this.add$Value(1,a)};
e.registrationStatusArray=function(){return this.array$Values(1)};
e.hasRegistrationStatus=function(){return this.has$Value(1)};
e.registrationStatusCount=function(){return this.count$Values(1)};
e.clearRegistrationStatus=function(){this.clear$Field(1)};
var ms=function(){V.call(this)};
B(ms,V);var ns=null,os=function(){V.call(this)};
B(os,V);var ps=null;e=os.prototype;e.getInvalidation=function(a){return this.get$Value(1,a)};
e.getInvalidationOrDefault=function(a){return this.get$ValueOrDefault(1,a)};
e.addInvalidation=function(a){this.add$Value(1,a)};
e.invalidationArray=function(){return this.array$Values(1)};
e.hasInvalidation=function(){return this.has$Value(1)};
e.invalidationCount=function(){return this.count$Values(1)};
e.clearInvalidation=function(){this.clear$Field(1)};
var qs=function(){V.call(this)};
B(qs,V);var rs=null;e=qs.prototype;e.getInfoType=function(a){return this.get$Value(1,a)};
e.getInfoTypeOrDefault=function(a){return this.get$ValueOrDefault(1,a)};
e.addInfoType=function(a){this.add$Value(1,a)};
e.infoTypeArray=function(){return this.array$Values(1)};
e.hasInfoType=function(){return this.has$Value(1)};
e.infoTypeCount=function(){return this.count$Values(1)};
e.clearInfoType=function(){this.clear$Field(1)};
var ss={GET_PERFORMANCE_COUNTERS:1},ts=function(){V.call(this)};
B(ts,V);var us=null;e=ts.prototype;e.getWindowMs=function(){return this.get$Value(1)};
e.getWindowMsOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setWindowMs=function(a){this.set$Value(1,a)};
e.hasWindowMs=function(){return this.has$Value(1)};
e.windowMsCount=function(){return this.count$Values(1)};
e.clearWindowMs=function(){this.clear$Field(1)};
e.getCount=function(){return this.get$Value(2)};
e.getCountOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setCount=function(a){this.set$Value(2,a)};
e.hasCount=function(){return this.has$Value(2)};
e.countCount=function(){return this.count$Values(2)};
e.clearCount=function(){this.clear$Field(2)};
var vs=function(){V.call(this)};
B(vs,V);var ws=null;e=vs.prototype;e.getBatchingDelayMs=function(){return this.get$Value(1)};
e.getBatchingDelayMsOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setBatchingDelayMs=function(a){this.set$Value(1,a)};
e.hasBatchingDelayMs=function(){return this.has$Value(1)};
e.batchingDelayMsCount=function(){return this.count$Values(1)};
e.clearBatchingDelayMs=function(){this.clear$Field(1)};
e.getRateLimit=function(a){return this.get$Value(2,a)};
e.getRateLimitOrDefault=function(a){return this.get$ValueOrDefault(2,a)};
e.addRateLimit=function(a){this.add$Value(2,a)};
e.rateLimitArray=function(){return this.array$Values(2)};
e.hasRateLimit=function(){return this.has$Value(2)};
e.rateLimitCount=function(){return this.count$Values(2)};
e.clearRateLimit=function(){this.clear$Field(2)};
var xs=function(){V.call(this)};
B(xs,V);var ys=null;e=xs.prototype;e.getVersion=function(){return this.get$Value(1)};
e.getVersionOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setVersion=function(a){this.set$Value(1,a)};
e.hasVersion=function(){return this.has$Value(1)};
e.versionCount=function(){return this.count$Values(1)};
e.clearVersion=function(){this.clear$Field(1)};
e.getNetworkTimeoutDelayMs=function(){return this.get$Value(2)};
e.getNetworkTimeoutDelayMsOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setNetworkTimeoutDelayMs=function(a){this.set$Value(2,a)};
e.hasNetworkTimeoutDelayMs=function(){return this.has$Value(2)};
e.networkTimeoutDelayMsCount=function(){return this.count$Values(2)};
e.clearNetworkTimeoutDelayMs=function(){this.clear$Field(2)};
e.getWriteRetryDelayMs=function(){return this.get$Value(3)};
e.getWriteRetryDelayMsOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setWriteRetryDelayMs=function(a){this.set$Value(3,a)};
e.hasWriteRetryDelayMs=function(){return this.has$Value(3)};
e.writeRetryDelayMsCount=function(){return this.count$Values(3)};
e.clearWriteRetryDelayMs=function(){this.clear$Field(3)};
e.getHeartbeatIntervalMs=function(){return this.get$Value(4)};
e.getHeartbeatIntervalMsOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setHeartbeatIntervalMs=function(a){this.set$Value(4,a)};
e.hasHeartbeatIntervalMs=function(){return this.has$Value(4)};
e.heartbeatIntervalMsCount=function(){return this.count$Values(4)};
e.clearHeartbeatIntervalMs=function(){this.clear$Field(4)};
e.getPerfCounterDelayMs=function(){return this.get$Value(5)};
e.getPerfCounterDelayMsOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setPerfCounterDelayMs=function(a){this.set$Value(5,a)};
e.hasPerfCounterDelayMs=function(){return this.has$Value(5)};
e.perfCounterDelayMsCount=function(){return this.count$Values(5)};
e.clearPerfCounterDelayMs=function(){this.clear$Field(5)};
e.getMaxExponentialBackoffFactor=function(){return this.get$Value(6)};
e.getMaxExponentialBackoffFactorOrDefault=function(){return this.get$ValueOrDefault(6)};
e.setMaxExponentialBackoffFactor=function(a){this.set$Value(6,a)};
e.hasMaxExponentialBackoffFactor=function(){return this.has$Value(6)};
e.maxExponentialBackoffFactorCount=function(){return this.count$Values(6)};
e.clearMaxExponentialBackoffFactor=function(){this.clear$Field(6)};
e.getSmearPercent=function(){return this.get$Value(7)};
e.getSmearPercentOrDefault=function(){return this.get$ValueOrDefault(7)};
e.setSmearPercent=function(a){this.set$Value(7,a)};
e.hasSmearPercent=function(){return this.has$Value(7)};
e.smearPercentCount=function(){return this.count$Values(7)};
e.clearSmearPercent=function(){this.clear$Field(7)};
e.getIsTransient=function(){return this.get$Value(8)};
e.getIsTransientOrDefault=function(){return this.get$ValueOrDefault(8)};
e.setIsTransient=function(a){this.set$Value(8,a)};
e.hasIsTransient=function(){return this.has$Value(8)};
e.isTransientCount=function(){return this.count$Values(8)};
e.clearIsTransient=function(){this.clear$Field(8)};
e.getInitialPersistentHeartbeatDelayMs=function(){return this.get$Value(9)};
e.getInitialPersistentHeartbeatDelayMsOrDefault=function(){return this.get$ValueOrDefault(9)};
e.setInitialPersistentHeartbeatDelayMs=function(a){this.set$Value(9,a)};
e.hasInitialPersistentHeartbeatDelayMs=function(){return this.has$Value(9)};
e.initialPersistentHeartbeatDelayMsCount=function(){return this.count$Values(9)};
e.clearInitialPersistentHeartbeatDelayMs=function(){this.clear$Field(9)};
e.getProtocolHandlerConfig=function(){return this.get$Value(10)};
e.getProtocolHandlerConfigOrDefault=function(){return this.get$ValueOrDefault(10)};
e.setProtocolHandlerConfig=function(a){this.set$Value(10,a)};
e.hasProtocolHandlerConfig=function(){return this.has$Value(10)};
e.protocolHandlerConfigCount=function(){return this.count$Values(10)};
e.clearProtocolHandlerConfig=function(){this.clear$Field(10)};
e.getChannelSupportsOfflineDelivery=function(){return this.get$Value(11)};
e.getChannelSupportsOfflineDeliveryOrDefault=function(){return this.get$ValueOrDefault(11)};
e.setChannelSupportsOfflineDelivery=function(a){this.set$Value(11,a)};
e.hasChannelSupportsOfflineDelivery=function(){return this.has$Value(11)};
e.channelSupportsOfflineDeliveryCount=function(){return this.count$Values(11)};
e.clearChannelSupportsOfflineDelivery=function(){this.clear$Field(11)};
e.getOfflineHeartbeatThresholdMs=function(){return this.get$Value(12)};
e.getOfflineHeartbeatThresholdMsOrDefault=function(){return this.get$ValueOrDefault(12)};
e.setOfflineHeartbeatThresholdMs=function(a){this.set$Value(12,a)};
e.hasOfflineHeartbeatThresholdMs=function(){return this.has$Value(12)};
e.offlineHeartbeatThresholdMsCount=function(){return this.count$Values(12)};
e.clearOfflineHeartbeatThresholdMs=function(){this.clear$Field(12)};
e.getAllowSuppression=function(){return this.get$Value(13)};
e.getAllowSuppressionOrDefault=function(){return this.get$ValueOrDefault(13)};
e.setAllowSuppression=function(a){this.set$Value(13,a)};
e.hasAllowSuppression=function(){return this.has$Value(13)};
e.allowSuppressionCount=function(){return this.count$Values(13)};
e.clearAllowSuppression=function(){this.clear$Field(13)};
var zs=function(){V.call(this)};
B(zs,V);var As=null;e=zs.prototype;e.getNextMessageDelayMs=function(){return this.get$Value(1)};
e.getNextMessageDelayMsOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setNextMessageDelayMs=function(a){this.set$Value(1,a)};
e.hasNextMessageDelayMs=function(){return this.has$Value(1)};
e.nextMessageDelayMsCount=function(){return this.count$Values(1)};
e.clearNextMessageDelayMs=function(){this.clear$Field(1)};
var Bs=function(){V.call(this)};
B(Bs,V);var Cs=null;e=Bs.prototype;e.getCode=function(){return this.get$Value(1)};
e.getCodeOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setCode=function(a){this.set$Value(1,a)};
e.hasCode=function(){return this.has$Value(1)};
e.codeCount=function(){return this.count$Values(1)};
e.clearCode=function(){this.clear$Field(1)};
e.getDescription=function(){return this.get$Value(2)};
e.getDescriptionOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setDescription=function(a){this.set$Value(2,a)};
e.hasDescription=function(){return this.has$Value(2)};
e.descriptionCount=function(){return this.count$Values(2)};
e.clearDescription=function(){this.clear$Field(2)};
var Ds={AUTH_FAILURE:1,UNKNOWN_FAILURE:1E4};sr.prototype.getDescriptor=function(){var a=tr;a||(tr=a=W(sr,{0:{name:"Version",fullName:"ipc.invalidation.Version"},1:{name:"major_version",fieldType:5,type:Number},2:{name:"minor_version",fieldType:5,type:Number}}));return a};
sr.getDescriptor=sr.prototype.getDescriptor;ur.prototype.getDescriptor=function(){var a=vr;a||(vr=a=W(ur,{0:{name:"ProtocolVersion",fullName:"ipc.invalidation.ProtocolVersion"},1:{name:"version",fieldType:11,type:sr}}));return a};
ur.getDescriptor=ur.prototype.getDescriptor;wr.prototype.getDescriptor=function(){var a=xr;a||(xr=a=W(wr,{0:{name:"ClientVersion",fullName:"ipc.invalidation.ClientVersion"},1:{name:"version",fieldType:11,type:sr},2:{name:"platform",fieldType:9,type:String},3:{name:"language",fieldType:9,type:String},4:{name:"application_info",fieldType:9,type:String}}));return a};
wr.getDescriptor=wr.prototype.getDescriptor;yr.prototype.getDescriptor=function(){var a=zr;a||(zr=a=W(yr,{0:{name:"StatusP",fullName:"ipc.invalidation.StatusP"},1:{name:"code",fieldType:14,defaultValue:1,type:Ar},2:{name:"description",fieldType:9,type:String}}));return a};
yr.getDescriptor=yr.prototype.getDescriptor;Br.prototype.getDescriptor=function(){var a=Cr;a||(Cr=a=W(Br,{0:{name:"ObjectIdP",fullName:"ipc.invalidation.ObjectIdP"},1:{name:"source",fieldType:5,type:Number},2:{name:"name",fieldType:12,type:String}}));return a};
Br.getDescriptor=Br.prototype.getDescriptor;Dr.prototype.getDescriptor=function(){var a=Er;a||(Er=a=W(Dr,{0:{name:"ApplicationClientIdP",fullName:"ipc.invalidation.ApplicationClientIdP"},1:{name:"client_type",fieldType:5,type:Number},2:{name:"client_name",fieldType:12,type:String}}));return a};
Dr.getDescriptor=Dr.prototype.getDescriptor;Fr.prototype.getDescriptor=function(){var a=Gr;a||(Gr=a=W(Fr,{0:{name:"InvalidationP",fullName:"ipc.invalidation.InvalidationP"},1:{name:"object_id",fieldType:11,type:Br},2:{name:"is_known_version",fieldType:8,type:Boolean},3:{name:"version",fieldType:3,type:String},6:{name:"is_trickle_restart",fieldType:8,defaultValue:!0,type:Boolean},4:{name:"payload",fieldType:12,type:String}}));return a};
Fr.getDescriptor=Fr.prototype.getDescriptor;Hr.prototype.getDescriptor=function(){var a=Ir;a||(Ir=a=W(Hr,{0:{name:"RegistrationP",fullName:"ipc.invalidation.RegistrationP"},1:{name:"object_id",fieldType:11,type:Br},2:{name:"op_type",fieldType:14,defaultValue:1,type:Jr}}));return a};
Hr.getDescriptor=Hr.prototype.getDescriptor;Kr.prototype.getDescriptor=function(){var a=Lr;a||(Lr=a=W(Kr,{0:{name:"RegistrationSummary",fullName:"ipc.invalidation.RegistrationSummary"},1:{name:"num_registrations",fieldType:5,type:Number},2:{name:"registration_digest",fieldType:12,type:String}}));return a};
Kr.getDescriptor=Kr.prototype.getDescriptor;
Mr.prototype.getDescriptor=function(){var a=Nr;a||(Nr=a=W(Mr,{0:{name:"ClientHeader",fullName:"ipc.invalidation.ClientHeader"},1:{name:"protocol_version",fieldType:11,type:ur},2:{name:"client_token",fieldType:12,type:String},3:{name:"registration_summary",fieldType:11,type:Kr},4:{name:"client_time_ms",fieldType:3,type:Number},5:{name:"max_known_server_time_ms",fieldType:3,type:Number},6:{name:"message_id",fieldType:9,type:String},7:{name:"client_type",fieldType:5,type:Number}}));return a};
Mr.getDescriptor=Mr.prototype.getDescriptor;Or.prototype.getDescriptor=function(){var a=Pr;a||(Pr=a=W(Or,{0:{name:"ClientToServerMessage",fullName:"ipc.invalidation.ClientToServerMessage"},1:{name:"header",fieldType:11,type:Mr},2:{name:"initialize_message",fieldType:11,type:Qr},3:{name:"registration_message",fieldType:11,type:Tr},4:{name:"registration_sync_message",fieldType:11,type:Vr},5:{name:"invalidation_ack_message",fieldType:11,type:os},6:{name:"info_message",fieldType:11,type:Zr}}));return a};
Or.getDescriptor=Or.prototype.getDescriptor;Qr.prototype.getDescriptor=function(){var a=Rr;a||(Rr=a=W(Qr,{0:{name:"InitializeMessage",fullName:"ipc.invalidation.InitializeMessage"},1:{name:"client_type",fieldType:5,type:Number},2:{name:"nonce",fieldType:12,type:String},3:{name:"application_client_id",fieldType:11,type:Dr},4:{name:"digest_serialization_type",fieldType:14,defaultValue:1,type:Sr}}));return a};
Qr.getDescriptor=Qr.prototype.getDescriptor;Tr.prototype.getDescriptor=function(){var a=Ur;a||(Ur=a=W(Tr,{0:{name:"RegistrationMessage",fullName:"ipc.invalidation.RegistrationMessage"},1:{name:"registration",repeated:!0,fieldType:11,type:Hr}}));return a};
Tr.getDescriptor=Tr.prototype.getDescriptor;Vr.prototype.getDescriptor=function(){var a=Wr;a||(Wr=a=W(Vr,{0:{name:"RegistrationSyncMessage",fullName:"ipc.invalidation.RegistrationSyncMessage"},1:{name:"subtree",repeated:!0,fieldType:11,type:Xr}}));return a};
Vr.getDescriptor=Vr.prototype.getDescriptor;Xr.prototype.getDescriptor=function(){var a=Yr;a||(Yr=a=W(Xr,{0:{name:"RegistrationSubtree",fullName:"ipc.invalidation.RegistrationSubtree"},1:{name:"registered_object",repeated:!0,fieldType:11,type:Br}}));return a};
Xr.getDescriptor=Xr.prototype.getDescriptor;Zr.prototype.getDescriptor=function(){var a=$r;a||($r=a=W(Zr,{0:{name:"InfoMessage",fullName:"ipc.invalidation.InfoMessage"},1:{name:"client_version",fieldType:11,type:wr},2:{name:"config_parameter",repeated:!0,fieldType:11,type:as},3:{name:"performance_counter",repeated:!0,fieldType:11,type:as},4:{name:"server_registration_summary_requested",fieldType:8,type:Boolean},5:{name:"client_config",fieldType:11,type:xs}}));return a};
Zr.getDescriptor=Zr.prototype.getDescriptor;as.prototype.getDescriptor=function(){var a=bs;a||(bs=a=W(as,{0:{name:"PropertyRecord",fullName:"ipc.invalidation.PropertyRecord"},1:{name:"name",fieldType:9,type:String},2:{name:"value",fieldType:5,type:Number}}));return a};
as.getDescriptor=as.prototype.getDescriptor;cs.prototype.getDescriptor=function(){var a=ds;a||(ds=a=W(cs,{0:{name:"ServerHeader",fullName:"ipc.invalidation.ServerHeader"},1:{name:"protocol_version",fieldType:11,type:ur},2:{name:"client_token",fieldType:12,type:String},3:{name:"registration_summary",fieldType:11,type:Kr},4:{name:"server_time_ms",fieldType:3,type:Number},5:{name:"message_id",fieldType:9,type:String}}));return a};
cs.getDescriptor=cs.prototype.getDescriptor;
es.prototype.getDescriptor=function(){var a=fs;a||(fs=a=W(es,{0:{name:"ServerToClientMessage",fullName:"ipc.invalidation.ServerToClientMessage"},1:{name:"header",fieldType:11,type:cs},2:{name:"token_control_message",fieldType:11,type:gs},3:{name:"invalidation_message",fieldType:11,type:os},4:{name:"registration_status_message",fieldType:11,type:ks},5:{name:"registration_sync_request_message",fieldType:11,type:ms},6:{name:"config_change_message",fieldType:11,type:zs},7:{name:"info_request_message",
fieldType:11,type:qs},8:{name:"error_message",fieldType:11,type:Bs}}));return a};
es.getDescriptor=es.prototype.getDescriptor;gs.prototype.getDescriptor=function(){var a=hs;a||(hs=a=W(gs,{0:{name:"TokenControlMessage",fullName:"ipc.invalidation.TokenControlMessage"},1:{name:"new_token",fieldType:12,type:String}}));return a};
gs.getDescriptor=gs.prototype.getDescriptor;is.prototype.getDescriptor=function(){var a=js;a||(js=a=W(is,{0:{name:"RegistrationStatus",fullName:"ipc.invalidation.RegistrationStatus"},1:{name:"registration",fieldType:11,type:Hr},2:{name:"status",fieldType:11,type:yr}}));return a};
is.getDescriptor=is.prototype.getDescriptor;ks.prototype.getDescriptor=function(){var a=ls;a||(ls=a=W(ks,{0:{name:"RegistrationStatusMessage",fullName:"ipc.invalidation.RegistrationStatusMessage"},1:{name:"registration_status",repeated:!0,fieldType:11,type:is}}));return a};
ks.getDescriptor=ks.prototype.getDescriptor;ms.prototype.getDescriptor=function(){var a=ns;a||(ns=a=W(ms,{0:{name:"RegistrationSyncRequestMessage",fullName:"ipc.invalidation.RegistrationSyncRequestMessage"}}));return a};
ms.getDescriptor=ms.prototype.getDescriptor;os.prototype.getDescriptor=function(){var a=ps;a||(ps=a=W(os,{0:{name:"InvalidationMessage",fullName:"ipc.invalidation.InvalidationMessage"},1:{name:"invalidation",repeated:!0,fieldType:11,type:Fr}}));return a};
os.getDescriptor=os.prototype.getDescriptor;qs.prototype.getDescriptor=function(){var a=rs;a||(rs=a=W(qs,{0:{name:"InfoRequestMessage",fullName:"ipc.invalidation.InfoRequestMessage"},1:{name:"info_type",repeated:!0,fieldType:14,defaultValue:1,type:ss}}));return a};
qs.getDescriptor=qs.prototype.getDescriptor;ts.prototype.getDescriptor=function(){var a=us;a||(us=a=W(ts,{0:{name:"RateLimitP",fullName:"ipc.invalidation.RateLimitP"},1:{name:"window_ms",fieldType:5,type:Number},2:{name:"count",fieldType:5,type:Number}}));return a};
ts.getDescriptor=ts.prototype.getDescriptor;vs.prototype.getDescriptor=function(){var a=ws;a||(ws=a=W(vs,{0:{name:"ProtocolHandlerConfigP",fullName:"ipc.invalidation.ProtocolHandlerConfigP"},1:{name:"batching_delay_ms",fieldType:5,defaultValue:500,type:Number},2:{name:"rate_limit",repeated:!0,fieldType:11,type:ts}}));return a};
vs.getDescriptor=vs.prototype.getDescriptor;
xs.prototype.getDescriptor=function(){var a=ys;a||(ys=a=W(xs,{0:{name:"ClientConfigP",fullName:"ipc.invalidation.ClientConfigP"},1:{name:"version",fieldType:11,type:sr},2:{name:"network_timeout_delay_ms",fieldType:5,defaultValue:6E4,type:Number},3:{name:"write_retry_delay_ms",fieldType:5,defaultValue:1E4,type:Number},4:{name:"heartbeat_interval_ms",fieldType:5,defaultValue:12E5,type:Number},5:{name:"perf_counter_delay_ms",fieldType:5,defaultValue:216E5,type:Number},6:{name:"max_exponential_backoff_factor",
fieldType:5,defaultValue:500,type:Number},7:{name:"smear_percent",fieldType:5,defaultValue:20,type:Number},8:{name:"is_transient",fieldType:8,defaultValue:!1,type:Boolean},9:{name:"initial_persistent_heartbeat_delay_ms",fieldType:5,defaultValue:2E3,type:Number},10:{name:"protocol_handler_config",fieldType:11,type:vs},11:{name:"channel_supports_offline_delivery",fieldType:8,defaultValue:!1,type:Boolean},12:{name:"offline_heartbeat_threshold_ms",fieldType:5,defaultValue:6E4,type:Number},13:{name:"allow_suppression",
fieldType:8,defaultValue:!0,type:Boolean}}));return a};
xs.getDescriptor=xs.prototype.getDescriptor;zs.prototype.getDescriptor=function(){var a=As;a||(As=a=W(zs,{0:{name:"ConfigChangeMessage",fullName:"ipc.invalidation.ConfigChangeMessage"},1:{name:"next_message_delay_ms",fieldType:3,type:Number}}));return a};
zs.getDescriptor=zs.prototype.getDescriptor;Bs.prototype.getDescriptor=function(){var a=Cs;a||(Cs=a=W(Bs,{0:{name:"ErrorMessage",fullName:"ipc.invalidation.ErrorMessage"},1:{name:"code",fieldType:14,defaultValue:1,type:Ds},2:{name:"description",fieldType:9,type:String}}));return a};
Bs.getDescriptor=Bs.prototype.getDescriptor;var Es=function(a,b){this.low_=a|0;this.high_=b|0},Is=function(a){return 0<a?0x7fffffffffffffff<=a?Fs:new Es(a,a/4294967296):0>a?-9223372036854775808>=a?Gs:(new Es(-a,-a/4294967296)).negate():Hs},Js=function(a,b){return new Es(a,b)},Ks=function(a,b){if("-"==a.charAt(0))return Ks(a.substring(1),b).negate();
var c=parseInt(a,b||10);if(9007199254740991>=c)return new Es(c%4294967296|0,c/4294967296|0);if(0==a.length)throw Error("number format error: empty string");if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);c=Is(Math.pow(b,8));for(var d=Hs,f=0;f<a.length;f+=8){var g=Math.min(8,a.length-f),h=parseInt(a.substring(f,f+g),b);8>g?d=d.multiply(Is(Math.pow(b,g))).add(Is(h)):(d=d.multiply(c),d=d.add(Is(h)))}return d},
Hs=Js(0,0),Ls=Js(1,0),Ms=Js(-1,-1),Fs=Js(4294967295,2147483647),Gs=Js(0,2147483648);
e=Es.prototype;e.toInt=function(){return this.low_};
e.toNumber=function(){return 4294967296*this.high_+this.getLowBitsUnsigned()};
e.isSafeInteger=function(){var a=this.high_>>21;return 0==a||-1==a&&!(0==this.low_&&-2097152==this.high_)};
e.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isSafeInteger()){var b=this.toNumber();return 10==a?""+b:b.toString(a)}b=14-(a>>2);var c=Math.pow(a,b),d=Js(c,c/4294967296);c=this.div(d);d=Math.abs(this.subtract(c.multiply(d)).toNumber());var f=10==a?""+d:d.toString(a);f.length<b&&(f="0000000000000".substr(f.length-b)+f);d=c.toNumber();return(10==a?d:d.toString(a))+f};
e.getHighBits=function(){return this.high_};
e.getLowBits=function(){return this.low_};
e.getLowBitsUnsigned=function(){return this.low_>>>0};
e.getNumBitsAbs=function(){if(this.isNegative())return this.equals(Gs)?64:this.negate().getNumBitsAbs();for(var a=0!=this.high_?this.high_:this.low_,b=31;0<b&&0==(a&1<<b);b--);return 0!=this.high_?b+33:b+1};
e.isZero=function(){return 0==this.low_&&0==this.high_};
e.isNegative=function(){return 0>this.high_};
e.isOdd=function(){return 1==(this.low_&1)};
e.equals=function(a){return this.low_==a.low_&&this.high_==a.high_};
e.notEquals=function(a){return!this.equals(a)};
e.lessThan=function(a){return 0>this.compare(a)};
e.lessThanOrEqual=function(a){return 0>=this.compare(a)};
e.greaterThan=function(a){return 0<this.compare(a)};
e.greaterThanOrEqual=function(a){return 0<=this.compare(a)};
e.compare=function(a){return this.high_==a.high_?this.low_==a.low_?0:this.getLowBitsUnsigned()>a.getLowBitsUnsigned()?1:-1:this.high_>a.high_?1:-1};
e.negate=function(){var a=~this.low_+1|0;return Js(a,~this.high_+!a|0)};
e.add=function(a){var b=this.high_>>>16,c=this.high_&65535,d=this.low_>>>16,f=a.high_>>>16,g=a.high_&65535,h=a.low_>>>16;a=(this.low_&65535)+(a.low_&65535);h=(a>>>16)+(d+h);d=h>>>16;d+=c+g;b=(d>>>16)+(b+f)&65535;return Js((h&65535)<<16|a&65535,b<<16|d&65535)};
e.subtract=function(a){return this.add(a.negate())};
e.multiply=function(a){if(this.isZero())return this;if(a.isZero())return a;var b=this.high_>>>16,c=this.high_&65535,d=this.low_>>>16,f=this.low_&65535,g=a.high_>>>16,h=a.high_&65535,k=a.low_>>>16;a=a.low_&65535;var l=f*a;var m=(l>>>16)+d*a;var q=m>>>16;m=(m&65535)+f*k;q+=m>>>16;q+=c*a;var t=q>>>16;q=(q&65535)+d*k;t+=q>>>16;q=(q&65535)+f*h;t=t+(q>>>16)+(b*a+c*k+d*h+f*g)&65535;return Js((m&65535)<<16|l&65535,t<<16|q&65535)};
e.div=function(a){if(a.isZero())throw Error("division by zero");if(this.isNegative()){if(this.equals(Gs)){if(a.equals(Ls)||a.equals(Ms))return Gs;if(a.equals(Gs))return Ls;var b=this.shiftRight(1).div(a).shiftLeft(1);if(b.equals(Hs))return a.isNegative()?Ls:Ms;var c=this.subtract(a.multiply(b));return b.add(c.div(a))}return a.isNegative()?this.negate().div(a.negate()):this.negate().div(a).negate()}if(this.isZero())return Hs;if(a.isNegative())return a.equals(Gs)?Hs:this.div(a.negate()).negate();var d=
Hs;for(c=this;c.greaterThanOrEqual(a);){b=Math.max(1,Math.floor(c.toNumber()/a.toNumber()));var f=Math.ceil(Math.log(b)/Math.LN2);f=48>=f?1:Math.pow(2,f-48);for(var g=Is(b),h=g.multiply(a);h.isNegative()||h.greaterThan(c);)b-=f,g=Is(b),h=g.multiply(a);g.isZero()&&(g=Ls);d=d.add(g);c=c.subtract(h)}return d};
e.modulo=function(a){return this.subtract(this.div(a).multiply(a))};
e.not=function(){return Js(~this.low_,~this.high_)};
e.and=function(a){return Js(this.low_&a.low_,this.high_&a.high_)};
e.or=function(a){return Js(this.low_|a.low_,this.high_|a.high_)};
e.xor=function(a){return Js(this.low_^a.low_,this.high_^a.high_)};
e.shiftLeft=function(a){a&=63;if(0==a)return this;var b=this.low_;return 32>a?Js(b<<a,this.high_<<a|b>>>32-a):Js(0,b<<a-32)};
e.shiftRight=function(a){a&=63;if(0==a)return this;var b=this.high_;return 32>a?Js(this.low_>>>a|b<<32-a,b>>a):Js(b>>a-32,0<=b?0:-1)};
e.shiftRightUnsigned=function(a){a&=63;if(0==a)return this;var b=this.high_;return 32>a?Js(this.low_>>>a|b<<32-a,b>>>a):32==a?Js(b,0):Js(b>>>a-32,0)};var Ns=function(){this.highestAckedVersionMap_=new dg};
e=Ns.prototype;e.recordAck=function(a){if(a.getIsTrickleRestart()&&a.getIsKnownVersion()){var b=this.getKey_(a.getObjectId());a=this.getVersionAsLong_(a);a.greaterThan(this.getHighestAckedVersion_(b))&&this.highestAckedVersionMap_.set(b,a)}};
e.isAcked=function(a){if(!a.getIsKnownVersion())return!1;var b=this.getKey_(a.getObjectId());a=this.getVersionAsLong_(a);return this.getHighestAckedVersion_(b).greaterThanOrEqual(a)};
e.getKey_=function(a){return a.getSource().toString()+":"+a.getName()};
e.getHighestAckedVersion_=function(a){return this.highestAckedVersionMap_.get(a,Ms)};
e.getVersionAsLong_=function(a){return Ks(a.getVersion())};var Os=function(){V.call(this)};
B(Os,V);var Ps=null;e=Os.prototype;e.getInvalidation=function(){return this.get$Value(1)};
e.getInvalidationOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setInvalidation=function(a){this.set$Value(1,a)};
e.hasInvalidation=function(){return this.has$Value(1)};
e.invalidationCount=function(){return this.count$Values(1)};
e.clearInvalidation=function(){this.clear$Field(1)};
var Qs=function(){V.call(this)};
B(Qs,V);var Rs=null;e=Qs.prototype;e.getClientToken=function(){return this.get$Value(1)};
e.getClientTokenOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setClientToken=function(a){this.set$Value(1,a)};
e.hasClientToken=function(){return this.has$Value(1)};
e.clientTokenCount=function(){return this.count$Values(1)};
e.clearClientToken=function(){this.clear$Field(1)};
e.getLastMessageSendTimeMs=function(){return this.get$Value(2)};
e.getLastMessageSendTimeMsOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setLastMessageSendTimeMs=function(a){this.set$Value(2,a)};
e.hasLastMessageSendTimeMs=function(){return this.has$Value(2)};
e.lastMessageSendTimeMsCount=function(){return this.count$Values(2)};
e.clearLastMessageSendTimeMs=function(){this.clear$Field(2)};
var Ss=function(){V.call(this)};
B(Ss,V);var Ts=null;e=Ss.prototype;e.getTiclState=function(){return this.get$Value(1)};
e.getTiclStateOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setTiclState=function(a){this.set$Value(1,a)};
e.hasTiclState=function(){return this.has$Value(1)};
e.ticlStateCount=function(){return this.count$Values(1)};
e.clearTiclState=function(){this.clear$Field(1)};
e.getAuthenticationCode=function(){return this.get$Value(2)};
e.getAuthenticationCodeOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setAuthenticationCode=function(a){this.set$Value(2,a)};
e.hasAuthenticationCode=function(){return this.has$Value(2)};
e.authenticationCodeCount=function(){return this.count$Values(2)};
e.clearAuthenticationCode=function(){this.clear$Field(2)};
Os.prototype.getDescriptor=function(){var a=Ps;a||(Ps=a=W(Os,{0:{name:"AckHandleP",fullName:"ipc.invalidation.AckHandleP"},1:{name:"invalidation",fieldType:11,type:Fr}}));return a};
Os.getDescriptor=Os.prototype.getDescriptor;Qs.prototype.getDescriptor=function(){var a=Rs;a||(Rs=a=W(Qs,{0:{name:"PersistentTiclState",fullName:"ipc.invalidation.PersistentTiclState"},1:{name:"client_token",fieldType:12,type:String},2:{name:"last_message_send_time_ms",fieldType:3,defaultValue:"0",type:String}}));return a};
Qs.getDescriptor=Qs.prototype.getDescriptor;Ss.prototype.getDescriptor=function(){var a=Ts;a||(Ts=a=W(Ss,{0:{name:"PersistentStateBlob",fullName:"ipc.invalidation.PersistentStateBlob"},1:{name:"ticl_state",fieldType:11,type:Qs},2:{name:"authentication_code",fieldType:12,type:String}}));return a};
Ss.getDescriptor=Ss.prototype.getDescriptor;var Us=function(){this.currentState_=1};
Us.prototype.start=function(){this.currentState_=2};
Us.prototype.stop=function(){this.currentState_=3};
Us.prototype.isStarted=function(){return 2==this.currentState_};
Us.prototype.isStopped=function(){return 3==this.currentState_};var Vs=function(a,b){this.name_=a;this.operation_=b};
Vs.prototype.getName=function(){return this.name_};
Vs.prototype.run=function(){this.operation_()};
Vs.prototype.toString=function(){return this.name_};var Ws=function(a,b){null!=a&&this.append.apply(this,arguments)};
e=Ws.prototype;e.buffer_="";e.set=function(a){this.buffer_=""+a};
e.append=function(a,b,c){this.buffer_+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.buffer_+=arguments[d];return this};
e.clear=function(){this.buffer_=""};
e.getLength=function(){return this.buffer_.length};
e.toString=function(){return this.buffer_};var Xs=function(){};
Xs.prototype.toString=function(){var a=new Ws,b=!0,c;for(c in this){var d=this[c];Ja(d)||(b||a.append(", "),b=!1,a.append(c+" = "+d))}return a.toString()};var Ys=function(a,b){this.source_=a;this.name_=b;for(a=0;a<b.length;a++);};
B(Ys,Xs);w("invalidation.Types.ObjectId",Ys,void 0);Ys.prototype.getSource=function(){return this.source_};
Ys.prototype.getSource=Ys.prototype.getSource;Ys.prototype.getName=function(){return this.name_};
Ys.prototype.getName=Ys.prototype.getName;Ys.prototype.equals=function(a){return this==a?!0:this.source_==a.source_&&this.name_==a.name_};
var Zs=function(a,b,c,d){this.objectId_=a;this.version_=b;this.payload_=c||null;this.isTrickleRestart_=void 0!==d?d:!0};
B(Zs,Xs);w("invalidation.Types.Invalidation",Zs,void 0);Zs.prototype.getObjectId=function(){return this.objectId_};
Zs.prototype.getObjectId=Zs.prototype.getObjectId;Zs.prototype.getVersion=function(){return this.version_};
Zs.prototype.getVersion=Zs.prototype.getVersion;Zs.prototype.getIsTrickleRestartForInternalUse=function(){return this.isTrickleRestart_};
Zs.prototype.getIsTrickleRestartForInternalUse=Zs.prototype.getIsTrickleRestartForInternalUse;Zs.prototype.getPayload=function(){return this.payload_};
Zs.prototype.getPayload=Zs.prototype.getPayload;var $s=function(a,b){this.code_=a;this.message_=b};
B($s,Xs);w("invalidation.Types.Status",$s,void 0);var at=function(){return new $s(0,"")};
w("invalidation.Types.newSuccessStatus",at,void 0);w("invalidation.Types.newTransientFailureStatus",function(a){return new $s(1,a)},void 0);
var bt=function(a){return new $s(2,a)};
w("invalidation.Types.newPermanentFailureStatus",bt,void 0);$s.prototype.getCode=function(){return this.code_};
$s.prototype.getCode=$s.prototype.getCode;$s.prototype.getMessage=function(){return this.message_};
$s.prototype.getMessage=$s.prototype.getMessage;$s.prototype.isSuccess=function(){return 0==this.code_};
$s.Code={SUCCESS:0,TRANSIENT_FAILURE:1,PERMANENT_FAILURE:2};var ct=function(a,b,c,d){this.errorReason_=a;this.isTransient_=b;this.errorMessage_=c;this.context_=d};
B(ct,Xs);w("invalidation.Types.ErrorInfo",ct,void 0);ct.prototype.getErrorReason=function(){return this.errorReason_};
ct.prototype.getErrorReason=ct.prototype.getErrorReason;ct.prototype.isTransient=function(){return this.isTransient_};
ct.prototype.isTransient=ct.prototype.isTransient;ct.prototype.getErrorMessage=function(){return this.errorMessage_||"(no description)"};
ct.prototype.getErrorMessage=ct.prototype.getErrorMessage;ct.prototype.getContext=function(){return this.context_};
ct.prototype.getContext=ct.prototype.getContext;w("invalidation.Types.ErrorContext",function(){},void 0);
ct.ErrorReason={AUTH_FAILURE:1,UNKNOWN_FAILURE:-1};var dt=function(a){this.clientName_=a};
B(dt,Xs);w("invalidation.Types.ApplicationClientId",dt,void 0);dt.prototype.getClientName=function(){return this.clientName_};
dt.prototype.getClientName=dt.prototype.getClientName;var et=function(a){this.handleData_=a};
B(et,Xs);w("invalidation.Types.AckHandle",et,void 0);et.prototype.getHandleData=function(){return this.handleData_};
et.prototype.getHandleData=et.prototype.getHandleData;et.prototype.equals=function(a){return a instanceof et&&this.handleData_===a.getHandleData()};
et.prototype.equals=et.prototype.equals;var ft=function(){};
w("invalidation.SystemResources",ft,void 0);ft.prototype.start=ft.prototype.start;ft.prototype.stop=ft.prototype.stop;ft.prototype.isStarted=ft.prototype.isStarted;ft.prototype.getPlatform=ft.prototype.getPlatform;ft.prototype.getLogger=ft.prototype.getLogger;ft.prototype.getStorage=ft.prototype.getStorage;ft.prototype.getNetwork=ft.prototype.getNetwork;ft.prototype.getInternalScheduler=ft.prototype.getInternalScheduler;ft.prototype.getListenerScheduler=ft.prototype.getListenerScheduler;
ft.ResourceComponent=function(){};
var gt=function(){};
ft.Logger=gt;gt.prototype.severe=gt.prototype.severe;gt.prototype.warning=gt.prototype.warning;gt.prototype.info=gt.prototype.info;gt.prototype.fine=gt.prototype.fine;gt.prototype.isLoggable=gt.prototype.isLoggable;var ht=function(){};
ft.Scheduler=ht;ht.prototype.schedule=ht.prototype.schedule;ht.prototype.getCurrentTimeMs=ht.prototype.getCurrentTimeMs;var it=function(){};
ft.NetworkChannel=it;it.prototype.sendMessage=it.prototype.sendMessage;it.prototype.setMessageReceiver=it.prototype.setMessageReceiver;it.prototype.addNetworkStatusReceiver=it.prototype.addNetworkStatusReceiver;var jt=function(){};
ft.Storage=jt;jt.prototype.writeKey=jt.prototype.writeKey;jt.prototype.readKey=jt.prototype.readKey;jt.prototype.deleteKey=jt.prototype.deleteKey;jt.prototype.readAllKeys=jt.prototype.readAllKeys;var kt=function(a,b,c,d,f){this.internalScheduler_=b;this.listenerScheduler_=c;this.logger_=a;this.network_=d;this.storage_=f;this.runState_=new Us;this.internalScheduler_.setSystemResources(this);this.listenerScheduler_.setSystemResources(this);this.logger_&&this.logger_.setSystemResources(this);this.network_.setSystemResources(this);this.storage_.setSystemResources(this)};
e=kt.prototype;e.start=function(){this.runState_.start()};
e.stop=function(){this.runState_.stop();this.network_.stop()};
e.isStarted=function(){return this.runState_.isStarted()};
e.getPlatform=function(){return Fp};
e.getLogger=function(){return this.logger_};
e.getStorage=function(){return this.storage_};
e.getNetwork=function(){return this.network_};
e.getInternalScheduler=function(){return this.internalScheduler_};
e.getListenerScheduler=function(){return this.listenerScheduler_};var lt=new ur,mt=new sr;mt.setMajorVersion(3);mt.setMinorVersion(2);lt.setVersion(mt);var nt=new sr;nt.setMajorVersion(3);nt.setMinorVersion(2);var ot=new sr;ot.setMajorVersion(3);ot.setMinorVersion(20150820);var pt=new Br;pt.setName("");pt.setSource(1);var qt={PROTOBUF_BINARY_FORMAT:1,PROTOBUF_JSON_FORMAT:2},rt=function(){V.call(this)};
B(rt,V);var st=null;e=rt.prototype;e.getNetworkAddress=function(){return this.get$Value(1)};
e.getNetworkAddressOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setNetworkAddress=function(a){this.set$Value(1,a)};
e.hasNetworkAddress=function(){return this.has$Value(1)};
e.networkAddressCount=function(){return this.count$Values(1)};
e.clearNetworkAddress=function(){this.clear$Field(1)};
e.getClientAddress=function(){return this.get$Value(2)};
e.getClientAddressOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setClientAddress=function(a){this.set$Value(2,a)};
e.hasClientAddress=function(){return this.has$Value(2)};
e.clientAddressCount=function(){return this.count$Values(2)};
e.clearClientAddress=function(){this.clear$Field(2)};
e.getIsOffline=function(){return this.get$Value(3)};
e.getIsOfflineOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setIsOffline=function(a){this.set$Value(3,a)};
e.hasIsOffline=function(){return this.has$Value(3)};
e.isOfflineCount=function(){return this.count$Values(3)};
e.clearIsOffline=function(){this.clear$Field(3)};
var tt={TEST:1,BUZZ:111,STUBBY:112,ANDROID:113,LCS:114,TIPS_GCM:115,PROBER:116,TIPS_GCM_STAGING:117,TIPS_GCM_DEV:118};rt.prototype.getDescriptor=function(){var a=st;a||(st=a=W(rt,{0:{name:"NetworkEndpointId",fullName:"ipc.invalidation.NetworkEndpointId"},1:{name:"network_address",fieldType:14,defaultValue:1,type:tt},2:{name:"client_address",fieldType:12,type:String},3:{name:"is_offline",fieldType:8,type:Boolean}}));return a};
rt.getDescriptor=rt.prototype.getDescriptor;var ut=function(){V.call(this)};
B(ut,V);var vt=null;e=ut.prototype;e.getIsClientToServer=function(){return this.get$Value(1)};
e.getIsClientToServerOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setIsClientToServer=function(a){this.set$Value(1,a)};
e.hasIsClientToServer=function(){return this.has$Value(1)};
e.isClientToServerCount=function(){return this.count$Values(1)};
e.clearIsClientToServer=function(){this.clear$Field(1)};
e.getServiceContext=function(){return this.get$Value(2)};
e.getServiceContextOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setServiceContext=function(a){this.set$Value(2,a)};
e.hasServiceContext=function(){return this.has$Value(2)};
e.serviceContextCount=function(){return this.count$Values(2)};
e.clearServiceContext=function(){this.clear$Field(2)};
e.getRpcSchedulingHash=function(){return this.get$Value(3)};
e.getRpcSchedulingHashOrDefault=function(){return this.get$ValueOrDefault(3)};
e.setRpcSchedulingHash=function(a){this.set$Value(3,a)};
e.hasRpcSchedulingHash=function(){return this.has$Value(3)};
e.rpcSchedulingHashCount=function(){return this.count$Values(3)};
e.clearRpcSchedulingHash=function(){this.clear$Field(3)};
e.getProtocolVersion=function(){return this.get$Value(5)};
e.getProtocolVersionOrDefault=function(){return this.get$ValueOrDefault(5)};
e.setProtocolVersion=function(a){this.set$Value(5,a)};
e.hasProtocolVersion=function(){return this.has$Value(5)};
e.protocolVersionCount=function(){return this.count$Values(5)};
e.clearProtocolVersion=function(){this.clear$Field(5)};
e.getMessageType=function(){return this.get$Value(6)};
e.getMessageTypeOrDefault=function(){return this.get$ValueOrDefault(6)};
e.setMessageType=function(a){this.set$Value(6,a)};
e.hasMessageType=function(){return this.has$Value(6)};
e.messageTypeCount=function(){return this.count$Values(6)};
e.clearMessageType=function(){this.clear$Field(6)};
e.getEncoding=function(){return this.get$Value(7)};
e.getEncodingOrDefault=function(){return this.get$ValueOrDefault(7)};
e.setEncoding=function(a){this.set$Value(7,a)};
e.hasEncoding=function(){return this.has$Value(7)};
e.encodingCount=function(){return this.count$Values(7)};
e.clearEncoding=function(){this.clear$Field(7)};
e.getClientEndpointId=function(){return this.get$Value(8)};
e.getClientEndpointIdOrDefault=function(){return this.get$ValueOrDefault(8)};
e.setClientEndpointId=function(a){this.set$Value(8,a)};
e.hasClientEndpointId=function(){return this.has$Value(8)};
e.clientEndpointIdCount=function(){return this.count$Values(8)};
e.clearClientEndpointId=function(){this.clear$Field(8)};
e.getServiceEndpointId=function(){return this.get$Value(9)};
e.getServiceEndpointIdOrDefault=function(){return this.get$ValueOrDefault(9)};
e.setServiceEndpointId=function(a){this.set$Value(9,a)};
e.hasServiceEndpointId=function(){return this.has$Value(9)};
e.serviceEndpointIdCount=function(){return this.count$Values(9)};
e.clearServiceEndpointId=function(){this.clear$Field(9)};
e.getNetworkMessage=function(){return this.get$Value(4)};
e.getNetworkMessageOrDefault=function(){return this.get$ValueOrDefault(4)};
e.setNetworkMessage=function(a){this.set$Value(4,a)};
e.hasNetworkMessage=function(){return this.has$Value(4)};
e.networkMessageCount=function(){return this.count$Values(4)};
e.clearNetworkMessage=function(){this.clear$Field(4)};
e.getDebugInfo=function(){return this.get$Value(10)};
e.getDebugInfoOrDefault=function(){return this.get$ValueOrDefault(10)};
e.setDebugInfo=function(a){this.set$Value(10,a)};
e.hasDebugInfo=function(){return this.has$Value(10)};
e.debugInfoCount=function(){return this.count$Values(10)};
e.clearDebugInfo=function(){this.clear$Field(10)};
var wt={CLIENT_TO_SERVER:1,SERVER_TO_CLIENT:2,DISCONNECT:3,TIPS_CLIENT_TO_SERVER:4,SERVER_TO_TIPS_CLIENT:5};
ut.prototype.getDescriptor=function(){var a=vt;a||(vt=a=W(ut,{0:{name:"ClientGatewayMessage",fullName:"ipc.invalidation.ClientGatewayMessage"},1:{name:"is_client_to_server",fieldType:8,type:Boolean},2:{name:"service_context",fieldType:12,type:String},3:{name:"rpc_scheduling_hash",fieldType:3,type:String},5:{name:"protocol_version",fieldType:11,type:ur},6:{name:"message_type",fieldType:14,defaultValue:1,type:wt},7:{name:"encoding",fieldType:14,defaultValue:1,type:qt},8:{name:"client_endpoint_id",fieldType:11,
type:rt},9:{name:"service_endpoint_id",fieldType:12,type:String},4:{name:"network_message",fieldType:12,type:String},10:{name:"debug_info",fieldType:9,type:String}}));return a};
ut.getDescriptor=ut.prototype.getDescriptor;var xt=function(a,b){var c=new ts;c.setWindowMs(a);c.setCount(b);return c},zt=function(a,b){var c=new Hr;
c.setObjectId(a);c.setOpType(b?1:2);return c},At=function(a){var b=new Qs;
b.setClientToken(a);return b};var Dt=function(a,b,c,d){b=b||0;c=c||a.length;d={a:-1640531527,b:-1640531527,c:d||314159265};var f;for(f=c;12<=f;f-=12,b+=12)d.a+=Bt(a,b),d.b+=Bt(a,b+4),d.c+=Bt(a,b+8),Ct(d);d.c+=c;switch(f){case 11:d.c+=a[b+10]<<24;case 10:d.c+=(a[b+9]&255)<<16;case 9:d.c+=(a[b+8]&255)<<8;case 8:d.b+=Bt(a,b+4);d.a+=Bt(a,b);break;case 7:d.b+=(a[b+6]&255)<<16;case 6:d.b+=(a[b+5]&255)<<8;case 5:d.b+=a[b+4]&255;case 4:d.a+=Bt(a,b);break;case 3:d.a+=(a[b+2]&255)<<16;case 2:d.a+=(a[b+1]&255)<<8;case 1:d.a+=a[b+0]&255}return Ct(d)},
Ct=function(a){var b=a.a,c=a.b,d=a.c;
b=b-c-d^d>>>13;c=c-d-b^b<<8;d-=b;d=d-c^c>>>13;b-=c;b-=d;b^=d>>>12;c=c-d-b^b<<16;d-=b;d=d-c^c>>>5;b-=c;b-=d;b^=d>>>3;c=c-d-b^b<<10;d-=b;d=d-c^c>>>15;a.a=b;a.b=c;return a.c=d},Bt=function(a,b){return Et(a[b+0])+(Et(a[b+1])<<8)+(Et(a[b+2])<<16)+(Et(a[b+3])<<24)},Et=function(a){return 127<a?a-256:a};w("invalidation.ConcurrentStore",function(){},void 0);
var Ft=function(a,b){this.logger_=b;this.storeName_=a;this.uniqueId_=this.createUniqueId_();this.lastRemoverStorage_=(this.storage_=Vi("google_notification_values_"+this.storeName_))?Vi("google_notification_remover_"+this.storeName_):null;this.raceDetectionDelayMillis_=100};
e=Ft.prototype;e.add=function(a){null==this.storage_||10<=this.storage_.getCount()||this.setSlotValue_(String(Dt(nb(a))),a)};
e.removeRandom=function(){return this.removeRandom_(5)};
e.removeRandom_=function(a){var b=this;if(0==a)return Promise.resolve(null);var c=this.getSlotNames_();if(0==c.length)return Promise.resolve(null);c=this.getRandomItem_(c);return this.removeEntry_(c).then(function(c){return null!=c?c:b.removeRandom_(a-1)})};
e.getRemoverKey=function(a){return"google_notification_remover_"+this.storeName_+"::"+a};
e.removeEntry_=function(a){var b=this,c=!1,d=function(d){d=d.getBrowserEvent();d.key==b.getRemoverKey(a)&&d.newValue!=b.uniqueId_&&(c=!0)};
kl(self,"storage",d);this.setLastRemover_(a,this.uniqueId_);var f=this.getSlotValue_(a);this.setSlotValue_(a,null);return new Promise(function(g){dn(function(){rl(self,"storage",d);b.setLastRemover_(a,null);c?g(null):g(f)},b.raceDetectionDelayMillis_)})};
e.getSlotNames_=function(){return this.storage_?cg(this.storage_.__iterator__(!0)):[]};
e.getRandomItem_=function(a){return a[Math.floor(Math.random()*a.length)]};
e.getSlotValue_=function(a){return this.storage_.get(a)};
e.setSlotValue_=function(a,b){null!=b?this.storage_.set(a,b):this.storage_.remove(a)};
e.setLastRemover_=function(a,b){b?this.lastRemoverStorage_.set(a,b):this.lastRemoverStorage_.remove(a)};
e.setLocalStorageForTest=function(a,b){this.storage_=a;this.lastRemoverStorage_=b};
e.createUniqueId_=function(){return Gb()};
e.setUniqueIdFunctionForTest=function(a){this.createUniqueId_=a;this.uniqueId_=this.createUniqueId_()};
e.setRaceDetectionDelayMillisForTest=function(a){this.raceDetectionDelayMillis_=a};var Gt=function(){this.logger_=this.resources_=null};
Gt.prototype.getCurrentTimeMs=function(){return A()};
Gt.prototype.schedule=function(a,b){var c=z(function(){this.resources_.isStarted()&&b.run()},this);
dn(c,a)};
Gt.prototype.setSystemResources=function(a){this.resources_=a;this.logger_=this.resources_.getLogger()};
var Ht=function(){this.logger_=null};
B(Ht,Wn);Ht.prototype.setSystemResources=function(){};
var It=function(){this.logger_=this.internalScheduler_=null;this.persistentState_=new dg};
e=It.prototype;e.setSystemResources=function(a){this.internalScheduler_=a.getInternalScheduler();this.logger_=a.getLogger()};
e.writeKey=function(a,b,c){var d=z(function(){this.persistentState_.set(a,b);c(at())},this);
this.internalScheduler_.schedule(0,new Vs("writeKey",d))};
e.readKey=function(a,b){var c=z(function(){var c=this.persistentState_.get(a);c?b(at(),c):b(bt("No value present in map for "+a),"")},this);
this.internalScheduler_.schedule(0,new Vs("readKey",c))};
e.deleteKey=function(a,b){var c=z(function(){this.persistentState_.remove(a);b(!0)},this);
this.internalScheduler_.schedule(0,new Vs("deleteKey",c))};
e.readAllKeys=function(a){var b=z(function(){for(var b=this.persistentState_.getKeys(),d=0;d<b.length;d++)a(at(),b[d])},this);
this.internalScheduler_.schedule(0,new Vs("readAllKeys",b))};w("invalidation.DigestFunction",function(){},void 0);
var Jt=function(a){this.value_=a};
Jt.prototype.getRawValue=function(){return this.value_};
Jt.prototype.serialize=function(){return xc(this.value_)};
Jt.prototype.equals=function(a){a:{var b=this.value_;a=a.value_;if(Ia(b)&&Ia(a)&&b.length==a.length){for(var c=b.length,d=0;d<c;d++)if(b[d]!==a[d]){b=!1;break a}b=!0}else b=!1}return b};
Jt.prototype.toString=function(){return Vn("Digest: <%s, %s>",this.serialize(),this.value_.toString())};w("invalidation.DigestStore",function(){},void 0);var Kt=function(){this.sha1_=new vi;this.resetNeeded_=!1};
Kt.prototype.reset=function(){this.resetNeeded_=!1;this.sha1_.reset()};
Kt.prototype.update=function(a){this.sha1_.update(a)};
Kt.prototype.getDigest=function(){this.resetNeeded_=!0;var a=this.sha1_.digest();return new Jt(a)};
var Lt=function(a,b){b.reset();for(var c=[],d=a.getSource(),f=0;4>f;f++)c[f]=d&255,d>>=8;b.update(c);b.update(a.getName());return b.getDigest()};var Nt=function(a,b){b=Mt(a,b).serialize();var c=new Ss;c.setTiclState(a);c.setAuthenticationCode(b);return po(c)},Mt=function(a,b){b.reset();
b.update(po(a));return b.getDigest()};var Ut=function(){this.sentMessageTypes_=new dg;this.receivedMessageTypes_=new dg;this.incomingOperationTypes_=new dg;this.listenerEventTypes_=new dg;this.clientErrorTypes_=new dg;Ot(this.sentMessageTypes_,E.getValues(Pt));Ot(this.receivedMessageTypes_,E.getValues(Qt));Ot(this.incomingOperationTypes_,E.getValues(Rt));Ot(this.listenerEventTypes_,E.getValues(St));Ot(this.clientErrorTypes_,E.getValues(Tt))},Ot=function(a,b){for(var c=0;c<b.length;c++)a.set(b[c],0)};
e=Ut.prototype;e.getCopyForTest=function(){var a=new Ut;a.sentMessageTypes_.addAll(this.sentMessageTypes_);a.receivedMessageTypes_.addAll(this.receivedMessageTypes_);a.incomingOperationTypes_.addAll(this.incomingOperationTypes_);a.listenerEventTypes_.addAll(this.listenerEventTypes_);a.clientErrorTypes_.addAll(this.clientErrorTypes_);return a};
e.getClientErrorCounterForTest=function(a){return this.clientErrorTypes_.get(a)};
e.getReceivedMessageCounterForTest=function(a){return this.receivedMessageTypes_.get(a)};
e.recordSentMessage=function(a){Vt(this.sentMessageTypes_,a)};
e.recordReceivedMessage=function(a){Vt(this.receivedMessageTypes_,a)};
e.recordIncomingOperation=function(a){Vt(this.incomingOperationTypes_,a)};
e.recordListenerEvent=function(a){Vt(this.listenerEventTypes_,a)};
e.recordError=function(a){Vt(this.clientErrorTypes_,a)};
e.getNonZeroStatistics=function(a){Wt(this.sentMessageTypes_,a,"SentMessageType");Wt(this.receivedMessageTypes_,a,"ReceivedMessageType");Wt(this.incomingOperationTypes_,a,"IncomingOperationType");Wt(this.listenerEventTypes_,a,"ListenerEventType");Wt(this.clientErrorTypes_,a,"ClientErrorType")};
var Wt=function(a,b,c){for(var d=a.getKeys(),f=0;f<d.length;f++){var g=d[f],h=a.get(g);g=c+"."+g;0<h&&b.set(g,h)}},Vt=function(a,b){a.set(b,a.get(b)+1)},Pt={INFO:"INFO",
INITIALIZE:"INITIALIZE",INVALIDATION_ACK:"INVALIDATION_ACK",REGISTRATION:"REGISTRATION",REGISTRATION_SYNC:"REGISTRATION_SYNC",TOTAL:"TOTAL"},Qt={INFO_REQUEST:"INFO_REQUEST",INVALIDATION:"INVALIDATION",REGISTRATION_STATUS:"REGISTRATION_STATUS",REGISTRATION_SYNC_REQUEST:"REGISTRATION_SYNC_REQUEST",TOKEN_CONTROL:"TOKEN_CONTROL",ERROR:"ERROR",CONFIG_CHANGE:"CONFIG_CHANGE",STALE_INVALIDATION:"STALE_INVALIDATION",TOTAL:"TOTAL"},Rt={ACKNOWLEDGE:"ACKNOWLEDGE",REGISTRATION:"REGISTRATION",UNREGISTRATION:"UNREGISTRATION"},
St={INFORM_ERROR:"INFORM_ERROR",INFORM_REGISTRATION_FAILURE:"INFORM_REGISTRATION_FAILURE",INFORM_REGISTRATION_STATUS:"INFORM_REGISTRATION_STATUS",INVALIDATE:"INVALIDATE",INVALIDATE_ALL:"INVALIDATE_ALL",INVALIDATE_UNKNOWN:"INVALIDATE_UNKNOWN",REISSUE_REGISTRATIONS:"REISSUE_REGISTRATIONS"},Tt={ACKNOWLEDGE_HANDLE_FAILURE:"ACKNOWLEDGE_HANDLE_FAILURE",INCOMING_MESSAGE_FAILURE:"INCOMING_MESSAGE_FAILURE",OUTGOING_MESSAGE_FAILURE:"OUTGOING_MESSAGE_FAILURE",PERSISTENT_DESERIALIZATION_FAILURE:"PERSISTENT_DESERIALIZATION_FAILURE",
PERSISTENT_READ_FAILURE:"PERSISTENT_READ_FAILURE",PERSISTENT_WRITE_FAILURE:"PERSISTENT_WRITE_FAILURE",PROTOCOL_VERSION_FAILURE:"PROTOCOL_VERSION_FAILURE",REGISTRATION_DISCREPANCY:"REGISTRATION_DISCREPANCY",NONCE_MISMATCH:"NONCE_MISMATCH",TOKEN_MISMATCH:"TOKEN_MISMATCH",TOKEN_MISSING_FAILURE:"TOKEN_MISSING_FAILURE",TOKEN_TRANSIENT_FAILURE:"TOKEN_TRANSIENT_FAILURE",NETWORK_DISCONNECTED:"NETWORK_DISCONNECTED"};var Xt=function(a){this.logger=a;a=function(){return!0};
var b=z(this.required,this),c=z(function(a){return z(this.greaterOrEqualTo,this,a)},this),d=c(0),f=z(this.nonEmpty,this);
this.specifications_={Version:{major_version:[b,d],minor_version:[b,d]},ProtocolVersion:{version:[b]},ObjectIdP:{name:[b],source:[b,d]},InvalidationP:{object_id:[b],is_known_version:[b],version:[b,d],payload:[a],is_trickle_restart:[a]},RegistrationP:{object_id:[b],op_type:[b]},RegistrationSummary:{num_registrations:[b,d],registration_digest:[b,f]},InvalidationMessage:{invalidation:[b]},ClientHeader:{protocol_version:[b],client_token:[a,f],registration_summary:[a],client_time_ms:[b],max_known_server_time_ms:[b],
client_type:[a],message_id:[a]},ApplicationClientIdP:{client_type:[b],client_name:[b,f]},InitializeMessage:{client_type:[b],nonce:[b,f],digest_serialization_type:[b],application_client_id:[b]},RegistrationMessage:{registration:[b]},ClientVersion:{version:[b],platform:[b],language:[b],application_info:[b]},PropertyRecord:{name:[b],value:[b]},InfoMessage:{client_version:[b],config_parameter:[a],performance_counter:[a],client_config:[a],server_registration_summary_requested:[a]},ClientConfigP:{version:[b],
network_timeout_delay_ms:[a],write_retry_delay_ms:[a],heartbeat_interval_ms:[a],perf_counter_delay_ms:[a],max_exponential_backoff_factor:[a],smear_percent:[a],is_transient:[a],initial_persistent_heartbeat_delay_ms:[a],channel_supports_offline_delivery:[a],protocol_handler_config:[b],offline_heartbeat_threshold_ms:[a],allow_suppression:[a]},ProtocolHandlerConfigP:{batching_delay_ms:[a],rate_limit:[a]},RateLimitP:{window_ms:[b,c(1E3)],count:[b]},RegistrationSubtree:{registered_object:[a]},RegistrationSyncMessage:{subtree:[b]},
ClientToServerMessage:{header:[b],info_message:[a],initialize_message:[a],invalidation_ack_message:[a],registration_message:[a],registration_sync_message:[a]},ServerHeader:{protocol_version:[b],client_token:[b,f],registration_summary:[a],server_time_ms:[b,d],message_id:[a,f]},StatusP:{code:[b],description:[a]},TokenControlMessage:{new_token:[a]},ErrorMessage:{code:[b],description:[b]},RegistrationStatus:{registration:[b],status:[b]},RegistrationStatusMessage:{registration_status:[b]},RegistrationSyncRequestMessage:{},
InfoRequestMessage:{info_type:[b]},ConfigChangeMessage:{next_message_delay_ms:[a,c(1)]},ServerToClientMessage:{header:[b],token_control_message:[a],invalidation_message:[a],registration_status_message:[a],registration_sync_request_message:[a],config_change_message:[a],info_request_message:[a],error_message:[a]}}};
B(Xt,Aq);Xt.prototype.getSpecifications=function(){return this.specifications_};
Xt.prototype.isClientMessageValid=function(a){if(!this.validate(a))return!1;var b=a.getHeader().hasClientToken();return a.hasInitializeMessage()?!b:b};
Xt.prototype.isServerMessageValid=function(a){return this.validate(a)};
Xt.prototype.isInvalidationValid=function(a){return this.validate(a)};var Zt=function(a,b,c,d,f,g,h,k){a=b.getPlatform()+"";c=new wr;c.setVersion(ot);c.setPlatform(a);c.setLanguage("JS");c.setApplicationInfo(g);this.clientVersion_=c;this.logger=b.getLogger();this.internalScheduler=b.getInternalScheduler();this.network_=b.getNetwork();this.listener_=h;this.msgValidator_=k;this.messageId_=1;this.nextMessageSendTimeMs_=this.lastKnownServerTimeMs_=0;this.statistics_=d;this.batcher_=new Yt(b,d);this.clientType_=f},Yt=function(a,b){this.statistics_=b;
this.resources_=a;this.pendingRegistrations_=new dg;this.pendingAckedInvalidations_=new dg;this.pendingRegSubtrees_=new dg;this.pendingInfoMessage_=this.pendingInitializeMessage_=null};
e=Yt.prototype;e.setInitializeMessage=function(a){this.pendingInitializeMessage_=a};
e.setInfoMessage=function(a){this.pendingInfoMessage_=a};
e.addRegistration=function(a,b){b=zt(a,b);this.pendingRegistrations_.set(po(a),b)};
e.addAck=function(a){this.pendingAckedInvalidations_.set(po(a),a)};
e.addRegSubtree=function(a){this.pendingRegSubtrees_.set(po(a),a)};
e.toMessage=function(a){var b=new Or;null!=this.pendingInitializeMessage_&&(this.statistics_.recordSentMessage("INITIALIZE"),b.setInitializeMessage(this.pendingInitializeMessage_),this.pendingInitializeMessage_=null);if(!a&&!b.hasInitializeMessage())return this.statistics_.recordError("TOKEN_MISSING_FAILURE"),null;this.pendingAckedInvalidations_.isEmpty()||(b.setInvalidationAckMessage(this.createInvalidationAckMessage()),this.statistics_.recordSentMessage("INVALIDATION_ACK"));this.pendingRegistrations_.isEmpty()||
(b.setRegistrationMessage(this.createRegistrationMessage()),this.statistics_.recordSentMessage("REGISTRATION"));if(!this.pendingRegSubtrees_.isEmpty()){a=new Vr;for(var c=this.pendingRegSubtrees_.getValues(),d=0;d<c.length;d++)a.addSubtree(c[d]);b.setRegistrationSyncMessage(a);this.pendingRegSubtrees_.clear();this.statistics_.recordSentMessage("REGISTRATION_SYNC")}null!=this.pendingInfoMessage_&&(this.statistics_.recordSentMessage("INFO"),b.setInfoMessage(this.pendingInfoMessage_),this.pendingInfoMessage_=
null);return b};
e.createRegistrationMessage=function(){var a=this.pendingRegistrations_.getValues();this.pendingRegistrations_.clear();for(var b=new Tr,c=0;c<a.length;c++)b.addRegistration(a[c]);return b};
e.createInvalidationAckMessage=function(){var a=this.pendingAckedInvalidations_.getValues();this.pendingAckedInvalidations_.clear();for(var b=new os,c=0;c<a.length;c++)b.addInvalidation(a[c]);return b};
var $t=function(a,b){this.token=a;this.registrationSummary=b};
$t.prototype.toString=function(){return Vn("Token: %s, Summary: %s",null==this.token?"null":this.token,this.registrationSummary.toString())};
var au=function(a){var b=a.getHeader();this.header=new $t(b.getClientToken(),b.hasRegistrationSummary()?b.getRegistrationSummary():null);this.tokenControlMessage=a.hasTokenControlMessage()?a.getTokenControlMessage():null;this.invalidationMessage=a.hasInvalidationMessage()?a.getInvalidationMessage():null;this.registrationStatusMessage=a.hasRegistrationStatusMessage()?a.getRegistrationStatusMessage():null;this.registrationSyncRequestMessage=a.hasRegistrationSyncRequestMessage()?a.getRegistrationSyncRequestMessage():
null;this.configChangeMessage=a.hasConfigChangeMessage()?a.getConfigChangeMessage():null;this.infoRequestMessage=a.hasInfoRequestMessage()?a.getInfoRequestMessage():null;this.errorMessage=a.hasErrorMessage()?a.getErrorMessage():null},bu=function(){var a=new vs;
a.addRateLimit(xt(5E3,3));return a};
e=Zt.prototype;e.getNextMessageSendTimeMsForTest=function(){return this.nextMessageSendTimeMs_};
e.handleIncomingMessage=function(a){a=this.deserializeMessage(a);if(null==a)return null;if(!this.msgValidator_.isServerMessageValid(a))return this.statistics_.recordError("INCOMING_MESSAGE_FAILURE"),null;var b=a.getHeader();if(3!=b.getProtocolVersion().getVersion().getMajorVersion())return this.statistics_.recordError("PROTOCOL_VERSION_FAILURE"),null;if(a.hasConfigChangeMessage())return a=a.getConfigChangeMessage(),this.statistics_.recordReceivedMessage("CONFIG_CHANGE"),a.hasNextMessageDelayMs()&&
(this.nextMessageSendTimeMs_=this.internalScheduler.getCurrentTimeMs()+a.getNextMessageDelayMsOrDefault()),null;this.lastKnownServerTimeMs_=Math.max(this.lastKnownServerTimeMs_,b.getServerTimeMs());return new au(a)};
e.sendInitializeMessage=function(a,b,c,d){a.getClientType();var f=this.clientType_,g=new Qr;g.setClientType(f);g.setApplicationClientId(a);g.setDigestSerializationType(2);g.setNonce(b);this.batcher_.setInitializeMessage(g);c.ensureScheduled(d)};
e.sendInfoMessage=function(a,b,c,d){var f=new Zr;f.setClientVersion(this.clientVersion_);null!=b&&f.setClientConfig(b);b=a.getKeys();for(var g=0;g<b.length;g++){var h=b[g],k=a.get(b[g]),l=new as;l.setName(h);l.setValue(k);f.addPerformanceCounter(l)}f.setServerRegistrationSummaryRequested(c);this.batcher_.setInfoMessage(f);d.ensureScheduled("Send-info")};
e.sendRegistrations=function(a,b,c){b=1==b;for(var d=0;d<a.length;d++)this.batcher_.addRegistration(a[d],b);c.ensureScheduled("Send-registrations")};
e.sendInvalidationAck=function(a,b){this.batcher_.addAck(a);b.ensureScheduled("Send-ack")};
e.sendRegistrationSyncSubtree=function(a,b){this.batcher_.addRegSubtree(a);b.ensureScheduled("Send-reg-sync")};
e.sendMessageToServer=function(){if(this.nextMessageSendTimeMs_>this.internalScheduler.getCurrentTimeMs())this.internalScheduler.getCurrentTimeMs();else{var a=null!=this.listener_.getClientToken();a=this.batcher_.toMessage(a);null!=a&&(a.setHeader(this.createClientHeader()),this.messageId_++,this.msgValidator_.isClientMessageValid(a)?(this.statistics_.recordSentMessage("TOTAL"),a=po(a),this.network_.sendMessage(a),this.listener_.handleMessageSent()):this.statistics_.recordError("OUTGOING_MESSAGE_FAILURE"))}};
e.createClientHeader=function(){var a=new Mr;a.setProtocolVersion(lt);a.setClientTimeMs(this.internalScheduler.getCurrentTimeMs());a.setMessageId(this.messageId_.toString());a.setMaxKnownServerTimeMs(this.lastKnownServerTimeMs_);a.setRegistrationSummary(this.listener_.getRegistrationSummary());a.setClientType(this.clientType_);var b=this.listener_.getClientToken();null!=b&&a.setClientToken(b);return a};
e.deserializeMessage=function(a){var b=es.getDescriptor();return so(b,a,this.logger)};var cu=function(a){return new Ys(a.getSource(),a.getName())};var du=function(a,b,c,d,f,g,h){this.name_=a;this.logger=c;this.scheduler=b;this.initialDelayMs_=g;this.timeoutDelayMs_=h;this.smearer=d;this.delayGenerator_=f;this.isScheduled_=!1;this.task_=new Vs(a,z(function(){this.isScheduled_=!1;this.runTask()?this.ensureScheduled_(!0,"Retry"):null!=f&&this.delayGenerator_.reset()},this))};
B(du,Xs);du.prototype.getSmearer=function(){return this.smearer};
du.prototype.getDelayGenerator=function(){return this.delayGenerator_};
du.prototype.ensureScheduled=function(a){this.ensureScheduled_(!1,a)};
du.prototype.ensureScheduled_=function(a){this.isScheduled_||(a=a?null!=this.delayGenerator_?this.timeoutDelayMs_+this.delayGenerator_.getNextDelay():this.timeoutDelayMs_+this.smearer.getSmearedDelay(this.initialDelayMs_):this.smearer.getSmearedDelay(this.initialDelayMs_),this.scheduler.getCurrentTimeMs(),this.scheduler.schedule(a,this.task_),this.isScheduled_=!0)};var fu=function(a){this.comparator_=a||eu;this.maxNode_=this.minNode_=this.root_=null},eu=function(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0};
function gu(a){return a?a.height:0}
function hu(a){return a?(a.left?a.left.height:0)-(a.right?a.right.height:0):0}
e=fu.prototype;e.balance_=function(a){var b=hu(a);return 1<b?(0>hu(a.left)&&this.leftRotate_(a.left),this.rightRotate_(a)):-1>b?(0<hu(a.right)&&this.rightRotate_(a.right),this.leftRotate_(a)):a};
e.addInternal_=function(a,b){var c=this.comparator_(a,b.value),d=!1;0<c?b.right?d=this.addInternal_(a,b.right):(b.right=new iu(a,b),d=!0,b==this.maxNode_&&(this.maxNode_=b.right)):0>c&&(b.left?d=this.addInternal_(a,b.left):(b.left=new iu(a,b),d=!0,b==this.minNode_&&(this.minNode_=b.left)));d&&(b.count++,b.height=Math.max(gu(b.left),gu(b.right))+1,this.balance_(b));return d};
e.add=function(a){return this.root_?this.addInternal_(a,this.root_):(this.maxNode_=this.minNode_=this.root_=new iu(a),!0)};
function ju(a){return a?a.count:0}
e.removeInternal_=function(a,b){if(!b)return{value:null,root:null};var c=this.comparator_(b.value,a);if(0<c)c=this.removeInternal_(a,b.left),b.left=c.root,a=c.value;else if(0>c)c=this.removeInternal_(a,b.right),b.right=c.root,a=c.value;else if(a=b.value,b.left&&b.right){a=b.value;var d=b.right;this.traverse_(function(a){return a.left?d=a.left:null},b.right);
b.value=d.value;c=this.removeInternal_(d.value,b.right);b.right=c.root}else{c=b.left?b.left:b.right;if(!c)return this.maxNode_==b&&(this.maxNode_=b.parent),this.minNode_==b&&(this.minNode_=b.parent),{value:a,root:null};this.maxNode_==b&&(this.maxNode_=c);this.minNode_==b&&(this.minNode_=c);c.parent=b.parent;b=c}b.count=ju(b.left)+ju(b.right)+1;b.height=Math.max(gu(b.left),gu(b.right))+1;return{root:this.balance_(b),value:a}};
e.remove=function(a){a=this.removeInternal_(a,this.root_);this.root_=a.root;return a.value};
e.clear=function(){this.maxNode_=this.minNode_=this.root_=null};
e.contains=function(a){var b=!1;this.traverse_(function(c){var d=null,f=this.comparator_(c.value,a);0<f?d=c.left:0>f?d=c.right:b=!0;return d});
return b};
e.indexOf=function(a){var b=-1,c=0;this.traverse_(function(d){var f=this.comparator_(d.value,a);if(0<f)return d.left;d.left&&(c+=d.left.count);if(0>f)return c++,d.right;b=c;return null});
return b};
e.getCount=function(){return this.root_?this.root_.count:0};
e.getKthValue=function(a){return 0>a||a>=this.getCount()?null:this.getKthNode_(a).value};
e.getMinimum=function(){return this.getMinNode_().value};
e.getMaximum=function(){return this.getMaxNode_().value};
e.getHeight=function(){return this.root_?this.root_.height:0};
e.getValues=function(){var a=[];this.inOrderTraverse(function(b){a.push(b)});
return a};
e.inOrderTraverse=function(a,b){if(this.root_){if(void 0!==b){if(this.traverse_(function(a){var d=null,f=this.comparator_(a.value,b);0<f?(d=a.left,c=a):0>f?d=a.right:c=a;return d}),!c)return}else var c=this.getMinNode_();
for(var d=c,f=d.left?d.left:d;null!=d;)if(null!=d.left&&d.left!=f&&d.right!=f)d=d.left;else{if(d.right!=f&&a(d.value))break;var g=d;d=null!=d.right&&d.right!=f?d.right:d.parent;f=g}}};
e.reverseOrderTraverse=function(a,b){if(this.root_){if(void 0!==b){if(this.traverse_(z(function(a){var d=null,f=this.comparator_(a.value,b);0<f?d=a.left:(0>f&&(d=a.right),c=a);return d},this)),!c)return}else var c=this.getMaxNode_();
for(var d=c,f=c.right?c.right:c;null!=d;)if(null!=d.right&&d.right!=f&&d.left!=f)d=d.right;else{if(d.left!=f&&a(d.value))break;var g=d;d=null!=d.left&&d.left!=f?d.left:d.parent;f=g}}};
e.traverse_=function(a,b,c){b=b?b:this.root_;for(c=c?c:null;b&&b!=c;)b=a.call(this,b)};
e.leftRotate_=function(a){a.isLeftChild()?(a.parent.left=a.right,a.right.parent=a.parent):a.isRightChild()?(a.parent.right=a.right,a.right.parent=a.parent):(this.root_=a.right,this.root_.parent=null);var b=a.right;a.right=a.right.left;null!=a.right&&(a.right.parent=a);b.left=a;a.parent=b;b.count=a.count;a.count-=(b.right?b.right.count:0)+1;a.fixHeight();b.fixHeight();return b};
e.rightRotate_=function(a){a.isLeftChild()?(a.parent.left=a.left,a.left.parent=a.parent):a.isRightChild()?(a.parent.right=a.left,a.left.parent=a.parent):(this.root_=a.left,this.root_.parent=null);var b=a.left;a.left=a.left.right;null!=a.left&&(a.left.parent=a);b.right=a;a.parent=b;b.count=a.count;a.count-=(b.left?b.left.count:0)+1;a.fixHeight();b.fixHeight();return b};
e.getKthNode_=function(a,b){b=b||this.root_;var c=b.left?b.left.count:0;return a<c?this.getKthNode_(a,b.left):a==c?b:this.getKthNode_(a-c-1,b.right)};
e.getMinNode_=function(a){if(!a)return this.minNode_;var b=a;this.traverse_(function(a){var c=null;a.left&&(c=b=a.left);return c},a);
return b};
e.getMaxNode_=function(a){if(!a)return this.maxNode_;var b=a;this.traverse_(function(a){var c=null;a.right&&(c=b=a.right);return c},a);
return b};
e.copy=function(a){var b=new fu(this.comparator_);if(!this.root_)return b;a=this.root_.copy(null,this.comparator_,a);b.root_=a.root;b.minNode_=a.leftMost;b.maxNode_=a.rightMost;return b};
var iu=function(a,b){this.value=a;this.parent=b?b:null;this.count=1;this.right=this.left=null;this.height=1};
iu.prototype.isRightChild=function(){return!!this.parent&&this.parent.right==this};
iu.prototype.isLeftChild=function(){return!!this.parent&&this.parent.left==this};
iu.prototype.fixHeight=function(){this.height=Math.max(this.left?this.left.height:0,this.right?this.right.height:0)+1};
iu.prototype.copy=function(a,b,c){var d=c?c(this.value):this.value;a=new iu(d,a);a.count=this.count;a.height=this.height;var f=d=a;this.left&&(d=this.left.copy(a,b,c),a.left=d.root,d=d.leftMost);this.right&&(b=this.right.copy(a,b,c),a.right=b.root,f=b.rightMost);return{root:a,leftMost:d,rightMost:f}};var lu=function(a){this.registrations_=new fu(ku);this.digestFunction_=a;this.recomputeDigest_()},mu=function(a,b){this.digest=a;
this.objectId=b};
mu.prototype.toString=function(){return Vn("[%s, %s]",this.digest.toString(),this.objectId.toString())};
var ku=function(a,b){a:{a=a.digest.value_;b=b.digest.value_;for(var c=jb,d=Math.min(a.length,b.length),f=0;f<d;f++){var g=c(a[f],b[f]);if(0!=g){a=g;break a}}a=jb(a.length,b.length)}return a};
e=lu.prototype;e.add=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],f=Lt(d,this.digestFunction_);f=new mu(f,d);this.registrations_.contains(f)||(this.registrations_.add(f),b.push(d))}0<b.length&&this.recomputeDigest_();return b};
e.remove=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],f=Lt(d,this.digestFunction_);f=new mu(f,d);this.registrations_.contains(f)&&(this.registrations_.remove(f),b.push(d))}0<b.length&&this.recomputeDigest_();return b};
e.removeAll=function(){for(var a=[],b=this.registrations_.getValues(),c=0;c<b.length;c++)a.push(b[c].objectId);this.registrations_.clear();this.recomputeDigest_();return a};
e.contains=function(a){var b=Lt(a,this.digestFunction_);return this.registrations_.contains(new mu(b,a))};
e.size=function(){return this.registrations_.getCount()};
e.getDigest=function(){return this.digest_};
e.getElements=function(){for(var a=[],b=this.registrations_.getValues(),c=0;c<b.length;c++)a.push(b[c].objectId);return a};
e.recomputeDigest_=function(){for(var a=[],b=this.registrations_.getValues(),c=0;c<b.length;c++)a.push(b[c].digest);b=this.digestFunction_;b.reset();for(c=0;c<a.length;c++)b.update(a[c].getRawValue());this.digest_=b.getDigest()};
e.toString=function(){return Vn("Digest: %s, Regs: %s",this.digest_.toString(),this.registrations_.getValues().toString())};var nu=function(){V.call(this)};
B(nu,V);var ou=null;e=nu.prototype;e.getClientSummary=function(){return this.get$Value(1)};
e.getClientSummaryOrDefault=function(){return this.get$ValueOrDefault(1)};
e.setClientSummary=function(a){this.set$Value(1,a)};
e.hasClientSummary=function(){return this.has$Value(1)};
e.clientSummaryCount=function(){return this.count$Values(1)};
e.clearClientSummary=function(){this.clear$Field(1)};
e.getServerSummary=function(){return this.get$Value(2)};
e.getServerSummaryOrDefault=function(){return this.get$ValueOrDefault(2)};
e.setServerSummary=function(a){this.set$Value(2,a)};
e.hasServerSummary=function(){return this.has$Value(2)};
e.serverSummaryCount=function(){return this.count$Values(2)};
e.clearServerSummary=function(){this.clear$Field(2)};
e.getRegisteredObjects=function(a){return this.get$Value(3,a)};
e.getRegisteredObjectsOrDefault=function(a){return this.get$ValueOrDefault(3,a)};
e.addRegisteredObjects=function(a){this.add$Value(3,a)};
e.registeredObjectsArray=function(){return this.array$Values(3)};
e.hasRegisteredObjects=function(){return this.has$Value(3)};
e.registeredObjectsCount=function(){return this.count$Values(3)};
e.clearRegisteredObjects=function(){this.clear$Field(3)};
e.getDescriptor=function(){var a=ou;a||(ou=a=W(nu,{0:{name:"ClientTestRegistrationManagerStateP",fullName:"ipc.invalidation.ClientTestRegistrationManagerStateP"},1:{name:"client_summary",fieldType:11,type:Kr},2:{name:"server_summary",fieldType:11,type:Kr},3:{name:"registered_objects",repeated:!0,fieldType:11,type:Br}}));return a};
nu.getDescriptor=nu.prototype.getDescriptor;var pu=function(a,b,c){this.emptyPrefix_="";this.desiredRegistrations_=new lu(c,a);this.statistics_=b;this.lastKnownServerSummary_=this.getRegistrationSummary();this.pendingOperations_=new dg;this.logger_=a};
e=pu.prototype;e.getRegistrationManagerStateCopyForTest=function(){var a=new nu;a.setClientSummary(this.getRegistrationSummary());a.setServerSummary(this.lastKnownServerSummary_);for(var b=this.desiredRegistrations_.getElements(this.emptyPrefix_,0),c=0;c<b.length;c++)a.addRegisteredObjects(b[c]);return a};
e.setDigestStoreForTest=function(a){this.desiredRegistrations_=a;this.lastKnownServerSummary_=this.getRegistrationSummary()};
e.getRegisteredObjectsForTest=function(){return this.desiredRegistrations_.getElements(this.emptyPrefix_,0)};
e.performOperations=function(a,b){for(var c=0;c<a.length;c++)this.pendingOperations_.set(po(a[c]),b);return 1==b?this.desiredRegistrations_.add(a):this.desiredRegistrations_.remove(a)};
e.getRegistrations=function(a,b){var c=new Xr;a=this.desiredRegistrations_.getElements(a,b);for(b=0;b<a.length;b++)c.addRegisteredObject(a[b]);return c};
e.handleRegistrationStatus=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],f=d.getRegistration().getObjectId();this.pendingOperations_.remove(po(f));var g=!0;if(1==d.getStatus().getCode()){var h=this.desiredRegistrations_.contains(f);1==d.getRegistration().getOpType()!=h&&(this.desiredRegistrations_.remove([f]),this.statistics_.recordError("REGISTRATION_DISCREPANCY"),g=!1)}else this.desiredRegistrations_.remove([f]),g=!1;b.push(g)}return b};
e.removeRegisteredObjects=function(){for(var a=new dg,b=this.desiredRegistrations_.removeAll(),c=0;c<b.length;c++)a.set(po(b[c]),"");b=this.pendingOperations_.getKeys();for(c=0;c<b.length;c++)a.set(b[c],"");this.pendingOperations_.clear();b=[];a=a.getKeys();var d=(new Br).getDescriptor();for(c=0;c<a.length;c++){var f=so(d,a[c],this.logger_);b.push(f)}return b};
e.getRegistrationSummary=function(){var a=new Kr;a.setNumRegistrations(this.desiredRegistrations_.size());var b=this.desiredRegistrations_.getDigest();a.setRegistrationDigest(b.serialize());return a};
e.informServerRegistrationSummary=function(a){null!=a&&(this.lastKnownServerSummary_=a);a=[];if(this.isStateInSyncWithServer()){for(var b=this.pendingOperations_.getKeys(),c=(new Br).getDescriptor(),d=0;d<b.length;d++){var f=so(c,b[d],this.logger_),g=1==this.pendingOperations_.get(b[d]);f=zt(f,g);a.push(f)}this.pendingOperations_.clear()}return a};
e.isStateInSyncWithServer=function(){return this.lastKnownServerSummary_.equals(this.getRegistrationSummary())};
e.toString=function(){return Vn("Last known digest: %s, Requested regs: %s",this.lastKnownServerSummary_.toString(),this.desiredRegistrations_.toString())};var qu=function(a,b){this.random_=a;this.smearFraction_=b/100};
qu.prototype.getSmearedDelay=function(a){var b=(2*this.random_()-1)*this.smearFraction_;return Math.ceil(a+a*b)};var ru=function(){};
w("invalidation.Client",ru,void 0);ru.prototype.start=ru.prototype.start;ru.prototype.stop=ru.prototype.stop;ru.prototype.register=ru.prototype.register;ru.prototype.unregister=ru.prototype.unregister;ru.prototype.acknowledge=ru.prototype.acknowledge;ru.prototype.getAppClientIdForTest=ru.prototype.getAppClientIdForTest;ru.prototype.getConfigForTest=ru.prototype.getConfigForTest;ru.prototype.getSystemResourcesForTest=ru.prototype.getSystemResourcesForTest;var su=function(a,b,c,d,f,g,h){this.random_=null==b?Math.random:b;this.clientTokenKey_="ClientToken";this.resources_=a;this.internalScheduler_=a.getInternalScheduler();this.logger_=a.getLogger();this.listener_=h;this.config_=f;b=new Dr;b.setClientType(c);b.setClientName(d);this.applicationClientId_=b;this.statistics_=new Ut;this.digestFn_=new Kt;this.registrationManager_=new pu(this.logger_,this.statistics_,this.digestFn_);this.msgValidator_=new Xt(this.logger_);this.smearer_=new qu(this.random_,
f.getSmearPercentOrDefault());d=f.getProtocolHandlerConfigOrDefault();this.protocolHandler_=new Zt(d,a,this.smearer_,this.statistics_,c,g,this,this.msgValidator_);this.ticlState_=new Us;this.nonce_=this.clientToken_=null;this.shouldSendRegistrations_=!1;this.clientStartTimeMs_=a.getInternalScheduler().getCurrentTimeMs();this.isOnline_=!0;this.lastNetworkTransitionTimeMs_=this.clientStartTimeMs_;this.lastMessageSendTimeMs_=this.pastNetworkDowntimeMs_=this.pastNetworkUptimeMs_=0;this.createSchedulingTasks();
this.registerWithNetwork_();this.ackCache_=new Ns},tu=function(a){var b=a.config_,c=a.createExpBackOffGenerator(b.getNetworkTimeoutDelayMsOrDefault());
du.call(this,"AcquireToken",a.internalScheduler_,a.logger_,a.smearer_,c,0,b.getNetworkTimeoutDelayMsOrDefault());this.client_=a};
B(tu,du);tu.prototype.runTask=function(){var a=this.client_;return null==a.clientToken_?(a.setNonce_((0,this.client_.random_)().toString()),a.protocolHandler_.sendInitializeMessage(a.applicationClientId_,a.nonce_,this.client_.batchingTask_,"AcquireToken"),!0):!1};
var uu=function(a){var b=a.config_.getNetworkTimeoutDelayMsOrDefault(),c=a.createExpBackOffGenerator(b);du.call(this,"RegSyncHeartbeat",a.internalScheduler_,a.logger_,a.smearer_,c,b,b);this.client_=a};
B(uu,du);uu.prototype.runTask=function(){var a=this.client_;if(a.registrationManager_.isStateInSyncWithServer())return!1;a.sendInfoMessageToServer_(!1,!0);return!0};
var vu=function(a){var b=a.config_,c=a.createExpBackOffGenerator(b.getWriteRetryDelayMsOrDefault());du.call(this,"PersistentWrite",a.internalScheduler_,a.logger_,a.smearer_,c,0,b.getWriteRetryDelayMsOrDefault());this.client_=a;this.lastWrittenToken_=null};
B(vu,du);vu.prototype.runTask=function(){var a=this.client_,b=a.clientToken_,c=At(b),d=Nt(c,a.digestFn_);if(null==b||b==this.lastWrittenToken_)return!1;b=function(b){b.isSuccess()?this.lastWrittenToken_=c.getClientToken():a.statistics_.recordError("PERSISTENT_WRITE_FAILURE")}.bind(this);
a.resources_.getStorage().writeKey("ClientToken",d,b);return!0};
var wu=function(a){du.call(this,"Heartbeat",a.internalScheduler_,a.logger_,a.smearer_,null,a.config_.getHeartbeatIntervalMsOrDefault(),0);this.client_=a;this.nextPerformanceSendTimeMs_=0};
B(wu,du);wu.prototype.runTask=function(){var a=this.client_,b=this.nextPerformanceSendTimeMs_<=a.internalScheduler_.getCurrentTimeMs();if(b){var c=a.config_.getPerfCounterDelayMsOrDefault();this.nextPerformanceSendTimeMs_=a.internalScheduler_.getCurrentTimeMs()+this.smearer.getSmearedDelay(c)}a.sendInfoMessageToServer_(b,!a.registrationManager_.isStateInSyncWithServer());return!0};
var xu=function(a,b,c,d,f){du.call(this,"Batching",a,b,c,null,d,0);this.protocolHandler_=f};
B(xu,du);xu.prototype.runTask=function(){this.protocolHandler_.sendMessageToServer();return!1};
e=su.prototype;e.registerWithNetwork_=function(){this.resources_.getNetwork().setMessageReceiver(z(this.handleIncomingMessage_,this));this.resources_.getNetwork().addNetworkStatusReceiver(z(this.handleNetworkStatusChange_,this))};
e.createSchedulingTasks=function(){this.acquireTokenTask_=new tu(this);this.regSyncHeartbeatTask_=new uu(this);this.persistentWriteTask_=new vu(this);this.heartbeatTask_=new wu(this);var a=this.config_.getProtocolHandlerConfigOrDefault();this.batchingTask_=new xu(this.internalScheduler_,this.logger_,this.smearer_,a.getBatchingDelayMsOrDefault(),this.protocolHandler_)};
e.start=function(){this.ticlState_.isStarted()||(this.setNonce_((0,this.random_)().toString()),this.scheduleStartAfterReadingStateBlob_())};
e.startInternal_=function(a){if(null==a)var b=null;else{b=this.logger_;var c=this.digestFn_,d=Ss.getDescriptor();d=so(d,a,b);var f=null==d?null:d.getTiclState();null==f?b=null:Mt(f,c).serialize()!=d.getAuthenticationCode()?(b&&d.getAuthenticationCode(),b=null):b=f}null!=a&&null==b&&this.statistics_.recordError("PERSISTENT_DESERIALIZATION_FAILURE");null!=b?(a=b.getClientToken(),this.setNonce_(null),this.setClientToken_(a),this.shouldSendRegistrations_=!1,a=new Vs("SendFirstPersistentInfo",z(this.sendInfoMessageToServer_,
this,!1,!0)),b=this.config_.getInitialPersistentHeartbeatDelayMsOrDefault(),this.internalScheduler_.schedule(b,a),this.heartbeatTask_.ensureScheduled("Startup-after-persistence")):(this.shouldSendRegistrations_=!0,this.acquireToken_("Startup"))};
e.stop=function(){this.ticlState_.isStarted()&&this.ticlState_.stop()};
e.register=function(a){this.performRegisterOperations_(Array.prototype.slice.call(arguments),1)};
e.unregister=function(a){this.performRegisterOperations_(Array.prototype.slice.call(arguments),2)};
e.performRegisterOperations_=function(a,b){if(!this.ticlState_.isStopped())if(this.ticlState_.isStarted()){var c=[];for(g=0;g<a.length;g++){var d=h=a[g];h=d.getSource();d=d.getName();var f=new Br;f.setSource(h);f.setName(d);h=f;this.statistics_.recordIncomingOperation(1==b?"REGISTRATION":"UNREGISTRATION");c.push(h)}a=this.registrationManager_.performOperations(c,b);this.shouldSendRegistrations_&&0<a.length&&this.protocolHandler_.sendRegistrations(a,b,this.batchingTask_);this.regSyncHeartbeatTask_.ensureScheduled("performRegister")}else for(var g=
0;g<a.length;g++){var h=a[g];this.listener_.informRegistrationFailure(this,h,!0,"Client not yet ready")}};
e.acknowledge=function(a){a=so(Os.getDescriptor(),a.getHandleData(),this.logger_);null==a?this.statistics_.recordError("ACKNOWLEDGE_HANDLE_FAILURE"):a.hasInvalidation()&&this.msgValidator_.isInvalidationValid(a.getInvalidation())?(a=a.getInvalidation(),a.clearPayload(),this.statistics_.recordIncomingOperation("ACKNOWLEDGE"),this.protocolHandler_.sendInvalidationAck(a,this.batchingTask_),this.ackCache_.recordAck(a)):this.statistics_.recordError("ACKNOWLEDGE_HANDLE_FAILURE")};
e.getConfigForTest=function(){return this.config_};
e.getAppClientIdForTest=function(){return this.applicationClientId_};
e.getSystemResourcesForTest=function(){return this.resources_};
e.handleMessageSent=function(){this.lastMessageSendTimeMs_=this.internalScheduler_.getCurrentTimeMs()};
e.getRegistrationSummary=function(){return this.registrationManager_.getRegistrationSummary()};
e.getClientToken=function(){return this.clientToken_};
e.handleNetworkStatusChange_=function(a,b){var c=this.isOnline_;(this.isOnline_=a)&&!c&&(b||this.internalScheduler_.getCurrentTimeMs()>this.lastMessageSendTimeMs_+this.config_.getOfflineHeartbeatThresholdMsOrDefault())&&(this.internalScheduler_.getCurrentTimeMs(),this.sendInfoMessageToServer_(!0,!this.registrationManager_.isStateInSyncWithServer()));a!=c&&(a=this.resources_.getInternalScheduler().getCurrentTimeMs(),b=a-this.lastMessageSendTimeMs_,this.lastNetworkTransitionTimeMs_=a,c?(this.pastNetworkUptimeMs_+=
b,this.statistics_.recordError("NETWORK_DISCONNECTED")):this.pastNetworkDowntimeMs_+=b)};
e.handleIncomingMessage_=function(a){this.statistics_.recordReceivedMessage("TOTAL");a=this.protocolHandler_.handleIncomingMessage(a);if(null!=a&&this.validateToken_(a)&&(null!=a.tokenControlMessage&&(this.statistics_.recordReceivedMessage("TOKEN_CONTROL"),this.handleTokenChanged_(a.header.token,a.tokenControlMessage.hasNewToken()?a.tokenControlMessage.getNewToken():null)),null!=this.clientToken_&&(this.handleIncomingHeader_(a.header),null!=a.invalidationMessage&&(this.statistics_.recordReceivedMessage("INVALIDATION"),
this.handleInvalidations_(a.invalidationMessage.invalidationArray())),null!=a.registrationStatusMessage&&(this.statistics_.recordReceivedMessage("REGISTRATION_STATUS"),this.handleRegistrationStatus_(a.registrationStatusMessage.registrationStatusArray())),null!=a.registrationSyncRequestMessage&&(this.statistics_.recordReceivedMessage("REGISTRATION_SYNC_REQUEST"),this.handleRegistrationSyncRequest_()),null!=a.infoRequestMessage&&(this.statistics_.recordReceivedMessage("INFO_REQUEST"),this.handleInfoMessage_(a.infoRequestMessage.infoTypeArray())),
null!=a.errorMessage))){this.statistics_.recordReceivedMessage("ERROR");var b=a.errorMessage.getCode();this.handleErrorMessage_(b,a.errorMessage.getDescription())}};
e.handleTokenChanged_=function(a,b){if(null!=b){var c=a==this.clientToken_;if(a==this.nonce_||c)this.heartbeatTask_.ensureScheduled("Heartbeat-after-new-token"),this.setNonce_(null),this.setClientToken_(b),this.persistentWriteTask_.ensureScheduled("Write-after-new-token")}else this.acquireToken_("Destroy")};
e.handleIncomingHeader_=function(a){if(null!=a.registrationSummary){this.shouldSendRegistrations_=!0;a=this.registrationManager_.informServerRegistrationSummary(a.registrationSummary);for(var b=0;b<a.length;b++){var c=a[b],d=cu(c.getObjectId());c=this.convertOpTypeToRegState_(c.getOpType());this.listener_.informRegistrationStatus(this,d,c)}}};
e.handleInvalidations_=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c,f=new Os;f.setInvalidation(d);d=po(f);d=new et(d);if(this.ackCache_.isAcked(c))this.acknowledge(d),this.statistics_.recordReceivedMessage("STALE_INVALIDATION");else if(c.getObjectId().equals(pt))this.listener_.invalidateAll(this,d),this.statistics_.recordListenerEvent("INVALIDATE_ALL");else{var g=c;f=cu(g.getObjectId());var h=parseInt(g.getVersion(),10),k=g.hasPayload()?g.getPayload():void 0;g=g.hasIsTrickleRestart()?g.getIsTrickleRestart():
!0;f=new Zs(f,h,k,g);h=c.getIsTrickleRestartOrDefault();k=this.config_.getAllowSuppressionOrDefault();c.getIsKnownVersion();!c.getIsKnownVersion()||h&&!k?this.listener_.invalidateUnknownVersion(this,f.getObjectId(),d):this.listener_.invalidate(this,f,d)}}};
e.handleRegistrationStatus_=function(a){for(var b=this.registrationManager_.handleRegistrationStatus(a),c=0;c<a.length;++c){var d=a[c],f=b[c],g=d.getRegistration().getObjectId();g=cu(g);f?(d=this.convertOpTypeToRegState_(d.getRegistration().getOpType()),this.listener_.informRegistrationStatus(this,g,d)):(f=d.getStatus(),d=1==f.getCode()?"Registration discrepancy detected":d.getStatus().getDescription(),f=3==f.getCode(),this.listener_.informRegistrationFailure(this,g,!f,d))}};
e.handleRegistrationSyncRequest_=function(){var a=this.registrationManager_.getRegistrations("",0);this.protocolHandler_.sendRegistrationSyncSubtree(a,this.batchingTask_)};
e.handleInfoMessage_=function(a){for(var b=!1,c=0;c<a.length&&!(b=1==a[c]);c++);this.sendInfoMessageToServer_(b,!this.registrationManager_.isStateInSyncWithServer())};
e.handleErrorMessage_=function(a,b){if(1==a){a=this.registrationManager_.removeRegisteredObjects();for(var c=0;c<a.length;c++){var d=cu(a[c]);this.listener_.informRegistrationFailure(this,d,!1,"Auth error: "+b)}}};
e.validateToken_=function(a){return null!=this.clientToken_?this.clientToken_!=a.header.token?(this.statistics_.recordError("TOKEN_MISMATCH"),!1):!0:null!=this.nonce_?this.nonce_!=a.header.token?(this.statistics_.recordError("NONCE_MISMATCH"),!1):!0:!1};
e.acquireToken_=function(a){this.setClientToken_(null);this.acquireTokenTask_.ensureScheduled(a)};
e.sendInfoMessageToServer_=function(a,b){var c=new dg,d=null;a&&(this.statistics_.getNonZeroStatistics(c),this.addNonCounterMetrics_(c),d=this.config_);this.protocolHandler_.sendInfoMessage(c,d,b,this.batchingTask_)};
e.addNonCounterMetrics_=function(a){var b=this.resources_.getInternalScheduler().getCurrentTimeMs();a.set("NonCounterType.CLIENT_UPTIME_MS",b-this.clientStartTimeMs_);b-=this.lastNetworkTransitionTimeMs_;var c=this.pastNetworkUptimeMs_,d=this.pastNetworkDowntimeMs_;if(this.isOnline_){c+=b;var f=1}else d+=b,f=0;a.set("NonCounterType.IS_NETWORK_ONLINE",f);a.set("NonCounterType.NETWORK_STATUS_DURATION_MS",b);a.set("NonCounterType.TOTAL_NETWORK_UPTIME_MS",c);a.set("NonCounterType.TOTAL_NETWORK_DOWNTIME_MS",
d)};
e.scheduleStartAfterReadingStateBlob_=function(){this.resources_.getStorage().readKey(this.clientTokenKey_,z(function(a,b){b=a.isSuccess()?b:null;a.isSuccess()||(this.statistics_.recordError("PERSISTENT_READ_FAILURE"),a.getMessage());this.startInternal_(b)},this))};
e.convertOpTypeToRegState_=function(a){return 1==a?0:1};
e.setNonce_=function(a){this.nonce_=null==a?null:vc?r.btoa(a):xc(nb(a),void 0)};
e.setClientToken_=function(a){var b=!this.ticlState_.isStarted()&&null==this.clientToken_&&null!=a;this.clientToken_=a;b&&this.finishStartingTiclAndInformListener_()};
e.finishStartingTiclAndInformListener_=function(){this.ticlState_.start();this.listener_.ready(this);this.listener_.reissueRegistrations(this,"",0)};
e.createExpBackOffGenerator=function(a){return new Tn(this.random_,a,this.config_.getMaxExponentialBackoffFactorOrDefault())};
e.toString=function(){var a=this.clientToken_;return Vn("Client: clientName = %s, token = %s, state = %s",this.applicationClientId_.toString(),null!=a?a.toString():"null",this.ticlState_.toString())};var yu=function(a,b,c,d,f,g,h){su.call(this,a,b,c,d,f,g,h)};
B(yu,su);var zu=function(a,b,c,d,f){this.internalScheduler_=b;this.listenerScheduler_=c;this.logger_=a;this.network_=d;this.storage_=f;this.sealed_=!1};
w("invalidation.SystemResourcesBuilderImpl.newDefaultBuilder",function(a,b){return new zu(new Ht(a),new Gt,new Gt,b,new It)},void 0);
e=zu.prototype;e.getInternalScheduler=function(){return this.internalScheduler_};
e.getListenerScheduler=function(){return this.listenerScheduler_};
e.getStorage=function(){return this.storage_};
e.getNetwork=function(){return this.network_};
e.getLogger=function(){return this.logger_};
e.setLogger=function(a){this.logger_=a};
zu.prototype.setLogger=zu.prototype.setLogger;zu.prototype.setStorage=function(a){this.storage_=a};
zu.prototype.setStorage=zu.prototype.setStorage;zu.prototype.setInternalScheduler=function(a){this.internalScheduler_=a};
zu.prototype.setInternalScheduler=zu.prototype.setInternalScheduler;zu.prototype.setListenerScheduler=function(a){this.listenerScheduler_=a};
zu.prototype.setListenerScheduler=zu.prototype.setListenerScheduler;zu.prototype.setNetwork=function(a){this.network_=a};
zu.prototype.setNetwork=zu.prototype.setNetwork;zu.prototype.build=function(){this.seal();return new kt(this.logger_,this.internalScheduler_,this.listenerScheduler_,this.network_,this.storage_)};
zu.prototype.build=zu.prototype.build;zu.prototype.seal=function(){this.sealed_=!0};var Au=function(a,b,c,d,f,g,h,k){rr.call(this,a,d,f,g,k);a=new pn(this.servletUri);null!=c&&a.setParameterValue("oauth_token",c);0!=d&&a.setParameterValue("authuser",d);null!=f&&a.setParameterValue("pageId",f);null!=g&&a.setParameterValue("service",g);c={};c.pu=a.toString();this.xpcIframeCreator_=new vq(c,b,h,z(this.onXpcConnect_,this));this.crossPageChannel_=null;this.logger_=new Wn("XpcSenderClient")};
p(Au,rr);e=Au.prototype;e.onXpcConnect_=function(a){this.crossPageChannel_=a;this.crossPageChannel_.registerService("ss",z(this.sendSucceeded,this));this.crossPageChannel_.registerService("sf",z(this.sendFailed,this),!0);this.handler.onReady()};
e.start=function(){this.xpcIframeCreator_.createCrossPageChannel()};
e.send=function(a,b,c){this.crossPageChannel_.send("s",[a,b,c])};
e.sendSucceeded=function(a){this.handler.onSuccess(a[0])};
e.sendFailed=function(a){this.handler.onFailure(a[0],a[1])};var Bu=function(a,b,c,d,f){this.incomingReceiver_=null;this.networkStatusReceivers_=[];this.logger_=new Wn("LcsPushChannel");this.xpcOpen_=this.isOnline_=!1;this.senderUri_=b;this.iframeContainerId_=c||"lcssenderclient";this.bufferedMessages_=[];this.oauthToken_=d||null;this.lcsServiceName_=f||"tango_service";this.appAuthToken_=null;this.channelHandlers_=[];this.channelConfig_=a;this.channel_=Hq(a,this);null!=this.oauthToken_&&this.channel_.setOAuthToken(this.oauthToken_);this.channel_.open();this.address_=
this.session_=null;this.counter_=0;b=a.getAuthuser();c=a.getPageId();this.gatewaySender_=a.isIframed()?new Au(this.senderUri_,this.iframeContainerId_,this.oauthToken_,b,c,a.getGaiaServiceOverride(),a.getDomHelper(),this):new rr(this.senderUri_,b,c,a.getGaiaServiceOverride(),this);this.gatewaySender_.start()};
e=Bu.prototype;e.setOAuthToken=function(a){this.oauthToken_=a;this.channel_.setOAuthToken(a)};
e.setAppAuthToken=function(a){this.appAuthToken_=a;this.channel_.setAppAuthToken(a)};
e.onOpen=function(a,b){this.session_||(this.session_=a.newSession(this.lcsServiceName_,this),this.session_.open());for(var c=0;c<this.channelHandlers_.length;++c)this.channelHandlers_[c].onOpen(a,b)};
e.setSystemResources=function(a){this.logger_=a.getLogger()};
e.stop=function(){this.channel_.isDisposed()||this.channel_.dispose()};
e.setMessageReceiver=function(a){this.incomingReceiver_=a};
e.sendMessage=function(a){this.isOnline_?this.sendMessage_(a):(10<=this.bufferedMessages_.length&&this.bufferedMessages_.shift(),this.bufferedMessages_.push(a))};
e.addNetworkStatusReceiver=function(a){this.networkStatusReceivers_.push(a)};
e.sendBufferedMessages_=function(){if(0!=this.bufferedMessages_.length){for(var a=n(this.bufferedMessages_),b=a.next();!b.done;b=a.next())this.sendMessage_(b.value);a=this.bufferedMessages_;if(!y(a))for(b=a.length-1;0<=b;b--)delete a[b];a.length=0}};
e.sendMessage_=function(a){if(this.isOnline_){var b=this.address_,c=new rt;c.setNetworkAddress(114);c.setClientAddress(b);b=this.counter_.toString();var d=new sr;d.setMinorVersion(2);d.setMajorVersion(3);var f=new ur;f.setVersion(d);d=new ut;d.setProtocolVersion(f);d.setMessageType(1);d.setEncoding(2);d.setNetworkMessage(a);d.setClientEndpointId(c);d.setIsClientToServer(!0);d.setDebugInfo(b);this.counter_++;a=po(d);c={"Content-Type":"text/plain"};b={};null!=this.oauthToken_?c.Authorization="OAuth "+
this.oauthToken_:null!=this.appAuthToken_&&(b.app_auth=this.appAuthToken_);this.gatewaySender_.send(a,c,b)}};
e.receive=function(a,b){this.incomingReceiver_&&this.incomingReceiver_(b)};
e.onError=function(a,b){for(var c=0;c<this.channelHandlers_.length;++c)this.channelHandlers_[c].onError(a,b)};
e.onClose=function(a){this.updateNetworkStatus_(!1,!1);for(var b=0;b<this.channelHandlers_.length;++b)this.channelHandlers_[b].onClose(a)};
e.onStatEvent=function(){for(var a=0;a<this.channelHandlers_.length;++a);};
e.onAddressAssigned=function(a,b){a=b!=this.address_;this.address_=b;this.updateNetworkStatus_(!0,a)};
e.onSessionError=function(){};
e.onReady=function(){this.xpcOpen_=!0;this.updateNetworkStatus_(!0,!1)};
e.onSuccess=function(){};
e.onFailure=function(){};
e.getChannelUriForTest=function(){return this.channelConfig_.getUri()};
e.getGatewayUriForTest=function(){return this.senderUri_};
e.updateNetworkStatus_=function(a,b){(this.isOnline_=a&&null!=this.address_&&this.xpcOpen_)&&this.sendBufferedMessages_();a=n(this.networkStatusReceivers_);for(var c=a.next();!c.done;c=a.next())c=c.value,c(this.isOnline_,b)};
e.setChannelHandler=function(a){this.channelHandlers_.push(a)};
Bu.prototype.setChannelHandler=Bu.prototype.setChannelHandler;Bu.prototype.getRawChannel=function(){return this.channel_};
Bu.prototype.getRawChannel=Bu.prototype.getRawChannel;var Cu=function(a,b,c,d,f,g,h,k){a=new zq(a,c,"lcsclient");d&&a.setAuthuser(d);h&&a.setGaiaServiceOverride(h);k&&a.setPageId(k);Bu.call(this,a,b,f,g)};
B(Cu,Bu);var Du=function(a,b,c,d,f){this.client_=a;this.listener_=b;this.logger_=c;this.listenerScheduler_=d;this.pendingClientAckHandles_=[];this.isRecycledClientTokenPromise_=f};
e=Du.prototype;e.getPendingClientAckHandlesForTest=function(){return this.pendingClientAckHandles_};
e.start=function(){var a=this;this.isRecycledClientTokenPromise_.then(function(){a.client_.start()})};
e.stop=function(){this.client_.stop()};
e.register=function(a){var b=this;this.client_.register.apply(this.client_,arguments);for(var c={},d=0;d<arguments.length;c={$jscomp$loop$prop$objectId$319:c.$jscomp$loop$prop$objectId$319},d++)c.$jscomp$loop$prop$objectId$319=arguments[d],this.isRecycledClientTokenPromise_.then(function(a){return function(c){if(c){c=new Tn(Math.random,1E3,1E3);c.getNextDelay();var d="client-ack-handle-"+Gb();d=new et(d);b.pendingClientAckHandles_.push(d);b.retryInvalidateUntilAcked_(a.$jscomp$loop$prop$objectId$319,
d,c)}}}(c))};
e.unregister=function(a){this.client_.unregister.apply(this.client_,arguments)};
e.acknowledge=function(a){var b=this.findClientAckHandleIndex_(a);null!=b?(a=this.pendingClientAckHandles_,this.pendingClientAckHandles_=a.slice(0,b).concat(a.slice(b+1))):this.client_.acknowledge(a)};
e.retryInvalidateUntilAcked_=function(a,b,c){this.listener_.invalidateUnknownVersion(this,a,b);var d=c.getNextDelay();this.listenerScheduler_.schedule(d,new Vs("retry invalidation",z(function(){null!=this.findClientAckHandleIndex_(b)&&this.retryInvalidateUntilAcked_(a,b,c)},this)))};
e.findClientAckHandleIndex_=function(a){for(var b=0;b<this.pendingClientAckHandles_.length;b++)if(this.pendingClientAckHandles_[b].equals(a))return b;return null};
e.getConfigForTest=function(){return this.client_.getConfigForTest()};
e.getClientForTest=function(){return this.client_};
e.getAppClientIdForTest=function(){return this.client_.getAppClientIdForTest()};
e.getSystemResourcesForTest=function(){return this.client_.getSystemResourcesForTest()};var Eu=function(a,b,c,d){this.ephemeralStorage_=a;this.clientTokenKey_=b;this.tokenStore_=c;this.logger_=d;this.clientTokenBlob_=null;this.isRecyledClientTokenPromise_=this.attemptToRecycleClientToken_()};
e=Eu.prototype;e.onUnload=function(){null!=this.clientTokenBlob_&&this.tokenStore_.add(this.clientTokenBlob_)};
e.getIsRecycledClientTokenPromise=function(){return this.isRecyledClientTokenPromise_};
e.writeKey=function(a,b,c){this.ephemeralStorage_.writeKey(a,b,c);a==this.clientTokenKey_&&(this.clientTokenBlob_=b)};
e.readKey=function(a,b){return this.ephemeralStorage_.readKey(a,b)};
e.deleteKey=function(a,b){this.ephemeralStorage_.deleteKey(a,b)};
e.readAllKeys=function(a){this.ephemeralStorage_.readAllKeys(a)};
e.setSystemResources=function(a){this.ephemeralStorage_.setSystemResources(a)};
e.attemptToRecycleClientToken_=function(){var a=this;return this.tokenStore_.removeRandom().then(function(b){return null!=b?(a.clientTokenBlob_=b,a.writeKey(a.clientTokenKey_,b,function(){}),!0):!1})};var Fu=function(a){this.listener_=a;this.client_=null};
e=Fu.prototype;e.setClient=function(a){this.client_=a};
e.ready=function(){this.listener_.ready(this.client_)};
e.invalidate=function(a,b,c){this.listener_.invalidate(this.client_,b,c)};
e.invalidateUnknownVersion=function(a,b,c){this.listener_.invalidateUnknownVersion(this.client_,b,c)};
e.invalidateAll=function(a,b){this.listener_.invalidateAll(this.client_,b)};
e.informRegistrationStatus=function(a,b,c){this.listener_.informRegistrationStatus(this.client_,b,c)};
e.informRegistrationFailure=function(a,b,c,d){this.listener_.informRegistrationFailure(this.client_,b,c,d)};
e.reissueRegistrations=function(a,b,c){this.listener_.reissueRegistrations(this.client_,b,c)};
e.informError=function(){};var Gu=function(a,b,c){this.clientType_=a;this.clientName_=b;this.applicationName_=c;this.reuseClientTokens_=this.allowSuppression_=!0;a=new xs;a.setVersion(nt);a.setProtocolHandlerConfig(bu());this.clientConfig_=a};
w("invalidation.ClientFactory.Config",Gu,void 0);Gu.prototype.getClientType=function(){return this.clientType_};
Gu.prototype.getClientType=Gu.prototype.getClientType;Gu.prototype.getClientName=function(){return this.clientName_};
Gu.prototype.getClientName=Gu.prototype.getClientName;Gu.prototype.getApplicationName=function(){return this.applicationName_};
Gu.prototype.getApplicationName=Gu.prototype.getApplicationName;Gu.prototype.getAllowSuppression=function(){return this.clientConfig_.getAllowSuppressionOrDefault()};
Gu.prototype.getAllowSuppression=Gu.prototype.getAllowSuppression;Gu.prototype.setAllowSuppression=function(a){this.clientConfig_.setAllowSuppression(a);return this};
Gu.prototype.setAllowSuppression=Gu.prototype.setAllowSuppression;Gu.prototype.getReuseClientTokens=function(){return this.reuseClientTokens_};
Gu.prototype.getReuseClientTokens=Gu.prototype.getReuseClientTokens;Gu.prototype.setReuseClientTokens=function(a){this.reuseClientTokens_=a;return this};
Gu.prototype.setReuseClientTokens=Gu.prototype.setReuseClientTokens;Gu.prototype.getClientConfig=function(){return this.clientConfig_};
Gu.prototype.setClientConfig=function(a){this.clientConfig_=a};
var Hu=function(a,b,c){var d=a.getLogger(),f=b.getClientConfig(),g=a.getListenerScheduler();if(b.getReuseClientTokens()){var h="tokens-"+b.getClientType();h=new Ft(h,d);var k=new Eu(a.getStorage(),"ClientToken",h,d);jl(window,"unload",function(){k.onUnload()});
h=new kt(d,a.getInternalScheduler(),g,a.getNetwork(),k);h.start();a=new Fu(c);b=new yu(h,Math.random,b.getClientType(),b.getClientName(),f,b.getApplicationName(),a);c=new Du(b,c,d,g,k.getIsRecycledClientTokenPromise());a.setClient(c);return c}return new yu(a,Math.random,b.getClientType(),b.getClientName(),f,b.getApplicationName(),c)};
w("invalidation.ClientFactory.createClient",Hu,void 0);w("invalidation.ClientFactory.create",function(a,b,c,d,f){b=new Gu(b,c,d);b.setAllowSuppression(!0);b.setReuseClientTokens(!0);return Hu(a,b,f)},void 0);var Iu=function(a,b,c,d,f){zu.call(this,a,b,c,d,f)};
B(Iu,zu);var Ju=function(a,b){return new Iu(new Ht(a),new Gt,new Gt,b,new It)};
w("invalidation.SystemResourcesBuilder.newDefaultBuilder",Ju,void 0);function Ku(a){Promise.resolve().then(a)}
function Lu(a){switch(a){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}
;/*


 Copyright (c) 2015-2018 Google, Inc., Netflix, Inc., Microsoft Corp. and contributors

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var Mu=!0,Nu=!1,Ou={set useDeprecatedSynchronousErrorHandling(a){a?console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Error().stack):Mu&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Mu=a},get useDeprecatedSynchronousErrorHandling(){return Mu},set googUse55CompatForBadTests(a){a&&console.warn("DEPRECATED! RxJS was set to use 5.5 compat mode because you have bad tests at: \n"+Error().stack);Nu=a},get googUse55CompatForBadTests(){return Nu}};var Pu="function"===typeof Symbol&&Symbol.observable||"@@observable";function Qu(){}
;function Ru(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a)},b)}:Qu}
;function Su(a){setTimeout(function(){throw a;})}
;var Tu={closed:!0,next:function(){},
error:function(a){if(Ou.useDeprecatedSynchronousErrorHandling)throw a;Su(a)},
complete:function(){}};var Uu=function(a){var b=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString()}).join("\n  "):"");
this.message=b.message;"stack"in b&&(this.stack=b.stack);this.errors=a;this.name="UnsubscriptionError";Object.setPrototypeOf(this,Uu.prototype)};
p(Uu,Error);var Vu={e:{}};var Wu=Array.isArray||function(a){return a&&"number"===typeof a.length};function Xu(a){return"function"===typeof a}
;var Yu;function Zu(){try{return Yu.apply(this,arguments)}catch(a){return Vu.e=a,Vu}}
;var $u=function(a){this.closed=!1;this._subscriptions=this._parents=this._parent=null;a&&(this._unsubscribe=a)};
$u.prototype.unsubscribe=function(){var a=!1;if(!this.closed){var b=this._parent,c=this._parents,d=this._unsubscribe,f=this._subscriptions;this.closed=!0;this._subscriptions=this._parents=this._parent=null;for(var g=-1,h=c?c.length:0;b;)b.remove(this),b=++g<h&&c[g]||null;if(g=Xu(d))Yu=d,g=Zu.call(this)===Vu;if(g){a=!0;var k=k||(Vu.e instanceof Uu?av(Vu.e.errors):[Vu.e])}if(Wu(f))for(g=-1,h=f.length;++g<h;){var l=f[g],m;if(m=null!=l&&"object"===typeof l)Yu=l.unsubscribe,m=Zu.call(l)===Vu;m&&(a=!0,
k=k||[],l=Vu.e,l instanceof Uu?k=k.concat(av(l.errors)):k.push(l))}if(a)throw new Uu(k);}};
$u.prototype.add=function(a){if(!a||a===$u.EMPTY)return $u.EMPTY;if(a===this)return this;var b=a;switch(typeof a){case "function":b=new $u(a);case "object":if(b.closed||"function"!==typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;"function"!==typeof b._addParent&&(a=b,b=new $u,b._subscriptions=[a]);break;default:throw Error("unrecognized teardown "+a+" added to Subscription.");}(this._subscriptions||(this._subscriptions=[])).push(b);b._addParent(this);return b};
$u.prototype.remove=function(a){var b=this._subscriptions;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1))};
$u.prototype._addParent=function(a){var b=this._parent,c=this._parents;b&&b!==a?c?-1===c.indexOf(a)&&c.push(a):this._parents=[a]:this._parent=a};
var bv=new $u;bv.closed=!0;$u.EMPTY=bv;function av(a){return a.reduce(function(a,c){return a.concat(c instanceof Uu?c.errors:c)},[])}
;var cv="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber";var dv=function(a,b,c){$u.call(this);this.syncErrorValue=null;this.isStopped=this.syncErrorThrowable=this.syncErrorThrown=!1;switch(arguments.length){case 0:this.destination=Tu;break;case 1:if(!a){this.destination=Tu;break}if("object"===typeof a){if(a instanceof dv||"syncErrorThrowable"in a&&a[cv]){var d=a[cv]();Ou.googUse55CompatForBadTests||(this.syncErrorThrowable=d.syncErrorThrowable);this.destination=d;d.add(this)}else this.syncErrorThrowable=!0,this.destination=new ev(this,a);break}default:this.syncErrorThrowable=
!0,this.destination=new ev(this,a,b,c)}};
p(dv,$u);dv.EMPTY=$u.EMPTY;dv.prototype[cv]=function(){return this};
dv.create=function(a,b,c){a=new dv(a,b,c);a.syncErrorThrowable=!1;return a};
e=dv.prototype;e.next=function(a){this.isStopped||this._next(a)};
e.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))};
e.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};
e.unsubscribe=function(){this.closed||(this.isStopped=!0,$u.prototype.unsubscribe.call(this))};
e._next=function(a){this.destination.next(a)};
e._error=function(a){this.destination.error(a);this.unsubscribe()};
e._complete=function(){this.destination.complete();this.unsubscribe()};
e._unsubscribeAndRecycle=function(){var a=this._parent,b=this._parents;this._parents=this._parent=null;this.unsubscribe();this.isStopped=this.closed=!1;this._parent=a;this._parents=b;return this};
var ev=function(a,b,c,d){dv.call(this);this._parentSubscriber=a;var f=this;if(Xu(b))var g=b;else b&&(g=b.next,c=b.error,d=b.complete,b!==Tu&&(f=Object.create(b),Xu(f.unsubscribe)&&this.add(f.unsubscribe.bind(f)),f.unsubscribe=this.unsubscribe.bind(this)));this._context=f;this._next=g;this._error=c;this._complete=d};
p(ev,dv);ev.EMPTY=dv.EMPTY;ev.create=dv.create;e=ev.prototype;e.next=function(a){if(!this.isStopped&&this._next){var b=this._parentSubscriber;Ou.useDeprecatedSynchronousErrorHandling&&b.syncErrorThrowable?this.__tryOrSetError(b,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}};
e.error=function(a){if(!this.isStopped){var b=this._parentSubscriber,c=Ou.useDeprecatedSynchronousErrorHandling;if(this._error)c&&b.syncErrorThrowable?this.__tryOrSetError(b,this._error,a):this.__tryOrUnsub(this._error,a),this.unsubscribe();else if(b.syncErrorThrowable)c?(b.syncErrorValue=a,b.syncErrorThrown=!0):Su(a),this.unsubscribe();else{this.unsubscribe();if(c)throw a;Su(a)}}};
e.complete=function(){var a=this;if(!this.isStopped){var b=this._parentSubscriber;if(this._complete){var c=function(){return a._complete.call(a._context)};
Ou.useDeprecatedSynchronousErrorHandling&&b.syncErrorThrowable?this.__tryOrSetError(b,c):this.__tryOrUnsub(c)}this.unsubscribe()}};
e.__tryOrUnsub=function(a,b){try{a.call(this._context,b)}catch(c){this.unsubscribe();if(Ou.useDeprecatedSynchronousErrorHandling)throw c;Su(c)}};
e.__tryOrSetError=function(a,b,c){if(!Ou.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{b.call(this._context,c)}catch(d){return Ou.useDeprecatedSynchronousErrorHandling?(a.syncErrorValue=d,a.syncErrorThrown=!0):Su(d),!0}return!1};
e._unsubscribe=function(){var a=this._parentSubscriber;this._parentSubscriber=this._context=null;a.unsubscribe()};var fv=function(a){this._isScalar=!1;a&&(this._subscribe=a)};
e=fv.prototype;e.lift=function(a){var b=new fv;b.source=this;b.operator=a;return b};
e.subscribe=function(a,b,c){var d=this.operator;a:{if(a){if(a instanceof dv)break a;if(a[cv]){a=a[cv]();break a}}a=a||b||c?new dv(a,b,c):new dv(Tu)}d?d.call(a,this.source):Ou.googUse55CompatForBadTests?a.add(this.source?this._subscribe(a):this._trySubscribe(a)):a.add(this.source||Ou.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a));if(Ou.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;
return a};
e._trySubscribe=function(a){try{return this._subscribe(a)}catch(b){Ou.useDeprecatedSynchronousErrorHandling&&(a.syncErrorThrown=!0,a.syncErrorValue=b),a.error(b)}};
e.forEach=function(a,b){var c=this;b=gv(b);return new b(function(b,f){var d=c.subscribe(function(b){try{a(b)}catch(k){f(k),d&&d.unsubscribe()}},f,b)})};
e._subscribe=function(a){var b=this.source;return b&&b.subscribe(a)};
fv.prototype[Pu]=function(){return this};
fv.prototype.pipe=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return 0===b.length?this:Ru(b)(this)};
fv.prototype.toPromise=function(a){var b=this;a=gv(a);return new a(function(a,d){var c;b.subscribe(function(a){return c=a},function(a){return d(a)},function(){return a(c)})})};
fv.create=function(a){return new fv(a)};
function gv(a){a||(a=Promise);if(!a)throw Error("no Promise impl found");return a}
;var hv=function(a,b){$u.call(this);this.subject=a;this.subscriber=b;this.closed=!1};
p(hv,$u);hv.EMPTY=$u.EMPTY;hv.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a=this.subject,b=a.observers;this.subject=null;!b||0===b.length||a.isStopped||a.closed||(a=b.indexOf(this.subscriber),-1!==a&&b.splice(a,1))}};var iv=function(){var a=Error.call(this,"object unsubscribed");this.message=a.message;"stack"in a&&(this.stack=a.stack);this.name="ObjectUnsubscribedError";Object.setPrototypeOf(this,iv.prototype)};
p(iv,Error);var jv=function(a){dv.call(this,a);this.destination=a};
p(jv,dv);jv.EMPTY=dv.EMPTY;jv.create=dv.create;var kv=function(){fv.call(this);this.observers=[];this.hasError=this.isStopped=this.closed=!1;this.thrownError=null};
p(kv,fv);kv.prototype[cv]=function(){return new jv(this)};
e=kv.prototype;e.lift=function(a){var b=new lv(this,this);b.operator=a;return b};
e.next=function(a){if(this.closed)throw new iv;if(!this.isStopped){var b=this.observers,c=b.length;b=b.slice();for(var d=0;d<c;d++)b[d].next(a)}};
e.error=function(a){if(this.closed)throw new iv;this.hasError=!0;this.thrownError=a;this.isStopped=!0;var b=this.observers,c=b.length;b=b.slice();for(var d=0;d<c;d++)b[d].error(a);this.observers.length=0};
e.complete=function(){if(this.closed)throw new iv;this.isStopped=!0;var a=this.observers,b=a.length;a=a.slice();for(var c=0;c<b;c++)a[c].complete();this.observers.length=0};
e.unsubscribe=function(){this.closed=this.isStopped=!0;this.observers=null};
e._trySubscribe=function(a){if(this.closed)throw new iv;return fv.prototype._trySubscribe.call(this,a)};
e._subscribe=function(a){if(this.closed)throw new iv;if(this.hasError)return a.error(this.thrownError),$u.EMPTY;if(this.isStopped)return a.complete(),$u.EMPTY;this.observers.push(a);return new hv(this,a)};
e.asObservable=function(){var a=new fv;a.source=this;return a};
kv.create=function(a,b){return new lv(a,b)};
var lv=function(a,b){kv.call(this);this.destination=a;this.source=b};
p(lv,kv);lv.create=kv.create;lv.prototype.next=function(a){var b=this.destination;b&&b.next&&b.next(a)};
lv.prototype.error=function(a){var b=this.destination;b&&b.error&&this.destination.error(a)};
lv.prototype.complete=function(){var a=this.destination;a&&a.complete&&this.destination.complete()};
lv.prototype._subscribe=function(a){return this.source?this.source.subscribe(a):$u.EMPTY};var mv=function(a){kv.call(this);this._value=a};
p(mv,kv);mv.create=kv.create;mv.prototype._subscribe=function(a){var b=kv.prototype._subscribe.call(this,a);b&&!b.closed&&a.next(this._value);return b};
mv.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new iv;return this._value};
mv.prototype.next=function(a){kv.prototype.next.call(this,this._value=a)};
ca.Object.defineProperties(mv.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.getValue()}}});function nv(a){return a&&"function"===typeof a.schedule}
;var ov=function(){$u.call(this)};
p(ov,$u);ov.EMPTY=$u.EMPTY;ov.prototype.schedule=function(){return this};var pv=function(a,b){$u.call(this);this.scheduler=a;this.work=b;this.pending=!1};
p(pv,ov);pv.EMPTY=ov.EMPTY;e=pv.prototype;e.schedule=function(a,b){b=void 0===b?0:b;if(this.closed)return this;this.state=a;a=this.id;var c=this.scheduler;null!=a&&(this.id=this.recycleAsyncId(c,a,b));this.pending=!0;this.delay=b;this.id=this.id||this.requestAsyncId(c,this.id,b);return this};
e.requestAsyncId=function(a,b,c){c=void 0===c?0:c;return setInterval(a.flush.bind(a,this),c)};
e.recycleAsyncId=function(a,b,c){c=void 0===c?0:c;if(null!==c&&this.delay===c&&!1===this.pending)return b;clearInterval(b)};
e.execute=function(a,b){if(this.closed)return Error("executing a cancelled action");this.pending=!1;if(a=this._execute(a,b))return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))};
e._execute=function(a){var b=!1,c=void 0;try{this.work(a)}catch(d){b=!0,c=!!d&&d||Error(d)}if(b)return this.unsubscribe(),c};
e._unsubscribe=function(){var a=this.id,b=this.scheduler,c=b.actions,d=c.indexOf(this);this.state=this.work=null;this.pending=!1;this.scheduler=null;-1!==d&&c.splice(d,1);null!=a&&(this.id=this.recycleAsyncId(b,a,null));this.delay=null};var qv=function(a,b){b=void 0===b?qv.now:b;this.SchedulerAction=a;this.now=b};
qv.prototype.schedule=function(a,b,c){b=void 0===b?0:b;return(new this.SchedulerAction(this,a)).schedule(c,b)};
qv.now=function(){return Date.now()};var rv=function(a,b){b=void 0===b?qv.now:b;qv.call(this,a,function(){return rv.delegate&&rv.delegate!==c?rv.delegate.now():b()});
var c=this;this.actions=[];this.active=!1;this.scheduled=void 0};
p(rv,qv);rv.now=qv.now;rv.prototype.schedule=function(a,b,c){b=void 0===b?0:b;return rv.delegate&&rv.delegate!==this?rv.delegate.schedule(a,b,c):qv.prototype.schedule.call(this,a,b,c)};
rv.prototype.flush=function(a){var b=this.actions;if(this.active)b.push(a);else{var c;this.active=!0;do if(c=a.execute(a.state,a.delay))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};var sv=new rv(pv);var tv=function(a,b,c){this.apiKey=a;this.authUser=b;this.pageId=c};
tv.prototype.getHeaders=function(){var a={},b=Kp();null!=b&&(a.Authorization=b.scheme+" "+b.hash);a["X-Goog-AuthUser"]=String(this.authUser||0);(b=this.pageId)&&(a["X-Goog-PageId"]=b);return a};
tv.prototype.getQueryParameters=function(){return{key:this.apiKey}};
tv.prototype.usesCredentialedRequests=function(){return!0};
tv.prototype.getSubscriberKind=function(){return 11};
var uv=function(a,b){this.oauthTokens=a;this.pageId=b};
uv.prototype.getHeaders=function(){var a={};a.Authorization="OAuth "+this.oauthTokens.getValue();var b=this.pageId;b&&(a["X-Goog-PageId"]=b);return a};
uv.prototype.getQueryParameters=function(){return{}};
uv.prototype.usesCredentialedRequests=function(){return!0};
uv.prototype.getSubscriberKind=function(){return 11};
var vv=function(a,b){this.apiKey=a;this.appAuthTokens=b};
vv.prototype.getHeaders=function(){return{}};
vv.prototype.getQueryParameters=function(){return{key:this.apiKey}};
vv.prototype.usesCredentialedRequests=function(){return!1};
vv.prototype.getSubscriberKind=function(){return 13};
var wv=function(){var a=this;this.statusSubscribers=new Set;this.status=fv.create(function(b){a.statusSubscribers.add(b);if(4===a.getState())Ku(function(){return b.complete()});
else{var c=a.lastChannelStatus;c&&Ku(function(){return b.next(c)})}return function(){return a.statusSubscribers.delete(b)}})};
e=wv.prototype;e.stop=function(){this.statusSubscribers.forEach(function(a){return Ku(function(){return a.complete()})});
return Promise.resolve()};
e.onOpen=function(){if(this.shouldHandleUpcalls()){var a=new qr;a.setCode(0);this.lastChannelStatus=a;this.deliverClientStatus(a)}};
e.onError=function(a,b){this.shouldHandleUpcalls()&&(a=b.getLastHttpStatusCode(),b=new qr,b.setCode(Lu(a)),this.lastChannelStatus=b,this.deliverClientStatus(b))};
e.onClose=function(){};
e.deliverClientStatus=function(a){for(var b={},c=n(this.statusSubscribers),d=c.next();!d.done;b={$jscomp$loop$prop$subscriber$321:b.$jscomp$loop$prop$subscriber$321},d=c.next())b.$jscomp$loop$prop$subscriber$321=d.value,Ku(function(b){return function(){return b.$jscomp$loop$prop$subscriber$321.next(a)}}(b))};
e.shouldHandleUpcalls=function(){return 1===this.getState()||2===this.getState()};
var xv=function(a){this.authMethod=a};var yv=function(a,b,c){this.name=a;this.isPrivateToUser=b;this.legacySource=c};
yv.makePublic=function(a){return new yv(a,!1)};
yv.makePrivateToUser=function(a){return new yv(a,!0)};
yv.makeLegacy=function(a,b){return new yv(b,!1,a)};
yv.prettyPrint=function(a){var b="{";a.legacySource&&(b=b.concat(" legacySource: "+a.legacySource+","));return b=b.concat(' name: "'+encodeURIComponent(a.name)+'"'," "+(a.isPrivateToUser?"(private)":"(public)")+" }")};var zv={send:function(a,b,c,d,f,g,h){Dn(a,b,c,d,f,g,h)}};var Av=new Set([1,2]),Bv=new Set([408,429]),Cv=function(a,b,c){c=void 0===c?zv:c;this.doormanSpec=a;this.authMethod=b;this.xhrIo=c;this.logger=new Wn("DoormanClientImpl")};
e=Cv.prototype;e.getDoormanSpec=function(){return this.doormanSpec};
e.subscribe=function(a){a.getSubscription().setKind(this.authMethod.getSubscriberKind());return this.sendPostRequest("/v1/subscriptions",a,ar.getDescriptor())};
e.unsubscribe=function(a){a.setKind(this.authMethod.getSubscriberKind());var b=new cr;b.setSubscription(a);return this.sendPostRequest("/v1/deleteSubscriptions",b,er.getDescriptor())};
e.acknowledge=function(a){var b=new ir;a=n(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=new gr;d.setId(c);b.addAck(d)}return this.sendPostRequest("/v1/acknowledgments",b,kr.getDescriptor())};
e.sendPostRequest=function(a,b,c){var d=this,f=new pn(this.doormanSpec);f.setPath(a);a=n(Object.entries(this.authMethod.getQueryParameters()));for(var g=a.next();!g.done;g=a.next()){var h=n(g.value);g=h.next().value;h=h.next().value;f.setParameterValue(g,h)}var k={"Content-type":"application/json"};Object.assign(k,this.authMethod.getHeaders());var l=qo(b),m=this.logger;return new Promise(function(a,b){d.xhrIo.send(f,function(){var d=-1===this.getStatus()?void 0:this.getStatus();if(this.isSuccess()){var f=
so(c,this.getResponseText(),m);null==f?b({code:4,message:"Failed to deserialize response from Doorman "+("server as "+c.getName()+": ")+this.getResponseText(),status:d,isPermanent:!0}):a(f)}else{f=this.getLastErrorCode();var g=this.getLastError();var h=this.getStatus();h=Av.has(this.getLastErrorCode())||400<=h&&499>=h&&!Bv.has(h);b({code:f,message:g,status:d,isPermanent:h})}},"POST",l,k,2E4,d.authMethod.usesCredentialedRequests())})};da();ja();var Dv=function(){this.size=0;this.inner=new Map};
e=Dv.prototype;e.clear=function(){this.inner.clear();this.size=this.inner.size};
e.delete=function(a){a=this.inner.delete(JSON.stringify(a));this.size=this.inner.size;return a};
e.forEach=function(a,b){var c=this;void 0!==b&&(a=a.bind(b));this.inner.forEach(function(b,f){f=JSON.parse(f);a(b,f,c)})};
e.get=function(a){return this.inner.get(JSON.stringify(a))};
e.has=function(a){return this.inner.has(JSON.stringify(a))};
e.set=function(a,b){this.inner.set(JSON.stringify(a),b);this.size=this.inner.size;return this};
Dv.prototype[Symbol.iterator]=function(){return this.entries()};
Dv.prototype.entries=function(){return new Ev(this.inner.entries(),function(a){var b=n(a);a=b.next().value;b=b.next().value;return[JSON.parse(a),b]})};
Dv.prototype.keys=function(){return new Ev(this.inner.keys(),JSON.parse)};
Dv.prototype.values=function(){return this.inner.values()};
da();ja();var Ev=function(a,b){this.inner=a;this.mapFunc=b};
Ev.prototype[Symbol.iterator]=function(){return this};
Ev.prototype.next=function(){var a=this.inner.next(),b=a.value;a=a.done;return{value:a?void 0:this.mapFunc(b),done:a}};var Fv=function(a,b){var c=this;this.readyTicl=a;this.objectId=b;this.state=0;this.subscribers=new Set;this.signals=fv.create(function(a){c.subscribers.add(a);if(4===c.state)Ku(function(){return a.complete()});
else if(3===c.state)Ku(function(){return a.error(c.makeFailureStatus())});
else{c.maybePerformRegistration();var b=c.initialSignal;b&&Ku(function(){return a.next(b)})}return function(){return c.subscribers.delete(a)}})};
e=Fv.prototype;e.maybePerformRegistration=function(){var a=this;this.readyTicl.then(function(b){0===a.state&&0<a.subscribers.size&&(b.register(a.objectId),a.state=1)})};
e.handleRegistrationStatus=function(a){4!==this.state&&(0===a?this.state=2:(this.state=0,this.maybePerformRegistration()))};
e.handleRegistrationFailure=function(a){3!==this.state&&4!==this.state&&(a?(this.state=0,this.maybePerformRegistration()):(this.state=3,this.markFailed(this.makeFailureStatus())))};
e.makeFailureStatus=function(){var a=new qr;a.setCode(2);return a};
e.markFailed=function(a){4!==this.state&&(this.state=3,this.subscribers.forEach(function(b){Ku(function(){return b.error(a)})}))};
e.terminate=function(){4!==this.state&&(this.state=4,this.subscribers.forEach(function(a){Ku(function(){return a.complete()})}))};
e.handleSignal=function(a){var b=a.version;(!b||!this.highestKnownVersion||b>this.highestKnownVersion)&&this.subscribers.forEach(function(b){Ku(function(){return b.next(a)})});
if(!this.highestKnownVersion||b&&b>this.highestKnownVersion)this.highestKnownVersion=b;if(this.initialSignal){var c=this.initialSignal.version;c&&(!b||b>c)&&(this.initialSignal=a)}else this.initialSignal=a};
var Gv=function(a,b,c,d,f,g){this.authMethod=a;this.channel=b;this.tangoClientType=c;this.tangoClientName=d;this.tangoApplicationName=f;this.reuseClientTokens=g};
p(Gv,xv);var Hv=function(a){wv.call(this);var b=this;this.config=a;this.state=0;this.registrations=new Dv;this.channel=a.channel;this.readyTicl=new Promise(function(a){b.readyTiclResolver=a})};
p(Hv,wv);e=Hv.prototype;
e.start=function(){var a=this;this.state=1;this.channel.setChannelHandler(this);var b=Ju("Tango",this.channel).build();this.resources=b;var c=new Gu(this.config.tangoClientType,this.config.tangoClientName,this.config.tangoApplicationName);c.setAllowSuppression(!0);c.setReuseClientTokens(this.config.reuseClientTokens);this.ticl=c=Hu(this.resources,c,this);var d=this.config.authMethod;d instanceof uv?this.tokenSubscription=d.oauthTokens.subscribe(function(b){return a.channel.setOAuthToken(b)}):d instanceof
vv&&(this.tokenSubscription=d.appAuthTokens.subscribe(function(b){return a.channel.setAppAuthToken(b)}));
b.start();c.start();return this};
e.signalsFor=function(a){var b=new Ys(a.legacySource,a.name),c=this.registrations.get(a);c||(c=new Fv(this.readyTicl,b),this.registrations.set(a,c));return c.signals};
e.ready=function(){1===this.state&&(this.readyTiclResolver(this.ticl),this.state=2)};
e.invalidate=function(a,b,c){if(this.shouldHandleUpcalls()){var d=b.getObjectId();if(d=this.registrations.get(Iv(d)))b={version:Is(b.getVersion()),payload:b.getPayload()||void 0,isSuppressor:!0},d.handleSignal(b);a.acknowledge(c)}};
e.invalidateUnknownVersion=function(a,b,c){this.shouldHandleUpcalls()&&((b=this.registrations.get(Iv(b)))&&b.handleSignal({isSuppressor:!0}),a.acknowledge(c))};
e.invalidateAll=function(a,b){this.shouldHandleUpcalls()&&(this.registrations.forEach(function(a){return a.handleSignal({isSuppressor:!0})}),a.acknowledge(b))};
e.informError=function(){};
e.informRegistrationFailure=function(a,b,c){this.shouldHandleUpcalls()&&(a=this.registrations.get(Iv(b)))&&a.handleRegistrationFailure(c)};
e.reissueRegistrations=function(){this.shouldHandleUpcalls()&&this.registrations.forEach(function(a){return a.handleRegistrationStatus(1)})};
e.informRegistrationStatus=function(a,b,c){this.shouldHandleUpcalls()&&(a=this.registrations.get(Iv(b)))&&a.handleRegistrationStatus(c)};
e.stop=function(){this.state=3;var a=this.ticl,b=this.resources;this.resources=this.ticl=void 0;this.tokenSubscription&&(this.tokenSubscription.unsubscribe(),this.tokenSubscription=void 0);this.registrations.forEach(function(a){return a.terminate()});
wv.prototype.stop.call(this);a&&a.stop();b&&b.stop();this.state=4;return Promise.resolve()};
var Iv=function(a){return yv.makeLegacy(a.getSource(),a.getName())};
Hv.prototype.getState=function(){return this.state};function Jv(a){var b=arguments.length,c=sv;nv(arguments[arguments.length-1])&&(c=arguments[arguments.length-1],b--);var d=null;2<=b&&(d=arguments[1]);var f=Number.POSITIVE_INFINITY;3<=b&&(f=arguments[2]);return function(b){return b.lift(new Kv(a,d,f,c))}}
var Kv=function(a,b,c,d){this.bufferTimeSpan=a;this.bufferCreationInterval=b;this.maxBufferSize=c;this.scheduler=d};
Kv.prototype.call=function(a,b){return b.subscribe(new Lv(a,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))};
var Mv=function(){this.buffer=[]},Lv=function(a,b,c,d,f){dv.call(this,a);
this.bufferTimeSpan=b;this.bufferCreationInterval=c;this.maxBufferSize=d;this.scheduler=f;this.contexts=[];a=this.openContext();(this.timespanOnly=null==c||0>c)?this.add(a.closeAction=f.schedule(Nv,b,{subscriber:this,context:a,bufferTimeSpan:b})):(d={bufferTimeSpan:b,bufferCreationInterval:c,subscriber:this,scheduler:f},this.add(a.closeAction=f.schedule(Ov,b,{subscriber:this,context:a})),this.add(f.schedule(Pv,c,d)))};
p(Lv,dv);Lv.EMPTY=dv.EMPTY;Lv.create=dv.create;e=Lv.prototype;e._next=function(a){for(var b=this.contexts,c=b.length,d,f=0;f<c;f++){var g=b[f],h=g.buffer;h.push(a);h.length==this.maxBufferSize&&(d=g)}if(d)this.onBufferFull(d)};
e._error=function(a){this.contexts.length=0;dv.prototype._error.call(this,a)};
e._complete=function(){for(var a=this.contexts,b=this.destination;0<a.length;){var c=a.shift();b.next(c.buffer)}dv.prototype._complete.call(this)};
e._unsubscribe=function(){this.contexts=null};
e.onBufferFull=function(a){this.closeContext(a);a=a.closeAction;a.unsubscribe();this.remove(a);if(!this.closed&&this.timespanOnly){a=this.openContext();var b=this.bufferTimeSpan;this.add(a.closeAction=this.scheduler.schedule(Nv,b,{subscriber:this,context:a,bufferTimeSpan:b}))}};
e.openContext=function(){var a=new Mv;this.contexts.push(a);return a};
e.closeContext=function(a){this.destination.next(a.buffer);var b=this.contexts;0<=(b?b.indexOf(a):-1)&&b.splice(b.indexOf(a),1)};
function Nv(a){var b=a.subscriber,c=a.context;c&&b.closeContext(c);b.closed||(a.context=b.openContext(),a.context.closeAction=this.schedule(a,a.bufferTimeSpan))}
function Pv(a){var b=a.bufferCreationInterval,c=a.bufferTimeSpan,d=a.subscriber,f=a.scheduler,g=d.openContext();d.closed||(d.add(g.closeAction=f.schedule(Ov,c,{subscriber:d,context:g})),this.schedule(a,b))}
function Ov(a){a.subscriber.closeContext(a.context)}
;var Qv={callOnce:function(a,b){return dn(a,b)},
clear:function(a){r.clearTimeout(a)}},Rv=function(a){this.cancelCallback=a},Sv=function(a,b,c){var d=!1,f=a.callOnce(function(){d||b()},c);
return new Rv(function(){d=!0;a.clear(f)})};
Rv.prototype.cancel=function(){this.cancelCallback()};
var Tv=function(a,b,c){c=void 0===c?Qv:c;wv.call(this);this.doorman=a;this.config=b;this.timer=c;this.logger=new Wn("PostmanClientImpl");this.registrations=new Dv;this.privatePerUserObjects=new Map;this.state=0;this.delayGenerator=new Tn(Math.random,500,1024);this.acks=new kv;this.channel=b.channelProvider(this)};
p(Tv,wv);e=Tv.prototype;e.start=function(){var a=this;this.config.authMethod instanceof uv?this.tokenSubscription=this.config.authMethod.oauthTokens.subscribe(function(b){return a.setOAuthToken(b)}):this.config.authMethod instanceof vv&&(this.tokenSubscription=this.config.authMethod.appAuthTokens.subscribe(function(b){return a.channel.setAppAuthToken(b)}));
this.channel.newPostmanSession("tango_web",this).open();this.sendAckBatches=this.acks.pipe(Jv(this.config.ackBatchDelayMs,-1,this.config.ackBatchMaxElements)).subscribe(function(b){0<b.length&&a.doorman.acknowledge(b).catch(function(c){a.logger.warning("Encountered an error sending acks with "+("ackIds="+b+": "+JSON.stringify(c)))})});
this.state=2;return this};
e.signalsFor=function(a){var b=this;return fv.create(function(c){var d=b.registrations.get(a);d||(d=new Uv(a.isPrivateToUser,function(c){return b.onNumSubscribersChanged(a,c)}),b.registrations.set(a,d),4===b.state&&d.terminate());
return d.addSubscriber(c)})};
e.onNumSubscribersChanged=function(a,b){var c=this;if(this.shouldHandleUpcalls()&&this.registrations.get(a)===b)if(0===b.numSubscribers()){if(null==b.deleteSubscriptionTimeout){var d=Sv(this.timer,function(){b.numSubscribers();b.deleteSubscriptionTimeout=void 0;c.cleanUpPreviousSubscription(b);c.registrations.delete(a);null!=b.fullTopicName&&c.privatePerUserObjects.delete(b.fullTopicName)},3E4);
b.deleteSubscriptionTimeout=d}}else b.deleteSubscriptionTimeout&&(b.deleteSubscriptionTimeout.cancel(),b.deleteSubscriptionTimeout=void 0),0===b.state&&null!=this.subscriberInfo&&this.createSubscription(b,a,this.subscriberInfo)};
e.setOAuthToken=function(a){this.channel.setOAuthToken(a)};
e.onSessionError=function(a,b){this.logger.warning("Received session error: "+JSON.stringify(b));a=new qr;a.setCode(2);a.setMessage(b.description);this.deliverClientStatus(a);b.isTransient&&this.logger.warning("Ignoring transient session error")};
e.receivePostmanInvalidation=function(a,b){if(this.shouldHandleUpcalls()){a=b.getSignal();var c=a.getSubscriptionKey().getTopicName();c=this.privatePerUserObjects.get(c)||yv.makePublic(c);(c=this.registrations.get(c))?c.receiveSignal(a):(this.logger.warning("Acking and dropping signal on object with no listeners"),null==this.subscriberInfo?this.logger.warning("Got signal for unregistered object before receiving subscriber info"):(this.logger.warning("Attempting to unsubscribe from unknown object for which we received an invalidation"),
a=b.getSignal().getSubscriptionKey(),c=new Xq,c.setTopicName(a.getTopicName()),c.setSubscriber(this.subscriberInfo),c.setKind(this.config.authMethod.getSubscriberKind()),c.setSubscriptionName(a.getName()),this.unsubscribe(c)));b=b.getAckId();this.acks.next(b)}};
e.onSubscriberInfoAssigned=function(a,b){if(this.shouldHandleUpcalls())if(b===this.subscriberInfo)this.logger.warning("Received duplicate subscriber info from LCS");else{this.logger.info("Received new subscriber info from LCS");this.subscriberInfo=b;a=n(this.registrations);for(var c=a.next();!c.done;c=a.next()){var d=n(c.value);c=d.next().value;d=d.next().value;this.cleanUpPreviousSubscription(d);0<d.numSubscribers()&&this.createSubscription(d,c,b)}}};
e.createSubscription=function(a,b,c){var d=this;a.state=1;var f=Vv();a.subscriptionName=f;var g=new Xq;g.setTopicName(b.name);g.setSubscriber(c);g.setSubscriptionName(f);g.setKind(this.config.authMethod.getSubscriberKind());var h=new Zq;h.setSubscription(g);h.setIsPrivatePerUser(a.isPrivateToUser);a.subscription=new Promise(function(k,l){d.runRetryable(function(){return d.doorman.subscribe(h)},function(c){var h=g.clone();
c.hasFullTopicName()&&(a.fullTopicName=c.getFullTopicName(),h.setTopicName(a.fullTopicName));k(h);a.subscriptionName!==f||d.registrations.get(b)!==a?d.logger.warning("Received outdated subscribe response"):2===a.state?d.logger.warning("Received duplicate subscribe response"):(c.hasFullTopicName()&&d.privatePerUserObjects.set(c.getFullTopicName(),b),a.state=2,c=c.getCommitTimestamp(),a.receiveSyncPoint(Ks(c)))},function(f){l(f);
c!==d.subscriberInfo||a!==d.registrations.get(b)?d.logger.warning("Received outdated subscribe error"):(d.logger.warning("Encountered a permanent error creating subscription to "+(JSON.stringify(b)+": "+JSON.stringify(f))),a.receiveError(),a.state=0,a.subscription=void 0,a.subscriptionName=void 0)},function(){return d.subscriberInfo===c&&0<a.numSubscribers()})})};
e.cleanUpPreviousSubscription=function(a){var b=this;a.subscription&&(a.subscription.then(function(a){return b.unsubscribe(a)},function(){b.logger.info("Subscribe request failed. Not attempting deletion.")}),a.state=0,a.subscription=void 0,a.subscriptionName=void 0)};
e.unsubscribe=function(a){var b=this;this.doorman.unsubscribe(a).then(function(){return b.logger.info("Successfully deleted subscription")}).catch(function(a){b.logger.warning("Failed to delete subscription",a)})};
e.stop=function(){this.state=3;this.tokenSubscription&&(this.tokenSubscription.unsubscribe(),this.tokenSubscription=void 0);this.sendAckBatches&&(this.sendAckBatches.unsubscribe(),this.sendAckBatches=void 0);wv.prototype.stop.call(this);for(var a=n(this.registrations.values()),b=a.next();!b.done;b=a.next())b=b.value,this.cleanUpPreviousSubscription(b),b.terminate();this.state=4;return Promise.resolve()};
e.getState=function(){return this.state};
e.runRetryable=function(a,b,c,d){var f=this;a().then(function(a){f.delayGenerator.reset();b(a)}).catch(function(g){g instanceof Error?f.logger.warning("Unexpected error:",g):g.isPermanent?(f.delayGenerator.reset(),c(g)):(null==d||d())&&f.timer.callOnce(function(){return f.runRetryable(a,b,c,d)},f.delayGenerator.getNextDelay())})};
function Vv(){for(var a=[];8>a.length;)a.push(Math.floor(256*Math.random()));return xc(a)}
var Uv=function(a,b){this.isPrivateToUser=a;this.numSubscribersChangedCallback=b;this.state=0;this.subscribers=new Set};
e=Uv.prototype;e.numSubscribers=function(){return this.subscribers.size};
e.addSubscriber=function(a){var b=this;if(3===this.state)return a.complete(),function(){};
this.subscribers.add(a);null!=this.latestSignal&&a.next(this.latestSignal);this.numSubscribersChangedCallback(this);return function(){b.subscribers.delete(a);b.numSubscribersChangedCallback(b)}};
e.receiveSyncPoint=function(a){a={version:a,isSynthetic:!0,isSuppressor:!0};this.maybeUpdateLatestSignal(a);for(var b=n(this.subscribers),c=b.next();!c.done;c=b.next())c.value.next(a)};
e.receiveSignal=function(a){var b=a.getMessage();a=Ks(b.getPublishTimestampMicros());var c=b.hasData()?b.getData():void 0,d=b.hasTraceId()?b.getTraceId():void 0;b=b.getIsSuppressorOrDefault();a={version:a,payload:c,traceId:d,isSynthetic:!1,isSuppressor:b};this.maybeUpdateLatestSignal(a);c=n(this.subscribers);for(d=c.next();!d.done;d=c.next())d.value.next(a)};
e.maybeUpdateLatestSignal=function(a){if(null==this.latestSignal||0<a.version.compare(this.latestSignal.version))this.latestSignal=a};
e.receiveError=function(){if(0<this.subscribers.size){for(var a=n(this.subscribers),b=a.next();!b.done;b=a.next())b.value.error(this.makeFailureStatus());this.subscribers.clear();this.numSubscribersChangedCallback(this)}};
e.terminate=function(){this.state=3;for(var a=n(this.subscribers),b=a.next();!b.done;b=a.next())b.value.complete();this.subscribers.clear()};
e.makeFailureStatus=function(){var a=new qr;a.setCode(2);return a};
var Wv=function(a,b,c,d,f){this.authMethod=a;this.channelProvider=b;this.doormanUri=c;this.ackBatchDelayMs=d;this.ackBatchMaxElements=f};
p(Wv,xv);var Xv=function(a,b){this.channel=a;this.tangoClientType=b;this.tangoClientName="generic-client";this.tangoApplicationName="unspecified-app";this.reuseClientTokens=!0};
Xv.create=function(a,b){return new Xv(a,b)};
e=Xv.prototype;e.withTangoClientName=function(a){this.tangoClientName=a;return this};
e.withTangoApplicationName=function(a){this.tangoApplicationName=a;return this};
e.withOAuthTokens=function(a){this.oauthTokens=a;this.appAuthTokens=void 0;return this};
e.withAppAuthTokens=function(a){this.appAuthTokens=a;this.oauthTokens=void 0;return this};
e.build=function(){return new Gv(this.oauthTokens?new uv(this.oauthTokens):this.appAuthTokens?new vv("",this.appAuthTokens):new tv(""),this.channel,this.tangoClientType,this.tangoClientName,this.tangoApplicationName,this.reuseClientTokens)};
var Yv=function(a,b,c){var d=this;this.doormanUri=c;this.channelConfig=new zq(b,a,"lcsclient");this.channelProvider=function(a){d.pageId&&d.channelConfig.setPageId(d.pageId);d.authUser&&d.channelConfig.setAuthuser(d.authUser);a=Hq(d.channelConfig,a);a.open();return a}};
Yv.forLocalEnv=function(a,b,c){return new Yv(a,b,c)};
Yv.forStagingEnv=function(a){return new Yv(a,"https://client-channel.sandbox.google.com/client-channel/client","https://signaler-staging.sandbox.google.com")};
Yv.forProdEnv=function(a){return new Yv(a,"https://client-channel.google.com/client-channel/client","https://signaler-pa.clients6.google.com")};
e=Yv.prototype;e.enableChannelSharing=function(){this.channelConfig.setUseSharedChannel(!0);return this};
e.withLegacyTangoChannel=function(a){this.channelProvider=function(b){a.setChannelHandler(b);return a.getRawChannel()};
return this};
e.withAuthUser=function(a){this.authUser=a;return this};
e.withApiKey=function(a){this.apiKey=a;return this};
e.withOAuthTokens=function(a){this.oauthTokens=a;return this};
e.withAppAuthTokens=function(a){this.appAuthTokens=a;this.oauthTokens=void 0;return this};
e.withPageId=function(a){this.pageId=a;return this};
e.build=function(){if(this.oauthTokens)var a=new uv(this.oauthTokens,this.pageId);else{if(!this.apiKey)throw Error("An API key is required");a=this.appAuthTokens?new vv(this.apiKey,this.appAuthTokens):new tv(this.apiKey,this.authUser,this.pageId)}return new Wv(a,this.channelProvider,this.doormanUri,250,20)};/*
 gapi.loader.OBJECT_CREATE_TEST_OVERRIDE &&*/
var Zv=window,$v=document,aw=Zv.location,bw=function(){},cw=/\[native code\]/,dw=function(a,b,c){return a[b]=a[b]||c},ew=function(a){a=a.sort();
for(var b=[],c=void 0,d=0;d<a.length;d++){var f=a[d];f!=c&&b.push(f);c=f}return b},fw=function(){var a;
if((a=Object.create)&&cw.test(a))a=a(null);else{a={};for(var b in a)a[b]=void 0}return a},gw=dw(Zv,"gapi",{});var hw=function(a,b,c){var d=new RegExp("([#].*&|[#])"+b+"=([^&#]*)","g");b=new RegExp("([?#].*&|[?#])"+b+"=([^&#]*)","g");if(a=a&&(d.exec(a)||b.exec(a)))try{c=decodeURIComponent(a[2])}catch(f){}return c};var X;X=dw(Zv,"___jsl",fw());dw(X,"I",0);dw(X,"hel",10);var iw=function(a){var b=dw(X,"PQ",[]);X.PQ=[];var c=b.length;if(0===c)a();else for(var d=0,f=function(){++d===c&&a()},g=0;g<c;g++)b[g](f)},jw=function(a){return dw(dw(X,"H",fw()),a,fw())};var kw=dw(X,"perf",fw());dw(kw,"g",fw());var lw=dw(kw,"i",fw());dw(kw,"r",[]);fw();fw();var nw=function(a,b,c){b&&0<b.length&&(b=mw(b),c&&0<c.length&&(b+="___"+mw(c)),28<b.length&&(b=b.substr(0,28)+(b.length-28)),c=b,b=dw(lw,"_p",fw()),dw(b,c,fw())[a]=(new Date).getTime(),b=kw.r,"function"===typeof b?b(a,"_p",c):b.push([a,"_p",c]))},mw=function(a){return a.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")};var ow=fw(),pw=[],qw=function(a){throw Error("Bad hint"+(a?": "+a:""));};
pw.push(["jsl",function(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b];"object"==typeof c?X[b]=dw(X,b,[]).concat(c):dw(X,b,c)}if(b=a.u)a=dw(X,"us",[]),a.push(b),(b=/^https:(.*)$/.exec(b))&&a.push("http:"+b[1])}]);
var rw=/^(\/[a-zA-Z0-9_\-]+)+$/,sw=[/\/amp\//,/\/amp$/,/^\/amp$/],tw=/^[a-zA-Z0-9\-_\.,!]+$/,uw=/^gapi\.loaded_[0-9]+$/,vw=/^[a-zA-Z0-9,._-]+$/,zw=function(a,b,c,d){var f=a.split(";"),g=f.shift(),h=ow[g],k=null;h?k=h(f,b,c,d):qw("no hint processor for: "+g);k||qw("failed to generate load url");b=k;c=b.match(ww);(d=b.match(xw))&&1===d.length&&yw.test(b)&&c&&1===c.length||qw("failed sanity: "+a);return k},Cw=function(a,b,c,d){a=Aw(a);
uw.test(c)||qw("invalid_callback");b=Bw(b);d=d&&d.length?Bw(d):null;var f=function(a){return encodeURIComponent(a).replace(/%2C/g,",")};
return[encodeURIComponent(a.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",f(a.version),"/m=",f(b),d?"/exm="+f(d):"","/rt=j/sv=1/d=1/ed=1",a.activeMods?"/am="+f(a.activeMods):"",a.resourceSig?"/rs="+f(a.resourceSig):"",a.zcms?"/t="+f(a.zcms):"","/cb=",f(c)].join("")},Aw=function(a){"/"!==a.charAt(0)&&qw("relative path");
for(var b=a.substring(1).split("/"),c=[];b.length;){a=b.shift();if(!a.length||0==a.indexOf("."))qw("empty/relative directory");else if(0<a.indexOf("=")){b.unshift(a);break}c.push(a)}a={};for(var d=0,f=b.length;d<f;++d){var g=b[d].split("="),h=decodeURIComponent(g[0]),k=decodeURIComponent(g[1]);2==g.length&&h&&k&&(a[h]=a[h]||k)}b="/"+c.join("/");rw.test(b)||qw("invalid_prefix");c=0;for(d=sw.length;c<d;++c)sw[c].test(b)&&qw("invalid_prefix");c=Dw(a,"k",!0);d=Dw(a,"am");f=Dw(a,"rs");a=Dw(a,"t");return{pathPrefix:b,
version:c,activeMods:d,resourceSig:f,zcms:a}},Bw=function(a){for(var b=[],c=0,d=a.length;c<d;++c){var f=a[c].replace(/\./g,"_").replace(/-/g,"_");
vw.test(f)&&b.push(f)}return b.join(",")},Dw=function(a,b,c){a=a[b];
!a&&c&&qw("missing: "+b);if(a){if(tw.test(a))return a;qw("invalid: "+b)}return null},yw=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,xw=/\/cb=/g,ww=/\/\//g,Ew=function(a){a=X.dpo?X.h:hw(a,"jsh",X.h);
if(!a)throw Error("Bad hint");return a};
ow.m=function(a,b,c,d){(a=a[0])||qw("missing_hint");return"https://apis.google.com"+Cw(a,b,c,d)};
var Fw=decodeURI("%73cript"),Gw=/^[-+_0-9\/A-Za-z]+={0,2}$/,Hw=function(a,b){for(var c=[],d=0;d<a.length;++d){var f=a[d],g;if(g=f){a:{for(g=0;g<b.length;g++)if(b[g]===f)break a;g=-1}g=0>g}g&&c.push(f)}return c},Iw=function(){var a=X.nonce;
return void 0!==a?a&&a===String(a)&&a.match(Gw)?a:X.nonce=null:$v.querySelector?(a=$v.querySelector("script[nonce]"))?(a=a.nonce||a.getAttribute("nonce")||"",a&&a===String(a)&&a.match(Gw)?X.nonce=a:X.nonce=null):null:null},Kw=function(a){if("loading"!=$v.readyState)Jw(a);
else{var b=Iw(),c="";null!==b&&(c=' nonce="'+b+'"');$v.write("<"+Fw+' src="'+encodeURI(a)+'"'+c+"></"+Fw+">")}},Jw=function(a){var b=$v.createElement(Fw);
b.setAttribute("src",a);a=Iw();null!==a&&b.setAttribute("nonce",a);b.async="true";(a=$v.getElementsByTagName(Fw)[0])?a.parentNode.insertBefore(b,a):($v.head||$v.body||$v.documentElement).appendChild(b)},Lw=function(a,b){var c=b&&b._c;
if(c)for(var d=0;d<pw.length;d++){var f=pw[d][0],g=pw[d][1];g&&Object.prototype.hasOwnProperty.call(c,f)&&g(c[f],a,b)}},Nw=function(a,b,c){Mw(function(){var c=b===(X.dpo?X.h:hw(aw.href,"jsh",X.h))?dw(gw,"_",fw()):fw();
c=dw(jw(b),"_",c);a(c)},c)},Pw=function(a,b){var c=b||{};
"function"==typeof b&&(c={},c.callback=b);Lw(a,c);b=a?a.split(":"):[];var d=c.h||Ew(aw.href),f=dw(X,"ah",fw());if(f["::"]&&b.length){a=[];for(var g=null;g=b.shift();){var h=g.split(".");h=f[g]||f[h[1]&&"ns:"+h[0]||""]||d;var k=a.length&&a[a.length-1]||null,l=k;k&&k.hint==h||(l={hint:h,features:[]},a.push(l));l.features.push(g)}var m=a.length;if(1<m){var q=c.callback;q&&(c.callback=function(){0==--m&&q()})}for(;b=a.shift();)Ow(b.features,c,b.hint)}else Ow(b||[],c,d)},Ow=function(a,b,c){a=ew(a)||[];
var d=b.callback,f=b.config,g=b.timeout,h=b.ontimeout,k=b.onerror,l=void 0;"function"==typeof k&&(l=k);var m=null,q=!1;if(g&&!h||!g&&h)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";k=dw(jw(c),"r",[]).sort();var t=dw(jw(c),"L",[]).sort(),G=[].concat(k),ea=function(a,b){if(q)return 0;Zv.clearTimeout(m);t.push.apply(t,U);var d=((gw||{}).config||{}).update;d?d(f):f&&dw(X,"cu",[]).push(f);if(b){nw("me0",a,G);try{Nw(b,c,l)}finally{nw("me1",a,G)}}return 1};
0<g&&(m=Zv.setTimeout(function(){q=!0;h()},g));
var U=Hw(a,t);if(U.length){U=Hw(a,k);var P=dw(X,"CP",[]),ia=P.length;P[ia]=function(a){if(!a)return 0;nw("ml1",U,G);var b=function(b){P[ia]=null;ea(U,a)&&iw(function(){d&&d();b()})},c=function(){var a=P[ia+1];
a&&a()};
0<ia&&P[ia-1]?P[ia]=function(){b(c)}:b(c)};
if(!U.length)return P[ia](bw);var za="loaded_"+X.I++;gw[za]=function(a){P[ia](a);gw[za]=null};
a=zw(c,U,"gapi."+za,k);k.push.apply(k,U);nw("ml0",U,G);b.sync||Zv.___gapisync?Kw(a):Jw(a)}else ea(U)&&d&&d()},Mw=function(a,b){if(X.hee&&0<X.hel)try{return a()}catch(c){b&&b(c),X.hel--,Pw("debug_error",function(){try{window.___jsl.hefn(c)}catch(d){throw c;
}})}else try{return a()}catch(c){throw b&&b(c),c;
}};
gw.load=function(a,b){return Mw(function(){return Pw(a,b)})};var Qw={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},Rw=Qw;Rw=Qw;var Sw=function(a,b,c,d,f){a=new Date(a,b,c);f=f||0;return a.valueOf()+864E5*(((u(d)?d:3)-f+7)%7-((a.getDay()+6)%7-f+7)%7)};var Tw=function(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};var Uw={COMPACT_DECIMAL_SHORT_PATTERN:{1E3:{other:"0K"},1E4:{other:"00K"},1E5:{other:"000K"},1E6:{other:"0M"},1E7:{other:"00M"},1E8:{other:"000M"},1E9:{other:"0B"},1E10:{other:"00B"},1E11:{other:"000B"},1E12:{other:"0T"},1E13:{other:"00T"},1E14:{other:"000T"}},COMPACT_DECIMAL_LONG_PATTERN:{1E3:{other:"0 thousand"},1E4:{other:"00 thousand"},1E5:{other:"000 thousand"},1E6:{other:"0 million"},1E7:{other:"00 million"},1E8:{other:"000 million"},1E9:{other:"0 billion"},1E10:{other:"00 billion"},1E11:{other:"000 billion"},
1E12:{other:"0 trillion"},1E13:{other:"00 trillion"},1E14:{other:"000 trillion"}}},Vw=Uw;Vw=Uw;var Ww=!1,Yw=function(a,b){var c=["0"];b=Xw[b][0]&7;if(0<b){c.push(".");for(var d=0;d<b;d++)c.push("0")}return a.replace(/0.00/g,c.join(""))},Xw={AED:[2,
"dh","\u062f.\u0625.","DH"],ALL:[0,"Lek","Lek"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BGN:[2,"lev","lev"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CDF:[2,"FrCD","CDF"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[32,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[50,"K\u010d","K\u010d"],DKK:[50,"kr.","kr."],DOP:[2,"RD$","RD$"],EGP:[2,"\u00a3","LE"],ETB:[2,"Birr","Birr"],EUR:[2,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],HRK:[2,"kn","kn"],HUF:[34,"Ft","Ft"],
IDR:[0,"Rp","Rp"],ILS:[34,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],IRR:[0,"Rial","IRR"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],LTL:[2,"Lt","Lt"],MNT:[0,"\u20ae","MN\u20ae"],MVR:[2,"Rf","MVR"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[50,"kr","NOkr"],PAB:[2,"B/.","B/."],PEN:[2,"S/.","S/."],PHP:[2,"\u20b1","PHP"],PKR:[0,"Rs","PKRs."],PLN:[50,"z\u0142","z\u0142"],RON:[2,"RON","RON"],RSD:[0,"din","RSD"],RUB:[50,"\u20bd","RUB"],
SAR:[2,"Rial","Rial"],SEK:[50,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"\u20ba","TRY"],TWD:[2,"NT$","NT$"],TZS:[0,"TSh","TSh"],UAH:[2,"\u0433\u0440\u043d.","UAH"],USD:[2,"$","US$"],UYU:[2,"$","$U"],VND:[48,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]},Zw={AFN:[48,"Af.","AFN"],AMD:[32,"Dram","dram"],ANG:[2,"NAf.","ANG"],AOA:[2,"Kz","Kz"],ARS:[34,"$","AR$"],AWG:[2,"Afl.","Afl."],AZN:[34,"\u20bc","AZN"],BAM:[2,"KM","KM"],BBD:[2,"$","Bds$"],BHD:[3,"din","din"],BIF:[0,
"FBu","FBu"],BMD:[2,"$","BD$"],BND:[2,"$","B$"],BOB:[2,"Bs","Bs"],BSD:[2,"$","BS$"],BTN:[2,"Nu.","Nu."],BWP:[2,"P","pula"],BYN:[50,"\u0440.","BYN"],BYR:[48,"\u0440.","BYR"],BZD:[2,"$","BZ$"],CNH:[2,"\u00a5","RMB\u00a5"],CUC:[1,"$","CUC$"],CUP:[2,"$","CU$"],CVE:[2,"CVE","Esc"],DJF:[0,"Fdj","Fdj"],DZD:[2,"din","din"],ERN:[2,"Nfk","Nfk"],FJD:[2,"$","FJ$"],FKP:[2,"\u00a3","FK\u00a3"],GEL:[2,"GEL","GEL"],GHS:[2,"GHS","GHS"],GIP:[2,"\u00a3","GI\u00a3"],GMD:[2,"GMD","GMD"],GNF:[0,"FG","FG"],GTQ:[2,"Q","GTQ"],
GYD:[0,"$","GY$"],HNL:[2,"L","HNL"],HTG:[2,"HTG","HTG"],IQD:[0,"din","IQD"],JOD:[3,"din","JOD"],KES:[2,"Ksh","Ksh"],KGS:[2,"KGS","KGS"],KHR:[2,"Riel","KHR"],KMF:[0,"CF","KMF"],KPW:[0,"\u20a9KP","KPW"],KWD:[3,"din","KWD"],KYD:[2,"$","KY$"],KZT:[2,"\u20b8","KZT"],LAK:[0,"\u20ad","\u20ad"],LBP:[0,"L\u00a3","LBP"],LRD:[2,"$","L$"],LSL:[2,"LSL","LSL"],LYD:[3,"din","LD"],MAD:[2,"dh","MAD"],MDL:[2,"MDL","MDL"],MGA:[0,"Ar","MGA"],MKD:[2,"din","MKD"],MMK:[0,"K","MMK"],MOP:[2,"MOP","MOP$"],MRO:[0,"MRO","MRO"],
MUR:[0,"MURs","MURs"],MWK:[2,"MWK","MWK"],MZN:[2,"MTn","MTn"],NAD:[2,"$","N$"],NGN:[2,"\u20a6","NG\u20a6"],NIO:[2,"C$","C$"],NPR:[2,"Rs","NPRs"],NZD:[2,"$","NZ$"],OMR:[3,"Rial","OMR"],PGK:[2,"PGK","PGK"],PYG:[16,"Gs.","PYG"],QAR:[2,"Rial","QR"],RWF:[0,"RF","RF"],SBD:[2,"$","SI$"],SCR:[2,"SCR","SCR"],SDG:[2,"SDG","SDG"],SHP:[2,"\u00a3","SH\u00a3"],SLL:[0,"SLL","SLL"],SOS:[0,"SOS","SOS"],SRD:[2,"$","SR$"],SSP:[2,"\u00a3","SSP"],STD:[0,"Db","Db"],SYP:[0,"\u00a3","SY\u00a3"],SZL:[2,"SZL","SZL"],TJS:[2,
"Som","TJS"],TND:[3,"din","DT"],TOP:[2,"T$","T$"],TTD:[2,"$","TT$"],UGX:[0,"UGX","UGX"],UZS:[0,"so\u02bcm","UZS"],VEF:[2,"Bs","Bs"],VES:[2,"Bs","Bs"],VUV:[0,"VUV","VUV"],WST:[2,"WST","WST"],XAF:[0,"FCFA","FCFA"],XCD:[2,"$","EC$"],XOF:[0,"CFA","CFA"],XPF:[48,"FCFP","FCFP"],ZMW:[0,"ZMW","ZMW"],ZWD:[0,"$","Z$"]};var $w=function(){},cx=function(a){if("number"==typeof a){var b=new $w;
b.standardOffset_=a;var c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",Fb(c,2));c=d.join("")}b.timeZoneId_=c;c=ax(a);a=bx(a);b.tzNames_=[c,c];b.tzNamesExt_={STD_LONG_NAME_GMT:a,STD_GENERIC_LOCATION:a};b.transitions_=[];return b}b=new $w;b.timeZoneId_=a.id;b.standardOffset_=-a.std_offset;b.tzNames_=a.names;b.tzNamesExt_=a.names_ext;b.transitions_=a.transitions;return b},bx=function(a){var b=["GMT"];
b.push(0>=a?"+":"-");a=Math.abs(a);b.push(Fb(Math.floor(a/60)%100,2),":",Fb(a%60,2));return b.join("")},ax=function(a){if(0==a)return"UTC";
var b=["UTC",0>a?"+":"-"];a=Math.abs(a);b.push(Math.floor(a/60)%100);a%=60;0!=a&&b.push(":",a);return b.join("")};
e=$w.prototype;e.getTimeZoneData=function(){return{id:this.timeZoneId_,std_offset:-this.standardOffset_,names:gb(this.tzNames_),names_ext:E.clone(this.tzNamesExt_),transitions:gb(this.transitions_)}};
e.getDaylightAdjustment=function(a){a=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes())/36E5;for(var b=0;b<this.transitions_.length&&a>=this.transitions_[b];)b+=2;return 0==b?0:this.transitions_[b-1]};
e.getGMTString=function(a){return bx(this.getOffset(a))};
e.getUTCString=function(a){return ax(this.getOffset(a))};
e.getLongName=function(a){return this.tzNames_[this.isDaylightTime(a)?3:1]};
e.getOffset=function(a){return this.standardOffset_-this.getDaylightAdjustment(a)};
e.getRFCTimeZoneString=function(a){a=-this.getOffset(a);var b=[0>a?"-":"+"];a=Math.abs(a);b.push(Fb(Math.floor(a/60)%100,2),Fb(a%60,2));return b.join("")};
e.getShortName=function(a){return this.tzNames_[this.isDaylightTime(a)?2:0]};
e.getTimeZoneId=function(){return this.timeZoneId_};
e.isDaylightTime=function(a){return 0<this.getDaylightAdjustment(a)};
e.getLongNameGMT=function(a){return this.isDaylightTime(a)?this.tzNamesExt_.DST_LONG_NAME_GMT:this.tzNamesExt_.STD_LONG_NAME_GMT};
e.getGenericLocation=function(a){return this.isDaylightTime(a)?this.tzNamesExt_.DST_GENERIC_LOCATION:this.tzNamesExt_.STD_GENERIC_LOCATION};var dx=function(a,b){this.patternParts_=[];this.dateTimeSymbols_=b||Rw;"number"==typeof a?this.applyStandardPattern_(a):this.applyPattern_(a)},ex=[/^'(?:[^']|'')*('|$)/,
/^(?:G+|y+|Y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^'GyYMkSEahKHcLQdmsvVwzZ]+/],hx=function(a){return a.getHours?a.getHours():0};
dx.prototype.applyPattern_=function(a){for(ix&&(a=a.replace(/\u200f/g,""));a;){for(var b=a,c=0;c<ex.length;++c){var d=a.match(ex[c]);if(d){var f=d[0];a=a.substring(f.length);0==c&&("''"==f?f="'":(f=f.substring(1,"'"==d[1]?f.length-1:f.length),f=f.replace(/''/g,"'")));this.patternParts_.push({text:f,type:c});break}}if(b===a)throw Error("Malformed pattern part: "+a);}};
dx.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-b.getOffset(a)):0,d=c?new Date(a.getTime()+c):a,f=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),f=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));c=[];for(var g=0;g<this.patternParts_.length;++g){var h=this.patternParts_[g].text;1==this.patternParts_[g].type?c.push(this.formatField_(h,a,d,f,b)):
c.push(h)}return c.join("")};
dx.prototype.applyStandardPattern_=function(a){if(4>a)var b=this.dateTimeSymbols_.DATEFORMATS[a];else if(8>a)b=this.dateTimeSymbols_.TIMEFORMATS[a-4];else if(12>a)b=this.dateTimeSymbols_.DATETIMEFORMATS[a-8],b=b.replace("{1}",this.dateTimeSymbols_.DATEFORMATS[a-8]),b=b.replace("{0}",this.dateTimeSymbols_.TIMEFORMATS[a-8]);else{this.applyStandardPattern_(10);return}this.applyPattern_(b)};
dx.prototype.localizeNumbers_=function(a){a=String(a);var b=this.dateTimeSymbols_||Rw;if(void 0!==b.ZERODIGIT){for(var c=[],d=0;d<a.length;d++){var f=a.charCodeAt(d);c.push(48<=f&&57>=f?String.fromCharCode(b.ZERODIGIT+f-48):a.charAt(d))}a=c.join("")}return a};
var ix=!1;dx.prototype.formatEra_=function(a,b){b=0<b.getFullYear()?1:0;return 4<=a?this.dateTimeSymbols_.ERANAMES[b]:this.dateTimeSymbols_.ERAS[b]};
dx.prototype.formatYear_=function(a,b){b=b.getFullYear();0>b&&(b=-b);2==a&&(b%=100);return this.localizeNumbers_(Fb(b,a))};
dx.prototype.formatYearOfWeek_=function(a,b){b=(new Date(Sw(b.getFullYear(),b.getMonth(),b.getDate(),this.dateTimeSymbols_.FIRSTWEEKCUTOFFDAY,this.dateTimeSymbols_.FIRSTDAYOFWEEK))).getFullYear();0>b&&(b=-b);2==a&&(b%=100);return this.localizeNumbers_(Fb(b,a))};
dx.prototype.formatMonth_=function(a,b){b=b.getMonth();switch(a){case 5:return this.dateTimeSymbols_.NARROWMONTHS[b];case 4:return this.dateTimeSymbols_.MONTHS[b];case 3:return this.dateTimeSymbols_.SHORTMONTHS[b];default:return this.localizeNumbers_(Fb(b+1,a))}};
var jx=function(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");};
e=dx.prototype;e.format24Hours_=function(a,b){jx(b);return this.localizeNumbers_(Fb(hx(b)||24,a))};
e.formatFractionalSeconds_=function(a,b){return this.localizeNumbers_((b.getMilliseconds()/1E3).toFixed(Math.min(3,a)).substr(2)+(3<a?Fb(0,a-3):""))};
e.formatDayOfWeek_=function(a,b){b=b.getDay();return 4<=a?this.dateTimeSymbols_.WEEKDAYS[b]:this.dateTimeSymbols_.SHORTWEEKDAYS[b]};
e.formatAmPm_=function(a,b){jx(b);a=hx(b);return this.dateTimeSymbols_.AMPMS[12<=a&&24>a?1:0]};
e.format1To12Hours_=function(a,b){jx(b);return this.localizeNumbers_(Fb(hx(b)%12||12,a))};
e.format0To11Hours_=function(a,b){jx(b);return this.localizeNumbers_(Fb(hx(b)%12,a))};
e.format0To23Hours_=function(a,b){jx(b);return this.localizeNumbers_(Fb(hx(b),a))};
e.formatStandaloneDay_=function(a,b){b=b.getDay();switch(a){case 5:return this.dateTimeSymbols_.STANDALONENARROWWEEKDAYS[b];case 4:return this.dateTimeSymbols_.STANDALONEWEEKDAYS[b];case 3:return this.dateTimeSymbols_.STANDALONESHORTWEEKDAYS[b];default:return this.localizeNumbers_(Fb(b,1))}};
e.formatStandaloneMonth_=function(a,b){b=b.getMonth();switch(a){case 5:return this.dateTimeSymbols_.STANDALONENARROWMONTHS[b];case 4:return this.dateTimeSymbols_.STANDALONEMONTHS[b];case 3:return this.dateTimeSymbols_.STANDALONESHORTMONTHS[b];default:return this.localizeNumbers_(Fb(b+1,a))}};
e.formatQuarter_=function(a,b){b=Math.floor(b.getMonth()/3);return 4>a?this.dateTimeSymbols_.SHORTQUARTERS[b]:this.dateTimeSymbols_.QUARTERS[b]};
e.formatDate_=function(a,b){return this.localizeNumbers_(Fb(b.getDate(),a))};
e.formatMinutes_=function(a,b){jx(b);return this.localizeNumbers_(Fb(b.getMinutes(),a))};
e.formatSeconds_=function(a,b){jx(b);return this.localizeNumbers_(Fb(b.getSeconds(),a))};
e.formatWeekOfYear_=function(a,b){b=Sw(b.getFullYear(),b.getMonth(),b.getDate(),this.dateTimeSymbols_.FIRSTWEEKCUTOFFDAY,this.dateTimeSymbols_.FIRSTDAYOFWEEK);return this.localizeNumbers_(Fb(Math.floor(Math.round((b-(new Date((new Date(b)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,a))};
e.formatTimeZoneRFC_=function(a,b,c){c=c||cx(b.getTimezoneOffset());return 4>a?c.getRFCTimeZoneString(b):this.localizeNumbers_(c.getGMTString(b))};
e.formatTimeZone_=function(a,b,c){c=c||cx(b.getTimezoneOffset());return 4>a?c.getShortName(b):c.getLongName(b)};
e.formatTimeZoneId_=function(a,b){b=b||cx(a.getTimezoneOffset());return b.getTimeZoneId()};
e.formatTimeZoneLocationId_=function(a,b,c){c=c||cx(b.getTimezoneOffset());return 2>=a?c.getTimeZoneId():c.getGenericLocation(b)};
e.formatField_=function(a,b,c,d,f){var g=a.length;switch(a.charAt(0)){case "G":return this.formatEra_(g,c);case "y":return this.formatYear_(g,c);case "Y":return this.formatYearOfWeek_(g,c);case "M":return this.formatMonth_(g,c);case "k":return this.format24Hours_(g,d);case "S":return this.formatFractionalSeconds_(g,d);case "E":return this.formatDayOfWeek_(g,c);case "a":return this.formatAmPm_(g,d);case "h":return this.format1To12Hours_(g,d);case "K":return this.format0To11Hours_(g,d);case "H":return this.format0To23Hours_(g,
d);case "c":return this.formatStandaloneDay_(g,c);case "L":return this.formatStandaloneMonth_(g,c);case "Q":return this.formatQuarter_(g,c);case "d":return this.formatDate_(g,c);case "m":return this.formatMinutes_(g,d);case "s":return this.formatSeconds_(g,d);case "v":return this.formatTimeZoneId_(b,f);case "V":return this.formatTimeZoneLocationId_(g,b,f);case "w":return this.formatWeekOfYear_(g,d);case "z":return this.formatTimeZone_(g,b,f);case "Z":return this.formatTimeZoneRFC_(g,b,f);default:return""}};var kx={DECIMAL_SEP:".",GROUP_SEP:",",PERCENT:"%",ZERO_DIGIT:"0",PLUS_SIGN:"+",MINUS_SIGN:"-",EXP_SYMBOL:"E",PERMILL:"\u2030",INFINITY:"\u221e",NAN:"NaN",DECIMAL_PATTERN:"#,##0.###",SCIENTIFIC_PATTERN:"#E0",PERCENT_PATTERN:"#,##0%",CURRENCY_PATTERN:"\u00a4#,##0.00",DEF_CURRENCY_CODE:"USD"},lx=kx;lx=kx;var mx=function(a,b,c,d){this.intlCurrencyCode_=b||null;this.currencyStyle_=c||0;this.overrideNumberFormatSymbols_=d||null;this.maximumIntegerDigits_=40;this.minimumIntegerDigits_=1;this.significantDigits_=0;this.maximumFractionDigits_=3;this.minExponentDigits_=this.minimumFractionDigits_=0;this.showTrailingZeros_=this.useSignForPositiveExponent_=!1;this.positiveSuffix_=this.positivePrefix_="";this.negativePrefix_=this.getNumberFormatSymbols_().MINUS_SIGN;this.negativeSuffix_="";this.multiplier_=
1;this.negativePercentSignExpected_=!1;this.groupingArray_=[];this.useExponentialNotation_=this.decimalSeparatorAlwaysShown_=!1;this.compactStyle_=0;this.baseFormattingNumber_=null;"number"==typeof a?this.applyStandardPattern_(a):this.applyPattern_(a)};
e=mx.prototype;e.getNumberFormatSymbols_=function(){return this.overrideNumberFormatSymbols_||lx};
e.getCurrencyCode_=function(){return this.intlCurrencyCode_||this.getNumberFormatSymbols_().DEF_CURRENCY_CODE};
e.setMinimumFractionDigits=function(a){if(0<this.significantDigits_&&0<a)throw Error("Can't combine significant digits and minimum fraction digits");this.minimumFractionDigits_=a;return this};
e.getMinimumFractionDigits=function(){return this.minimumFractionDigits_};
e.setMaximumFractionDigits=function(a){if(308<a)throw Error("Unsupported maximum fraction digits: "+a);this.maximumFractionDigits_=a;return this};
e.getMaximumFractionDigits=function(){return this.maximumFractionDigits_};
e.setSignificantDigits=function(a){if(0<this.minimumFractionDigits_&&0<=a)throw Error("Can't combine significant digits and minimum fraction digits");this.significantDigits_=a;return this};
e.getSignificantDigits=function(){return this.significantDigits_};
e.setShowTrailingZeros=function(a){this.showTrailingZeros_=a;return this};
e.setBaseFormatting=function(a){this.baseFormattingNumber_=a;return this};
e.getBaseFormatting=function(){return this.baseFormattingNumber_};
e.applyPattern_=function(a){this.pattern_=a.replace(/ /g,"\u00a0");var b=[0];this.positivePrefix_=this.parseAffix_(a,b);var c=b[0];this.parseTrunk_(a,b);c=b[0]-c;this.positiveSuffix_=this.parseAffix_(a,b);b[0]<a.length&&";"==a.charAt(b[0])?(b[0]++,1!=this.multiplier_&&(this.negativePercentSignExpected_=!0),this.negativePrefix_=this.parseAffix_(a,b),b[0]+=c,this.negativeSuffix_=this.parseAffix_(a,b)):(this.negativePrefix_+=this.positivePrefix_,this.negativeSuffix_+=this.positiveSuffix_)};
e.applyStandardPattern_=function(a){switch(a){case 1:this.applyPattern_(this.getNumberFormatSymbols_().DECIMAL_PATTERN);break;case 2:this.applyPattern_(this.getNumberFormatSymbols_().SCIENTIFIC_PATTERN);break;case 3:this.applyPattern_(this.getNumberFormatSymbols_().PERCENT_PATTERN);break;case 4:this.applyPattern_(Yw(this.getNumberFormatSymbols_().CURRENCY_PATTERN,this.getCurrencyCode_()));break;case 5:this.applyCompactStyle_(1);break;case 6:this.applyCompactStyle_(2);break;default:throw Error("Unsupported pattern type.");
}};
e.applyCompactStyle_=function(a){this.compactStyle_=a;this.applyPattern_(this.getNumberFormatSymbols_().DECIMAL_PATTERN);this.setMinimumFractionDigits(0);this.setMaximumFractionDigits(2);this.setSignificantDigits(2)};
e.parse=function(a,b){b=b||[0];if(0!=this.compactStyle_)throw Error("Parsing of compact numbers is unimplemented");a=a.replace(/ |\u202f/g,"\u00a0");var c=a.indexOf(this.positivePrefix_,b[0])==b[0],d=a.indexOf(this.negativePrefix_,b[0])==b[0];c&&d&&(this.positivePrefix_.length>this.negativePrefix_.length?d=!1:this.positivePrefix_.length<this.negativePrefix_.length&&(c=!1));c?b[0]+=this.positivePrefix_.length:d&&(b[0]+=this.negativePrefix_.length);if(a.indexOf(this.getNumberFormatSymbols_().INFINITY,
b[0])==b[0]){b[0]+=this.getNumberFormatSymbols_().INFINITY.length;var f=Infinity}else f=this.parseNumber_(a,b);if(c){if(a.indexOf(this.positiveSuffix_,b[0])!=b[0])return NaN;b[0]+=this.positiveSuffix_.length}else if(d){if(a.indexOf(this.negativeSuffix_,b[0])!=b[0])return NaN;b[0]+=this.negativeSuffix_.length}return d?-f:f};
e.parseNumber_=function(a,b){var c=!1,d=!1,f=!1,g=-1,h=1,k=this.getNumberFormatSymbols_().DECIMAL_SEP,l=this.getNumberFormatSymbols_().GROUP_SEP,m=this.getNumberFormatSymbols_().EXP_SYMBOL;if(0!=this.compactStyle_)throw Error("Parsing of compact style numbers is not implemented");l=l.replace(/\u202f/g,"\u00a0");for(var q="";b[0]<a.length;b[0]++){var t=a.charAt(b[0]),G=this.getDigit_(t);if(0<=G&&9>=G)q+=G,f=!0;else if(t==k.charAt(0)){if(c||d)break;q+=".";c=!0}else if(t==l.charAt(0)&&("\u00a0"!=l.charAt(0)||
b[0]+1<a.length&&0<=this.getDigit_(a.charAt(b[0]+1)))){if(c||d)break}else if(t==m.charAt(0)){if(d)break;q+="E";d=!0;g=b[0]}else if("+"==t||"-"==t){if(f&&g!=b[0]-1)break;q+=t}else if(1==this.multiplier_&&t==this.getNumberFormatSymbols_().PERCENT.charAt(0)){if(1!=h)break;h=100;if(f){b[0]++;break}}else if(1==this.multiplier_&&t==this.getNumberFormatSymbols_().PERMILL.charAt(0)){if(1!=h)break;h=1E3;if(f){b[0]++;break}}else break}1!=this.multiplier_&&(h=this.multiplier_);return parseFloat(q)/h};
e.format=function(a){if(isNaN(a))return this.getNumberFormatSymbols_().NAN;var b=[],c=this.getUnitAfterRounding_(null===this.baseFormattingNumber_?a:this.baseFormattingNumber_,a);a=nx(a,-c.divisorBase);b.push(c.prefix);var d=0>a||0==a&&0>1/a;b.push(d?this.negativePrefix_:this.positivePrefix_);isFinite(a)?(a=a*(d?-1:1)*this.multiplier_,this.useExponentialNotation_?this.subformatExponential_(a,b):this.subformatFixed_(a,this.minimumIntegerDigits_,b)):b.push(this.getNumberFormatSymbols_().INFINITY);b.push(d?
this.negativeSuffix_:this.positiveSuffix_);b.push(c.suffix);return b.join("")};
e.roundNumber_=function(a){var b=nx(a,this.maximumFractionDigits_);0<this.significantDigits_&&(b=this.roundToSignificantDigits_(b,this.significantDigits_,this.maximumFractionDigits_));b=Math.round(b);isFinite(b)?(a=Math.floor(nx(b,-this.maximumFractionDigits_)),b=Math.floor(b-nx(a,this.maximumFractionDigits_))):b=0;return{intValue:a,fracValue:b}};
e.formatNumberGroupingRepeatingDigitsParts_=function(a,b,c,d,f){for(var g=0,h=0,k,l=this.getNumberFormatSymbols_().GROUP_SEP,m=c.length,q=0;q<m;q++)if(a.push(String.fromCharCode(b+1*Number(c.charAt(q)))),1<m-q)if(k=d[h],q<f){var t=f-q;(1===k||0<k&&1===t%k)&&a.push(l)}else h<d.length&&(q===f?h+=1:k===q-f-g+1&&(a.push(l),g+=k,h+=1));return a};
e.formatNumberGroupingNonRepeatingDigitsParts_=function(a,b,c,d){var f=this.getNumberFormatSymbols_().GROUP_SEP,g,h=c.length,k=[];for(g=d.length-1;0<=g&&0<h;g--){var l=d[g];for(var m=0;m<l&&0<=h-m-1;m++)k.push(String.fromCharCode(b+1*Number(c.charAt(h-m-1))));h-=l;0<h&&k.push(f)}a.push.apply(a,k.reverse());return a};
e.subformatFixed_=function(a,b,c){if(this.minimumFractionDigits_>this.maximumFractionDigits_)throw Error("Min value must be less than max value");c||(c=[]);a=this.roundNumber_(a);var d=a.intValue,f=a.fracValue,g=0==d?0:this.intLog10_(d)+1,h=0<this.minimumFractionDigits_||0<f||this.showTrailingZeros_&&g<this.significantDigits_;a=this.minimumFractionDigits_;h&&(a=this.showTrailingZeros_&&0<this.significantDigits_?this.significantDigits_-g:this.minimumFractionDigits_);var k="";for(g=d;1E20<g;)k="0"+
k,g=Math.round(nx(g,-1));k=g+k;var l=this.getNumberFormatSymbols_().DECIMAL_SEP;g=this.getNumberFormatSymbols_().ZERO_DIGIT.charCodeAt(0);var m=k.length,q=0;if(0<d||0<b){for(d=m;d<b;d++)c.push(String.fromCharCode(g));if(2<=this.groupingArray_.length)for(b=1;b<this.groupingArray_.length;b++)q+=this.groupingArray_[b];b=m-q;c=0<b?this.formatNumberGroupingRepeatingDigitsParts_(c,g,k,this.groupingArray_,b):this.formatNumberGroupingNonRepeatingDigitsParts_(c,g,k,this.groupingArray_)}else h||c.push(String.fromCharCode(g));
(this.decimalSeparatorAlwaysShown_||h)&&c.push(l);b=String(f);f=b.split("e+");2==f.length&&(b=String(this.roundToSignificantDigits_(parseFloat(f[0]),this.significantDigits_,1)),b=b.replace(".",""),b+=Eb("0",parseInt(f[1],10)-b.length+1));this.maximumFractionDigits_+1>b.length&&(b="1"+Eb("0",this.maximumFractionDigits_-b.length)+b);for(f=b.length;"0"==b.charAt(f-1)&&f>a+1;)f--;for(d=1;d<f;d++)c.push(String.fromCharCode(g+1*Number(b.charAt(d))))};
e.addExponentPart_=function(a,b){b.push(this.getNumberFormatSymbols_().EXP_SYMBOL);0>a?(a=-a,b.push(this.getNumberFormatSymbols_().MINUS_SIGN)):this.useSignForPositiveExponent_&&b.push(this.getNumberFormatSymbols_().PLUS_SIGN);a=""+a;for(var c=this.getNumberFormatSymbols_().ZERO_DIGIT,d=a.length;d<this.minExponentDigits_;d++)b.push(c);b.push(a)};
e.getMantissa_=function(a,b){return nx(a,-b)};
e.subformatExponential_=function(a,b){if(0==a)this.subformatFixed_(a,this.minimumIntegerDigits_,b),this.addExponentPart_(0,b);else{var c=Math.floor(Math.log(a)/Math.log(10)+2E-15);a=this.getMantissa_(a,c);var d=this.minimumIntegerDigits_;1<this.maximumIntegerDigits_&&this.maximumIntegerDigits_>this.minimumIntegerDigits_?(d=c%this.maximumIntegerDigits_,0>d&&(d=this.maximumIntegerDigits_+d),a=nx(a,d),c-=d,d=1):1>this.minimumIntegerDigits_?(c++,a=nx(a,-1)):(c-=this.minimumIntegerDigits_-1,a=nx(a,this.minimumIntegerDigits_-
1));this.subformatFixed_(a,d,b);this.addExponentPart_(c,b)}};
e.getDigit_=function(a){a=a.charCodeAt(0);if(48<=a&&58>a)return a-48;var b=this.getNumberFormatSymbols_().ZERO_DIGIT.charCodeAt(0);return b<=a&&a<b+10?a-b:-1};
e.parseAffix_=function(a,b){for(var c="",d=!1,f=a.length;b[0]<f;b[0]++){var g=a.charAt(b[0]);if("'"==g)b[0]+1<f&&"'"==a.charAt(b[0]+1)?(b[0]++,c+="'"):d=!d;else if(d)c+=g;else switch(g){case "#":case "0":case ",":case ".":case ";":return c;case "\u00a4":if(b[0]+1<f&&"\u00a4"==a.charAt(b[0]+1))b[0]++,c+=this.getCurrencyCode_();else switch(this.currencyStyle_){case 0:c+=Xw[this.getCurrencyCode_()][1];break;case 2:g=this.getCurrencyCode_();var h=Xw[g];c+=g==h[1]?g:g+" "+h[1];break;case 1:c+=Xw[this.getCurrencyCode_()][2]}break;
case "%":if(!this.negativePercentSignExpected_&&1!=this.multiplier_)throw Error("Too many percent/permill");if(this.negativePercentSignExpected_&&100!=this.multiplier_)throw Error("Inconsistent use of percent/permill characters");this.multiplier_=100;this.negativePercentSignExpected_=!1;c+=this.getNumberFormatSymbols_().PERCENT;break;case "\u2030":if(!this.negativePercentSignExpected_&&1!=this.multiplier_)throw Error("Too many percent/permill");if(this.negativePercentSignExpected_&&1E3!=this.multiplier_)throw Error("Inconsistent use of percent/permill characters");
this.multiplier_=1E3;this.negativePercentSignExpected_=!1;c+=this.getNumberFormatSymbols_().PERMILL;break;default:c+=g}}return c};
e.parseTrunk_=function(a,b){for(var c=-1,d=0,f=0,g=0,h=-1,k=a.length,l=!0;b[0]<k&&l;b[0]++)switch(a.charAt(b[0])){case "#":0<f?g++:d++;0<=h&&0>c&&h++;break;case "0":if(0<g)throw Error('Unexpected "0" in pattern "'+a+'"');f++;0<=h&&0>c&&h++;break;case ",":0<h&&this.groupingArray_.push(h);h=0;break;case ".":if(0<=c)throw Error('Multiple decimal separators in pattern "'+a+'"');c=d+f+g;break;case "E":if(this.useExponentialNotation_)throw Error('Multiple exponential symbols in pattern "'+a+'"');this.useExponentialNotation_=
!0;this.minExponentDigits_=0;b[0]+1<k&&"+"==a.charAt(b[0]+1)&&(b[0]++,this.useSignForPositiveExponent_=!0);for(;b[0]+1<k&&"0"==a.charAt(b[0]+1);)b[0]++,this.minExponentDigits_++;if(1>d+f||1>this.minExponentDigits_)throw Error('Malformed exponential pattern "'+a+'"');l=!1;break;default:b[0]--,l=!1}0==f&&0<d&&0<=c&&(f=c,0==f&&f++,g=d-f,d=f-1,f=1);if(0>c&&0<g||0<=c&&(c<d||c>d+f)||0==h)throw Error('Malformed pattern "'+a+'"');a=d+f+g;this.maximumFractionDigits_=0<=c?a-c:0;0<=c&&(this.minimumFractionDigits_=
d+f-c,0>this.minimumFractionDigits_&&(this.minimumFractionDigits_=0));this.minimumIntegerDigits_=(0<=c?c:a)-d;this.useExponentialNotation_&&(this.maximumIntegerDigits_=d+this.minimumIntegerDigits_,0==this.maximumFractionDigits_&&0==this.minimumIntegerDigits_&&(this.minimumIntegerDigits_=1));this.groupingArray_.push(Math.max(0,h));this.decimalSeparatorAlwaysShown_=0==c||c==a};
var ox={prefix:"",suffix:"",divisorBase:0};mx.prototype.getUnitFor_=function(a,b){var c=1==this.compactStyle_?Vw.COMPACT_DECIMAL_SHORT_PATTERN:Vw.COMPACT_DECIMAL_LONG_PATTERN;null==c&&(c=Vw.COMPACT_DECIMAL_SHORT_PATTERN);if(3>a)return ox;a=Math.min(14,a);var d=c[nx(1,a)];for(--a;!d&&3<=a;)d=c[nx(1,a)],a--;if(!d)return ox;b=d[b];return b&&"0"!=b?(b=/([^0]*)(0+)(.*)/.exec(b))?{prefix:b[1],suffix:b[3],divisorBase:a+1-(b[2].length-1)}:ox:ox};
mx.prototype.getUnitAfterRounding_=function(a,b){if(0==this.compactStyle_)return ox;a=Math.abs(a);b=Math.abs(b);var c=this.getUnitFor_(1>=a?0:this.intLog10_(a),this.pluralForm_(a)).divisorBase;b=this.roundNumber_(nx(b,-c));return this.getUnitFor_(c+this.intLog10_(this.roundNumber_(nx(a,-c)).intValue),this.pluralForm_(b.intValue+b.fracValue))};
mx.prototype.intLog10_=function(a){if(!isFinite(a))return 0<a?a:0;for(var b=0;1<=(a/=10);)b++;return b};
var nx=function(a,b){if(!a||!isFinite(a)||0==b)return a;a=String(a).split("e");return parseFloat(a[0]+"e"+(parseInt(a[1]||0,10)+b))},px=function(a,b){return a&&isFinite(a)?nx(Math.round(nx(a,b)),-b):a};
mx.prototype.roundToSignificantDigits_=function(a,b,c){if(!a)return a;b=b-this.intLog10_(a)-1;return b<-c?px(a,-c):px(a,b)};
mx.prototype.pluralForm_=function(){return"other"};
mx.prototype.isCurrencyCodeBeforeValue=function(){var a=this.pattern_.indexOf("\u00a4"),b=this.pattern_.indexOf("#"),c=this.pattern_.indexOf("0"),d=Number.MAX_VALUE;0<=b&&b<d&&(d=b);0<=c&&c<d&&(d=c);return a<d};var qx=function(){this.front_=[];this.back_=[]};
e=qx.prototype;e.maybeFlip_=function(){0==this.front_.length&&(this.front_=this.back_,this.front_.reverse(),this.back_=[])};
e.enqueue=function(a){this.back_.push(a)};
e.dequeue=function(){this.maybeFlip_();return this.front_.pop()};
e.peek=function(){this.maybeFlip_();var a=this.front_;return a[a.length-1]};
e.getCount=function(){return this.front_.length+this.back_.length};
e.isEmpty=function(){return 0==this.front_.length&&0==this.back_.length};
e.clear=function(){this.front_=[];this.back_=[]};
e.contains=function(a){return db(this.front_,a)||db(this.back_,a)};
e.remove=function(a){var b=this.front_;var c=Array.prototype.lastIndexOf.call(b,a,b.length-1);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||eb(this.back_,a)};
e.getValues=function(){for(var a=[],b=this.front_.length-1;0<=b;--b)a.push(this.front_[b]);var c=this.back_.length;for(b=0;b<c;++b)a.push(this.back_[b]);return a};var rx=function(a){this.cellValue_=a};
rx.prototype.setCellValue=function(a){this.cellValue_=a};
rx.prototype.getCellValue=function(){return this.cellValue_};var sx=function(a,b,c){this.metricName_=a;this.cellType_=b;this.fields_=c||[];this.cellMap_=new Map};
e=sx.prototype;e.getMetricName=function(){return this.metricName_};
e.getCellType=function(){return this.cellType_};
e.getFields=function(){return this.fields_};
e.getFieldTypes=function(){for(var a=[],b=0;b<this.fields_.length;b++)a.push(this.fields_[b].field_type);return a};
e.getFieldNames=function(){for(var a=[],b=0;b<this.fields_.length;b++)a.push(this.fields_[b].field_name);return a};
e.getFieldValues=function(){for(var a=[],b=n(this.cellMap_.keys()),c=b.next();!c.done;c=b.next())a.push(c.value.split(","));return a};
e.addCell=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.getCells(c))?d.push(new rx(a)):this.setCell(a,c)};
e.setCell=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.getKey_(c);this.cellMap_.set(c,[new rx(a)])};
e.getCells=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b=this.getKey_(b);return this.cellMap_.has(b)?this.cellMap_.get(b):void 0};
e.getCell=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return(b=this.getCells(b))&&b.length?b[0]:void 0};
e.hasCell=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b=this.getKey_(b);return this.cellMap_.has(b)};
e.getCellCount=function(){return this.cellMap_.size};
e.clear=function(){this.cellMap_.clear()};
e.getKey_=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return b?b.join(","):"key"};var ux=function(a){Sc(this,a,0,-1,tx,null)};
B(ux,Nc);var wx=function(a){Sc(this,a,0,-1,null,vx)};
B(wx,Nc);var xx=function(a){Sc(this,a,0,-1,null,null)};
B(xx,Nc);var yx=function(a){Sc(this,a,0,-1,null,null)};
B(yx,Nc);var Ax=function(a){Sc(this,a,0,-1,zx,null)};
B(Ax,Nc);var Cx=function(a){Sc(this,a,0,-1,null,Bx)};
B(Cx,Nc);var Ex=function(a){Sc(this,a,0,-1,null,Dx)};
B(Ex,Nc);var Gx=function(a){Sc(this,a,0,-1,Fx,null)};
B(Gx,Nc);var Hx=function(a){Sc(this,a,0,-1,null,null)};
B(Hx,Nc);var tx=[3,6,4];ux.prototype.toObject=function(a){var b,c={streamzName:I(this,1),hashedStreamzName:I(this,5),rootSpec:(b=this.getRootSpec())&&Ix(a,b),fieldNameList:Uc(this,3),hashedFieldNameList:Uc(this,6),incList:Tc(this.getIncList(),Jx,a)};a&&(c.$jspbMessageInstance=this);return c};
ux.prototype.serializeBinary=function(){var a=new Mc;var b=I(this,1);null!=b&&a.writeString(1,b);b=I(this,5);null!=b&&a.writeFixed64(5,b);b=this.getRootSpec();null!=b&&a.writeMessage(2,b,Kx);b=this.getFieldNameList();0<b.length&&a.writeRepeatedString(3,b);b=this.getHashedFieldNameList();0<b.length&&a.writeRepeatedFixed64(6,b);b=this.getIncList();0<b.length&&a.writeRepeatedMessage(4,b,Lx);return a.getResultBuffer()};
var vx=[[1,2]];wx.prototype.getSpecCase=function(){return Rc(this,vx[0])};
wx.prototype.toObject=function(a){return Ix(a,this)};
var Ix=function(a,b){var c,d={mobile:(c=b.getMobile())&&Mx(a,c),mobileExp:(c=b.getMobileExp())&&Nx(a,c)};a&&(d.$jspbMessageInstance=b);return d};
wx.prototype.serializeBinary=function(){var a=new Mc;Kx(this,a);return a.getResultBuffer()};
var Kx=function(a,b){var c=a.getMobile();null!=c&&b.writeMessage(1,c,Ox);c=a.getMobileExp();null!=c&&b.writeMessage(2,c,Px)};
xx.prototype.toObject=function(a){return Mx(a,this)};
var Mx=function(a,b){var c={appName:I(b,1),appVersion:I(b,2),useMobilespec:I(b,3)};a&&(c.$jspbMessageInstance=b);return c};
xx.prototype.serializeBinary=function(){var a=new Mc;Ox(this,a);return a.getResultBuffer()};
var Ox=function(a,b){var c=I(a,1);null!=c&&b.writeString(1,c);c=I(a,2);null!=c&&b.writeString(2,c);c=I(a,3);null!=c&&b.writeBool(3,c)};
e=xx.prototype;e.getAppName=function(){return I(this,1)};
e.setAppName=function(a){J(this,1,a)};
e.clearAppName=function(){J(this,1,void 0)};
e.hasAppName=function(){return null!=I(this,1)};
e.getAppVersion=function(){return I(this,2)};
e.setAppVersion=function(a){J(this,2,a)};
e.clearAppVersion=function(){J(this,2,void 0)};
e.hasAppVersion=function(){return null!=I(this,2)};
e.getUseMobilespec=function(){return I(this,3)};
e.setUseMobilespec=function(a){J(this,3,a)};
e.clearUseMobilespec=function(){J(this,3,void 0)};
e.hasUseMobilespec=function(){return null!=I(this,3)};
yx.prototype.toObject=function(a){return Nx(a,this)};
var Nx=function(a,b){var c={appName:I(b,1),appVersion:I(b,2),experimentId:I(b,3),useMobilespec:I(b,4)};a&&(c.$jspbMessageInstance=b);return c};
yx.prototype.serializeBinary=function(){var a=new Mc;Px(this,a);return a.getResultBuffer()};
var Px=function(a,b){var c=I(a,1);null!=c&&b.writeString(1,c);c=I(a,2);null!=c&&b.writeString(2,c);c=I(a,3);null!=c&&b.writeInt32(3,c);c=I(a,4);null!=c&&b.writeBool(4,c)};
e=yx.prototype;e.getAppName=function(){return I(this,1)};
e.setAppName=function(a){J(this,1,a)};
e.clearAppName=function(){J(this,1,void 0)};
e.hasAppName=function(){return null!=I(this,1)};
e.getAppVersion=function(){return I(this,2)};
e.setAppVersion=function(a){J(this,2,a)};
e.clearAppVersion=function(){J(this,2,void 0)};
e.hasAppVersion=function(){return null!=I(this,2)};
e.getExperimentId=function(){return I(this,3)};
e.setExperimentId=function(a){J(this,3,a)};
e.clearExperimentId=function(){J(this,3,void 0)};
e.hasExperimentId=function(){return null!=I(this,3)};
e.getUseMobilespec=function(){return I(this,4)};
e.setUseMobilespec=function(a){J(this,4,a)};
e.clearUseMobilespec=function(){J(this,4,void 0)};
e.hasUseMobilespec=function(){return null!=I(this,4)};
e=wx.prototype;e.getMobile=function(){return Zc(this,xx,1)};
e.setMobile=function(a){cd(this,1,vx[0],a)};
e.clearMobile=function(){this.setMobile(void 0)};
e.hasMobile=function(){return null!=I(this,1)};
e.getMobileExp=function(){return Zc(this,yx,2)};
e.setMobileExp=function(a){cd(this,2,vx[0],a)};
e.clearMobileExp=function(){this.setMobileExp(void 0)};
e.hasMobileExp=function(){return null!=I(this,2)};
var zx=[1];Ax.prototype.toObject=function(a){return Jx(a,this)};
var Jx=function(a,b){var c,d={fieldList:Tc(b.getFieldList(),Qx,a),incBy:(c=b.getIncBy())&&Rx(a,c)};a&&(d.$jspbMessageInstance=b);return d};
Ax.prototype.serializeBinary=function(){var a=new Mc;Lx(this,a);return a.getResultBuffer()};
var Lx=function(a,b){var c=a.getFieldList();0<c.length&&b.writeRepeatedMessage(1,c,Sx);c=a.getIncBy();null!=c&&b.writeMessage(2,c,Tx)},Bx=[[1,
2,3]];Cx.prototype.getValueCase=function(){return Rc(this,Bx[0])};
Cx.prototype.toObject=function(a){return Qx(a,this)};
var Qx=function(a,b){var c={strVal:I(b,1),intVal:I(b,2),boolVal:I(b,3)};a&&(c.$jspbMessageInstance=b);return c};
Cx.prototype.serializeBinary=function(){var a=new Mc;Sx(this,a);return a.getResultBuffer()};
var Sx=function(a,b){var c=I(a,1);null!=c&&b.writeString(1,c);c=I(a,2);null!=c&&b.writeInt32(2,c);c=I(a,3);null!=c&&b.writeBool(3,c)};
e=Cx.prototype;e.getStrVal=function(){return I(this,1)};
e.setStrVal=function(a){Yc(this,1,Bx[0],a)};
e.clearStrVal=function(){Yc(this,1,Bx[0],void 0)};
e.hasStrVal=function(){return null!=I(this,1)};
e.getIntVal=function(){return I(this,2)};
e.setIntVal=function(a){Yc(this,2,Bx[0],a)};
e.clearIntVal=function(){Yc(this,2,Bx[0],void 0)};
e.hasIntVal=function(){return null!=I(this,2)};
e.getBoolVal=function(){return I(this,3)};
e.setBoolVal=function(a){Yc(this,3,Bx[0],a)};
e.clearBoolVal=function(){Yc(this,3,Bx[0],void 0)};
e.hasBoolVal=function(){return null!=I(this,3)};
var Dx=[[1,2,3]];Ex.prototype.getValueCase=function(){return Rc(this,Dx[0])};
Ex.prototype.toObject=function(a){return Rx(a,this)};
var Rx=function(a,b){var c,d={int64Val:I(b,1),doubleVal:Vc(b,2),histogramVal:(c=b.getHistogramVal())&&Ux(a,c)};a&&(d.$jspbMessageInstance=b);return d};
Ex.prototype.serializeBinary=function(){var a=new Mc;Tx(this,a);return a.getResultBuffer()};
var Tx=function(a,b){var c=I(a,1);null!=c&&b.writeInt64(1,c);c=I(a,2);null!=c&&b.writeDouble(2,c);c=a.getHistogramVal();null!=c&&b.writeMessage(3,c,Vx)};
e=Ex.prototype;e.getInt64Val=function(){return I(this,1)};
e.setInt64Val=function(a){Yc(this,1,Dx[0],a)};
e.clearInt64Val=function(){Yc(this,1,Dx[0],void 0)};
e.hasInt64Val=function(){return null!=I(this,1)};
e.getDoubleVal=function(){return Vc(this,2)};
e.setDoubleVal=function(a){Yc(this,2,Dx[0],a)};
e.clearDoubleVal=function(){Yc(this,2,Dx[0],void 0)};
e.hasDoubleVal=function(){return null!=I(this,2)};
e.getHistogramVal=function(){return Zc(this,Gx,3)};
e.setHistogramVal=function(a){cd(this,3,Dx[0],a)};
e.clearHistogramVal=function(){this.setHistogramVal(void 0)};
e.hasHistogramVal=function(){return null!=I(this,3)};
e=Ax.prototype;e.getFieldList=function(){return ad(this,Cx,1)};
e.setFieldList=function(a){dd(this,1,a)};
e.addField=function(a,b){return ed(this,1,a,Cx,b)};
e.clearFieldList=function(){this.setFieldList([])};
e.getIncBy=function(){return Zc(this,Ex,2)};
e.setIncBy=function(a){bd(this,2,a)};
e.clearIncBy=function(){this.setIncBy(void 0)};
e.hasIncBy=function(){return null!=I(this,2)};
e=ux.prototype;e.getStreamzName=function(){return I(this,1)};
e.setStreamzName=function(a){J(this,1,a)};
e.clearStreamzName=function(){J(this,1,void 0)};
e.hasStreamzName=function(){return null!=I(this,1)};
e.getHashedStreamzName=function(){return I(this,5)};
e.setHashedStreamzName=function(a){J(this,5,a)};
e.clearHashedStreamzName=function(){J(this,5,void 0)};
e.hasHashedStreamzName=function(){return null!=I(this,5)};
e.getRootSpec=function(){return Zc(this,wx,2)};
e.setRootSpec=function(a){bd(this,2,a)};
e.clearRootSpec=function(){this.setRootSpec(void 0)};
e.hasRootSpec=function(){return null!=I(this,2)};
e.getFieldNameList=function(){return Uc(this,3)};
e.setFieldNameList=function(a){J(this,3,a||[])};
e.addFieldName=function(a,b){var c=Uc(this,3);void 0!=b?c.splice(b,0,a):c.push(a)};
e.clearFieldNameList=function(){this.setFieldNameList([])};
e.getHashedFieldNameList=function(){return Uc(this,6)};
e.setHashedFieldNameList=function(a){J(this,6,a||[])};
e.addHashedFieldName=function(a,b){var c=Uc(this,6);void 0!=b?c.splice(b,0,a):c.push(a)};
e.clearHashedFieldNameList=function(){this.setHashedFieldNameList([])};
e.getIncList=function(){return ad(this,Ax,4)};
e.setIncList=function(a){dd(this,4,a)};
e.addInc=function(a,b){return ed(this,4,a,Ax,b)};
e.clearIncList=function(){this.setIncList([])};
var Fx=[1];Gx.prototype.toObject=function(a){return Ux(a,this)};
var Ux=function(a,b){var c={entryList:Tc(b.getEntryList(),Wx,a)};a&&(c.$jspbMessageInstance=b);return c};
Gx.prototype.serializeBinary=function(){var a=new Mc;Vx(this,a);return a.getResultBuffer()};
var Vx=function(a,b){a=a.getEntryList();0<a.length&&b.writeRepeatedMessage(1,a,Xx)};
Hx.prototype.toObject=function(a){return Wx(a,this)};
var Wx=function(a,b){var c={valueOrBucket:Vc(b,1),count:I(b,2)};a&&(c.$jspbMessageInstance=b);return c};
Hx.prototype.serializeBinary=function(){var a=new Mc;Xx(this,a);return a.getResultBuffer()};
var Xx=function(a,b){var c=I(a,1);null!=c&&b.writeDouble(1,c);c=I(a,2);null!=c&&b.writeInt64(2,c)};
e=Hx.prototype;e.getValueOrBucket=function(){return Vc(this,1)};
e.setValueOrBucket=function(a){J(this,1,a)};
e.clearValueOrBucket=function(){J(this,1,void 0)};
e.hasValueOrBucket=function(){return null!=I(this,1)};
e.getCount=function(){return I(this,2)};
e.setCount=function(a){J(this,2,a)};
e.clearCount=function(){J(this,2,void 0)};
e.hasCount=function(){return null!=I(this,2)};
Gx.prototype.getEntryList=function(){return ad(this,Hx,1)};
Gx.prototype.setEntryList=function(a){dd(this,1,a)};
Gx.prototype.addEntry=function(a,b){return ed(this,1,a,Hx,b)};
Gx.prototype.clearEntryList=function(){this.setEntryList([])};var Yx=function(a,b){sx.call(this,a,3,b)};
p(Yx,sx);Yx.prototype.incrementCounter=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.incrementCounterBy(1,b)};
Yx.prototype.incrementCounterBy=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];d=0;var f=this.getCell(c);f&&(d=f.getCellValue());this.setCell(d+a,c)};var Zx=function(a,b){sx.call(this,a,2,b)};
p(Zx,sx);Zx.prototype.record=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.addCell(a,c)};var $x=function(a){this.streamzLogger_=a;this.metricMap=new Map;this.disabledMetrics_=new Set;this.invocationCount=0;this.invocationLimit=100;this.flushInterval=3E4;this.flushTimer=new cn(this.flushInterval);this.flushTimer.listen("tick",this.snapshotAndFlush,!1,this)};
e=$x.prototype;e.setFlushCount=function(a){this.invocationLimit=a};
e.setFlushInterval=function(a){this.flushInterval=a};
e.updateInvocationCount_=function(){this.maybeStartFlushTimer_();this.invocationCount++;this.invocationCount>=this.invocationLimit&&this.snapshotAndFlush()};
e.snapshotAndFlush=function(){var a=this.metricMap.values();a=[].concat(ka(a)).filter(function(a){return a.getCellCount()});
a.length&&this.streamzLogger_.flush(a);this.clearMetrics_(a);this.invocationCount=0;this.stopFlushTimer_()};
e.setDisabledMetrics=function(a){this.disabledMetrics_=new Set(a)};
e.addNewCounter=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.metricMap.has(a)||this.metricMap.set(a,new Yx(a,c))};
e.addNewEventMetric=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.metricMap.has(a)||this.metricMap.set(a,new Zx(a,c))};
e.getMetric=function(a){return this.disabledMetrics_.has(a)?void 0:this.metricMap.get(a)};
e.incrementCounter=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];this.incrementCounterBy.apply(this,[a,1].concat(ka(c)))};
e.incrementCounterBy=function(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];(f=this.getMetric(a))&&f instanceof Yx&&(f.incrementCounterBy(b,d),this.updateInvocationCount_())};
e.record=function(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];(f=this.getMetric(a))&&f instanceof Zx&&(f.record(b,d),this.updateInvocationCount_())};
e.maybeStartFlushTimer_=function(){this.flushTimer.enabled||this.flushTimer.start()};
e.stopFlushTimer_=function(){this.flushTimer.enabled&&this.flushTimer.stop()};
e.clearMetrics_=function(a){for(var b=0;b<a.length;b++)a[b].clear()};Polymer.IronA11yAnnouncer=function(){};
Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this);document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},
announce:function(a){this._text="";this.async(function(){this._text=a},100)},
_onIronAnnounce:function(a){a.detail&&a.detail.text&&this.announce(a.detail.text)}});
Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer"));document.body.appendChild(Polymer.IronA11yAnnouncer.instance)};Polymer.IronValidatableBehaviorMeta=null;Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1},_validatorMeta:{type:Object},validatorType:{type:String,value:"validator"},_validator:{type:Object,computed:"__computeValidator(validator)"}},observers:["_invalidChanged(invalid)"],registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},
_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},
hasValidator:function(){return null!=this._validator},
validate:function(a){this.invalid=!this._getValidity(a);return!this.invalid},
_getValidity:function(a){return this.hasValidator()?this._validator.validate(a):!0},
__computeValidator:function(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)}};Polymer({is:"iron-autogrow-textarea",behaviors:[Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{value:{observer:"_valueChanged",type:String,notify:!0},bindValue:{observer:"_bindValueChanged",type:String,notify:!0},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},
minlength:{type:Number},maxlength:{type:Number},label:{type:String}},listeners:{input:"_onInput"},get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(a){this.$.textarea.selectionStart=a},set selectionEnd(a){this.$.textarea.selectionEnd=a},attached:function(){navigator.userAgent.match(/iP(?:[oa]d|hone)/)&&(this.$.textarea.style.marginLeft="-3px")},
validate:function(){var a=this.$.textarea.validity.valid;a&&(this.required&&""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},
_bindValueChanged:function(a){this.value=a},
_valueChanged:function(a){var b=this.textarea;b&&(b.value!==a&&(b.value=a||0===a?a:""),this.bindValue=a,this.$.mirror.innerHTML=this._valueForMirror(),this.fire("bind-value-changed",{value:this.bindValue}))},
_onInput:function(a){var b=Polymer.dom(a).path;this.value=b?b[0].value:a.target.value},
_constrain:function(a){var b;a=a||[""];for(b=0<this.maxRows&&a.length>this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&b.length<this.rows;)b.push("");return b.join("<br/>")+"&#160;"},
_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").split("\n"):[""],this._constrain(this.tokens)},
_updateCached:function(){this.$.mirror.innerHTML=this._constrain(this.tokens)}});Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){Polymer.Element||this.fire("iron-form-element-register")},
detached:function(){!Polymer.Element&&this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}};Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},
_getValidity:function(){return this.disabled||!this.required||this.checked},
_requiredChanged:function(){this.required?this.setAttribute("aria-required","true"):this.removeAttribute("aria-required")},
_checkedChanged:function(){this.active=this.checked;this.fire("iron-change")},
_valueChanged:function(){if(void 0===this.value||null===this.value)this.value="on"}};
Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];(function(){var a=0,b=0,c=null,d=[];Polymer.IronDropdownScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(a){var b=this.currentLockingElement;if(void 0===b)return!1;if(this._hasCachedLockedElement(a))return!0;if(this._hasCachedUnlockedElement(a))return!1;(b=!!b&&b!==a&&!this._composedTreeContains(b,a))?this._lockedElementCache.push(a):this._unlockedElementCache.push(a);return b},
pushScrollLock:function(a){0<=this._lockingElements.indexOf(a)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(a),this._lockedElementCache=[],this._unlockedElementCache=[])},
removeScrollLock:function(a){a=this._lockingElements.indexOf(a);-1!==a&&(this._lockingElements.splice(a,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},
_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(a){return-1<this._lockedElementCache.indexOf(a)},
_hasCachedUnlockedElement:function(a){return-1<this._unlockedElementCache.indexOf(a)},
_composedTreeContains:function(a,b){var c,d;if(a.contains(b))return!0;a=Polymer.dom(a).querySelectorAll("content");for(c=0;c<a.length;++c){var f=Polymer.dom(a[c]).getDistributedNodes();for(d=0;d<f.length;++d)if(this._composedTreeContains(f[d],b))return!0}return!1},
_scrollInteractionHandler:function(c){c.cancelable&&this._shouldPreventScrolling(c)&&c.preventDefault();c.targetTouches&&(c=c.targetTouches[0],a=c.pageX,b=c.pageY)},
_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);document.addEventListener("wheel",this._boundScrollHandler,!0);document.addEventListener("mousewheel",this._boundScrollHandler,!0);document.addEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.addEventListener("touchstart",this._boundScrollHandler,!0);document.addEventListener("touchmove",this._boundScrollHandler,!0)},
_unlockScrollInteractions:function(){document.removeEventListener("wheel",this._boundScrollHandler,!0);document.removeEventListener("mousewheel",this._boundScrollHandler,!0);document.removeEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.removeEventListener("touchstart",this._boundScrollHandler,!0);document.removeEventListener("touchmove",this._boundScrollHandler,!0)},
_shouldPreventScrolling:function(a){var b=Polymer.dom(a).rootTarget;"touchmove"!==a.type&&c!==b&&(c=b,d=this._getScrollableNodes(Polymer.dom(a).path));if(!d.length)return!0;if("touchstart"===a.type)return!1;a=this._getScrollInfo(a);return!this._getScrollingNode(d,a.deltaX,a.deltaY)},
_getScrollableNodes:function(a){for(var b=[],c=a.indexOf(this.currentLockingElement),d=0;d<=c;d++)if(a[d].nodeType===Node.ELEMENT_NODE){var f=a[d],m=f.style;"scroll"!==m.overflow&&"auto"!==m.overflow&&(m=window.getComputedStyle(f));"scroll"!==m.overflow&&"auto"!==m.overflow||b.push(f)}return b},
_getScrollingNode:function(a,b,c){if(b||c)for(var d=Math.abs(c)>=Math.abs(b),f=0;f<a.length;f++){var g=a[f];if(d?0>c?0<g.scrollTop:g.scrollTop<g.scrollHeight-g.clientHeight:0>b?0<g.scrollLeft:g.scrollLeft<g.scrollWidth-g.clientWidth)return g}},
_getScrollInfo:function(c){var d={deltaX:c.deltaX,deltaY:c.deltaY};"deltaX"in c||("wheelDeltaX"in c?(d.deltaX=-c.wheelDeltaX,d.deltaY=-c.wheelDeltaY):"axis"in c?(d.deltaX=1===c.axis?c.detail:0,d.deltaY=2===c.axis?c.detail:0):c.targetTouches&&(c=c.targetTouches[0],d.deltaX=a-c.pageX,d.deltaY=b-c.pageY));return d}}})();Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},
fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:
this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var a=Polymer.dom(this).parentNode;a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host);return a},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},
get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&this.positionTarget},attached:function(){"undefined"===typeof this._isRTL&&(this._isRTL="rtl"==window.getComputedStyle(this).direction);this.positionTarget=this.positionTarget||this._defaultPositionTarget;this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):(window.ShadyDOM&&ShadyDOM.flush(),this.fit()))},
detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},
fit:function(){this.position();this.constrain();this.center()},
_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==a.top?"top":"auto"!==a.bottom?"bottom":null,horizontally:"auto"!==a.left?
"left":"auto"!==a.right?"right":null},sizedBy:{height:"none"!==b.maxHeight,width:"none"!==b.maxWidth,minWidth:parseInt(b.minWidth,10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,10)||0}}}},
resetFit:function(){var a=this._fitInfo||{},b;for(b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},
refit:function(){var a=this.sizingTarget.scrollLeft,b=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=a;this.sizingTarget.scrollTop=b},
position:function(){if(this.__shouldPosition){this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing="border-box";this.style.left="0px";this.style.top="0px";var a=this.getBoundingClientRect(),b=this.__getNormalizedRect(this.positionTarget),c=this.__getNormalizedRect(this.fitInto),d=this._fitInfo.margin,f=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,{width:a.width+d.left+d.right,height:a.height+d.top+d.bottom},a,b,c);b=f.left+d.left;f=f.top+d.top;var g=
Math.min(c.right-d.right,b+a.width),h=Math.min(c.bottom-d.bottom,f+a.height);b=Math.max(c.left+d.left,Math.min(b,g-this._fitInfo.sizedBy.minWidth));f=Math.max(c.top+d.top,Math.min(f,h-this._fitInfo.sizedBy.minHeight));this.sizingTarget.style.maxWidth=Math.max(g-b,this._fitInfo.sizedBy.minWidth)+"px";this.sizingTarget.style.maxHeight=Math.max(h-f,this._fitInfo.sizedBy.minHeight)+"px";this.style.left=b-a.left+"px";this.style.top=f-a.top+"px"}},
constrain:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px");a.positionedBy.horizontally||(this.style.position="fixed",this.style.left="0px");this.sizingTarget.style.boxSizing="border-box";var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,"top","bottom","Height");a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,"left","right",
"Width")}},
_sizeDimension:function(a,b,c,d,f){this.__sizeDimension(a,b,c,d,f)},
__sizeDimension:function(a,b,c,d,f){var g=this._fitInfo,h=this.__getNormalizedRect(this.fitInto);h="Width"===f?h.width:h.height;b=b===d;var k="offset"+f;this.sizingTarget.style["max"+f]=h-g.margin[b?c:d]-(b?h-a[d]:a[c])-(this[k]-this.sizingTarget[k])+"px"},
center:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!a.vertically||!a.horizontally){this.style.position="fixed";a.vertically||(this.style.top="0px");a.horizontally||(this.style.left="0px");var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);a.vertically||(this.style.top=c.top-b.top+(c.height-b.height)/2+"px");a.horizontally||(this.style.left=c.left-b.left+(c.width-b.width)/2+"px")}}},
__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},
__getOffscreenArea:function(a,b,c){return Math.abs(Math.min(0,a.top)+Math.min(0,c.bottom-(a.top+b.height)))*b.width+Math.abs(Math.min(0,a.left)+Math.min(0,c.right-(a.left+b.width)))*b.height},
__getPosition:function(a,b,c,d,f,g){var h=[{verticalAlign:"top",horizontalAlign:"left",top:f.top+this.verticalOffset,left:f.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:f.top+this.verticalOffset,left:f.right-c.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:f.bottom-c.height-this.verticalOffset,left:f.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:f.bottom-c.height-this.verticalOffset,left:f.right-c.width-
this.horizontalOffset}];if(this.noOverlap){for(var k=0,l=h.length;k<l;k++){var m={},q;for(q in h[k])m[q]=h[k][q];h.push(m)}h[0].top=h[1].top+=f.height;h[2].top=h[3].top-=f.height;h[4].left=h[6].left+=f.width;h[5].left=h[7].left-=f.width}b="auto"===b?null:b;a="auto"===a?null:a;a&&"center"!==a||(h.push({verticalAlign:"top",horizontalAlign:"center",top:f.top+this.verticalOffset+(this.noOverlap?f.height:0),left:f.left-d.width/2+f.width/2+this.horizontalOffset}),h.push({verticalAlign:"bottom",horizontalAlign:"center",
top:f.bottom-c.height-this.verticalOffset-(this.noOverlap?f.height:0),left:f.left-d.width/2+f.width/2+this.horizontalOffset}));b&&"middle"!==b||(h.push({verticalAlign:"middle",horizontalAlign:"left",top:f.top-d.height/2+f.height/2+this.verticalOffset,left:f.left+this.horizontalOffset+(this.noOverlap?f.width:0)}),h.push({verticalAlign:"middle",horizontalAlign:"right",top:f.top-d.height/2+f.height/2+this.verticalOffset,left:f.right-c.width-this.horizontalOffset-(this.noOverlap?f.width:0)}));"middle"===
b&&"center"===a&&h.push({verticalAlign:"middle",horizontalAlign:"center",top:f.top-d.height/2+f.height/2+this.verticalOffset,left:f.left-d.width/2+f.width/2+this.horizontalOffset});for(k=0;k<h.length;k++){d=h[k];f=d.verticalAlign===b;l=d.horizontalAlign===a;if(!this.dynamicAlign&&!this.noOverlap&&f&&l){var t=d;break}m=(!b||f)&&(!a||l);if(this.dynamicAlign||m){d.offscreenArea=this.__getOffscreenArea(d,c,g);if(0===d.offscreenArea&&m){t=d;break}t=t||d;m=d.offscreenArea-t.offscreenArea;if(0>m||0===m&&
(f||l))t=d}}return t}};(function(){var a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(a){var b=[];return this._collectTabbableNodes(a,b)?this._sortByTabIndex(b):b},
isFocusable:function(a){return b.call(a,"input, select, textarea, button, object")?b.call(a,":not([disabled])"):b.call(a,"a[href], area[href], iframe, [tabindex], [contentEditable]")},
isTabbable:function(a){return this.isFocusable(a)&&b.call(a,':not([tabindex="-1"])')&&this._isVisible(a)},
_normalizedTabIndex:function(a){return this.isFocusable(a)?(a=a.getAttribute("tabindex")||0,Number(a)):-1},
_collectTabbableNodes:function(a,b){if(a.nodeType!==Node.ELEMENT_NODE||!this._isVisible(a))return!1;var c=this._normalizedTabIndex(a),d=0<c;0<=c&&b.push(a);a="content"===a.localName||"slot"===a.localName?Polymer.dom(a).getDistributedNodes():Polymer.dom(a.root||a).children;for(c=0;c<a.length;c++)d=this._collectTabbableNodes(a[c],b)||d;return d},
_isVisible:function(a){var b=a.style;return"hidden"!==b.visibility&&"none"!==b.display?(b=window.getComputedStyle(a),"hidden"!==b.visibility&&"none"!==b.display):!1},
_sortByTabIndex:function(a){var b=a.length;if(2>b)return a;var c=Math.ceil(b/2);b=this._sortByTabIndex(a.slice(0,c));a=this._sortByTabIndex(a.slice(c));return this._mergeSortByTabIndex(b,a)},
_mergeSortByTabIndex:function(a,b){for(var c=[];0<a.length&&0<b.length;)this._hasLowerTabOrder(a[0],b[0])?c.push(b.shift()):c.push(a.shift());return c.concat(a,b)},
_hasLowerTabOrder:function(a,b){a=Math.max(a.tabIndex,0);b=Math.max(b.tabIndex,0);return 0===a||0===b?b>a:a>b}}})();(function(){var a=0,b=0,c=null,d=[],f=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];Polymer.IronScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(a){var b=this.currentLockingElement;if(void 0===b)return!1;if(this._hasCachedLockedElement(a))return!0;if(this._hasCachedUnlockedElement(a))return!1;(b=!!b&&b!==a&&!this._composedTreeContains(b,a))?this._lockedElementCache.push(a):this._unlockedElementCache.push(a);
return b},
pushScrollLock:function(a){0<=this._lockingElements.indexOf(a)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(a),this._lockedElementCache=[],this._unlockedElementCache=[])},
removeScrollLock:function(a){a=this._lockingElements.indexOf(a);-1!==a&&(this._lockingElements.splice(a,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},
_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(a){return-1<this._lockedElementCache.indexOf(a)},
_hasCachedUnlockedElement:function(a){return-1<this._unlockedElementCache.indexOf(a)},
_composedTreeContains:function(a,b){var c,d;if(a.contains(b))return!0;a=Polymer.dom(a).querySelectorAll("content,slot");for(c=0;c<a.length;++c){var f=Polymer.dom(a[c]).getDistributedNodes();for(d=0;d<f.length;++d)if(f[d].nodeType===Node.ELEMENT_NODE&&this._composedTreeContains(f[d],b))return!0}return!1},
_scrollInteractionHandler:function(c){c.cancelable&&this._shouldPreventScrolling(c)&&c.preventDefault();c.targetTouches&&(c=c.targetTouches[0],a=c.pageX,b=c.pageY)},
_boundScrollHandler:void 0,_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var a=0,b=f.length;a<b;a++)document.addEventListener(f[a],this._boundScrollHandler,{capture:!0,passive:!1})},
_unlockScrollInteractions:function(){for(var a=0,b=f.length;a<b;a++)document.removeEventListener(f[a],this._boundScrollHandler,{capture:!0,passive:!1})},
_shouldPreventScrolling:function(a){var b=Polymer.dom(a).rootTarget;"touchmove"!==a.type&&c!==b&&(c=b,d=this._getScrollableNodes(Polymer.dom(a).path));if(!d.length)return!0;if("touchstart"===a.type)return!1;a=this._getScrollInfo(a);return!this._getScrollingNode(d,a.deltaX,a.deltaY)},
_getScrollableNodes:function(a){for(var b=[],c=a.indexOf(this.currentLockingElement),d=0;d<=c;d++)if(a[d].nodeType===Node.ELEMENT_NODE){var f=a[d],g=f.style;"scroll"!==g.overflow&&"auto"!==g.overflow&&(g=window.getComputedStyle(f));"scroll"!==g.overflow&&"auto"!==g.overflow||b.push(f)}return b},
_getScrollingNode:function(a,b,c){if(b||c)for(var d=Math.abs(c)>=Math.abs(b),f=0;f<a.length;f++){var g=a[f];if(d?0>c?0<g.scrollTop:g.scrollTop<g.scrollHeight-g.clientHeight:0>b?0<g.scrollLeft:g.scrollLeft<g.scrollWidth-g.clientWidth)return g}},
_getScrollInfo:function(c){var d={deltaX:c.deltaX,deltaY:c.deltaY};"deltaX"in c||("wheelDeltaX"in c&&"wheelDeltaY"in c?(d.deltaX=-c.wheelDeltaX,d.deltaY=-c.wheelDeltaY):"wheelDelta"in c?(d.deltaX=0,d.deltaY=-c.wheelDelta):"axis"in c?(d.deltaX=1===c.axis?c.detail:0,d.deltaY=2===c.axis?c.detail:0):c.targetTouches&&(c=c.targetTouches[0],d.deltaX=a-c.pageX,d.deltaY=b-c.pageY));return d}}})();(function(){var a=new Set;Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this);this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},
attached:function(){this._requestResizeNotifications()},
detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):(a.delete(this),window.removeEventListener("resize",this._boundNotifyResize));this._parentResizable=null},
notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(a){this.resizerShouldNotify(a)&&this._notifyDescendant(a)},this),this._fireResize())},
assignParentResizable:function(a){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this);(this._parentResizable=a)&&-1===a._interestedResizables.indexOf(this)&&(a._interestedResizables.push(this),a._subscribeIronResize(this))},
stopResizeNotificationsFor:function(a){var b=this._interestedResizables.indexOf(a);-1<b&&(this._interestedResizables.splice(b,1),this._unsubscribeIronResize(a))},
_subscribeIronResize:function(a){a.addEventListener("iron-resize",this._boundOnDescendantIronResize)},
_unsubscribeIronResize:function(a){a.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},
resizerShouldNotify:function(){return!0},
_onDescendantIronResize:function(a){this._notifyingDescendant?a.stopPropagation():Polymer.Settings.useShadow||this._fireResize()},
_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},
_onIronRequestResizeNotifications:function(a){var b=Polymer.dom(a).rootTarget;b!==this&&(b.assignParentResizable(this),this._notifyDescendant(b),a.stopPropagation())},
_parentResizableChanged:function(a){a&&window.removeEventListener("resize",this._boundNotifyResize)},
_notifyDescendant:function(a){this.isAttached&&(this._notifyingDescendant=!0,a.notifyResize(),this._notifyingDescendant=!1)},
_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var b=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function d(){document.removeEventListener("readystatechange",d);b()})}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach(function(a){a!==this&&a._findParent()},this):(a.forEach(function(a){a!==this&&a._findParent()},this),window.addEventListener("resize",this._boundNotifyResize),
this.notifyResize())},
_findParent:function(){this.assignParentResizable(null);this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0});this._parentResizable?a.delete(this):a.add(this)}}})();Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},
scrollAction:{type:String},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__shouldRemoveTabIndex=
this.__isAnimating=!1;this.__firstFocusableNode=this.__lastFocusableNode=null;this.__rafs={};this.__scrollTop=this.__scrollLeft=this.__restoreFocusNode=null;this.__onCaptureScroll=this.__onCaptureScroll.bind(this);this.__rootNodes=null;this._ensureSetup()},
attached:function(){this.opened&&this._openedChanged(this.opened);this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},
detached:function(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;for(var a in this.__rafs)null!==this.__rafs[a]&&cancelAnimationFrame(this.__rafs[a]);this.__rafs={};this._manager.removeOverlay(this);this.__isAnimating&&(this.opened?this._finishRenderOpened():(this._applyFocus(),this._finishRenderClosed()))},
toggle:function(){this._setCanceled(!1);this.opened=!this.opened},
open:function(){this._setCanceled(!1);this.opened=!0},
close:function(){this._setCanceled(!1);this.opened=!1},
cancel:function(a){this.fire("iron-overlay-canceled",a,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=!1)},
invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},
_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},
_openedChanged:function(a){a?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true");this.isAttached&&(this.__isAnimating=!0,this.__deraf("__openedChanged",this.__openedChanged))},
_canceledChanged:function(){this.closingReason=this.closingReason||{};this.closingReason.canceled=this.canceled},
_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1);this.opened&&this.isAttached&&this._manager.trackBackdrop()},
_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement;this._preparePositioning();this.refit();this._finishPositioning();this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},
_renderOpened:function(){this._finishRenderOpened()},
_renderClosed:function(){this._finishRenderClosed()},
_finishRenderOpened:function(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},
_finishRenderClosed:function(){this.style.display="none";this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},
_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},
_finishPositioning:function(){this.style.display="none";this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";this.style.display="";this.scrollTop=this.scrollTop},
_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{if(this.restoreFocusOnClose&&this.__restoreFocusNode){var a=this._manager.deepActiveElement;(a===document.body||Polymer.dom(this).deepContains(a))&&this.__restoreFocusNode.focus()}this.__restoreFocusNode=null;this._focusNode.blur();this._focusedChild=null}},
_onCaptureClick:function(a){this.noCancelOnOutsideClick||this.cancel(a)},
_onCaptureFocus:function(a){if(this.withBackdrop){var b=Polymer.dom(a).path;-1===b.indexOf(this)?(a.stopPropagation(),this._applyFocus()):this._focusedChild=b[0]}},
_onCaptureEsc:function(a){this.noCancelOnEscKey||this.cancel(a)},
_onCaptureTab:function(a){if(this.withBackdrop){this.__ensureFirstLastFocusables();var b=a.shiftKey,c=b?this.__firstFocusableNode:this.__lastFocusableNode;b=b?this.__lastFocusableNode:this.__firstFocusableNode;if(c===b)c=!0;else{var d=this._manager.deepActiveElement;c=d===c||d===this}c&&(a.preventDefault(),this._focusedChild=b,this._applyFocus())}},
_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__deraf("refit",this.refit)},
_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},
__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var a=this._focusableNodes;this.__firstFocusableNode=a[0];this.__lastFocusableNode=a[a.length-1]}},
__openedChanged:function(){this.opened?(this._prepareRenderOpened(),this._manager.addOverlay(this),this._applyFocus(),this._renderOpened()):(this._manager.removeOverlay(this),this._applyFocus(),this._renderClosed())},
__deraf:function(a,b){var c=this.__rafs;null!==c[a]&&cancelAnimationFrame(c[a]);c[a]=requestAnimationFrame(function(){c[a]=null;b.call(this)}.bind(this))},
__updateScrollObservers:function(a,b,c){a&&b&&this.__isValidScrollAction(c)?("lock"===c&&(this.__saveScrollPosition(),Polymer.IronScrollManager.pushScrollLock(this)),this.__addScrollListeners()):(Polymer.IronScrollManager.removeScrollLock(this),this.__removeScrollListeners())},
__addScrollListeners:function(){if(!this.__rootNodes){this.__rootNodes=[];if(Polymer.Settings.useShadow)for(var a=this;a;)a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&a.host&&this.__rootNodes.push(a),a=a.host||a.assignedSlot||a.parentNode;this.__rootNodes.push(document)}this.__rootNodes.forEach(function(a){a.addEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)},
__removeScrollListeners:function(){this.__rootNodes&&this.__rootNodes.forEach(function(a){a.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this);
this.isAttached||(this.__rootNodes=null)},
__isValidScrollAction:function(a){return"lock"===a||"refit"===a||"cancel"===a},
__onCaptureScroll:function(a){if(!(this.__isAnimating||0<=Polymer.dom(a).path.indexOf(this)))switch(this.scrollAction){case "lock":this.__restoreScrollPosition();break;case "refit":this.__deraf("refit",this.refit);break;case "cancel":this.cancel(a)}},
__saveScrollPosition:function(){document.scrollingElement?(this.__scrollTop=document.scrollingElement.scrollTop,this.__scrollLeft=document.scrollingElement.scrollLeft):(this.__scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this.__scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},
__restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this.__scrollTop,document.scrollingElement.scrollLeft=this.__scrollLeft):(document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop,document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft)}};
Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl];Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},
isNeonAnimation:!0,created:function(){document.body.animate||console.warn("No web animations detected. This element will not function without a web animations polyfill.")},
timingFromConfig:function(a){if(a.timing)for(var b in a.timing)this.animationTiming[b]=a.timing[b];return this.animationTiming},
setPrefixedProperty:function(a,b,c){for(var d={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[b],f,g=0;f=d[g];g++)a.style[f]=c;a.style[b]=c},
complete:function(){}};Polymer({is:"opaque-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{opacity:"1"},{opacity:"1"}],this.timingFromConfig(a));b.style.opacity="0";return this._effect},
complete:function(a){a.node.style.opacity=""}});Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},
_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},
_copyProperties:function(a,b){for(var c in b)a[c]=b[c]},
_cloneConfig:function(a){var b={isClone:!0};this._copyProperties(b,a);return b},
_getAnimationConfigRecursive:function(a,b,c){if(this.animationConfig)if(this.animationConfig.value&&"function"===typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else{var d=a?this.animationConfig[a]:this.animationConfig;Array.isArray(d)||(d=[d]);if(d)for(var f,g=0;f=d[g];g++)if(f.animatable)f.animatable._getAnimationConfigRecursive(f.type||a,b,c);else if(f.id){var h=b[f.id];
h?(h.isClone||(b[f.id]=this._cloneConfig(h),h=b[f.id]),this._copyProperties(h,f)):b[f.id]=f}else c.push(f)}},
getAnimationConfig:function(a){var b={},c=[];this._getAnimationConfigRecursive(a,b,c);for(var d in b)c.push(b[d]);return c}};Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(a){var b=[],c=[];if(0<a.length)for(var d,f=0;d=a[f];f++){var g=document.createElement(d.name);if(g.isNeonAnimation){var h=null;g.configure||(g.configure=function(){return null});
h=g.configure(d);c.push({result:h,config:d,neonAnimation:g})}else console.warn(this.is+":",d.name,"not found!")}for(a=0;a<c.length;a++){h=c[a].result;d=c[a].config;g=c[a].neonAnimation;try{"function"!=typeof h.cancel&&(h=document.timeline.play(h))}catch(k){h=null,console.warn("Couldnt play","(",d.name,").",k)}h&&b.push({neonAnimation:g,config:d,animation:h})}return b},
_shouldComplete:function(a){for(var b=!0,c=0;c<a.length;c++)if("finished"!=a[c].animation.playState){b=!1;break}return b},
_complete:function(a){for(var b=0;b<a.length;b++)a[b].neonAnimation.complete(a[b].config);for(b=0;b<a.length;b++)a[b].animation.cancel()},
playAnimation:function(a,b){var c=this.getAnimationConfig(a);if(c){this._active=this._active||{};this._active[a]&&(this._complete(this._active[a]),delete this._active[a]);var d=this._configureAnimations(c);if(0==d.length)this.fire("neon-animation-finish",b,{bubbles:!1});else for(this._active[a]=d,c=0;c<d.length;c++)d[c].animation.onfinish=function(){this._shouldComplete(d)&&(this._complete(d),delete this._active[a],this.fire("neon-animation-finish",b,{bubbles:!1}))}.bind(this)}},
cancelAnimation:function(){for(var a in this._active){var b=this._active[a],c;for(c in b)b[c].animation.cancel()}this._active={}}};
Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1},_boundOnCaptureScroll:{type:Function,
value:function(){return this._onCaptureScroll.bind(this)}}},
listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},get _focusTarget(){return this.focusTarget||this.containedElement},ready:function(){this._scrollLeft=this._scrollTop=0;this._refitOnScrollRAF=null},
attached:function(){this.sizingTarget&&this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},
detached:function(){this.cancelAnimation();document.removeEventListener("scroll",this._boundOnCaptureScroll);Polymer.IronDropdownScrollManager.removeScrollLock(this)},
_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),this._saveScrollPosition(),this.opened?(document.addEventListener("scroll",this._boundOnCaptureScroll),!this.allowOutsideScroll&&Polymer.IronDropdownScrollManager.pushScrollLock(this)):(document.removeEventListener("scroll",this._boundOnCaptureScroll),Polymer.IronDropdownScrollManager.removeScrollLock(this)),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments))},
_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},
_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("close")):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},
_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating");this.opened?this._finishRenderOpened():this._finishRenderClosed()},
_onCaptureScroll:function(){this.allowOutsideScroll?(this._refitOnScrollRAF&&window.cancelAnimationFrame(this._refitOnScrollRAF),this._refitOnScrollRAF=window.requestAnimationFrame(this.refit.bind(this))):this._restoreScrollPosition()},
_saveScrollPosition:function(){document.scrollingElement?(this._scrollTop=document.scrollingElement.scrollTop,this._scrollLeft=document.scrollingElement.scrollLeft):(this._scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},
_restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this._scrollTop,document.scrollingElement.scrollLeft=this._scrollLeft):(document.documentElement.scrollTop=this._scrollTop,document.documentElement.scrollLeft=this._scrollLeft,document.body.scrollTop=this._scrollTop,document.body.scrollLeft=this._scrollLeft)},
_updateAnimationConfig:function(){for(var a=this.containedElement,b=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),c=0;c<b.length;c++)b[c].node=a;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},
_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},
_applyFocus:function(){var a=this.focusTarget||this.containedElement;a&&this.opened&&!this.noAutoFocus?a.focus():Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}});Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(a){a=(a||"").split(":");this._iconName=a.pop();this._iconsetName=a.pop()||this._DEFAULT_ICONSET;this._updateIcon()},
_srcChanged:function(){this._updateIcon()},
_usesIconset:function(){return this.icon||!this.src},
_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&((this._iconset=this._meta.byKey(this._iconsetName))?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&this._iconset.removeIcon(this),this._img||
(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});Polymer({is:"iron-input",extends:"input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{observer:"_bindValueChanged",type:String},preventInvalidInput:{type:Boolean},allowedPattern:{type:String,observer:"_allowedPatternChanged"},useV2Api:{type:Boolean,value:!1},_previousValidInput:{type:String,value:""},_patternAlreadyChecked:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChangedV2(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},
registered:function(){this._canDispatchEventOnDisabled()||(this._origDispatchEvent=this.dispatchEvent,this.dispatchEvent=this._dispatchEventFirefoxIE)},
created:function(){Polymer.IronA11yAnnouncer.requestAvailability();if(this.useV2Api||this.hasAttribute("use-v2-api"))this._previousValidInput="",this._patternAlreadyChecked=!1},
attached:function(){this.useV2Api&&(this._observer={},this._observer.__interval=setTimeout(function(){this._initSlottedInput()}.bind(this),2),this._observer.flush=function(){if(this.inputElement)return!1;
window.clearTimeout(this._observer.__interval);this._initSlottedInput();return!0}.bind(this))},
detached:function(){this.useV2Api&&this._observer&&clearTimeout(this._observer)},
get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this;this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value);this.fire("iron-input-ready")},
_canDispatchEventOnDisabled:function(){var a=document.createElement("input"),b=!1;a.disabled=!0;a.addEventListener("feature-check-dispatch-event",function(){b=!0});
try{a.dispatchEvent(new Event("feature-check-dispatch-event"))}catch(c){}return b},
_dispatchEventFirefoxIE:function(a){var b=this.disabled;this.disabled=!1;a=this._origDispatchEvent(a);this.disabled=b;return a},
get _patternRegExp(){if(this.allowedPattern)var a=new RegExp(this.allowedPattern);else if(this.useV2Api)switch(this.inputElement.type){case "number":a=/[0-9.,e-]/}else switch(this.type){case "number":a=/[0-9.,e-]/}return a},ready:function(){this.useV2Api||(this.bindValue=this.value)},
_bindValueChangedV2:function(a,b){this.useV2Api&&b&&(void 0===a?b.value=null:a!==b.value&&(this.inputElement.value=a),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:a}))},
_bindValueChanged:function(){this.useV2Api||(this.value!==this.bindValue&&(this.value=this.bindValue||0===this.bindValue||!1===this.bindValue?this.bindValue:""),this.fire("bind-value-changed",{value:this.bindValue}))},
_allowedPatternChanged:function(){this.useV2Api||(this.preventInvalidInput=this.allowedPattern?!0:!1)},
_onInput:function(){if(this.useV2Api){if(this.allowedPattern&&!this._patternAlreadyChecked){var a=this._checkPatternValidity();a||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput)}this.bindValue=this._previousValidInput=this.inputElement.value}else this.preventInvalidInput&&!this._patternAlreadyChecked&&(a=this._checkPatternValidity(),a||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.value=
this._previousValidInput)),this._previousValidInput=this.bindValue=this.value;this._patternAlreadyChecked=!1},
_isPrintable:function(a){var b=19==a.keyCode||20==a.keyCode||45==a.keyCode||46==a.keyCode||144==a.keyCode||145==a.keyCode||32<a.keyCode&&41>a.keyCode||111<a.keyCode&&124>a.keyCode;return!(8==a.keyCode||9==a.keyCode||13==a.keyCode||27==a.keyCode)&&!(0==a.charCode&&b)},
_onKeypress:function(a){if(this.useV2Api){if(!this.allowedPattern&&"number"!==this.inputElement.type)return;var b=this._patternRegExp;if(!b||a.metaKey||a.ctrlKey||a.altKey)return;this._patternAlreadyChecked=!0;var c=String.fromCharCode(a.charCode)}else{if(!this.preventInvalidInput&&"number"!==this.type)return;b=this._patternRegExp;if(!b||a.metaKey||a.ctrlKey||a.altKey)return;this._patternAlreadyChecked=!0;c=String.fromCharCode(a.charCode)}this._isPrintable(a)&&!b.test(c)&&(a.preventDefault(),this._announceInvalidCharacter("Invalid character "+
c+" not entered."))},
_checkPatternValidity:function(){var a=this._patternRegExp;if(!a)return!0;if(this.useV2Api)for(var b=0;b<this.inputElement.value.length;b++){if(!a.test(this.inputElement.value[b]))return!1}else for(b=0;b<this.value.length;b++)if(!a.test(this.value[b]))return!1;return!0},
validate:function(){if(this.useV2Api){if(!this.inputElement)return this.invalid=!1,!0;var a=this.inputElement.checkValidity();a&&(this.required&&""===this.bindValue?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue)))}else(a=this.checkValidity())&&(this.required&&""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},
_announceInvalidCharacter:function(a){this.fire("iron-announce",{text:a})}});Polymer({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},
_mq:{value:null}},attached:function(){this.style.display="none";this.queryChanged()},
detached:function(){this._remove()},
_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},
_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler);this._mq=null},
queryChanged:function(){this._remove();var a=this.query;a&&(this.full||"("===a[0]||(a="("+a+")"),this._mq=window.matchMedia(a),this._add(),this.queryHandler(this._mq))},
queryHandler:function(a){this._setQueryMatches(a.matches)}});Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(a){this.focusedItem.click();a.detail.keyboardEvent.preventDefault()},
_onDownKey:function(a){this.focusedItem.click();a.detail.keyboardEvent.preventDefault()},
get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(a){this._isRTL?this._focusNext():this._focusPrevious();a.detail.keyboardEvent.preventDefault()},
_onRightKey:function(a){this._isRTL?this._focusPrevious():this._focusNext();a.detail.keyboardEvent.preventDefault()},
_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down left right esc")||this._focusWithKeyboardEvent(a)}};
Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];Polymer({is:"iron-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(){this.async(this.notifyResize)}});Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(a){return(this._clampValue(a)-this.min)/(this.max-this.min)},
_clampValue:function(a){return Math.min(this.max,Math.max(this.min,this._calcStep(a)))},
_calcStep:function(a){a=parseFloat(a);if(!this.step)return a;a=Math.round((a-this.min)/this.step);return 1>this.step?a/(1/this.step)+this.min:a*this.step+this.min},
_validateValue:function(){var a=this._clampValue(this.value);this.value=this.oldValue=isNaN(a)?this.oldValue:a;return this.value!==a},
_update:function(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(a))}});Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(a))}});(function(){function a(a){this.element=a;this.width=this.boundingRect.width;this.height=this.boundingRect.height;this.size=Math.max(this.width,this.height)}
function b(a){this.element=a;this.color=window.getComputedStyle(a).color;this.wave=document.createElement("div");this.waveContainer=document.createElement("div");this.wave.style.backgroundColor=this.color;this.wave.classList.add("wave");this.waveContainer.classList.add("wave-container");Polymer.dom(this.waveContainer).appendChild(this.wave);this.resetInteractionState()}
var c={distance:function(a,b,c,h){a-=c;b-=h;return Math.sqrt(a*a+b*b)},
now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};a.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(a,b){return Math.max(c.distance(a,b,0,0),c.distance(a,b,this.width,0),c.distance(a,b,0,this.height),c.distance(a,b,this.width,this.height))}};
b.MAX_RADIUS=300;b.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){if(!this.mouseDownStart)return 0;var a=c.now()-this.mouseDownStart;this.mouseUpStart&&(a-=this.mouseUpElapsed);return a},get mouseUpElapsed(){return this.mouseUpStart?c.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1E3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1E3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+
this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var a=1.1*Math.min(Math.sqrt(this.containerMetrics.width*this.containerMetrics.width+this.containerMetrics.height*this.containerMetrics.height),b.MAX_RADIUS)+5;return Math.abs(a*(1-Math.pow(80,-(this.mouseInteractionSeconds/(1.1-a/b.MAX_RADIUS*.2)))))},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*
this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){return Math.max(0,Math.min(.3*this.mouseUpElapsedSeconds,this.opacity))},get isOpacityFullyDecayed(){return.01>this.opacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,
this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.slideDistance=this.yEnd=this.xEnd=this.yStart=this.xStart=this.mouseUpStart=this.mouseDownStart=this.maxRadius=0;this.containerMetrics=new a(this.element)},
draw:function(){this.wave.style.opacity=this.opacity;var a=this.radius/(this.containerMetrics.size/2);var b=this.xNow-this.containerMetrics.width/2;var c=this.yNow-this.containerMetrics.height/2;this.waveContainer.style.webkitTransform="translate("+b+"px, "+c+"px)";this.waveContainer.style.transform="translate3d("+b+"px, "+c+"px, 0)";this.wave.style.webkitTransform="scale("+a+","+a+")";this.wave.style.transform="scale3d("+a+","+a+",1)"},
downAction:function(a){var b=this.containerMetrics.width/2,d=this.containerMetrics.height/2;this.resetInteractionState();this.mouseDownStart=c.now();this.center?(this.xStart=b,this.yStart=d,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=a?a.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=a?a.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2);this.recenters&&(this.xEnd=b,this.yEnd=d,this.slideDistance=
c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd));this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart);this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px";this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px";this.waveContainer.style.width=this.containerMetrics.size+"px";this.waveContainer.style.height=this.containerMetrics.size+"px"},
upAction:function(){this.isMouseDown&&(this.mouseUpStart=c.now())},
remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}};
Polymer({is:"paper-ripple",behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},
animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},
get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){var a=this.keyEventTarget=11==this.parentNode.nodeType?Polymer.dom(this).getOwnerRoot().host:this.parentNode;this.listen(a,"up","uiUpAction");this.listen(a,"down","uiDownAction")},
detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction");this.unlisten(this.keyEventTarget,"down","uiDownAction");this.keyEventTarget=null},
get shouldKeepAnimating(){for(var a=0;a<this.ripples.length;++a)if(!this.ripples[a].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null);this.async(function(){this.upAction()},1)},
uiDownAction:function(a){this.noink||this.downAction(a)},
downAction:function(a){this.holdDown&&0<this.ripples.length||(this.addRipple().downAction(a),this._animating||(this._animating=!0,this.animate()))},
uiUpAction:function(a){this.noink||this.upAction(a)},
upAction:function(a){this.holdDown||(this.ripples.forEach(function(b){b.upAction(a)}),this._animating=!0,this.animate())},
onAnimationComplete:function(){this._animating=!1;this.$.background.style.backgroundColor=null;this.fire("transitionend")},
addRipple:function(){var a=new b(this);Polymer.dom(this.$.waves).appendChild(a.waveContainer);this.$.background.style.backgroundColor=a.color;this.ripples.push(a);this._setAnimating(!0);return a},
removeRipple:function(a){var b=this.ripples.indexOf(a);0>b||(this.ripples.splice(b,1),a.remove(),this.ripples.length||this._setAnimating(!1))},
animate:function(){if(this._animating){var a;for(a=0;a<this.ripples.length;++a){var b=this.ripples[a];b.draw();this.$.background.style.opacity=b.outerOpacity;b.isOpacityFullyDecayed&&!b.isRestingAtMaxRadius&&this.removeRipple(b)}if(this.shouldKeepAnimating||0!==this.ripples.length)window.requestAnimationFrame(this._boundAnimate);else this.onAnimationComplete()}},
_onEnterKeydown:function(){this.uiDownAction();this.async(this.uiUpAction,1)},
_onSpaceKeydown:function(){this.uiDownAction()},
_onSpaceKeyup:function(){this.uiUpAction()},
_holdDownChanged:function(a,b){void 0!==b&&(a?this.downAction():this.upAction())}})})();Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},
_downHandler:function(a){Polymer.IronButtonStateImpl._downHandler.call(this,a);this.pressed&&this.ensureRipple(a)},
ensureRipple:function(a){if(!this.hasRipple()){this._ripple=this._createRipple();this._ripple.noink=this.noink;var b=this._rippleContainer||this.root;b&&Polymer.dom(b).appendChild(this._ripple);if(a){b=Polymer.dom(this._rippleContainer||this);var c=Polymer.dom(a).rootTarget;b.deepContains(c)&&this._ripple.uiDownAction(a)}}},
getRipple:function(){this.ensureRipple();return this._ripple},
hasRipple:function(){return!!this._ripple},
_createRipple:function(){return document.createElement("paper-ripple")},
_noinkChanged:function(a){this.hasRipple()&&(this._ripple.noink=a)}};Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3);this._setElevation(a)},
_computeKeyboardClass:function(a){this.toggleClass("keyboard-focus",a)},
_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a);this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},
_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a);this.hasRipple()&&this._ripple.uiUpAction()}};
Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.holdDown=a)},
_createRipple:function(){var a=Polymer.PaperRippleBehavior._createRipple();a.id="ink";a.setAttribute("center","");a.classList.add("circle");return a}};
Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},
_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);!this.disabled&&this.isAttached&&(this.checked=this.active)}};
Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var a=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),b="px",c=a.match(/[A-Za-z]+$/);null!==c&&(b=c[0]);a=parseFloat(a);
c=8/3*a;"px"===b&&(c=Math.floor(c),c%2!==a%2&&c++);this.updateStyles({"--paper-checkbox-ink-size":c+b})}})},
_computeCheckboxClass:function(a,b){var c="";a&&(c+="checked ");b&&(c+="invalid");return c},
_computeCheckmarkClass:function(a){return a?"":"hidden"},
_createRipple:function(){this._rippleContainer=this.$.checkboxContainer;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1}},observers:["_modalChanged(modal, _readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop},
_modalChanged:function(a,b){b&&(a?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.withBackdrop=this.noCancelOnEscKey=this.noCancelOnOutsideClick=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},
_updateClosingReasonConfirmed:function(a){this.closingReason=this.closingReason||{};this.closingReason.confirmed=a},
_onDialogClick:function(a){for(var b=Polymer.dom(a).path,c=0;c<b.indexOf(this);c++){var d=b[c];if(d.hasAttribute&&(d.hasAttribute("dialog-dismiss")||d.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(d.hasAttribute("dialog-confirm"));this.close();a.stopPropagation();break}}}};
Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl];Polymer({is:"paper-dialog-scrollable",properties:{dialogElement:{type:Object}},get scrollTarget(){return this.$.scrollable},ready:function(){this._ensureTarget();this.classList.add("no-padding")},
attached:function(){this._ensureTarget();requestAnimationFrame(this.updateScrollState.bind(this))},
updateScrollState:function(){this.toggleClass("is-scrolled",0<this.scrollTarget.scrollTop);this.toggleClass("can-scroll",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight);this.toggleClass("scrolled-to-bottom",this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},
_ensureTarget:function(){(this.dialogElement=this.dialogElement||this.parentElement)&&this.dialogElement.behaviors&&0<=this.dialogElement.behaviors.indexOf(Polymer.PaperDialogBehaviorImpl)?(this.dialogElement.sizingTarget=this.scrollTarget,this.scrollTarget.classList.remove("fit")):this.dialogElement&&this.scrollTarget.classList.add("fit")}});Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation();this.playAnimation("entry")},
_renderClosed:function(){this.cancelAnimation();this.playAnimation("exit")},
_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}});Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;Polymer.PaperInputHelper.NextInputID=1;
Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},
validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},
_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){this.__setAutomaticNodeFindingId();return this.$.input},get _focusableElement(){return this.inputElement},registered:function(){this._typesThatHaveText="date datetime datetime-local month time week file".split(" ")},
ready:function(){this.__setAutomaticNodeFindingId()},
attached:function(){this._updateAriaLabelledBy();this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},
_appendStringWithSpace:function(a,b){return a?a+" "+b:b},
_onAddonAttached:function(a){a=a.path?a.path[0]:a.target;if(a.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,a.id);else{var b="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;a.id=b;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,b)}},
validate:function(){return this.inputElement.validate()},
_focusBlurHandler:function(a){Polymer.IronControlState._focusBlurHandler.call(this,a);this.focused&&!this._shiftTabPressed&&this._focusableElement.focus()},
_onShiftTabDown:function(){var a=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);this._shiftTabPressed=!1},1)},
_handleAutoValidate:function(){this.autoValidate&&this.validate()},
updateValueAndPreserveCaret:function(a){try{var b=this.inputElement.selectionStart;this.value=a;this.inputElement.selectionStart=b;this.inputElement.selectionEnd=b}catch(c){this.value=a}},
_computeAlwaysFloatLabel:function(a,b){return b||a},
_updateAriaLabelledBy:function(){var a=Polymer.dom(this.root).querySelector("label");if(a){if(a.id)var b=a.id;else b="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++,a.id=b;this._ariaLabelledBy=b}else this._ariaLabelledBy=""},
_onChange:function(a){this.shadowRoot&&this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})},
_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var a=document.activeElement;a instanceof HTMLElement&&a!==document.body&&a!==document.documentElement||this._focusableElement.focus()}},
_generateInputId:function(){this._inputId&&""!==this._inputId||(this._inputId="input-"+Polymer.PaperInputHelper.NextInputID++)},
__setAutomaticNodeFindingId:function(){this.$||(this.$={});this.$.input||(this._generateInputId(),this.$.input=this.$$("#"+this._inputId))}};
Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];Polymer.PaperInputAddonBehavior={hostAttributes:{"add-on":""},attached:function(){this.fire("addon-attached")},
update:function(){}};Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function(a){if(a.inputElement){a.value=a.value||"";var b=a.value.toString().length.toString();a.inputElement.hasAttribute("maxlength")&&(b+="/"+a.inputElement.getAttribute("maxlength"));this._charCounterStr=b}}});Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},useV2Underline:{type:Boolean,value:!1},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,
value:function(){return this._onFocus.bind(this)}},
_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},
_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},
_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},
listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this._addons||(this._addons=[]);this.addEventListener("focus",this._boundOnFocus,
!0);this.addEventListener("blur",this._boundOnBlur,!0)},
attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput);""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},
_onAddonAttached:function(a){this._addons||(this._addons=[]);a=a.target;-1===this._addons.indexOf(a)&&(this._addons.push(a),this.isAttached&&this._handleValue(this._inputElement))},
_onFocus:function(){this._setFocused(!0)},
_onBlur:function(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)},
_onInput:function(a){this._handleValueAndAutoValidate(a.target)},
_onValueChanged:function(a){this._handleValueAndAutoValidate(a.target)},
_handleValue:function(a){var b=this._inputElementValue;b||0===b||"number"===a.type&&!a.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1;this.updateAddons({inputElement:a,value:b,invalid:this.invalid})},
_handleValueAndAutoValidate:function(a){this.autoValidate&&(this.invalid=!(a.validate?a.validate(this._inputElementValue):a.checkValidity()));this._handleValue(a)},
_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},
_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},
updateAddons:function(a){for(var b,c=0;b=this._addons[c];c++)b.update(a)},
_computeInputContentClass:function(a,b,c,d,f){var g="input-content";a?f&&(g+=" label-is-hidden"):(a=this.querySelector("label"),b||f?(g+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",d?g+=" is-invalid":c&&(g+=" label-is-highlighted")):a&&(this.$.labelAndInputContainer.style.position="relative"));c&&(g+=" focused");return g},
_computeUnderlineClass:function(a,b){var c="underline";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c},
_computeAddOnContentClass:function(a,b){var c="add-on-content";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c}});Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(a){this._setInvalid(a.invalid)}});Polymer({is:"paper-input",behaviors:[Polymer.IronFormElementBehavior,Polymer.PaperInputBehavior],properties:{useV2Underline:{type:Boolean,value:!1}}});Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;return this._effect=new KeyframeEffect(b,[{height:c/2+"px"},{height:c+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c/2+"px"},{width:c+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c+"px"},{width:c-c/20+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;this.setPrefixedProperty(b,"transformOrigin","0 0");return this._effect=new KeyframeEffect(b,[{height:c+"px",transform:"translateY(0)"},{height:c/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(a))}});var ay=function(){};
e=ay.prototype;e.registered=function(){};
e.addOwnKeyBinding=function(){};
e.removeOwnKeyBindings=function(){};
e.keyboardEventMatchesKeys=function(){};
e._collectKeyBindings=function(){};
e._prepKeyBindings=function(){};
e._addKeyBinding=function(){};
e._resetKeyEventListeners=function(){};
e._listenKeyEventListeners=function(){};
e._unlistenKeyEventListeners=function(){};
e._onKeyBindingEvent=function(){};
e._triggerKeyHandler=function(){};
e._focusBlurHandler=function(a){if(Polymer.Element)this._setFocused("focus"===a.type);else if(a.target===this)this._setFocused("focus"===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}};
e._changedControlState=function(){this._controlStateChanged&&this._controlStateChanged()};
e._setFocused=function(){};
(function(){var a={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};ay=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,
value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:a.ANIMATION_CUBIC_BEZIER}}]}},
closeAnimationConfig:{type:Object,value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},
allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},toggle:function(){this.opened?this.close():this.open()},
open:function(){this.disabled||this.$.dropdown.open()},
close:function(){this.$.dropdown.close()},
_onIronSelect:function(){this.ignoreSelect||this.close()},
_onIronActivate:function(){this.closeOnActivate&&this.close()},
_openedChanged:function(a,c){a?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=c&&this.fire("paper-dropdown-close")},
_disabledChanged:function(a){Polymer.IronControlState._disabledChanged.apply(this,arguments);a&&this.opened&&this.close()},
__onIronOverlayCanceled:function(a){var b=a.detail;Polymer.dom(b);var d=this.$.trigger;-1<Polymer.dom(b).path.indexOf(d)&&a.preventDefault()}});
Object.keys(a).forEach(function(b){ay[b]=a[b]});
Polymer.PaperMenuButton=ay})();Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0,readOnly:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,
value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0},useV2Underline:{type:Boolean,value:!1}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],
attached:function(){var a=this.contentElement;a&&a.selectedItem&&this._setSelectedItem(a.selectedItem)},
get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},open:function(){this.$.menuButton.open()},
close:function(){this.$.menuButton.close()},
_onIronSelect:function(a){this._setSelectedItem(a.detail.item)},
_onIronDeselect:function(){this._setSelectedItem(null)},
_onTap:function(a){Polymer.Gestures.findOriginalTarget(a)===this&&this.open()},
_selectedItemChanged:function(a){a=a?a.label||a.getAttribute("label")||a.textContent.trim():"";this._setValue(a);this._setSelectedItemLabel(a)},
_computeMenuVerticalOffset:function(a){return a?-4:8},
_getValidity:function(){return this.disabled||!this.required||this.required&&!!this.value},
_openedChanged:function(){var a=this.opened?"true":"false",b=this.contentElement;b&&b.setAttribute("aria-expanded",a)}});Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(a,b){var c=this.getAttribute("aria-label");c&&b!=c||this.setAttribute("aria-label",a)}});Polymer({is:"paper-textarea",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},value:{type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0},useV2Underline:{type:Boolean,value:!1}},_ariaLabelledByChanged:function(a){this._focusableElement.setAttribute("aria-labelledby",a)},
_ariaDescribedByChanged:function(a){this._focusableElement.setAttribute("aria-describedby",a)},
get _focusableElement(){return this.inputElement.textarea}});Polymer({is:"paper-item-body"});Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max, indeterminate)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(a){this.toggleClass("indeterminate",
a,this.$.primaryProgress)},
_transformProgress:function(a,b){a.style.transform=a.style.webkitTransform="scaleX("+b/100+")"},
_mainRatioChanged:function(a){this._transformProgress(this.$.primaryProgress,a)},
_progressChanged:function(a,b,c,d,f){a=this._clampValue(a);b=this._clampValue(b);var g=100*this._calcRatio(a),h=100*this._calcRatio(b);this._setSecondaryRatio(g);this._transformProgress(this.$.secondaryProgress,g);this._transformProgress(this.$.primaryProgress,h);this.secondaryProgress=a;f?this.removeAttribute("aria-valuenow"):this.setAttribute("aria-valuenow",b);this.setAttribute("aria-valuemin",c);this.setAttribute("aria-valuemax",d)},
_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false")},
_hideSecondaryProgress:function(a){return 0===a}});Polymer({is:"paper-radio-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"radio","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},ready:function(){this._rippleContainer=this.$.radioContainer},
attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-radio-button-ink-size").trim()){var a=parseFloat(this.getComputedStyleValue("--calculated-paper-radio-button-size").trim()),b=Math.floor(3*a);b%2!==a%2&&b++;this.updateStyles({"--paper-radio-button-ink-size":b+"px"})}})}});Polymer({is:"paper-radio-group",behaviors:[Polymer.IronMenubarBehavior],hostAttributes:{role:"radiogroup"},properties:{attrForSelected:{type:String,value:"name"},selectedAttribute:{type:String,value:"checked"},selectable:{type:String,value:"paper-radio-button"},allowEmptySelection:{type:Boolean,value:!1}},select:function(a){var b=this._valueToItem(a);if(!b||!b.hasAttribute("disabled")){if(this.selected){b=this._valueToItem(this.selected);if(this.selected==a)if(this.allowEmptySelection)a="";else{b&&
(b.checked=!0);return}b&&(b.checked=!1)}Polymer.IronSelectableBehavior.select.apply(this,[a]);this.fire("paper-radio-group-changed")}},
_activateFocusedItem:function(){this._itemActivate(this._valueForItem(this.focusedItem),this.focusedItem)},
_onUpKey:function(a){this._focusPrevious();a.preventDefault();this._activateFocusedItem()},
_onDownKey:function(a){this._focusNext();a.preventDefault();this._activateFocusedItem()},
_onLeftKey:function(a){Polymer.IronMenubarBehaviorImpl._onLeftKey.apply(this,arguments);this._activateFocusedItem()},
_onRightKey:function(a){Polymer.IronMenubarBehaviorImpl._onRightKey.apply(this,arguments);this._activateFocusedItem()}});Polymer({is:"paper-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{value:{type:Number,value:0},snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,
value:!1,readOnly:!0},ignoreBarTouch:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:function(){return[]}}},
observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{left:"_leftKey",right:"_rightKey","down pagedown home":"_decrementKey","up pageup end":"_incrementKey"},ready:function(){this.ignoreBarTouch&&Polymer.Gestures.setTouchAction(this.$.sliderBar,"auto")},
increment:function(){this.value=this._clampValue(this.value+this.step)},
decrement:function(){this.value=this._clampValue(this.value-this.step)},
_updateKnob:function(a,b,c){this.setAttribute("aria-valuemin",b);this.setAttribute("aria-valuemax",c);this.setAttribute("aria-valuenow",a);this._positionKnob(100*this._calcRatio(a))},
_valueChanged:function(){this.fire("value-change",{composed:!0})},
_immediateValueChanged:function(){this.dragging?this.fire("immediate-value-change",{composed:!0}):this.value=this.immediateValue},
_secondaryProgressChanged:function(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},
_expandKnob:function(){this._setExpand(!0)},
_resetKnob:function(){this.cancelDebouncer("expandKnob");this._setExpand(!1)},
_positionKnob:function(a){this._setImmediateValue(this._calcStep(this._calcKnobPosition(a)));this._setRatio(100*this._calcRatio(this.immediateValue));this.$.sliderKnob.style.left=this.ratio+"%";this.dragging&&(this._knobstartx=this.ratio*this._w/100,this.translate3d(0,0,0,this.$.sliderKnob))},
_calcKnobPosition:function(a){return(this.max-this.min)*a/100+this.min},
_onTrack:function(a){a.stopPropagation();switch(a.detail.state){case "start":this._trackStart(a);break;case "track":this._trackX(a);break;case "end":this._trackEnd()}},
_trackStart:function(){this._setTransiting(!1);this._w=this.$.sliderBar.offsetWidth;this._knobstartx=this._startx=this._x=this.ratio*this._w/100;this._minx=-this._startx;this._maxx=this._w-this._startx;this.$.sliderKnob.classList.add("dragging");this._setDragging(!0)},
_trackX:function(a){this.dragging||this._trackStart(a);this._x=this._startx+Math.min(this._maxx,Math.max(this._minx,a.detail.dx*(this._isRTL?-1:1)));this._setImmediateValue(this._calcStep(this._calcKnobPosition(this._x/this._w*100)));this.translate3d(this._calcRatio(this.immediateValue)*this._w-this._knobstartx+"px",0,0,this.$.sliderKnob)},
_trackEnd:function(){var a=this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging");this._setDragging(!1);this._resetKnob();this.value=this.immediateValue;a.transform=a.webkitTransform="";this.fire("change",{composed:!0})},
_knobdown:function(a){this._expandKnob();a.preventDefault();this.focus()},
_bartrack:function(a){this._allowBarEvent(a)&&this._onTrack(a)},
_barclick:function(a){this._w=this.$.sliderBar.offsetWidth;var b=this.$.sliderBar.getBoundingClientRect();b=(a.detail.x-b.left)/this._w*100;this._isRTL&&(b=100-b);var c=this.ratio;this._setTransiting(!0);this._positionKnob(b);c===this.ratio&&this._setTransiting(!1);this.async(function(){this.fire("change",{composed:!0})});
a.preventDefault();this.focus()},
_bardown:function(a){this._allowBarEvent(a)&&(this.debounce("expandKnob",this._expandKnob,60),this._barclick(a))},
_knobTransitionEnd:function(a){a.target===this.$.sliderKnob&&this._setTransiting(!1)},
_updateMarkers:function(a,b,c,d){d||this._setMarkers([]);b=Math.round((c-b)/this.step);b>a&&(b=a);if(0>b||!isFinite(b))b=0;this._setMarkers(Array(b))},
_mergeClasses:function(a){return Object.keys(a).filter(function(b){return a[b]}).join(" ")},
_getClassNames:function(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},
_allowBarEvent:function(a){return!this.ignoreBarTouch||a.detail.sourceEvent instanceof MouseEvent},
get _isRTL(){void 0===this.__isRTL&&(this.__isRTL="rtl"===window.getComputedStyle(this).direction);return this.__isRTL},_leftKey:function(a){this._isRTL?this._incrementKey(a):this._decrementKey(a)},
_rightKey:function(a){this._isRTL?this._decrementKey(a):this._incrementKey(a)},
_incrementKey:function(a){this.disabled||("end"===a.detail.key?this.value=this.max:this.increment(),this.fire("change"),a.preventDefault())},
_decrementKey:function(a){this.disabled||("home"===a.detail.key?this.value=this.min:this.decrement(),this.fire("change"),a.preventDefault())},
_changeValue:function(a){this.value=a.target.value;this.fire("change",{composed:!0})},
_inputKeyDown:function(a){a.stopPropagation()},
_createRipple:function(){this._rippleContainer=this.$.sliderKnob;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},
_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.style.display=a?"":"none",this._ripple.holdDown=a)}});Polymer.PaperSpinnerBehavior={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__activeChanged"},alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(a,b){return[a||b?"active":"",b?"cooldown":""].join(" ")},
__activeChanged:function(a,b){this.__setAriaHidden(!a);this.__coolingDown=!a&&b},
__altChanged:function(a){"loading"===a?this.alt=this.getAttribute("aria-label")||a:(this.__setAriaHidden(""===a),this.setAttribute("aria-label",a))},
__setAriaHidden:function(a){a?this.setAttribute("aria-hidden","true"):this.removeAttribute("aria-hidden")},
__reset:function(){this.__coolingDown=this.active=!1}};Polymer({is:"paper-spinner",behaviors:[Polymer.PaperSpinnerBehavior]});Polymer({is:"paper-spinner-lite",behaviors:[Polymer.PaperSpinnerBehavior]});Polymer({is:"paper-tab",behaviors:[Polymer.IronControlState,Polymer.IronButtonState,Polymer.PaperRippleBehavior],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},
get _parentNoink(){var a=Polymer.dom(this).parentNode;return!!a&&!!a.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},
_onTap:function(a){if(this.link){var b=this.queryEffectiveChildren("a");b&&a.target!==b&&b.click()}}});Polymer({is:"paper-tabs",behaviors:[Polymer.IronResizableBehavior,Polymer.IronMenubarBehavior],properties:{noink:{type:Boolean,value:!1,observer:"_noinkChanged"},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,
value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null;this._pendingActivationTimeout=this._pendingActivationItem=
void 0;this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this);this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},
ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},
detached:function(){this._cancelPendingActivation()},
_noinkChanged:function(a){Polymer.dom(this).querySelectorAll("paper-tab").forEach(a?this._setNoinkAttribute:this._removeNoinkAttribute)},
_setNoinkAttribute:function(a){a.setAttribute("noink","")},
_removeNoinkAttribute:function(a){a.removeAttribute("noink")},
_computeScrollButtonClass:function(a,b,c){return!b||c?"hidden":a?"not-visible":""},
_computeTabsContentClass:function(a,b){return a?"scrollable"+(b?" fit-container":""):" fit-container"},
_computeSelectionBarClass:function(a,b){return a?"hidden":b?"align-bottom":""},
_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",function(){this._scroll();this._tabChanged(this.selectedItem)},10)},
_onIronSelect:function(a){this._tabChanged(a.detail.item,this._previousTab);this._previousTab=a.detail.item;this.cancelDebouncer("tab-changed")},
_onIronDeselect:function(){this.debounce("tab-changed",function(){this._tabChanged(null,this._previousTab);this._previousTab=null},1)},
_activateHandler:function(){this._cancelPendingActivation();Polymer.IronMenuBehaviorImpl._activateHandler.apply(this,arguments)},
_scheduleActivation:function(a,b){this._pendingActivationItem=a;this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,b)},
_delayedActivationHandler:function(){var a=this._pendingActivationItem;this._pendingActivationTimeout=this._pendingActivationItem=void 0;a.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},
_cancelPendingActivation:function(){void 0!==this._pendingActivationTimeout&&(this.cancelAsync(this._pendingActivationTimeout),this._pendingActivationTimeout=this._pendingActivationItem=void 0)},
_onArrowKeyup:function(){this.autoselect&&this._scheduleActivation(this.focusedItem,this.autoselectDelay)},
_onBlurCapture:function(a){a.target===this._pendingActivationItem&&this._cancelPendingActivation()},
get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(a,b){this.scrollable&&this._affectScroll(b&&-b.ddx||0)},
_down:function(){this.async(function(){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null)},1)},
_affectScroll:function(a){this.$.tabsContainer.scrollLeft+=a;a=this.$.tabsContainer.scrollLeft;this._leftHidden=0===a;this._rightHidden=a===this._tabContainerScrollSize},
_onLeftScrollButtonDown:function(){this._scrollToLeft();this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},
_onRightScrollButtonDown:function(){this._scrollToRight();this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},
_onScrollButtonUp:function(){clearInterval(this._holdJob);this._holdJob=null},
_scrollToLeft:function(){this._affectScroll(-this._step)},
_scrollToRight:function(){this._affectScroll(this._step)},
_tabChanged:function(a,b){if(a){var c=this.$.tabsContent.getBoundingClientRect(),d=c.width,f=a.getBoundingClientRect();c=f.left-c.left;this._pos={width:this._calcPercent(f.width,d),left:this._calcPercent(c,d)};if(this.noSlide||null==b)this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),this._positionBar(this._pos.width,this._pos.left);else{var g=b.getBoundingClientRect();b=this.items.indexOf(b);a=this.items.indexOf(a);this.$.selectionBar.classList.add("expand");
a=b<a;this._isRTL&&(a=!a);a?this._positionBar(this._calcPercent(f.left+f.width-g.left,d)-5,this._left):this._positionBar(this._calcPercent(g.left+g.width-f.left,d)-5,this._calcPercent(c,d)+5);this.scrollable&&this._scrollToSelectedIfNeeded(f.width,c)}}else this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),this._positionBar(0,0)},
_scrollToSelectedIfNeeded:function(a,b){b-=this.$.tabsContainer.scrollLeft;0>b?this.$.tabsContainer.scrollLeft+=b:(b+=a-this.$.tabsContainer.offsetWidth,0<b&&(this.$.tabsContainer.scrollLeft+=b))},
_calcPercent:function(a,b){return 100*a/b},
_positionBar:function(a,b){a=a||0;b=b||0;this._width=a;this._left=b;this.transform("translateX("+b+"%) scaleX("+a/100+")",this.$.selectionBar)},
_onBarTransitionEnd:function(){var a=this.$.selectionBar.classList;a.contains("expand")?(a.remove("expand"),a.add("contract"),this._positionBar(this._pos.width,this._pos.left)):a.contains("contract")&&a.remove("contract")}});Polymer({is:"paper-tooltip",hostAttributes:{role:"tooltip",tabindex:-1},behaviors:[Polymer.NeonAnimationRunnerBehavior],properties:{for:{type:String,observer:"_findTarget"},manualMode:{type:Boolean,value:!1,observer:"_manualModeChanged"},position:{type:String,value:"bottom"},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500},animationConfig:{type:Object,value:function(){return{entry:[{name:"fade-in-animation",
node:this,timing:{delay:0}}],exit:[{name:"fade-out-animation",node:this}]}}},
_showing:{type:Boolean,value:!1}},listeners:{"neon-animation-finish":"_onAnimationFinish"},get target(){var a=Polymer.dom(this).parentNode,b=Polymer.dom(this).getOwnerRoot();return this.for?Polymer.dom(b).querySelector("#"+this.for):a.nodeType==Node.DOCUMENT_FRAGMENT_NODE?b.host:a},attached:function(){this._findTarget()},
detached:function(){this.manualMode||this._removeListeners()},
show:function(){if(!this._showing){if(""===Polymer.dom(this).textContent.trim()){for(var a=!0,b=Polymer.dom(this).getEffectiveChildNodes(),c=0;c<b.length;c++)if(""!==b[c].textContent.trim()){a=!1;break}if(a)return}this.cancelAnimation();this._showing=!0;this.toggleClass("hidden",!1,this.$.tooltip);this.updatePosition();this.animationConfig.entry[0].timing=this.animationConfig.entry[0].timing||{};this.animationConfig.entry[0].timing.delay=this.animationDelay;this._animationPlaying=!0;this.playAnimation("entry")}},
hide:function(){this._showing&&(this._animationPlaying?(this.cancelAnimation(),this._showing=!1,this._onAnimationFinish()):(this._showing=!1,this._animationPlaying=!0,this.playAnimation("exit")))},
updatePosition:function(){if(this._target&&this.offsetParent){var a=this.offset;14!=this.marginTop&&14==this.offset&&(a=this.marginTop);var b=this.offsetParent.getBoundingClientRect(),c=this._target.getBoundingClientRect(),d=this.getBoundingClientRect(),f=(c.width-d.width)/2,g=(c.height-d.height)/2,h=c.left-b.left,k=c.top-b.top;switch(this.position){case "top":var l=h+f;var m=k-d.height-a;break;case "bottom":l=h+f;m=k+c.height+a;break;case "left":l=h-d.width-a;m=k+g;break;case "right":l=h+c.width+
a,m=k+g}this.fitToVisibleBounds?(b.left+l+d.width>window.innerWidth?(this.style.right="0px",this.style.left="auto"):(this.style.left=Math.max(0,l)+"px",this.style.right="auto"),b.top+m+d.height>window.innerHeight?(this.style.bottom=b.height+"px",this.style.top="auto"):(this.style.top=Math.max(-b.top,m)+"px",this.style.bottom="auto")):(this.style.left=l+"px",this.style.top=m+"px")}},
_addListeners:function(){this._target&&(this.listen(this._target,"mouseenter","show"),this.listen(this._target,"focus","show"),this.listen(this._target,"mouseleave","hide"),this.listen(this._target,"blur","hide"),this.listen(this._target,"tap","hide"));this.listen(this,"mouseenter","hide")},
_findTarget:function(){this.manualMode||this._removeListeners();this._target=this.target;this.manualMode||this._addListeners()},
_manualModeChanged:function(){this.manualMode?this._removeListeners():this._addListeners()},
_onAnimationFinish:function(){this._animationPlaying=!1;this._showing||this.toggleClass("hidden",!0,this.$.tooltip)},
_removeListeners:function(){this._target&&(this.unlisten(this._target,"mouseenter","show"),this.unlisten(this._target,"focus","show"),this.unlisten(this._target,"mouseleave","hide"),this.unlisten(this._target,"blur","hide"),this.unlisten(this._target,"tap","hide"));this.unlisten(this,"mouseenter","hide")}});var by=function(a){this.wrappedPromise_=void 0===a?null:a;this.state_=0;this.value_=null};
e=by.prototype;e.then=function(a,b,c){return this.wrappedPromise_?this.wrappedPromise_.then(a,b,c):1===this.state_&&a?(a=a.call(c,this.value_),Cf(a)||(b=new by,b.fulfillWith_(void 0===a?null:a),a=b),a):2===this.state_&&b?(a=b.call(c,this.value_),Cf(a)||(b=new by,b.rejectWith_(void 0===a?null:a),a=b),a):this};
e.getValue=function(){return this.value_};
e.isRejected=function(){return 2==this.state_};
e.rejectWith_=function(a){this.state_=2;this.value_=void 0===a?null:a};
e.fulfillWith_=function(a){this.state_=1;this.value_=void 0===a?null:a};
Bf(by);function cy(a){var b=a.deltaY,c=a.target,d=null;if(window.Polymer&&window.Polymer.Element){c=a.path||a.composedPath&&a.composedPath();c=n(c);for(var f=c.next();!f.done&&(f=f.value,!dy(f,b));f=c.next())if(f.overscrollConfig){d=f;break}}else for(;c&&!dy(c,b);){if(c.overscrollConfig){d=c;break}c=c.parentElement}d&&(b=d.overscrollConfig,b.cooldown?(d=a.deltaY,c=b.lastDeltaY||0,b.lastDeltaY=d,f=b.lastStopped||0,c&&f&&0<c==0<d?Math.abs(c)>=Math.abs(d)?(d=f+1200,c=!1):(d=f+600,c=!0):(d=A()+600,c=!0),d>A()&&
(a.preventDefault(),c&&(b.lastStopped=A()))):a.preventDefault())}
function dy(a,b){return 0>b&&0<a.scrollTop||0<b&&a.scrollTop<a.scrollHeight-a.clientHeight-1?(a=getComputedStyle(a).overflowY,"auto"==a||"scroll"==a):!1}
;function ey(a,b,c){b=void 0===b?{}:b;Ja(b)&&(b={callback:b});c||b._c&&b._c.jsl&&b._c.jsl.h||E.extend(b,{_c:{jsl:{h:K("GAPI_HINT_PARAMS",void 0)}}});(b.gapiHintOverride||K("GAPI_HINT_OVERRIDE"))&&(c=Wg(document.location.href).gapi_jsh)&&E.extend(b,{_c:{jsl:{h:c}}});Pw(a,b)}
;var fy=function(a,b,c){this.currentVersion_=Hs;this.invalidationTag_=c;this.invalidationCallback_=b;this.objectId_=a.useNewTango?yv.makePublic(a.objectId):yv.makeLegacy(a.objectSource,a.objectId);this.appAuthTokens_=this.tokenRefreshTimeoutId_=this.subscription_=this.tangoClientStoppable_=this.tangoClient_=null;var d=Nf();b=a.requiresAuthToken?d.promise.then(this.getAuthTokenPromise_.bind(this)):d.promise;this.initializationPromise_=b.then(this.initialize_.bind(this,a));b.thenCatch(this.handleInitializationFailure_.bind(this));
ey("auth",function(){d.resolve()})};
B(fy,wi);e=fy.prototype;e.onInvalidate_=function(a,b){if(!(a.name!=this.objectId_.name||a.legacySource!=this.objectId_.legacySource||b.version&&b.version.lessThanOrEqual(this.currentVersion_))){var c=b.payload;c=c?JSON.parse(c):void 0;this.invalidationCallback_(a.name,c);b.version&&(this.currentVersion_=b.version)}};
e.initialize_=function(a,b){var c=new Cu(a.channelUri,a.senderUri,a.clientName,a.sessionIndex,void 0,void 0,void 0,a.pageId);b&&this.setAppAuthToken_(b);a.useNewTango?(b=Yv.forProdEnv(a.clientName).withLegacyTangoChannel(c).withApiKey(a.apiKey),a.sessionIndex&&b.withAuthUser(a.sessionIndex),a.pageId&&b.withPageId(a.pageId)):b=Xv.create(c,a.clientType).withTangoClientName(this.invalidationTag_).withTangoApplicationName(a.clientName);this.appAuthTokens_&&b.withAppAuthTokens(this.appAuthTokens_);a=b.build();
this.tangoClient_=a instanceof Gv?new Hv(a):new Tv(new Cv(a.doormanUri,a.authMethod),a);this.tangoClientStoppable_=this.tangoClient_.start()};
e.handleInitializationFailure_=function(){};
e.getAuthTokenPromise_=function(){var a=this.getCachedAuthTokenData_();if(a)return Hf(a);var b=Nf();oh("/live_chat_push_config_ajax",{urlParams:{action_get_token:1},postParams:{topic:this.objectId_.name},onSuccess:function(a,d){b.resolve({token:d.token,token_lifetime_ms:d.token_lifetime_ms,expiration_time:A()+d.token_lifetime_ms})},
onError:function(a,d){b.reject(d)}});
return b.promise};
e.getCachedAuthTokenData_=function(){var a=K("LIVE_CHAT_TANGO_AUTH_TOKEN_DATA");return a&&a.expiration_time>A()?a:null};
e.setCachedAuthTokenData_=function(a){Hg("LIVE_CHAT_TANGO_AUTH_TOKEN_DATA",a)};
e.setAppAuthToken_=function(a){this.setCachedAuthTokenData_(a);this.appAuthTokens_?this.appAuthTokens_.next(a.token):this.appAuthTokens_=new mv(a.token);a=a.expiration_time-A();this.tokenRefreshTimeoutId_=Rg(function(){this.getAuthTokenPromise_().then(this.setAppAuthToken_.bind(this))}.bind(this),a)};
e.disposeInternal=function(){this.initializationPromise_.cancel();this.tokenRefreshTimeoutId_&&(Sg(this.tokenRefreshTimeoutId_),this.tokenRefreshTimeoutId_=null);this.subscription_&&this.subscription_.unsubscribe();this.tangoClientStoppable_&&this.tangoClientStoppable_.stop();fy.superClass_.disposeInternal.call(this)};
e.register=function(){this.initializationPromise_.then(function(){var a=this,b=this.objectId_;this.subscription_=this.tangoClient_.signalsFor(b).subscribe(function(c){return a.onInvalidate_(b,c)},function(){})},null,this)};
e.unregister=function(){this.initializationPromise_.then(function(){null!=this.subscription_&&(this.subscription_.unsubscribe(),this.subscription_=null)},null,this)};
e.setObjectId=function(a){this.unregister();this.objectId_=null==this.objectId_.legacySource?yv.makePublic(a):yv.makeLegacy(this.objectId_.legacySource,a);this.register()};
e.waitForInitialized=function(){return this.initializationPromise_};var gy=function(){};
gy.prototype.flush=function(a){a=void 0===a?[]:a;if(M("enable_client_streamz_web")){a=n(a);for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=new ux;c.setStreamzName(b.getMetricName());c.setFieldNameList(b.getFieldNames());for(var d=[],f=b.getFieldValues(),g=0;g<f.length;g++){var h=f[g];var k=b.getCellType();for(var l=b.getCells(h)||[],m=[],q=0;q<l.length;q++){var t=l[q];t=t&&t.getCellValue();var G=new Ex;switch(k){case 3:G.setInt64Val(Number(t));break;case 2:G.setDoubleVal(Number(t))}m.push(G)}k=
m;for(l=0;l<k.length;l++){q=k[l];m=new Ax;m.setIncBy(q);q=h;t=[];G=b.getFieldTypes();for(var ea=0;ea<G.length;ea++){var U=G[ea],P=q[ea],ia=new Cx;switch(U){case 3:ia.setStrVal(String(P));break;case 2:ia.setIntVal(Number(P));break;case 1:ia.setBoolVal("true"==P)}t.push(ia)}m.setFieldList(t);d.push(m)}}c.setIncList(d);b={serializedIncrementBatch:xc(c.serializeBinary(),!1)};Fk("streamzIncremented",b)}}};var hy=x("ytLoggingLatencyUsageStats_")||{};w("ytLoggingLatencyUsageStats_",hy,void 0);var iy=0;function jy(a,b){var c=Object.keys(a).join("");ky("info_"+c+"_"+b)||(a.clientActionNonce=b,Fk("latencyActionInfo",a))}
function ky(a){hy[a]=hy[a]||{count:0};var b=hy[a];b.count++;b.time=Fg();iy||(iy=N.addIdlePriorityJob(ly,5E3));return 10<b.count?(11==b.count&&(b=0==a.indexOf("info")?"WARNING":"ERROR",sh(Error("CSI data exceeded logging limit with key: "+a),b)),!0):!1}
function ly(){var a=Fg(),b;for(b in hy)6E4<a-hy[b].time&&delete hy[b];iy=0}
;function my(){var a=nk(),b=ok();b&&a&&gk(b,[a],!0)}
;var ny;function oy(){ny||(ny=new $x(new gy),ny.setFlushCount(Ng("client_streamz_web_flush_count")),ny.setFlushInterval(Ng("client_streamz_web_flush_interval_seconds")));return ny}
;function py(a,b){return a.left<b.left+b.width&&b.left<a.left+a.width&&a.top<b.top+b.height&&b.top<a.top+a.height}
;new Xj("yt.autonav");var qy=function(){};var ry=function(a,b){this.version=a;this.args=b};
ry.prototype.serialize=function(){return{version:this.version,args:this.args}};var sy=function(a,b){this.topic=a;this.dataClass=b};
sy.prototype.toString=function(){return this.topic};var ty=x("ytPubsub2Pubsub2Instance")||new Ei;Ei.prototype.subscribe=Ei.prototype.subscribe;Ei.prototype.unsubscribeByKey=Ei.prototype.unsubscribeByKey;Ei.prototype.publish=Ei.prototype.publish;Ei.prototype.clear=Ei.prototype.clear;w("ytPubsub2Pubsub2Instance",ty,void 0);w("ytPubsub2Pubsub2SubscribedKeys",x("ytPubsub2Pubsub2SubscribedKeys")||{},void 0);w("ytPubsub2Pubsub2TopicToKeys",x("ytPubsub2Pubsub2TopicToKeys")||{},void 0);w("ytPubsub2Pubsub2IsAsync",x("ytPubsub2Pubsub2IsAsync")||{},void 0);
w("ytPubsub2Pubsub2SkipSubKey",null,void 0);function uy(a,b){var c=x("ytPubsub2Pubsub2Instance");return c?c.publish.call(c,a.toString(),a,b):!1}
;var vy=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};function wy(){var a=K("TIMING_TICK_EXPIRATION");a||(a={},Hg("TIMING_TICK_EXPIRATION",a));return a}
function xy(){var a=wy(),b;for(b in a)N.cancelJob(a[b]);Hg("TIMING_TICK_EXPIRATION",{})}
;var yy=function(a,b){ry.call(this,1,arguments);this.aft=a;this.timer=b};
p(yy,ry);var zy=function(a,b){ry.call(this,1,arguments);this.aft=a;this.timer=b};
p(zy,ry);var Ay=new sy("aft-recorded",yy),By=new sy("timing-sent",zy);var Cy={vc:!0},Y={},Dy=(Y.ad_allowed="adTypesAllowed",Y.yt_abt="adBreakType",Y.ad_cpn="adClientPlaybackNonce",Y.ad_docid="adVideoId",Y.yt_ad_an="adNetworks",Y.ad_at="adType",Y.browse_id="browseId",Y.p="httpProtocol",Y.t="transportProtocol",Y.cpn="clientPlaybackNonce",Y.csn="clientScreenNonce",Y.docid="videoId",Y.is_continuation="isContinuation",Y.is_nav="isNavigation",Y.b_p="kabukiInfo.browseParams",Y.is_prefetch="kabukiInfo.isPrefetch",Y.is_secondary_nav="kabukiInfo.isSecondaryNav",Y.prev_browse_id=
"kabukiInfo.prevBrowseId",Y.query_source="kabukiInfo.querySource",Y.voz_type="kabukiInfo.vozType",Y.yt_lt="loadType",Y.yt_ad="isMonetized",Y.nr="webInfo.navigationReason",Y.ncnp="webInfo.nonPreloadedNodeCount",Y.paused="playerInfo.isPausedOnLoad",Y.yt_pt="playerType",Y.fmt="playerInfo.itag",Y.yt_pl="watchInfo.isPlaylist",Y.yt_ad_pr="prerollAllowed",Y.pa="previousAction",Y.yt_red="isRedSubscriber",Y.st="serverTimeMs",Y.aq="tvInfo.appQuality",Y.br_trs="tvInfo.bedrockTriggerState",Y.label="tvInfo.label",
Y.is_mdx="tvInfo.isMdx",Y.preloaded="tvInfo.isPreloaded",Y.query="unpluggedInfo.query",Y.upg_chip_ids_string="unpluggedInfo.upgChipIdsString",Y.yt_vst="videoStreamType",Y.vph="viewportHeight",Y.vpw="viewportWidth",Y.yt_vis="isVisible",Y),Ey="ap c cver cbrand cmodel ei srt yt_fss yt_li plid vpil vpni vpst yt_eil vpni2 vpil2 icrc icrt pa GetBrowse_rid GetPlayer_rid GetSearch_rid GetWatchNext_rid cmt d_vpct d_vpnfi d_vpni pc pfa pfeh pftr prerender psc rc start tcrt tcrc ssr vpr vps yt_abt yt_fn yt_fs yt_pft yt_pre yt_pt yt_pvis yt_ref yt_sts".split(" "),
Fy={ad_to_ad:"LATENCY_ACTION_AD_TO_AD",ad_to_video:"LATENCY_ACTION_AD_TO_VIDEO",app_startup:"LATENCY_ACTION_APP_STARTUP",browse:"LATENCY_ACTION_BROWSE",channels:"LATENCY_ACTION_CHANNELS",channel:"LATENCY_ACTION_CREATOR_CHANNEL_DASHBOARD","channel.analytics":"LATENCY_ACTION_CREATOR_CHANNEL_ANALYTICS","channel.comments":"LATENCY_ACTION_CREATOR_CHANNEL_COMMENTS","channel.copyright":"LATENCY_ACTION_CREATOR_CHANNEL_COPYRIGHT","channel.monetization":"LATENCY_ACTION_CREATOR_CHANNEL_MONETIZATION","channel.translations":"LATENCY_ACTION_CREATOR_CHANNEL_TRANSLATIONS",
"channel.videos":"LATENCY_ACTION_CREATOR_CHANNEL_VIDEOS",chips:"LATENCY_ACTION_CHIPS",embed:"LATENCY_ACTION_EMBED",home:"LATENCY_ACTION_HOME",library:"LATENCY_ACTION_LIBRARY",live:"LATENCY_ACTION_LIVE",prebuffer:"LATENCY_ACTION_PREBUFFER",prefetch:"LATENCY_ACTION_PREFETCH",results:"LATENCY_ACTION_RESULTS",search:"LATENCY_ACTION_RESULTS",search_ui:"LATENCY_ACTION_SEARCH_UI",search_zero_state:"LATENCY_ACTION_SEARCH_ZERO_STATE",tenx:"LATENCY_ACTION_TENX",video_to_ad:"LATENCY_ACTION_VIDEO_TO_AD",watch:"LATENCY_ACTION_WATCH",
"watch,watch7":"LATENCY_ACTION_WATCH","watch,watch7_html5":"LATENCY_ACTION_WATCH","watch,watch7ad":"LATENCY_ACTION_WATCH","watch,watch7ad_html5":"LATENCY_ACTION_WATCH",wn_comments:"LATENCY_ACTION_LOAD_COMMENTS","video.analytics":"LATENCY_ACTION_CREATOR_VIDEO_ANALYTICS","video.comments":"LATENCY_ACTION_CREATOR_VIDEO_COMMENTS","video.edit":"LATENCY_ACTION_CREATOR_VIDEO_EDIT","video.translations":"LATENCY_ACTION_CREATOR_VIDEO_TRANSLATIONS","video.video_editor":"LATENCY_ACTION_CREATOR_VIDEO_VIDEO_EDITOR",
"video.video_editor_async":"LATENCY_ACTION_CREATOR_VIDEO_VIDEO_EDITOR_ASYNC"},Gy="isContinuation isNavigation kabukiInfo.isPrefetch kabukiInfo.isSecondaryNav isMonetized playerInfo.isPausedOnLoad prerollAllowed isRedSubscriber tvInfo.isMdx tvInfo.isPreloaded isVisible watchInfo.isPlaylist".split(" "),Hy={},Iy=(Hy.pa="LATENCY_ACTION_",Hy.yt_pt="LATENCY_PLAYER_",Hy.yt_vst="VIDEO_STREAM_TYPE_",Hy),Jy=!1;
function Ky(a){Ly(a);My();Ny(!1,a);a||(K("TIMING_ACTION")&&Hg("PREVIOUS_ACTION",K("TIMING_ACTION")),Hg("TIMING_ACTION",""))}
function Oy(a,b,c){b||"_"==a[0]||Py(a,c);var d=Qy(c),f=b||Fg();d[a]&&(d["_"+a]=d["_"+a]||[d[a]],d["_"+a].push(f));d[a]=f;f=wy();var g=f[a];g&&(N.cancelJob(g),f[a]=0);Ry(c)["tick_"+a]=b;c||b||Fg();Sy(c)?(f=Ty(c),"_start"==a?ky("baseline_"+f)||Fk("latencyActionBaselined",{clientActionNonce:f},b):ky("tick_"+a+"_"+f)||Fk("latencyActionTicked",{tickName:a,clientActionNonce:f},b),b=!0):b=!1;b||Uy(!1,c);return d[a]}
function Py(a,b){vy.mark&&(0==a.lastIndexOf("mark_",0)||(a="mark_"+a),b&&(a+=" ("+b+")"),vy.mark(a))}
function Vy(a,b,c){var d=Qy(c);return a in d?!1:(Oy(a,b,c),!0)}
function Wy(a,b,c){Xy(c).info[a]=b;Ry(c)["info_"+a]=b;if(Sy(c))if(a in Dy){var d=Dy[a];db(Gy,d)&&(b=!!b);a in Iy&&(b=Iy[a]+b.toUpperCase());if(Sy(c)){a={};d=d.split(".");for(var f=a,g=0;g<d.length-1;g++)f[d[g]]=f[d[g]]||{},f=f[d[g]];f[d[d.length-1]]=b;c=Ty(c);jy(a,c)}}else db(Ey,a)||L(Error("Unknown label "+a+" logged with GEL CSI."))}
function Yy(a,b){b=Xy(b).info;return a in b}
function Zy(a,b,c){var d=K("TIMING_WAIT");d&&a in d||((d=K("TIMING_WAIT",void 0))?d.push(a):Hg("TIMING_WAIT",[a]));b&&c&&(d=wy(),N.cancelJob(d[a]),d[a]=N.addIdlePriorityJob(c,b))}
function $y(a){var b=Qy(a);if(b.aft)return b.aft;a=K((a||"")+"TIMING_AFT_KEYS",["ol"]);for(var c=a.length,d=0;d<c;d++){var f=b[a[d]];if(f)return f}return NaN}
function Uy(a,b){if(!az(b)){var c=K((b||"")+"TIMING_ACTION",void 0),d=Qy(b);if(x("ytglobal.timing"+(b||"")+"ready_")&&c&&d._start&&(c=$y(b)))if(Jy||(uy(Ay,new yy(Math.round(c-d._start),b)),Jy=!0),a||b)bz(b);else{a=!0;c=K("TIMING_WAIT",[]);if(c.length)for(var f=0,g=c.length;f<g;++f)if(!(c[f]in d)){a=!1;break}a&&bz(b)}}}
function cz(){if("visibilityState"in document)var a=document.visibilityState;else a=Xi+"VisibilityState",a=a in document?document[a]:void 0;switch(a){case "hidden":return 0;case "visible":return 1;case "prerender":return 2;case "unloaded":return 3}return-1}
function dz(a,b){if(!az(b)){var c=K("CSI_SERVICE_NAME","youtube");K((b||"")+"TIMING_ACTION",void 0)&&c&&(Oy("aa",void 0,b),Wy("ap",1,b),Wy("yt_fss",a,b),bz(b))}}
var My=z(vy.clearResourceTimings||vy.webkitClearResourceTimings||vy.mozClearResourceTimings||vy.msClearResourceTimings||vy.oClearResourceTimings||Fa,vy);function ez(a,b){w("ytglobal.timing"+(b||"")+"ready_",a,void 0)}
function Ty(a){var b=Xy(a).nonce;b||(b=ik(16),Xy(a).nonce=b);return b}
function Qy(a){return Xy(a).tick}
function Ry(a){a=Xy(a);"gel"in a||(a.gel={});return a.gel}
function Xy(a){return x("ytcsi."+(a||"")+"data_")||Ly(a)}
function Ly(a){var b={tick:{},info:{}};w("ytcsi."+(a||"")+"data_",b,void 0);return b}
function az(a){return!!x("yt.timing."+(a||"")+"pingSent_")}
function Ny(a,b){w("yt.timing."+(b||"")+"pingSent_",a,void 0)}
function fz(a){var b=Qy(a),c=b.pbr,d=b.vc;b=b.pbs;return c&&d&&b&&c<d&&d<b&&1==Xy(a).info.yt_pvis}
function Sy(a){return M("csi_on_gel")||!!Xy(a).useGel}
var bz=function(a){xy();if(!Sy(a)){var b=Qy(a),c=Xy(a).info,d=b._start;for(h in b)if(0==h.lastIndexOf("_",0)&&y(b[h])){var f=h.slice(1);if(f in Cy){var g=Za(b[h],function(a){return Math.round(a-d)});
c["all_"+f]=g.join()}delete b[h]}g=K("CSI_SERVICE_NAME","youtube");var h={v:2,s:g,action:K((a||"")+"TIMING_ACTION",void 0)};f=Wy.srt;void 0!==b.srt&&delete c.srt;if(c.h5jse){var k=window.location.protocol+x("ytplayer.config.assets.js");(k=vy.getEntriesByName?vy.getEntriesByName(k)[0]:null)?c.h5jse=Math.round(c.h5jse-k.responseEnd):delete c.h5jse}b.aft=$y(a);fz(a)&&"youtube"==g&&(Wy("yt_lt","hot_bg",a),g=b.vc,k=b.pbs,delete b.aft,c.aft=Math.round(k-g));for(var l in c)"_"!=l.charAt(0)&&(h[l]=c[l]);
b.ps=Fg();l={};g=[];for(var m in b)"_"!=m.charAt(0)&&(k=Math.round(b[m]-d),l[m]=k,g.push(m+"."+k));h.rt=g.join(",");(b=x("ytdebug.logTiming"))&&b(h,l);gz(h,!!c.ap,a);uy(By,new zy(l.aft+(f||0),a))}},gz=function(a,b,c){if(M("debug_csi_data")){var d=x("yt.timing.csiData");
d||(d=[],w("yt.timing.csiData",d,void 0));d.push({page:location.href,time:new Date,args:a})}d="";for(var f in a)d+="&"+f+"="+a[f];a="/csi_204?"+d.substring(1);if(window.navigator&&window.navigator.sendBeacon&&b){b=void 0;b=void 0===b?"":b;try{window.navigator&&window.navigator.sendBeacon&&window.navigator.sendBeacon(a,b)||sk(a,void 0,void 0,void 0,b)}catch(g){sk(a,void 0,void 0,void 0,b)}}else sk(a);Ny(!0,c)};var hz=function(){this.chunkProcessors=[];this.chunksProcessed_=0};
hz.prototype.processChunk=function(a){if(a){for(var b=n(this.chunkProcessors),c=b.next();!c.done;c=b.next())c=c.value,c.validate(a)&&c.handle(a);Oy("np"+this.chunksProcessed_);this.chunksProcessed_++}};
hz.prototype.getChunksProcessed=function(){return this.chunksProcessed_};var iz=function(a){this.chunkHandler_=a};
p(iz,qy);iz.prototype.validate=function(){return 0==this.chunkHandler_.getChunksProcessed()};
iz.prototype.handle=function(a){Nl.getInstance().triggerAction("yt-stop-old-player",a,!0)};var jz=function(){hz.call(this);this.chunkProcessors.push(new iz(this))};
p(jz,hz);var kz=function(){};
p(kz,qy);kz.prototype.validate=function(a){return!!a.preconnect};
kz.prototype.handle=function(a){Oy("bc");a=n(a.preconnect);for(var b=a.next();!b.done;b=a.next())b=b.value,(new Image).src=b};var lz=function(a,b,c,d){this.playerPromiseResolver_=a;this.playerProvider_=b;this.pageManager_=c;this.miniplayerActive_=void 0===d?!1:d};
p(lz,qy);lz.prototype.validate=function(a){return!(!a.player||"watch"!=a.page)};
lz.prototype.handle=function(a){a.filler||this.miniplayerActive_||(Vy("cfg"),Nl.getInstance().triggerAction("player-update-pre",a.page,a.player,a.playerResponse));var b=this.playerProvider_();if(M("kevlar_use_ytd_player"))var c=b;else if(M("kevlar_ytd_player_container")){var d=this.pageManager_.getCurrentPage();d&&d.getPlayer&&(c=d.getPlayer());c||L(Error("Player data present, but no player found on page."),"WARNING",void 0,void 0,void 0)}try{b.update(a.player,c).then(this.playerPromiseResolver_.resolve)}catch(f){b?
L(f):L(Error("Player missing when attempting update from SwfConfigChunkProcessor. el="+(a&&a.player&&a.player.args&&a.player.args.el))),this.playerPromiseResolver_.resolve()}};var mz=function(a,b,c){this.videoId=a;this.videoRenderer=b;this.rvs=c};function nz(a,b,c,d){c=c?c.videoRenderer:void 0;return{queuedItems:a.map(function(a){return{compactVideoRenderer:a.videoRenderer}}),
dequeuedItems:b.map(function(a,b){a=Object.assign({},a.videoRenderer);d&&b<=d.animateUpTo&&(a.rendererAnimation=d.rendererAnimation);return{compactVideoRenderer:a}}),
nextSuggestion:c}}
function oz(a){if(a=a.find(function(a){return a&&a.compactAutoplayRenderer&&a.compactAutoplayRenderer.contents&&0<a.compactAutoplayRenderer.contents.length&&a.compactAutoplayRenderer.contents[0]}))return a.compactAutoplayRenderer.contents[0].compactVideoRenderer}
;var pz=function(a){this.actionRouter_=a=void 0===a?Nl.getInstance():a;this.queuedItems_=[];this.dequeuedItems_=[];this.nextSuggestion_=null};
e=pz.prototype;
e.enqueue=function(a,b,c){b=void 0===b?-1:b;void 0===b&&(b=-1);var d=a.videoId;var f={id:a.videoId,session_data:"itct="+a.trackingParams,author:Ph(a.shortBylineText),title:Ph(a.title),endscreen_autoplay_session_data:Ug({autonav:"1",playnext:"1",itct:a.clickTrackingParams,feature:"queue"},"&")};var g;a:{if((g=Ph(a.lengthText))&&(g=g.split(":"))&&!(2>g.length)){var h=0,k=0;3==g.length&&(h+=3600*Number(g[k]),k+=1);h+=60*Number(g[k]);g=h+=Number(g[k+1]);break a}g=void 0}g&&(f.length_seconds=g);f=Ug(f,
"&");a=new mz(d,a,f);d=void 0;c&&(d={rendererAnimation:c,animateUpTo:this.getItemIndexMatchingVideoId_(this.dequeuedItems_,a.videoId)});this.removeItemMatchingVideoId_(this.dequeuedItems_,a.videoId);M("kevlar_next_up_next_multi_video_queue")?this.multipleEnqueue_(a,b):this.singleEnqueue_(a,d)};
e.singleEnqueue_=function(a,b){1==this.queuedItems_.length&&(this.dequeuedItems_.unshift(this.queuedItems_[0]),this.queuedItems_.length=0);this.queuedItems_.push(a);this.dispatchQueueUpdate_(b);this.requestPlayerWatchNextUpdate_(a.rvs)};
e.multipleEnqueue_=function(a,b){var c=0<this.queuedItems_.length?this.queuedItems_[0]:null;this.removeItemMatchingVideoId_(this.queuedItems_,a.videoId);-1==b?this.queuedItems_.push(a):this.queuedItems_.splice(b,0,a);this.dispatchQueueUpdate_();this.updatePlayerRvsIfHeadChanged_(c)};
e.removeVideo=function(a){this.removeItemMatchingVideoId_(this.queuedItems_,a)&&(0<this.dequeuedItems_.length&&!M("kevlar_next_up_next_multi_video_queue")&&this.singleEnqueue_(this.dequeuedItems_.shift()),this.dispatchQueueUpdate_())};
e.clear=function(){this.queuedItems_.length=0;this.dequeuedItems_.length=0;this.dispatchQueueUpdate_()};
e.dispatchQueueUpdate_=function(a){this.actionRouter_.triggerOptionalAction("yt-next-up-next-updated-action",this.getNextUpNextRenderer(a))};
e.updatePlayerRvsIfHeadChanged_=function(a){var b=this.queuedItems_[0];a&&a.videoId==b.videoId||this.requestPlayerWatchNextUpdate_(b.rvs)};
e.requestPlayerWatchNextUpdate_=function(a){this.actionRouter_.triggerOptionalAction("yt-update-player-next-video",{rvs:a})};
e.getItemIndexMatchingVideoId_=function(a,b){return a.findIndex(function(a){return a.videoId==b})};
e.removeItemMatchingVideoId_=function(a,b){b=this.getItemIndexMatchingVideoId_(a,b);if(-1==b)return!1;a.splice(b,1);return!0};
e.setNextSuggestion=function(a,b){a&&b&&(a=(b=oz(b))?new mz(b.videoId,b,a):void 0,a&&(this.nextSuggestion_=a,this.dispatchQueueUpdate_()))};
e.getNextQueuedItem_=function(){return 0<this.queuedItems_.length?this.queuedItems_[0]:this.nextSuggestion_};
e.getNextRvs=function(){var a=this.getNextQueuedItem_();if(a)return a.rvs};
e.getNextUpNextRenderer=function(a){return nz(this.queuedItems_,this.dequeuedItems_,this.nextSuggestion_,a)};
Ga(pz);var qz=["response","contents","twoColumnWatchNextResults","autoplay","autoplay"],rz=["response","currentVideoEndpoint","watchEndpoint","videoId"],sz=["response","playerOverlays","playerOverlayRenderer","endScreen","watchNextEndScreenRenderer"],tz=["playerResponse","responseContext","webResponseContextExtensionData","reloadWithoutPolymer"],uz=["response","contents","twoColumnWatchNextResults","playlist","playlist"],vz=["response","webWatchNextResponseExtensionData","relatedVideoArgs"],wz="response contents twoColumnWatchNextResults secondaryResults secondaryResults results".split(" "),
xz=["response","responseContext","webResponseContextExtensionData","reloadWithoutPolymer"],yz=["response","contents","twoColumnWatchNextResults"];var zz=function(a,b,c){c=void 0===c?pz.getInstance():c;this.playerPromiseResolver_=a;this.playerProvider_=b;this.upNextQueue_=c};
p(zz,qy);zz.prototype.validate=function(a){return!!this.playerPromiseResolver_&&!!this.playerProvider_()&&!!E.getValueByKeys.apply(E,[a].concat(ka(yz)))};
zz.prototype.handle=function(a){var b=this;E.getValueByKeys.apply(E,[a].concat(ka(sz)));E.getValueByKeys.apply(E,[a].concat(ka(qz)));var c=E.getValueByKeys.apply(E,[a].concat(ka(vz)));E.getValueByKeys.apply(E,[a].concat(ka(uz)));var d=E.getValueByKeys.apply(E,[a].concat(ka(rz)));M("kevlar_next_up_next_multi_video_queue")?(d&&this.upNextQueue_.removeVideo(d),a=E.getValueByKeys.apply(E,[a].concat(ka(wz))),this.upNextQueue_.setNextSuggestion(c,a),this.playerPromiseResolver_.promise.then(function(){b.playerProvider_();
b.playerProvider_().getPlayerPromise().then(function(a){a.updateVideoData({rvs:this.upNextQueue_.getNextRvs()})}.bind(b))})):this.playerPromiseResolver_.promise.then(function(){b.playerProvider_()})};var Az=function(a,b,c){c=void 0===c?!1:c;hz.call(this);this.playerPromiseResolver_=Nf();this.chunkProcessors.push(new kz);this.chunkProcessors.push(new lz(this.playerPromiseResolver_,a,b,c));this.chunkProcessors.push(new iz(this));this.chunkProcessors.push(new zz(this.playerPromiseResolver_,a))};
p(Az,hz);var Bz=!1;function Cz(){if(!Bz){if(Polymer.Base){var a=Polymer.Base.createdCallback;Polymer.Base.createdCallback=function(){try{a.apply(this,arguments)}catch(t){L(t)}};
var b=Polymer.Base.attachedCallback;Polymer.Base.attachedCallback=function(){try{b.apply(this,arguments)}catch(t){L(t)}};
var c=Polymer.Base.detachedCallback;Polymer.Base.detachedCallback=function(){try{c.apply(this,arguments)}catch(t){L(t)}};
var d=Polymer.Base.attributeChangedCallback;Polymer.Base.attributeChangedCallback=function(){try{d.apply(this,arguments)}catch(t){L(t)}};
var f=Polymer.Base._listen,g=new WeakMap;Polymer.Base._listen=function(a,b,c){var d=function(){try{c.apply(this,arguments)}catch(P){L(P)}};
g.set(c,d);f.call(this,a,b,d)};
var h=Polymer.Base._unlisten;Polymer.Base._unlisten=function(a,b,c){h.call(this,a,b,g.get(c))}}if(Polymer.Async){var k=Polymer.Async,l=k._atEndOfMicrotask;
k._atEndOfMicrotask=function(){try{l.apply(k,arguments)}catch(t){L(t)}}}if(Polymer.RenderStatus){var m=Polymer.RenderStatus,q=m.afterNextRender;
m.afterNextRender=function(a,b,c){q.call(m,a,function(){try{b.apply(this,arguments)}catch(U){L(U)}},c)}}Bz=!0}}
;function Dz(a,b){a=a.watchEndpoint;return"v"+a.videoId+(a.playlistId?"-pl"+a.playlistId:"")+(b?"-an1":"")}
;var Ez=function(a){this.networkManager_=a;this.partCallbacks_=[]};
e=Ez.prototype;e.getRequest=function(a,b){var c=this,d=this.getParams(b),f=this.getUrlForEndpoint_(a,d);b=this.getTempData(a,b);var g=this.getOptions_();Yl(f,b);return new Df(function(b,f){var h=c.getXhrParams(d);c.networkManager_.requestDataForEndpoint(a,h,c.onPartsCallback_.bind(c),g).then(function(a){a?b(a):f()},f)})};
e.getCacheKeyForEndpoint=function(a){return Dz(a,!1)};
e.addPartCallback=function(a){this.partCallbacks_.push(a)};
e.onPartsCallback_=function(a){this.partCallbacks_.forEach(function(b){a&&b(a)})};
e.getUrlForEndpoint_=function(a,b){return Dh(a,b)};
e.getOptions_=function(){return{headers:{"X-YouTube-STS":17886}}};
e.onRequestCompletes_=function(){};var Fz=function(a,b,c){Ez.call(this,a);this.player_=b;this.autoplayData_=c};
p(Fz,Ez);Fz.prototype.getCacheKeyForEndpoint=function(a){return Dz(a,!!this.autoplayData_)};
Fz.prototype.getTempData=function(a,b){b=b.timeBeforeNextVideo;a={itct:a.clickTrackingParams,lact:Nj(),pbis:b,prefetch_reason:"hc_pbis",vis:this.player_.getVisibilityState()};this.autoplayData_&&(a.autonav=1,(b=this.autoplayData_.webAutoplayRendererData&&this.autoplayData_.webAutoplayRendererData.autoplayCount)&&(a.playnext=b));return a};
Fz.prototype.getXhrParams=function(a){return Object.assign({pbj:"prefetch"},a)};
Fz.prototype.getParams=function(a){a={frags:a.fragmentsRequested.join(",")};M("kevlar_droppable_prefetchable_requests")&&(a.prefetch=1);return a};var Gz=function(a,b,c){this.player=a;this.taskManager=b;this.prefetchDelay=c;this.completionResolver_=null;this.playerEvents_=[]};
Gz.prototype.start=function(){var a=this;this.completionResolver_=Nf();this.completionResolver_.promise.thenAlways(function(){a.removePlayerListeners_();a.completionResolver_=null});
this.prepareTrigger(this.completionResolver_);return this.completionResolver_.promise};
Gz.prototype.addPlayerListener=function(a,b){this.player.addEventListener(a,b);this.playerEvents_.push({eventName:a,callback:b})};
Gz.prototype.removePlayerListeners_=function(){var a=this;this.playerEvents_.forEach(function(b){a.player.removeEventListener(b.eventName,b.callback)});
this.playerEvents_.length=0};var Hz={watch:{pageFragments:["pl","wn"],prefetchedFragments:["pl"]}},Iz={pl:{requiredKeys:["player","playerResponse"],graftedKeys:["playerResponse"]},wn:{requiredKeys:["response"],graftedKeys:["response"]}},Jz={pl:{requiredKeys:["player","playerResponse"],graftedKeys:[]},wn:{requiredKeys:["response"],graftedKeys:[]}},Kz={fragmentsRequested:null,timeBeforeNextVideo:null};var Lz=function(a){Ez.call(this,a)};
p(Lz,Ez);Lz.prototype.getParams=function(){return{}};
Lz.prototype.getXhrParams=function(a){return a};
Lz.prototype.getTempData=function(a){return{itct:a.clickTrackingParams,lact:Nj()}};var Mz=function(){this.endpointCacheKey_=null;this.expireJobId_=0;this.TIMING_ACTION_="pbjprefetch";this.TIMING_AFT_KEYS_=["pfje"];(this.ENABLE_PBJ_PREFETCH_=M("web_enable_pbj_prefetch"))&&window.addEventListener("unload",this.onUnload_.bind(this))};
e=Mz.prototype;e.trackPrefetch=function(a,b,c){var d=this;this.ENABLE_PBJ_PREFETCH_&&(this.endpointCacheKey_&&this.end_(),a=a&&a.watchEndpoint?Dz(a,!1):"")&&(this.endpointCacheKey_=a,b=(b||"")+this.getTriggerFromMouseEvent_(c),this.startCsiTimeline_(b),this.expireJobId_=N.addIdlePriorityJob(function(){Wy("pfex",1,d.TIMING_ACTION_);d.end_()},3E3))};
e.trackNavigation=function(a,b){this.ENABLE_PBJ_PREFETCH_&&this.endpointCacheKey_&&(Oy("nr",void 0,this.TIMING_ACTION_),Wy("pfeh",(a&&a.watchEndpoint?Dz(a,b):"")==this.endpointCacheKey_?1:0,this.TIMING_ACTION_),this.clearExpireJob_())};
e.resolve=function(a,b){this.ENABLE_PBJ_PREFETCH_&&this.endpointCacheKey_&&(a&&Wy("nc",1,this.TIMING_ACTION_),b&&Wy("nrsu",1,this.TIMING_ACTION_),this.end_())};
e.end_=function(){this.endpointCacheKey_&&(this.endCsiTimeline_(),this.endpointCacheKey_=null);this.clearExpireJob_()};
e.startCsiTimeline_=function(a){var b=this.TIMING_ACTION_,c=this.TIMING_AFT_KEYS_;dz("c",b);Ky(b);Hg(b+"TIMING_AFT_KEYS",c);Hg(b+"TIMING_ACTION",b);Wy("yt_sts","c",b);Oy("_start",void 0,b);if(Sy(b)){c={};c.actionType=Fy[K((b||"")+"TIMING_ACTION",void 0)]||"LATENCY_ACTION_UNKNOWN";var d=Ty(b);jy(c,d)}ez(!0,b);Uy(!1,b);a&&Wy("pftr",a,this.TIMING_ACTION_)};
e.endCsiTimeline_=function(){Oy("pfje",void 0,this.TIMING_ACTION_)};
e.clearExpireJob_=function(){this.expireJobId_&&(N.cancelJob(this.expireJobId_),this.expireJobId_=0)};
e.getTriggerFromMouseEvent_=function(a){if(!a)return"";var b="";void 0!=a.button&&(b+="-btn"+a.button.toString());a.altKey&&(b+="-alt");a.ctrlKey&&(b+="-ctrl");a.metaKey&&(b+="-meta");a.shiftKey&&(b+="-shift");return b};
e.onUnload_=function(){this.end_()};
Ga(Mz);var Nz=function(a,b,c){Gz.call(this,a,b,c);this.cueId_="playbackTrigger-"+Math.random()};
p(Nz,Gz);Nz.prototype.prepareTrigger=function(a){var b=this,c=this.player.getDuration();var d=0<=this.prefetchDelay?this.prefetchDelay:c+this.prefetchDelay;this.player.addCueRange(this.cueId_,d,c);a.promise.thenAlways(function(){b.player.removeCueRange(b.cueId_)});
this.addPlayerListener("onCueRangeEnter",function(f){f==b.cueId_&&a.resolve(c-d)})};
Nz.prototype.getTriggerName=function(){return"playbackTrigger"};var Oz=function(a,b,c,d,f,g){var h=this;this.pageFragments_=a;this.prefetchedFragments_=b;this.fragmentConfiguration_=c;this.prefetchedData_=d;this.networkPrefetchRequest_=f;this.completionPromise=g;this.validatedFragments_=[];this.missingFragments_=this.pageFragments_.slice();this.mergedPrefetchedData_=null;this.validateFragments_();this.networkPrefetchRequest_&&this.addPartCallback(function(a){h.appendPart_(a)})};
e=Oz.prototype;e.appendPart_=function(a){Object.assign(this.prefetchedData_,a);this.validateFragments_()};
e.addPartCallback=function(a){this.networkPrefetchRequest_.addPartCallback(a)};
e.getPrefetchedData=function(){if(0==this.validatedFragments_.length)return null;if(!this.mergedPrefetchedData_){for(var a=[],b=n(this.validatedFragments_),c=b.next();!c.done;c=b.next()){c=n(this.fragmentConfiguration_[c.value].graftedKeys);for(var d=c.next();!d.done;d=c.next())(d=this.prefetchedData_[d.value].trackingParams)&&a.push(d)}this.mergedPrefetchedData_={};Object.assign(this.mergedPrefetchedData_,this.prefetchedData_,{clientSideGrafts:a})}return this.mergedPrefetchedData_};
e.getMissingFragments=function(){return this.missingFragments_};
e.getValidFragments=function(){return this.validatedFragments_};
e.validateFragments_=function(){var a=this;this.prefetchedFragments_.forEach(function(b){a.validateFragment_(b)})};
e.validateFragment_=function(a){var b=this;this.fragmentConfiguration_[a].requiredKeys.every(function(a){return!!b.prefetchedData_[a]})&&(this.validatedFragments_.push(a),a=this.missingFragments_.indexOf(a),-1!==a&&this.missingFragments_.splice(a,1))};var Pz=function(){},Qz=function(a){this.playlistManager_=a};
p(Qz,Pz);Qz.prototype.getPrefetchEndpoint=function(){return this.playlistManager_.getAutoplayEndpoint()};
Qz.prototype.getProviderType=function(){return"playlist"};
var Rz=function(a){this.autonavEndpoints_=a};
p(Rz,Pz);Rz.prototype.getPrefetchEndpoint=function(){return this.autonavEndpoints_.length?this.autonavEndpoints_[0]:void 0};
Rz.prototype.getProviderType=function(){return"first_next"};var Sz=function(a,b,c,d,f){this.autonavEndpoints=a;this.foregroundTrigger=b;this.backgroundTrigger=c;this.pageType=d;this.isInPlaylist=f};
Sz.prototype.getPrefetchPageConfiguration=function(){return Hz[this.pageType]};
var Tz=function(a,b){if(a.webPrefetchData&&a.webPrefetchData.navigationEndpoints&&a.webPrefetchData.navigationEndpoints.length){a=a.webPrefetchData.navigationEndpoints;var c=a[0];if(c&&c.watchEndpoint&&c.watchEndpoint.watchEndpointSupportedPrefetchConfig&&c.watchEndpoint.watchEndpointSupportedPrefetchConfig.prefetchHintConfig){var d=c.watchEndpoint.watchEndpointSupportedPrefetchConfig.prefetchHintConfig;c=d.countdownUiRelativeSecondsPrefetchCondition;d=d.playbackRelativeSecondsPrefetchCondition;d=
Aa(d)&&Math.abs(d)<b.videoDuration?d:Aa(c)&&b.inPlaylist&&0>c?c:void 0;c=Aa(c)&&!b.inPlaylist?c:void 0;if(Aa(c))return new Sz(a,b.makeUpNextTrigger(c),b.makePlaybackTrigger(c),"watch",b.inPlaylist);if(Aa(d))return new Sz(a,b.makePlaybackTrigger(d),null,"watch",b.inPlaylist)}}};var Uz=function(a,b,c,d){this.prefetchEndpointProvider_=a;this.prefetchRequestPromise_=this.triggerPromise_=null;this.storePrefetchedDataCallback_=b;this.prefetchJobConfig_=c;this.networkPrefetchRequest_=d;this.prefetchResponseCacheKey_=null};
e=Uz.prototype;e.enqueue=function(){this.triggerPromise_||(this.startTrigger_(this.getTriggerForActiveDocumentState()),this.maybeBindVisibilityMonitor_())};
e.startTrigger_=function(a){var b=this;this.triggerPromise_=a.start();this.triggerPromise_.then(function(a){var c=b.prefetchEndpointProvider_.getPrefetchEndpoint();c&&(b.prefetchRequestPromise_=b.networkPrefetchRequest_.getRequest(c,{fragmentsRequested:b.prefetchJobConfig_.getPrefetchPageConfiguration().prefetchedFragments,timeBeforeNextVideo:a}),b.prefetchResponseCacheKey_=b.networkPrefetchRequest_.getCacheKeyForEndpoint(c),b.unbindVisibilityMonitor_(),b.prefetchRequestPromise_.then(function(a){b.storePrefetchedDataCallback_(b.prefetchResponseCacheKey_,
a)}))})};
e.resolve=function(){this.cancel()};
e.cancel=function(){this.triggerPromise_&&this.triggerPromise_.cancel();this.prefetchRequestPromise_&&this.prefetchRequestPromise_.cancel();this.unbindVisibilityMonitor_()};
e.onVisibilityChange_=function(){this.triggerPromise_&&(this.triggerPromise_.cancel(),this.triggerPromise_=null);0!=cz()&&this.startTrigger_(this.getTriggerForActiveDocumentState())};
e.unbindVisibilityMonitor_=function(){rl(document,"visibilitychange",this.onVisibilityChange_,!1,this)};
e.maybeBindVisibilityMonitor_=function(){kl(document,"visibilitychange",this.onVisibilityChange_,!1,this)};
e.getTriggerForActiveDocumentState=function(){return this.prefetchJobConfig_.backgroundTrigger?0==cz()?this.prefetchJobConfig_.backgroundTrigger:this.prefetchJobConfig_.foregroundTrigger:this.prefetchJobConfig_.foregroundTrigger};
e.doesEndpointKeyMatchRequestKey_=function(a){return a?a==this.prefetchResponseCacheKey_:!1};var Vz=function(a,b,c){Gz.call(this,a,b,c)};
p(Vz,Gz);Vz.prototype.prepareTrigger=function(a){var b=this;this.addPlayerListener("onAutonavCoundownStarted",function(c){b.onUpNextCountdownStarted_(c,a)})};
Vz.prototype.onUpNextCountdownStarted_=function(a,b){var c=this,d=1E3*this.prefetchDelay;if(Math.abs(d)>a)b.promise.cancel();else{var f=d,g=a-d;0>d&&(f=a+d,g=Math.abs(d));var h=this.taskManager.addJob(function(){b.resolve(g/1E3)},10,f);
b.promise.thenCatch(function(){c.taskManager.cancelJob(h)})}};
Vz.prototype.getTriggerName=function(){return"upNextTrigger"};var Wz=function(){this.prefetchCache_=new Map;this.pendingPrefetchJob_=null};
e=Wz.prototype;e.enqueueMouseDownPrefetch=function(a,b,c){if(!c||void 0!=c.button&&0!=c.button||c.altKey||c.ctrlKey||c.metaKey||c.shiftKey)return!1;this.cancelPendingPrefetchJob();b=new Lz(b);c=b.getRequest(a,Kz);var d=Hz.watch.pageFragments;c=new Oz(d,d,Jz,{},b,c);this.prefetchCache_.set(b.getCacheKeyForEndpoint(a),c);return!0};
e.enqueuePrefetch=function(a,b,c,d,f,g,h){var k=this;this.cancelPendingPrefetchJob();var l=!!b.getPlaylistId();if(!l&&2!=f.getState()||b.getVideoData().isLive)return!1;var m=Tz(a,{inPlaylist:l,videoDuration:b.getDuration(),makeUpNextTrigger:function(a){return new Vz(b,c,a)},
makePlaybackTrigger:function(a){return new Nz(b,c,a)}});
if(!m)return!1;this.pendingPrefetchJob_=new Uz(m.isInPlaylist?new Qz(g):new Rz(m.autonavEndpoints),function(a,b){b=new Oz(m.getPrefetchPageConfiguration().pageFragments,m.getPrefetchPageConfiguration().prefetchedFragments,Iz,b);return b.getPrefetchedData()?(k.prefetchCache_.set(a,b),!0):!1},m,new Fz(d,b,h));
this.pendingPrefetchJob_.enqueue();return!0};
e.getPrefetchedDataForEndpoint=function(a,b){if(a.watchEndpoint)return this.prefetchCache_.get(Dz(a,b))};
e.cancelPendingPrefetchJob=function(){this.pendingPrefetchJob_&&(this.pendingPrefetchJob_.cancel(),this.pendingPrefetchJob_=null)};
e.resolvePendingPrefetchJob=function(a,b){this.pendingPrefetchJob_&&(b=!(!b||"1"!=b.autonav),this.pendingPrefetchJob_.resolve(a&&a.watchEndpoint?Dz(a,b):""),this.pendingPrefetchJob_=null)};
e.clearCache=function(){this.prefetchCache_.clear()};
Ga(Wz);var Xz=function(){this.playlistWatchPageActivation=this.userActivation=this.miniplayerButtonActivation=!1;this.navigationFinishPromise=Hf();this.playerContainer=null};
Xz.prototype.isMiniplayerSupressed=function(){var a=M("kevlar_miniplayer_playlist_activate")&&this.playlistWatchPageActivation,b=!M("kevlar_miniplayer_button");return!(M("kevlar_miniplayer_button")&&this.miniplayerButtonActivation)&&!a&&!b};
Ga(Xz);var Yz=function(a){var b=a.openPopupAction,c=a.target,d=a.container,f=a.popupContainerConfig;a=a.getElement;this.popupContent=this.popup=void 0;this.openPopupAction=b;this.target=c;this.container_=d;this.popupContainerConfig_=f;this.naturalHeight_=void 0;this.getElement_=a;this.popupConfig_=this.popupContainerConfig_.popupConfig[this.openPopupAction.popupType];this.rendererName=this.getRendererName_();this.createPopup_()};
e=Yz.prototype;e.updatePopup=function(a){this.openPopupAction=a;this.configureAction_();this.togglePositionalProperties_()};
e.configurePopup=function(a,b){this.target=b;this.setPosition_();this.configurePopupType_();this.toggleConfigProperties(a);this.setConfigStyles();this.forwardEvents_()};
e.setRefitVisibility=function(){if("refit"==this.popup.scrollAction){var a=this.popup.positionTarget.getBoundingClientRect();this.popup.hidden=!(a.top>=this.getNaturalHeight_()+60);0==this.popupContent.clientHeight&&this.popup.refit()}};
e.refit=function(){this.popup.opened&&this.popup.refit()};
e.toggleConfigProperties=function(a){this.toggleProperties_(a&&this.popupConfig_.narrowProperties?this.popupConfig_.narrowProperties:this.popupConfig_.properties);this.isRtl_()&&this.toggleProperties_(this.popupConfig_.rtlProperties);this.togglePositionalProperties_()};
e.setConfigStyles=function(){this.setStyles_(this.popupConfig_.styles);this.isRtl_()&&this.setStyles_(this.popupConfig_.rtlStyles)};
e.createPopup_=function(){var a=this.popupConfig_.component;this.popupContent=this.assertElement_(this.rendererName);a?(this.popup=this.assertElement_(a),this.popupConfig_.slotName&&(Polymer.Element?this.popupContent.setAttribute("slot",this.popupConfig_.slotName):this.popupContent.toggleClass(this.popupConfig_.slotName,!0)),Polymer.dom(this.popup).appendChild(this.popupContent),Polymer.Element?document.body.appendChild(this.popup):Polymer.dom.flush()):this.popup=this.popupContent;Polymer.dom(this.container_.root).appendChild(this.popup)};
e.setPosition_=function(){var a=this.target.popupPositionTarget||this.target;this.popup.positionTarget=a;this.popupContent.positionTarget=a};
e.forwardEvents_=function(){this.popupContent.startForwardingEvents&&this.target.parentComponent!=this.popupContent&&this.popupContent!=this.target&&this.popupContent.startForwardingEvents(this.popupContainerConfig_.forwardedEvents,this.target)};
e.configureAction_=function(){this.popupContent.set("data",(0,E.unsafeClone)(this.openPopupAction.popup[this.getName_()]));this.popupContent.duration=this.getPopupDurationMs_();this.popupContent.positionType=this.openPopupAction.position;this.popupContent.veData=this.openPopupAction.veData};
e.configurePopupType_=function(){this.popupConfig_.forceFocus&&(this.popupContent.tabIndex=0,this.popupContent.style.outline="none");this.popupConfig_.narrowProperties&&(this.popup.style.position="static");this.popupConfig_.preventAutonav&&this.popup.setAttribute("prevent-autonav",!0);this.popupConfig_.forceCloseOnOutsideClick&&this.popup.setAttribute("force-close-on-outside-click",!0)};
e.toggleProperties_=function(a){if(a)for(var b in a)this.popup[b]=a[b]};
e.togglePositionalProperties_=function(){if(this.openPopupAction.position){var a=this.popupConfig_.positionalProperties&&this.popupConfig_.positionalProperties[this.openPopupAction.position],b=this.popupConfig_.rtlPositionalProperties&&this.popupConfig_.rtlPositionalProperties[this.openPopupAction.position];a=this.isRtl_()&&b?b:a;a.shiftedHorizontalOffset&&this.popup.positionTarget&&(a.horizontalOffset=this.popup.positionTarget.clientWidth/2-a.shiftedHorizontalOffset);this.toggleProperties_(a)}};
e.setStyles_=function(a){if(a)for(var b in a)this.popup.style[b]=a[b]};
e.getName_=function(){return Lh(this.openPopupAction.popup,"renderer")||Lh(this.openPopupAction.popup,"dialog")||void 0};
e.getRendererName_=function(){var a=this.getName_();return a?Mh(a,this.popupContainerConfig_.getPrefixForElement(a)):""};
e.getPopupDurationMs_=function(){var a=this.openPopupAction.durationHintMs;return 0===a?a:Math.max(4E3,a||4E3)};
e.isRtl_=function(){return"rtl"==K("HTML_DIR")};
e.getNaturalHeight_=function(){if(!this.naturalHeight_){this.popup.hidden=!1;this.popup.style.position="fixed";this.popup.style.top="0px";this.popup.style.left="0px";var a=this.popup.getBoundingClientRect();this.naturalHeight_=a.bottom-a.top;this.popup.refit()}return this.naturalHeight_};
e.assertElement_=function(a){return this.getElement_(a,this.target)};function Zz(a,b,c,d){b=void 0===b?{}:b;c=void 0===c?"":c;d=void 0===d?window:d;ke(d.location,vg(a,b)+c)}
;var $z=["server_prefetched_vast","vmap"],aA=function(a){if(null==a)return[];var b=[];M("ima_prevent_mpu_queries_on_cached_playback")&&0>$z.indexOf("ad3_module")&&$z.push("ad3_module");$z.forEach(function(c){c in a&&(delete a[c],b.push(c))});
a.cached_load="1";return b};var bA=function(a){if(a=JSON.parse(a))window.dataLayer=window.dataLayer||[],window.dataLayer.push(a)};var cA=function(a,b){this.payloadName="transactionFlowFailed";this.payload={errorType:a,serializedTransactionFlowLoggingParams:b}};
w("yt.www.ypc.shared.YpcTransactionFlowError",cA,void 0);var dA=function(){try{return!!window.top.location.href&&!1}catch(a){return!0}};S.YtVisibilityBehavior={_noAccessors:!0,properties:{disablePrescanVisibility:Boolean},onShow:function(){if(this.onShow_)this.onShow_()}};var eA=K("DORMANT_IMAGE_TIMEOUT",1E3),fA=function(){this.loadTimeResolver_=this.makeLoadTimeResolver_();this.sessionResolved_=!1;this.collectionJobId_=0;this.visibleSet_=new Set;this.elementLoadPromises_=new Map;this.collectionPromise_=null;this.dormantJobId_=0};
e=fA.prototype;e.onDormantLoad_=function(){this.collectionPromise_&&this.loadTimeResolver_.reject()};
e.isVisibleSetLoaded_=function(){for(var a=n(this.visibleSet_),b=a.next();!b.done;b=a.next())if(b=b.value,!b.loadTime||Infinity==b.loadTime)return!1;return!0};
e.startDormantLoadTimer_=function(){N.cancelJob(this.dormantJobId_);this.isVisibleSetLoaded_()||(this.dormantJobId_=N.addIdlePriorityJob(this.onDormantLoad_.bind(this),eA))};
e.elementUpdateCheck_=function(a){if(this.sessionResolved_)return!1;this.collectionJobId_&&this.scheduleCollection_();return"loadTime"in a&&!a.excludeFromVpl?!0:!1};
e.hidden=function(a){this.elementUpdateCheck_(a)&&(this.visibleSet_.delete(a),this.elementLoadPromises_.delete(a),this.startDormantLoadTimer_())};
e.watchElementLoad_=function(a){var b=this,c=Nm(a).then(function(){if(!b.visibleSet_.has(a))return null;b.startDormantLoadTimer_();return a},function(){});
this.elementLoadPromises_.set(a,c);return c};
e.shown=function(a){if(!this.elementUpdateCheck_(a))return!1;this.visibleSet_.add(a);this.startDormantLoadTimer_();this.watchElementLoad_(a);return!0};
e.cancelCollection_=function(){N.cancelJob(this.collectionJobId_);this.collectionJobId_=0;this.collectionPromise_&&(this.collectionPromise_.cancel(),this.collectionPromise_=null)};
e.scheduleCollection_=function(){this.cancelCollection_();var a=Ng("viewport_load_collection_wait_time",0);this.collectionJobId_=N.addIdlePriorityJob(this.collectLoadTime_.bind(this),a)};
e.collectLoadTime_=function(){var a=this;this.cancelCollection_();this.startDormantLoadTimer_();var b=Infinity;this.collectionPromise_=Lf([].concat(ka(this.elementLoadPromises_.values())));this.collectionPromise_.then(function(c){var d=c.filter(function(b){return!!b&&!!b.parentNode&&a.visibleSet_.has(b)});
Wy("d_vpni",c.length);Wy("d_vpnfi",d.length);Wy("d_vpct",Fg());c=null;for(var f=0;f<d.length;f++){var g=d[f];if(!c||c.loadTime<g.loadTime)c=g}b=c?c.loadTime:-1;N.cancelJob(a.dormantJobId_);a.loadTimeResolver_.resolve(b)},function(){Wy("vpr",1)})};
e.getLoadTime=function(){this.elementLoadPromises_.size||this.loadTimeResolver_.resolve(0);this.scheduleCollection_();return this.loadTimeResolver_.promise};
e.getLastImageLoadTime=function(){for(var a=0,b=n(this.visibleSet_),c=b.next();!c.done;c=b.next())c=c.value.loadTime,Infinity!=c&&c>a&&(a=c);return a};
e.makeLoadTimeResolver_=function(){var a=this,b=Nf(),c=function(){a.sessionResolved_=!0};
b.promise.then(c,c);return b};
e.reset=function(){var a=this;this.cancelCollection_();N.cancelJob(this.dormantJobId_);this.elementLoadPromises_.clear();this.loadTimeResolver_.reject();this.sessionResolved_=!1;this.loadTimeResolver_.promise.thenAlways(function(){a.sessionResolved_=!1});
this.loadTimeResolver_=this.makeLoadTimeResolver_();this.visibleSet_.clear()};
Ga(fA);Polymer({is:"yt-img-shadow",behaviors:[S.YtVisibilityBehavior,T.YtRendererBehavior],properties:{delayedSrc:{type:String,observer:"delayedSrcChanged_"},thumbnail:{type:Object,observer:"thumbnailChanged_"},loaded:{type:Boolean,value:!1,reflectToAttribute:!0},notifyOnLoaded:Boolean,height:Number,width:Number,dimension:{type:{WIDTH:"width",HEIGHT:"height"},value:function(){return"width"}},
fit:{type:Boolean,reflectToAttribute:!0},objectFit:{type:String,reflectToAttribute:!0},objectPosition:{type:String,reflectToAttribute:!0},preferredThumbnail:String,alt_:{type:String,value:"",computed:"computeAlt_(thumbnail.accessibility.accessibilityData.label, loaded)"},sharedTooltipText:{type:String,reflectToAttribute:!0}},observeHiddenOption:null,observePrescanOption:"observe_once",observers:["observePlaceholderColor_(thumbnail.placeholderColor)"],EMPTY_GIF:K("NO_EMPTY_DATA_IMG",void 0)?"":"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
created:function(){this.empty_=!0;this.loadTime=Infinity;this.hasChange_=this.pendingPaint=this.excludeFromVpl=!1;this.oldThumbnail_=null;this.oldDelayedSrc_=""},
attached:function(){this.hasChange_&&this.thumbnailChanged_()},
ready:function(){var a=this.shouldShowPlaceholder_();(a||K("DISABLE_YT_IMG_DELAY_LOADING",!1)||!K("ENABLE_IMG_TRANSITION",!1))&&this.toggleClass("no-transition",!0);a&&this.classList.add("with-placeholder")},
isPreloaded:function(){return this.isThumbPreloaded_(this.thumbnail)},
isThumbPreloaded_:function(a){return!!this.get("webThumbnailDetailsExtensionData.isPreloaded",a)},
computeSrc_:function(){return this.delayedSrc||this.computeThumbnailSrc_(this.thumbnail)||this.EMPTY_GIF},
computeThumbnailSrc_:function(a){return a&&a.thumbnails?Km(a.thumbnails,"width"==this.dimension?this.width:this.height,this.preferredThumbnail,this.dimension):null},
computeAlt_:function(){var a=this.thumbnail&&this.thumbnail.accessibility&&this.thumbnail.accessibility.accessibilityData&&this.thumbnail.accessibility.accessibilityData.label;return this.loaded&&a||""},
thumbnailChanged_:function(){var a=n([this.thumbnail,this.oldThumbnail_]),b=a.next().value;a=a.next().value;this.oldThumbnail_=b;if(void 0===this.isAttached)this.hasChange_=!0;else{this.hasChange_=!1;if(this.loaded&&(a=this.computeThumbnailSrc_(a),this.computeThumbnailSrc_(b)==a))return;M("kevlar_attach_vimio_behavior")&&this.markDirtyVisibilityObserver();this.excludeFromVpl=!!this.get("webThumbnailDetailsExtensionData.excludeFromVpl",b);this.isThumbPreloaded_(b)?(this.loadTime=Infinity,this.setSrc_(this.thumbnail.thumbnails[0].url),
this.empty_=!1):b&&K("DISABLE_YT_IMG_DELAY_LOADING",!1)?this.loaded&&!this.empty_?Polymer.RenderStatus.afterNextRender(this,this.onReload_):Polymer.RenderStatus.afterNextRender(this,this.onShow_):this.resetImage_()}},
delayedSrcChanged_:function(){var a=this.oldDelayedSrc_;this.oldDelayedSrc_=this.delayedSrc;this.loaded&&this.delayedSrc==a||this.resetImage_()},
setSrc_:function(a){a?(this.$.img.src||this.classList.remove("empty"),this.$.img.src=a):(this.$.img.removeAttribute("src"),this.classList.add("empty"))},
resetImage_:function(){this.loaded=!1;this.loadTime=Infinity;var a=Hm.get(this);a&&(a.reject(),Hm.delete(this));this.pendingPaint&&(Jm.delete(this),this.pendingPaint=!1);this.empty_=!0;this.setSrc_(this.EMPTY_GIF);this.invalidate(!1)},
observePlaceholderColor_:function(){var a=this.thumbnail&&this.thumbnail.placeholderColor;a?this.style.backgroundColor=Zl(a):this.shouldShowPlaceholder_()||(this.style.backgroundColor="transparent")},
onLoad_:function(){this.$.img.src&&this.$.img.src!=this.EMPTY_GIF&&(Jm.add(this),this.pendingPaint=!0,Im||(Im=N.addInputPriorityJob(Lm)),this.notifyOnLoaded&&this.fire("yt-img-shadow-loaded"))},
onError_:function(){this.onLoad_()},
onPrescanVisible:function(){this.onShow_()},
onVisible:function(){fA.getInstance().shown(this)},
onShow_:function(){if(!this.loaded||this.empty_){this.empty_=!1;var a=this.computeSrc_();a!=this.$.img.src&&(this.loaded=!1,this.setSrc_(a))}},
onReload_:function(){this.empty_=!1;var a=this.computeSrc_();a!=this.$.img.src&&(this.loaded=!1,this.setSrc_(a))},
shouldShowPlaceholder_:function(){return M("kevlar_thumbnail_bg")}});Polymer({is:"yt-live-chat-super-sticker-pack-button-renderer",behaviors:[T.YtRendererBehavior],listeners:{"yt-img-shadow-loaded":"onIconLoaded_"},hostAttributes:{role:"button",tabindex:0},properties:{data:Object},onIconLoaded_:function(a){a=a.path?a.path[0]:a.target;a.parentNode&&a.parentNode.classList.add("icon-loaded")}});Polymer({is:"yt-live-chat-super-sticker-pack-backstory-renderer",behaviors:[T.YtRendererBehavior],properties:{data:Object},observers:["updateBackground_(data)"],updateBackground_:function(a){var b=this.$$("#container");a&&a.backgroundImage&&(a=Km(a.backgroundImage.thumbnails,b.width,b.preferredThumbnail),0==a.indexOf("//")&&(a="https:"+a),b.style.backgroundImage="url("+a+")")}});Polymer({is:"yt-live-chat-super-sticker-pack-item-button-renderer",behaviors:[Polymer.IronA11yKeysBehavior,R.YtActionHandlerBehavior,Q.YtActionSenderBehavior,T.YtRendererBehavior],listeners:{tap:"onTap_",focus:"onFocus_",blur:"onBlur_",mouseover:"onFocus_",mouseout:"onBlur_","yt-img-shadow-loaded":"onStickerLoaded_"},hostAttributes:{role:"button",tabindex:0},properties:{data:{type:Object,observer:"preloadImage_"}},observers:["updateChipStyles_(data)"],keyBindings:{"enter:keydown":"onTap_"},onTap_:function(){this.fire("yt-super-sticker-open-preview",
this.data.command.previewSuperStickerCommand)},
onStickerLoaded_:function(){this.$.unselected.classList.add("sticker-loaded")},
preloadImage_:function(a){a=a.stickerSneakPeekImage;var b=this.$$("#selected");a&&a.thumbnails&&(a=Km(a.thumbnails,b.width,b.preferredThumbnail),(new Image).src=a)},
onFocus_:function(){this.$.unselected.style.display="none";this.$.selected.style.display="block";this.markDirty()},
onBlur_:function(){this.$.unselected.style.display="block";this.$.selected.style.display="none"},
updateChipStyles_:function(a){a&&(a={"--yt-live-chat-paid-sticker-chip-background-color":this.colorFromDecimal_(a.moneyChipBackgroundColor),"--yt-live-chat-paid-sticker-chip-text-color":this.colorFromDecimal_(a.moneyChipTextColor)},this.updateStyles(a))},
colorFromDecimal_:function(a){a=parseInt(a,10);return $l(a)}});Polymer({is:"yt-live-chat-super-sticker-pack-renderer",behaviors:[O.YtRendererStamperBehavior,T.YtRendererBehavior],properties:{data:Object},hostAttributes:{tabindex:-1},stampDom:{"data.superStickerPackItemButtons":{id:"pack-stickers",mapping:{superStickerPackItemButtonRenderer:"yt-live-chat-super-sticker-pack-item-button-renderer"}},"data.packBackstory":{id:"backstory",mapping:{superStickerPackBackstoryRenderer:"yt-live-chat-super-sticker-pack-backstory-renderer"}}}});var Z={YtLiveChatBadgeTypeBehavior:{badgeType:function(a){return a?a.icon?a.icon.iconType.toLowerCase():a.customThumbnail?"member":"":""},
badgeTypeFromBadges:function(a){if(!a)return"";for(var b=0;b<a.length;b++){var c=a[b];if(c&&c.liveChatAuthorBadgeRenderer&&(c=this.badgeType(c.liveChatAuthorBadgeRenderer))&&"verified"!=c)return c}return""},
getBadge:function(a,b){return a?(a=a.find(function(a){return a&&a.liveChatAuthorBadgeRenderer?this.badgeType(a.liveChatAuthorBadgeRenderer)==b:null}.bind(this)))&&a.liveChatAuthorBadgeRenderer||null:null}}};Polymer({is:"yt-live-chat-author-badge-renderer",properties:{data:{type:Object,observer:"dataChanged_"},ariaLabel:{type:String,computed:"identity(data.accessibility.accessibilityData.label)",reflectToAttribute:!0},type:{type:String,computed:"badgeType(data)",reflectToAttribute:!0},sharedTooltipText:{type:String,computed:"identity(data.tooltip)",reflectToAttribute:!0}},behaviors:[Z.YtLiveChatBadgeTypeBehavior],dataChanged_:function(a){for(var b=Polymer.dom(this.$.image);b.firstChild;)b.removeChild(b.firstChild);
if(a)if(a.icon){var c=document.createElement("yt-icon");c.icon="live-chat-badges:"+a.icon.iconType.toLowerCase();b.appendChild(c)}else if(a.customThumbnail){c=document.createElement("img");var d;(d=(d=Km(a.customThumbnail.thumbnails,16))?Id(Ld(d)):null)?(c.src=d,b.appendChild(c),c.setAttribute("alt",this.ariaLabel)):sh(Error("Could not compute URL for thumbnail: "+JSON.stringify(a.customThumbnail)),"WARNING")}},
identity:function(a){return a}});Polymer({is:"yt-live-chat-author-chip",properties:{authorName:{type:Object},authorBadges:{type:Array},authorType:{type:String,computed:"badgeTypeFromBadges(authorBadges)"},badgesInsideChip:{type:Array,computed:"computeBadgesInsideChip_(authorBadges)"},badgesOutsideChip:{type:Array,computed:"computeBadgesOutsideChip_(authorBadges)"},verifiedHighlightsEnabled:{type:Boolean,value:function(){return M("enable_verified_author_highlights")},
reflectToAttribute:!0},isHighlighted:{type:Boolean,computed:"computeIsHighlighted_(authorBadges, verifiedHighlightsEnabled)",reflectToAttribute:!0}},behaviors:[hi.ComponentBehavior,O.YtRendererStamperBehavior,Z.YtLiveChatBadgeTypeBehavior],stampDom:{badgesOutsideChip:{id:"chat-badges",mapping:{liveChatAuthorBadgeRenderer:{component:"yt-live-chat-author-badge-renderer"}}},badgesInsideChip:{id:"chip-badges",mapping:{liveChatAuthorBadgeRenderer:{component:"yt-live-chat-author-badge-renderer"}}}},computeBadgesInsideChip_:function(a){return a?
a.filter(function(a){return"verified"==this.badgeType(a.liveChatAuthorBadgeRenderer)},this):[]},
computeBadgesOutsideChip_:function(a){return a?a.filter(function(a){a=this.badgeType(a.liveChatAuthorBadgeRenderer);return"verified"!=a&&"owner"!=a},this):[]},
computeIsHighlighted_:function(a,b){var c=!!this.getBadge(a,"owner");a=!!this.getBadge(a,"verified");return c||a&&b}});/*

 '--yt-lightsource-section1-color',
 '--yt-lightsource-section2-color',
 '--yt-lightsource-section3-color',
 '--yt-lightsource-navBarColor',
 '--yt-lightsource-primary-title-color',
 '--yt-lightsource-secondary-title-color',
 '--yt-lightsource-body-text-color',
 '--yt-lightsource-iron-activated-color',
 '--yt-lightsource-iron-inactive-color',
 '--yt-basic-background-color',
 '--yt-basic-foreground-title-color',
 '--yt-basic-foreground-body-color',
 '--yt-basic-foreground-activated-color'
*/
var gA="section1Color section2Color section3Color navBarColor primaryTitleColor secondaryTitleColor bodyTextColor ironActivatedColor ironInactiveColor".split(" "),hA=["backgroundColor","foregroundTitleColor","foregroundBodyColor","foregroundActivatedColor"],jA=function(a,b){if(b){var c={};gA.forEach(function(a){a=iA(b,a,"--yt-lightsource-");Object.assign(c,a)});
hA.forEach(function(a){a=iA(b,a,"--yt-basic-");Object.assign(c,a)});
a.updateStyles(c)}},iA=function(a,b,c){c+=Polymer.CaseMap.camelToDashCase(b);
var d={};a&&a[b]?(a=Zl(a[b]),d[c]=a):d[c]="";return d};Polymer({is:"yt-icon-button",behaviors:[Polymer.PaperRippleBehavior],properties:{label:String,disabled:{type:Boolean,reflectToAttribute:!0},pressed:Boolean,toggleable:Boolean,untabbable:Boolean},listeners:{down:"rippleDown_",up:"rippleUp_"},ready:function(){var a=this.$.button;a.addEventListener("focus",this.rippleDown_.bind(this));a.addEventListener("blur",this.rippleUp_.bind(this))},
computeTabIndex_:function(a){return a?-1:0},
computeButtonAriaPressed_:function(a){if(this.toggleable)return a?"true":"false"},
rippleDown_:function(){this.getRipple().downAction()},
rippleUp_:function(){this.getRipple().upAction()},
ensureRipple:function(a){var b=this._ripple;Polymer.PaperRippleBehavior.ensureRipple.apply(this,arguments);this._ripple&&this._ripple!==b&&(this._ripple.center=!0,this._ripple.classList.add("circle"))}});S.YtRenderButtonBehaviorImpl_={properties:{alignByText:{type:Boolean,value:!1,reflectToAttribute:!0},startJustified:{type:Boolean,value:!1,reflectToAttribute:!0},forceIconButton:{type:Boolean,value:!1},forceIconOnly:{type:Boolean,value:!1},noink:{type:Boolean,value:!1},showTooltips:{type:Boolean,value:!1},buttonRaised:{type:Boolean,value:!1},disabled:{type:Boolean,observer:"disabledChanged_",reflectToAttribute:!0},sendServiceEndpointWhenDisabled:{type:Boolean,value:!1},ellipsisTruncate:Boolean,buttonTooltipPosition:{type:String,
value:"bottom"},buttonSize:{type:String,reflectToAttribute:!0},endpoint:{type:Object,readOnly:!0},serviceEndpoint:{type:Object,readOnly:!0},command:{type:Object,readOnly:!0},buttonIcon:{type:String,readOnly:!0,observer:"buttonIconChanged_"},buttonText:{type:Object,readOnly:!0},buttonAccessibility:{type:Object,readOnly:!0},buttonTooltip:{type:String,readOnly:!0},buttonClass:{type:String,readOnly:!0,observer:"buttonClassChanged_"},iconPositionType:{type:String,readOnly:!0,observer:"iconPositionTypeChanged_"},
stampType_:{type:String,computed:"computeStampType_(forceIconButton, buttonText, buttonIcon, endpoint)",observer:"stampTypeChanged_"},componentReady_:Boolean},listeners:{focus:"addTooltips_",mouseenter:"addTooltips_",tap:"onYtButtonTap_"},observers:["isDisabledChanged_(data.isDisabled)","observeBasicPalette_(data.colorData.basicColorPaletteData)","dataChanged_(data, componentReady_)"],created:function(){this.elements_={};this.hasChange_=!1},
attached:function(){this.hasChange_&&this.stampTypeChanged_(this.stampType_)},
get container(){return this.root},onYtButtonTapHandler:function(){},
ytButtonServiceEndpointHandler:function(){},
updateRenderedElements:function(){if(this.elements_.endpoint){this.elements_.endpoint.data=this.endpoint;var a=this.computeHref_(this.endpoint);a?this.elements_.endpoint.setAttribute("href",a):this.elements_.endpoint.removeAttribute("href")}if(this.buttonClass){a=n(this.buttonClass.split(" "));for(var b=a.next();!b.done;b=a.next())b=b.value,this.toggleClass(b,!0),this.toggleClass(b,!0,this.elements_.button),this.toggleClass(b,!0,this.elements_.text)}this.elements_.icon&&(this.elements_.icon.icon=
this.buttonIcon);this.elements_.text&&(this.elements_.text.text=this.buttonText);this.elements_.button&&(a=null,this.buttonAccessibility&&(a=this.buttonAccessibility.label),"yt-icon-button"==this.elements_.button.is?this.elements_.button.label=a:a?this.elements_.button.setAttribute("aria-label",a):this.elements_.button.removeAttribute("aria-label"))},
dataChanged_:function(){this.updateRenderedElements()},
addTooltips_:function(){this.elements_.endpoint&&this.showTooltips&&this.buttonTooltip&&(this.elements_.tooltip||(this.elements_.tooltip=this.reuseEnabled_()?Em("paper-tooltip"):document.createElement("paper-tooltip"),this.elements_.tooltip.position=this.buttonTooltipPosition,this.elements_.tooltip.offset=8,this.elements_.tooltip.fitToVisibleBounds=!0,Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.tooltip)),Polymer.dom(this.elements_.tooltip).textContent=this.buttonTooltip)},
buttonClassChanged_:function(a,b){if(b)for(a=n(b.split(" ")),b=a.next();!b.done;b=a.next())b=b.value,this.toggleClass(b,!1),this.toggleClass(b,!1,this.elements_.button),this.toggleClass(b,!1,this.elements_.text)},
buttonIconChanged_:function(a){a&&this.stampType_&&"paper_button"==this.stampType_&&!this.elements_.icon?this.addIconElementToPaperButton_():this.elements_.icon&&(this.elements_.icon.icon=this.buttonIcon)},
addIconElementToPaperButton_:function(){this.elements_.icon=this.getIcon_();this.elements_.button&&(this.iconPositionType&&"BUTTON_ICON_POSITION_TYPE_LEFT_OF_TEXT"!=this.iconPositionType?"BUTTON_ICON_POSITION_TYPE_RIGHT_OF_TEXT"==this.iconPositionType&&Polymer.dom(this.elements_.button).appendChild(this.elements_.icon):Polymer.dom(this.elements_.button).insertBefore(this.elements_.icon,this.elements_.text))},
stampTypeChanged_:function(a){if(void 0===this.isAttached)this.hasChange_=!0;else if(this.hasChange_=!1,this.emptyContainer_(),this.elements_={},this.componentReady_=!1,a){var b=!1;this.elements_.endpoint=document.createElement("a");this.elements_.endpoint.classList.add("yt-simple-endpoint");this.elements_.endpoint.tabIndex=-1;switch(a){case "yt_icon_button_with_label":b=!0;this.toggleClass("force-icon-button",!0);this.elements_.button=this.getYtIconButton_();a=Polymer.dom(this.elements_.button).firstElementChild;
this.elements_.icon=a;this.elements_.text=this.getFormattedString_();this.elements_.text.id="text";this.elements_.text.ellipsisTruncate=this.ellipsisTruncate;Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.button);Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.text);break;case "paper_button":this.elements_.button=this.reuseEnabled_()?Em("paper-button"):document.createElement("paper-button");this.elements_.text=this.getFormattedString_();this.elements_.text.id="text";
this.elements_.text.ellipsisTruncate=this.ellipsisTruncate;this.elements_.button.raised=this.buttonRaised;Polymer.dom(this.elements_.button).appendChild(this.elements_.text);Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.button);this.buttonIcon&&this.addIconElementToPaperButton_();break;case "yt-icon-button":b=!0,this.elements_.button=this.getYtIconButton_(),a=Polymer.dom(this.elements_.button).firstElementChild,this.elements_.icon=a,Polymer.dom(this.elements_.endpoint).appendChild(this.elements_.button)}this.toggleAttribute("is-icon-button",
b);this.toggleAttribute("is-paper-button",!b);this.toggleAttribute("has-no-text",!this.elements_.text);this.elements_.button.id="button";this.elements_.button.noink=this.noink;this.elements_.button.disabled=this.disabled;Polymer.dom(this.container).appendChild(this.elements_.endpoint);this.componentReady_=!0}},
iconPositionTypeChanged_:function(){this.iconPositionType&&(this.elements_.button&&this.elements_.icon&&Polymer.dom(this.elements_.button).removeChild(this.elements_.icon),this.addIconElementToPaperButton_(),this.elements_.icon.icon=this.buttonIcon)},
isDisabledChanged_:function(a){if(void 0!=a||this.disabled)this.disabled=a,this.elements_.button&&(this.elements_.button.disabled=a)},
observeBasicPalette_:function(a){jA(this,a)},
disabledChanged_:function(a){this.data&&this.set("data.isDisabled",a)},
onYtButtonTap_:function(a){this.disabled?(a.stopImmediatePropagation(),this.sendServiceEndpointWhenDisabled&&this.serviceEndpoint&&this.sendServiceRequestAction([this.serviceEndpoint])):(this.serviceEndpoint&&(this.sendServiceRequestAction([this.serviceEndpoint]),this.fire("yt-execute-service-endpoint",{serviceEndpoint:this.serviceEndpoint})),this.data&&this.data.command&&(a=this.data.command,a.accountUnlinkCommand||a.accountLinkCommand||a.insertAdCommand||a.createLivestreamHighlightClipCommand?this.sendServiceRequestAction([a]):
this.sendInnerTubeActions([a],this)))},
computeStampType_:function(a,b,c){return a&&b&&c?"yt_icon_button_with_label":b?"paper_button":c?"yt-icon-button":null},
emptyContainer_:function(){for(var a=Polymer.dom(this.container);a.lastChild&&"STYLE"!=a.lastChild.tagName;)a.removeChild(a.lastChild)},
getYtIconButton_:function(){var a=this.reuseEnabled_()?Em("yt-icon-button"):document.createElement("yt-icon-button"),b=Polymer.dom(a).firstElementChild;if(b&&"yt-icon"!=b.is){for(b=Polymer.dom(a);b.lastChild;)b.removeChild(b.lastChild);b=null}b||(b=this.getIcon_(),Polymer.dom(a).appendChild(b));return a},
reuseEnabled_:function(){return M("enable_button_behavior_reuse")},
getIcon_:function(){return this.reuseEnabled_()?Em("yt-icon"):document.createElement("yt-icon")},
getFormattedString_:function(){return this.reuseEnabled_()?Em("yt-formatted-string"):document.createElement("yt-formatted-string")}};
S.YtRenderButtonBehavior=[T.YtRendererBehavior,Q.YtActionSenderBehavior,mm.YtEndpointBehavior,S.YtRenderButtonBehaviorImpl_];S.YtButtonBehaviorImpl_={properties:{data:Object},observers:["stateChanged_(data)","stateChanged_(data.style)","stateChanged_(forceIconOnly)"],stateChanged_:function(){var a=this.data;a&&(this._setEndpoint(this.computeEndpoint_(a)),this._setServiceEndpoint(this.computeServiceEndpoint_(a)),this._setCommand(this.computeCommand_(a)),this._setButtonIcon(this.computeButtonIcon_(a)),this._setButtonText(this.computeButtonText_(a,this.forceIconOnly)),this._setButtonAccessibility(this.computeAccessibility_(a)),
this._setButtonTooltip(this.computeTooltip_(a)),this._setButtonClass(this.computeButtonClass_(a)),this._setIconPositionType(this.computeIconPositionType_(a)),this.updateRenderedElements())},
computeIconPositionType_:function(a){return a&&a.iconPosition||null},
computeEndpoint_:function(a){var b=a&&a.navigationEndpoint,c=this.get("data.command.commandMetadata.webCommandMetadata.url"),d=this.get("data.command.commandMetadata.webCommandMetadata.sendPost");return b?b:c&&!d&&a.command?a.command:null},
computeServiceEndpoint_:function(a){var b=a&&a.serviceEndpoint,c=this.get("data.command.commandMetadata.webCommandMetadata.sendPost");return b?b:c&&a.command?a.command:null},
computeCommand_:function(a){return a&&a.command||null},
computeButtonIcon_:function(a){return a&&a.icon&&a.icon.iconType?Yh(a.icon.iconType):null},
computeButtonText_:function(a,b){return!b&&a&&a.text||null},
computeAccessibility_:function(a){return this.get("accessibilityData.accessibilityData",a)||a&&a.accessibility||null},
computeTooltip_:function(a){return a&&a.tooltip||null},
computeButtonClass_:function(a){var b=a&&a.style?a.style.toLowerCase().replace(/_/g,"-")+" ":"";b+=a&&a.size?a.size.toLowerCase().replace(/_/g,"-")+" ":"";return b.trim()}};
S.YtButtonBehavior=[S.YtRenderButtonBehavior,S.YtButtonBehaviorImpl_];Polymer({is:"yt-button-renderer",behaviors:[fm.YtOpenPopupBehavior,S.YtButtonBehavior],listeners:{"yt-navigate":"onYtNavigate_"},created:function(){this.openPopupConfig=K("openPopupConfig");this.showTooltips=!0},
onYtNavigate_:function(a){var b=this.getNavigationEndpointPopupAction(a.detail.endpoint);b&&(this.openPopup(b),a.stopPropagation(),a.preventDefault())}});Z.YtLiveChatItemBehaviorImpl_={properties:{id:{type:String,computed:"identity(data.id)",reflectToAttribute:!0},timestampString:{type:String,computed:"computeTimestampString(data)"},popupPositionTarget:{type:Element,value:function(){return this.$["menu-button"]}},
menuVisible:{type:Boolean,computed:"computeMenuVisible_(menuOpen, menuFocused)",reflectToAttribute:!0},menuOpen:{type:Boolean,value:!1},menuFocused:{type:Boolean,value:!1},emojiManager:Object,participantsManager:Object,isDeleted:{type:Boolean,value:!1,computed:"truthy(data.deletedStateMessage)",reflectToAttribute:!0},hasOriginalContent:{type:Boolean,value:!1,computed:"truthy(data.showOriginalContentMessage)"},hasInlineActionButtons:{type:Boolean,computed:"computeHasInlineActionButtons_(data)",reflectToAttribute:!0}},
supportsInlineActionButtons:!1,listeners:{"yt-popup-opened":"onYtPopupOpened_","yt-popup-closed":"onYtPopupClosedOrCanceled_","yt-popup-canceled":"onYtPopupClosedOrCanceled_"},TIME_FORMATTER:new dx(7),beforeRegister:function(){this.supportsInlineActionButtons&&(this.stampDom||(this.stampDom={}),this.stampDom["data.inlineActionButtons"]={id:"inline-action-buttons",mapping:{buttonRenderer:"yt-button-renderer"}})},
ready:function(){var a=this.$["inline-action-button-container"];a&&Polymer.dom(a).setAttribute("aria-hidden","true")},
attached:function(){var a=this.$["menu-button"];a&&(this.listen(a,"focusin","onMenuButtonFocus_"),this.listen(a,"focusout","onMenuButtonBlur_"))},
detached:function(){var a=this.$["menu-button"];a&&(this.unlisten(a,"focusin","onMenuButtonFocus_"),this.unlisten(a,"focusout","onMenuButtonBlur_"))},
identity:function(a){return a},
truthy:function(a){return!!a},
computeTimestampString:function(a){return a?a.timestampText?this.getSimpleString(a.timestampText):this.TIME_FORMATTER.format(new Date(a.timestampUsec/1E3)):""},
computeMenuVisible_:function(a,b){return a||b},
computeHasInlineActionButtons_:function(a){return a?a.inlineActionButtons&&a.inlineActionButtons.length||a.additionalInlineActionButtons&&a.additionalInlineActionButtons.length:!1},
createDocumentFragmentFromString:function(a){if(!this.participantsManager||!this.participantsManager.viewerRegex)return this.emojiManager.createDocumentFragment(a);for(var b=document.createDocumentFragment(),c=0,d;null!=(d=this.participantsManager.viewerRegex.exec(a));){if(0<d.index){var f=":"+d[0]+":";if((this.emojiManager.getEmojiById(f)||this.emojiManager.getEmojiByShortcut(f))&&a.indexOf(f)==d.index-1)continue}b.appendChild(this.emojiManager.createDocumentFragment(a.substring(c,d.index)));c=document.createElement("span");
c.appendChild(this.emojiManager.createDocumentFragment(d[0]));c.classList.add("mention");b.appendChild(c);c=d.index+d[0].length}b.appendChild(this.emojiManager.createDocumentFragment(a.substr(c)));return b},
createDocumentFragment:function(a){var b=document.createDocumentFragment();if(a.simpleText)return b.appendChild(this.createDocumentFragmentFromString(a.simpleText)),b;if(!a.runs)return b;for(var c=0;c<a.runs.length;c++){var d=a.runs[c];if(d.emoji)b.appendChild(this.emojiManager.createEmoji(d.emoji));else if(d.text)if(d.navigationEndpoint){var f=document.createElement("a");f.classList.add("yt-simple-endpoint");Sh(f,d.navigationEndpoint);Polymer.dom(f).appendChild(this.createDocumentFragmentFromString(d.text));
b.appendChild(f)}else b.appendChild(this.createDocumentFragmentFromString(d.text))}return b},
colorFromDecimal:function(a){a=parseInt(a,10);return"rgba("+[a>>16&255,a>>8&255,a&255,(a>>24&255)/255].join()+")"},
markAsDeleted:function(a,b){this.set("data.deletedStateMessage",a);this.set("data.showOriginalContentMessage",b)},
onMenuButtonFocus_:function(){this.menuFocused=!0},
onMenuButtonBlur_:function(){this.menuFocused=!1},
showContextMenu:function(a){this.data.contextMenuEndpoint&&(this.getInterface(uk).requestDataForEndpoint(this.data.contextMenuEndpoint).then(this.handleGetContextMenuResponse_,null,this),a&&a.stopPropagation())},
handleGetContextMenuResponse_:function(a){a=a.response;a.liveChatItemContextMenuSupportedRenderers&&a.liveChatItemContextMenuSupportedRenderers.menuRenderer&&this.showContextMenu_(a.liveChatItemContextMenuSupportedRenderers.menuRenderer);a.actions&&this.sendAction("yt-live-chat-actions",[a.actions])},
showContextMenu_:function(a){this.openPopup({openPopupAction:{popupType:"DROPDOWN",popup:{menuPopupRenderer:a}}})},
onYtPopupOpened_:function(){this.menuOpen=!0;this.fire("yt-live-chat-context-menu-opened")},
onYtPopupClosedOrCanceled_:function(){this.menuOpen=!1;this.fire("yt-live-chat-context-menu-closed")}};
Z.YtLiveChatItemBehavior=[Z.YtLiveChatItemBehaviorImpl_,hi.ComponentBehavior,fm.YtOpenPopupBehavior,Q.YtActionSenderBehavior];Polymer({is:"yt-live-chat-paid-sticker-renderer",properties:{data:Object,authorPhotoSize:{type:Number,value:24},stickerWidth:{type:Number,computed:"computeStickerWidth_(data)"},stickerHeight:{type:Number,computed:"computeStickerHeight_(data)"},isHighlighted:{type:Boolean,computed:"computeIsHighlighted_(data)",reflectToAttribute:!0}},listeners:{"yt-img-shadow-loaded":"onStickerLoaded_"},observers:["isDeletedChanged_(isDeleted)","updateChipStyles_(data)"],ready:function(){var a=document.querySelector("yt-live-chat-app");
a&&a.hasAttribute("dashboard-money-feed")&&Polymer.dom(this).setAttribute("dashboard-money-feed",!0)},
attached:function(){this.hasAttribute("dashboard-money-feed")&&(this.authorPhotoSize=40)},
behaviors:[T.YtRendererBehavior,Z.YtLiveChatBadgeTypeBehavior,Z.YtLiveChatItemBehavior],onStickerLoaded_:function(){this.$["sticker-container"].classList.add("sticker-loaded")},
computeStickerWidth_:function(a){return a&&a.stickerDisplayWidth||96},
computeStickerHeight_:function(a){return a&&a.stickerDisplayWidth||96},
isDeletedChanged_:function(a){a&&(this.set("data.detailText",null),this.set("data.superStickerIcon",null),this.set("data.sticker",null))},
updateChipStyles_:function(a){a&&(a={"--yt-live-chat-paid-sticker-chip-background-color":this.colorFromDecimal(a.moneyChipBackgroundColor),"--yt-live-chat-paid-sticker-chip-text-color":this.colorFromDecimal(a.moneyChipTextColor)},this.updateStyles(a))},
computeIsHighlighted_:function(a){return!!this.getBadge(a.authorBadges,"owner")}});Polymer({is:"yt-live-chat-error-message-renderer",properties:{data:Object,icon:{type:String,computed:"computeIcon_(data.icon)"}},dismiss:function(){this.fire("yt-live-chat-error-message-dismiss")},
computeIcon_:function(a){return a&&a.iconType?"yt-icons:"+a.iconType.toLowerCase():"yt-icons:close"}});Polymer({is:"yt-live-chat-super-sticker-preview-renderer",actionMap:{"yt-signal-action-submit-form":"handleSignalActionSubmitForm_","yt-wallet-dialog-closed":"onWalletDialogClosed_","yt-wallet-dialog-completed":"onWalletDialogCompleted_","yt-open-payments-dialog":"onOpenPaymentsDialog_"},behaviors:[O.YtRendererStamperBehavior,R.YtActionHandlerBehavior,Q.YtActionSenderBehavior,T.YtRendererBehavior],hostAttributes:{tabindex:0},listeners:{"yt-live-chat-error-message-dismiss":"onErrorMessageDismiss_"},
properties:{data:Object,selectedPage:{type:Number,value:0},errorRenderer:{type:Object,readOnly:!0,observer:"errorRendererObserver_"}},stampDom:{errorRenderer:{id:"error",mapping:{liveChatErrorMessageRenderer:"yt-live-chat-error-message-renderer"}},"data.liveChatPaidSticker":{id:"paid-sticker-renderer",mapping:{liveChatPaidStickerRenderer:{component:"yt-live-chat-paid-sticker-renderer",params:{authorPhotoSize:24}}}},"data.buyButton":{id:"buy-button",mapping:{buttonRenderer:"yt-button-renderer"}},"data.backButton":{id:"back-button",
mapping:{buttonRenderer:"yt-button-renderer"}}},handleSignalActionSubmitForm_:function(){this.sendAction("yt-super-sticker-start-buy-flow",[this.data.buyButton.buttonRenderer.command,this.data.buyButton.buttonRenderer.command.ypcGetCartEndpoint.stickerParams,this.buyFlowCallback_.bind(this)])},
onErrorMessageDismiss_:function(){this._setErrorRenderer(null)},
onBackTap_:function(){this.fire("yt-super-sticker-close-preview")},
onBuyButtonTap_:function(){this.$.loading.style.height=this.$.preview.clientHeight+"px";this.$.blank.style.height=this.$.preview.clientHeight+"px";this.selectedPage=1},
onCloseTap_:function(){this.sendAction("yt-live-chat-close-buy-flow")},
onWalletDialogClosed_:function(){this.selectedPage=0},
onWalletDialogCompleted_:function(){this.selectedPage=1;this.fire("yt-super-sticker-close-preview")},
onOpenPaymentsDialog_:function(){this.selectedPage=2},
closeBuyFlow:function(){this.sendAction("yt-live-chat-close-buy-flow")},
buyFlowCallback_:function(a){a.success?(a.response&&a.response.data&&a.response.data.actions&&this.sendAction("yt-live-chat-actions",[a.response.data.actions]),this.closeBuyFlow()):(this.selectedPage=0,a.error&&a.error.data&&a.error.data.messageRenderer?this.handleMessageRenderer_(a.error.data.messageRenderer):a.error&&a.error.error&&a.error.error.message?this.handleErrorMessage_(a.error.error.message):a.error&&a.error.result&&a.error.result.error&&a.error.result.error.message&&this.handleErrorMessage_(a.error.result.error.message))},
handleMessageRenderer_:function(a){var b=Lh(a,"renderer");if("confirmDialogRenderer"===b){var c=K("openPopupConfig");c&&this.sendAction("yt-open-popup-action",[{openPopupAction:{popupType:c.popupTypeMap[b],popup:a}},this])}else this._setErrorRenderer(a)},
handleErrorMessage_:function(a){this._setErrorRenderer({liveChatErrorMessageRenderer:{errorText:{runs:[{text:a}]}}})},
errorRendererObserver_:function(a){a?Polymer.dom(this.$.error).setAttribute("role","alert"):Polymer.dom(this.$.error).removeAttribute("role")},
resetState:function(){this._setErrorRenderer(null)}});var kA=new Xj("yt-pdg");Polymer({is:"yt-live-chat-paid-sticker-panel-renderer",actionMap:{"yt-live-chat-close-buy-flow":"resetState_"},behaviors:[R.YtActionHandlerBehavior,Q.YtActionSenderBehavior,O.YtRendererStamperBehavior,T.YtRendererBehavior],properties:{data:{type:Object,observer:"dataChanged_"},selectedIndex:{type:Number,value:function(){return Number(kA.get("default-pack-index"))||0},
readOnly:!0},isPreviewHidden:{type:Boolean,value:!0}},stampDom:{"data.helpButton":{id:"help",mapping:{buttonRenderer:"yt-button-renderer"}},"data.backButton":{id:"close",mapping:{buttonRenderer:"yt-button-renderer"}},"data.superStickerPacks":{id:"stickers-container",mapping:{superStickerPackRenderer:"yt-live-chat-super-sticker-pack-renderer"}}},listeners:{"yt-super-sticker-close-preview":"closePreview_","yt-super-sticker-open-preview":"onStickerTap_"},dataChanged_:function(a){a.defaultStickerPackIndex&&
this.setSelectTab_(a.defaultStickerPackIndex)},
isSelected_:function(a){return a==this.selectedIndex},
setSelectTab_:function(a){var b=this.$.header.querySelectorAll("yt-live-chat-super-sticker-pack-button-renderer");this._setSelectedIndex(a);kA.set("default-pack-index",a);for(var c=0;c<b.length;c++)c==a?b[c].setAttribute("selected",""):b[c].removeAttribute("selected")},
onSelectedTabChanged:function(a,b){this.setSelectTab_(b.value);this.querySelector("#stickers-container").focus();this.markDirty()},
onHelpTap_:function(){var a=this.$$("#help yt-button-renderer").command;a&&this.sendInnerTubeActions([a],this)},
onStickerTap_:function(a,b){this.$.preview.data=b.stickerPreview.superStickerPreviewRenderer;this.isPreviewHidden=!1;this.$.preview.focus();a.stopPropagation()},
onCloseTap_:function(){this.sendAction("yt-live-chat-close-buy-flow")},
closePreview_:function(){this.$.preview.data=null;this.isPreviewHidden=!0;this.$.preview.resetState()},
resetState_:function(){this.closePreview_()}});Z.YtLiveChatTickerItemBehaviorImpl_={properties:{containerStyle:{type:String,computed:"computeContainerStyle(data, ratio)"},dimmed:{type:Boolean,value:!1,reflectToAttribute:!0},selected:{type:Boolean,value:!1},ratio:{type:Number,value:0},ariaLabel:{type:String,value:null,reflectToAttribute:!0},shouldAnimateIn:Boolean,isAnimationPaused:{type:Boolean,value:!1,observer:"handleIsAnimationPausedChanged_"}},listeners:{tap:"onTap_",keypress:"onKeyPress_"},observers:["updateWidthOnDataChanged_(data)","deletedChanged_(isDeleted)"],
hostAttributes:{role:"button",tabindex:0},behaviorActionMap_:{"yt-live-chat-pause-replay":"handlePauseReplay_","yt-live-chat-resume-replay":"handleResumeReplay_","yt-live-chat-replay-progress":"handleReplayProgress_"},attached:function(){this.registerActionMap(this.behaviorActionMap_)},
created:function(){this.countdownMs_=this.countdownDurationMs_=0;this.lastCountdownTimeMs_=null;this.detlaSincePausedSecs_=this.playerProgressSec_=this.rafId_=0},
updateWidthOnDataChanged_:function(){this.style.width="auto";this.style.overflow="visible"},
startCountdown:function(a,b){void 0!=a&&(this.countdownMs_=1E3*a,this.countdownDurationMs_=b?1E3*b:this.countdownMs_,this.ratio=1,this.lastCountdownTimeMs_||this.isAnimationPaused||(this.lastCountdownTimeMs_=performance.now(),this.rafId_=window.requestAnimationFrame(this.updateTimeout_.bind(this))))},
updateTimeout_:function(a){this.countdownMs_=Math.max(0,this.countdownMs_-(a-this.lastCountdownTimeMs_));this.ratio=this.countdownMs_/this.countdownDurationMs_;this.isAttached&&this.countdownMs_?(this.lastCountdownTimeMs_=a,this.rafId_=window.requestAnimationFrame(this.updateTimeout_.bind(this))):(this.lastCountdownTimeMs_=null,this.isAttached&&("auto"==this.style.width&&this.setContainerWidth(),this.slideDown_()))},
setContainerWidth:function(){var a=this.$.container.clientWidth;0==a?(this.style.overflow="visible",this.style.width="auto"):(this.style.overflow="hidden",this.shouldAnimateIn?(this.style.width=0,this.async(function(){this.style.width=a+"px"},1)):this.style.width=a+"px")},
slideDown_:function(){this.classList.add("sliding-down");this.async(this.collapse_,200)},
collapse_:function(){this.classList.add("collapsing");this.style.width="0";this.async(this.requestRemoval_,200)},
requestRemoval_:function(){this.fire("yt-live-chat-ticker-remove-ticker-item",this.data.id);this.classList.remove("sliding-down");this.classList.remove("collapsing");this.style.overflow="visible";this.style.width="auto"},
computeContainerStyle:function(a,b){if(!a)return"";var c=this.colorFromDecimal(a.startBackgroundColor);a=this.colorFromDecimal(a.endBackgroundColor);b=100*b+"%";return"background: linear-gradient(90deg, "+c+","+c+" "+b+","+a+" "+b+","+a+");"},
onTap_:function(){this.data.showItemEndpoint&&this.fire("yt-navigate",{endpoint:this.data.showItemEndpoint})},
onKeyPress_:function(a){if(13==a.keyCode)this.onTap_()},
deletedChanged_:function(a){a&&(this.style.overflow="visible",this.style.width="auto",this.async(this.setContainerWidth));if(a=this.get("data.showItemEndpoint.showLiveChatItemEndpoint.renderer"))a=Object.keys(a)[0],this.set("data.showItemEndpoint.showLiveChatItemEndpoint.renderer."+a+".deletedStateMessage",this.data.deletedStateMessage),this.selected&&this.fire("yt-live-chat-pinned-message-update")},
handlePauseReplay_:function(){this.isAnimationPaused=!0;this.detlaSincePausedSecs_=0},
handleResumeReplay_:function(){this.isAnimationPaused=!1},
handleIsAnimationPausedChanged_:function(a,b){a?window.cancelAnimationFrame(this.rafId_):!a&&b&&(a=this.lastCountdownTimeMs_,this.detlaSincePausedSecs_&&(a=this.lastCountdownTimeMs_+1E3*this.detlaSincePausedSecs_,this.detlaSincePausedSecs_=0),this.updateTimeout_(a),this.lastCountdownTimeMs_=window.performance.now())},
handleReplayProgress_:function(a){this.isAnimationPaused?this.detlaSincePausedSecs_=Math.floor(a-this.playerProgressSec_):this.playerProgressSec_=a}};
Z.YtLiveChatTickerItemBehavior=[R.YtActionHandlerBehavior,Z.YtLiveChatItemBehavior,Z.YtLiveChatTickerItemBehaviorImpl_];Polymer({is:"yt-live-chat-ticker-paid-sticker-item-renderer",properties:{data:{type:Object,observer:"dataChanged_"}},behaviors:[T.YtRendererBehavior,Z.YtLiveChatTickerItemBehavior],dataChanged_:function(a){a&&(1<a.tickerThumbnails.length&&this.$.content.classList.add("multiple-thumbnails"),this.startCountdown(a.durationSec,a.fullDurationSec),this.async(this.setContainerWidth))}});var lA=function(){this.replayQueue_=new qx;this.lastVideoOffsetTimeMsec=0};
lA.prototype.addReplayChatItemAction=function(a){this.replayQueue_.enqueue(a);this.lastVideoOffsetTimeMsec=parseInt(a.videoOffsetTimeMsec||0,10)};
lA.prototype.getActionsAfterElapsedTime=function(a){for(var b=this.replayQueue_.peek(),c=[];b&&a>=b.videoOffsetTimeMsec;)b=this.replayQueue_.dequeue(),c=c.concat(b.actions||[]),b=this.replayQueue_.peek();return c};
lA.prototype.getTimeUntilLastAction=function(a){return this.lastVideoOffsetTimeMsec-a};
lA.prototype.clear=function(){this.replayQueue_.clear();this.lastVideoOffsetTimeMsec=0};var mA=function(){this.lastUpdateTime_=this.estimatedUpdateInterval_=this.callback=null;this.messageQueue_=[];this.nextUpdateId_=null;this.pollResponseDelayQueue_=new qx};
mA.prototype.enqueueActionGroup=function(a){if(this.lastUpdateTime_){var b=A()-this.lastUpdateTime_;this.pollResponseDelayQueue_.enqueue(b);5<this.pollResponseDelayQueue_.getCount()&&this.pollResponseDelayQueue_.dequeue();this.estimatedUpdateInterval_=Math.max.apply(null,this.pollResponseDelayQueue_.getValues())}this.lastUpdateTime_=A();b=[];for(var c=0;c<a.length;c++){var d=a[c];d.addChatItemAction&&b.length&&(this.messageQueue_.push(b),b=[]);b.push(d)}b.length&&this.messageQueue_.push(b);this.nextUpdateId_||
(this.nextUpdateId_=window.setTimeout(this.emitSmoothedMessages_.bind(this)))};
mA.prototype.emitSmoothedMessages_=function(){this.nextUpdateId_=null;if(this.messageQueue_.length){var a=1E4;this.estimatedUpdateInterval_&&(a=this.estimatedUpdateInterval_-A()+this.lastUpdateTime_);var b=this.messageQueue_.length<a/80?1:Math.ceil(this.messageQueue_.length/(a/80));var c=mb(this.messageQueue_.splice(0,b));this.callback&&this.callback(c);this.messageQueue_.length&&(1==b?(b=a/this.messageQueue_.length,b*=Math.random()+.5,b=Math.min(1E3,b),b=Math.max(80,b)):b=80,this.nextUpdateId_=window.setTimeout(this.emitSmoothedMessages_.bind(this),
b))}};var nA=function(){this.callback=null;this.actionQueue_=[];this.lastPollTimeMs_=A();this.lastUpdateTimeMs_=performance.now();this.currentTimestampUs_=-1;this.pollIntervalsMs_=new Hn(5);this.timestampScale_=1;this.animationFrameRequestId_=this.emitDelayMs_=0};
e=nA.prototype;e.calculatePollIntervalUs_=function(){var a=this.pollIntervalsMs_.getValues().reduce(function(a,c){return c?Math.min(a,c):a},Number.POSITIVE_INFINITY);
return a==Number.POSITIVE_INFINITY?0:1E3*a};
e.calculateTimescale_=function(){var a=this.findFirstTimestampUs_(),b=this.findLastTimestampUs_();if(-1!=a&&-1!=b&&b>a){var c=this.calculatePollIntervalUs_();if(c)return(b-a)/c}return 1};
e.enqueueActionGroup=function(a){var b=A(),c=b-this.lastPollTimeMs_;this.lastPollTimeMs_=b;this.pollIntervalsMs_.add(c);this.actionQueue_.push.apply(this.actionQueue_,ka(a));this.timestampScale_=this.calculateTimescale_();this.currentTimestampUs_=this.findFirstTimestampUs_();this.animationFrameRequestId_||(this.lastUpdateTimeMs_=performance.now(),this.emitSmoothedMessages_(this.lastUpdateTimeMs_))};
e.getTimestampUsForAddChatItemAction_=function(a){if(a.addChatItemAction){a=a.addChatItemAction.item;var b=Object.keys(a)[0];a=a[b];if(a.timestampUsec)return parseInt(a.timestampUsec,10)}return-1};
e.findFirstTimestampUs_=function(){for(var a=n(this.actionQueue_),b=a.next();!b.done;b=a.next())if(b=this.getTimestampUsForAddChatItemAction_(b.value),-1!=b)return b;return-1};
e.findLastTimestampUs_=function(){for(var a=this.actionQueue_.length-1;0<=a;a--){var b=this.getTimestampUsForAddChatItemAction_(this.actionQueue_[a]);if(-1!=b)return b}return-1};
e.emitSmoothedMessages_=function(a){var b=this;if(this.callback&&this.actionQueue_.length){this.animationFrameRequestId_=window.requestAnimationFrame(function(a){return b.emitSmoothedMessages_(a)});
var c=a-this.lastUpdateTimeMs_;this.lastUpdateTimeMs_=a;this.emitDelayMs_-=c;this.currentTimestampUs_+=Math.floor(1E3*c*this.timestampScale_);if(!(0<this.emitDelayMs_)){for(c=a=0;c<this.actionQueue_.length;c++){var d=this.getTimestampUsForAddChatItemAction_(this.actionQueue_[c]);if(-1!=d&&d>this.currentTimestampUs_)break;a=c+1}a&&(this.callback(this.actionQueue_.splice(0,a)),this.emitDelayMs_=84)}}else this.animationFrameRequestId_=0,this.actionQueue_.length=0};Polymer({is:"yt-live-chat-message-subtext-renderer",properties:{data:Object}});Polymer({is:"yt-live-chat-message-renderer",properties:{data:Object,subtextOnBottom:{type:Boolean,value:!1,reflectToAttribute:!0}},behaviors:[T.YtRendererBehavior,O.YtRendererStamperBehavior],stampDom:{"data.button":{id:"button",mapping:{buttonRenderer:"yt-button-renderer"}},"data.subtext":{id:"subtext",mapping:{messageSubtextRenderer:"yt-live-chat-message-subtext-renderer"}}}});Polymer({is:"yt-live-chat-replay-continuation",properties:{data:{type:Object,observer:"dataChanged_"},timeRemainingMsecs:{type:Number,observer:"timeRemainingChanged_"}},created:function(){this.hasFired_=!1},
dataChanged_:function(){this.hasFired_=!1},
timeRemainingChanged_:function(a){this.data&&!this.hasFired_&&a<=this.data.timeUntilLastMessageMsec&&(this.hasFired_=!0,this.fire("yt-load-replay-continuation",this.getContinuationUrl.bind(this)))},
getContinuationUrl:function(a){var b={ctoken:this.data.continuation};this.data.clickTrackingParams&&(b.itct=this.data.clickTrackingParams);return vg(a,b)}});function oA(a){var b=a.querySelector("yt-supported-renderers");if(b&&(b=b.rendererElement)&&"yt-reload-continuation"==b.is){b.trigger();return}(a=a.querySelector("yt-reload-continuation"))&&a.trigger()}
;Polymer({is:"yt-invalidation-continuation",properties:{data:{type:Object,observer:"dataChanged"},isReusable:{type:Boolean,value:!1},tangoConfiguration:{type:Object,value:function(){return E.unsafeClone(K("LIVE_CHAT_BASE_TANGO_CONFIG",void 0))}},
invalidationTag:{type:String,value:"youtubeLiveComments"}},created:function(){this.manager_=pA.getInstance();this.triggered_=!1;this.timeoutAsyncHandle_=this.managerHandle_=null},
attached:function(){this.data&&this.subscribe_(this.data)},
detached:function(){this.data&&this.unsubscribe_(this.data)},
dataChanged:function(a,b){this.triggered_=!1;b&&this.unsubscribe_(b);a&&this.isAttached&&this.subscribe_(a)},
subscribe_:function(a){this.managerHandle_=this.manager_.subscribe(a,this.trigger_.bind(this,!1),this.tangoConfiguration,this.invalidationTag)||null;this.timeoutAsyncHandle_=this.async(this.trigger_.bind(this,!0),a.timeoutMs)},
unsubscribe_:function(a){this.cancelTimeout_();this.managerHandle_&&(this.manager_.unsubscribe(a,this.managerHandle_),this.managerHandle_=null)},
trigger_:function(a,b){if(this.isReusable||!this.triggered_)this.triggered_=!0,this.fire("yt-load-invalidation-continuation",this.getContinuationUrl.bind(this,a)),b&&this.fire("yt-received-invalidation-data",b),this.cancelTimeout_()},
forceTrigger:function(){this.trigger_(!1)},
cancelTimeout_:function(){null!==this.timeoutAsyncHandle_&&(this.cancelAsync(this.timeoutAsyncHandle_),this.timeoutAsyncHandle_=null)},
getContinuationUrl:function(a,b){var c={ctoken:this.data.continuation};this.data.clickTrackingParams&&(c.itct=this.data.clickTrackingParams);a&&(c.isInvalidationTimeoutRequest=!0);return vg(b,c)}});
var pA=function(){this.nextHandle_=1;this.clients_={};this.callbacks_={};this.unsubscribeAsyncHandles_={};Polymer.Element?(this.asyncCancel_=Polymer.Async.animationFrame.cancel.bind(Polymer.Async.animationFrame),this.asyncRun_=Polymer.Async.animationFrame.run.bind(Polymer.Async.animationFrame)):(this.asyncCancel_=Polymer.Async.cancel.bind(Polymer.Async),this.asyncRun_=Polymer.Async.run.bind(Polymer.Async))};
Ga(pA);e=pA.prototype;e.subscribe=Jg(function(a,b,c,d){var f=this.topicIdFromData_(a);f in this.clients_?f in this.unsubscribeAsyncHandles_&&this.asyncCancel_(this.unsubscribeAsyncHandles_[f]):(a=this.createClient_(a,c,d),this.clients_[f]=a,this.callbacks_[f]={});a=this.nextHandle_++;this.callbacks_[f][a]=b;return a});
e.unsubscribe=function(a,b){var c=this.topicIdFromData_(a);if(c in this.callbacks_&&(delete this.callbacks_[c][b],!this.callbacks_[c].length)){var d=this.clients_[c];b=this.asyncRun_(function(){xi(d);delete this.clients_[c];delete this.unsubscribeAsyncHandles_[c]}.bind(this),0);
this.unsubscribeAsyncHandles_[c]=b}};
e.handleInvalidationData_=function(a,b){for(var c in this.callbacks_[a]){var d=this.callbacks_[a][c];1==d.length?d.apply(this,[b]):d()}};
e.createClient_=function(a,b,c){var d=this.topicIdFromData_(a),f;for(f in this.unsubscribeAsyncHandles_){var g=this.clients_[f];if(this.isTangoClient(g))return delete this.clients_[f],delete this.callbacks_[f],this.asyncCancel_(this.unsubscribeAsyncHandles_[f]),delete this.unsubscribeAsyncHandles_[f],g.setObjectId(d),g}b.objectSource=a.invalidationId.objectSource;b.objectId=d;if(a=a.webAuthConfigurationData)a.multiUserSessionIndex&&(b.sessionIndex=parseInt(a.multiUserSessionIndex,10)),a.pageId&&(b.pageId=
a.pageId);g=new fy(b,this.handleInvalidationData_.bind(this),c);g.register();return g};
e.topicIdFromData_=function(a){return a.invalidationId.objectId?(a=a.invalidationId.objectId,a=a.replace(/-/g,"+").replace(/_/g,"/"),atob(a)):""};
e.isTangoClient=function(a){return a instanceof fy};Polymer({is:"yt-player-seek-continuation",properties:{data:{type:Object},playerProgressSec:{type:Number,observer:"playerProgressSecChanged_"}},created:function(){this.previousProgressSec_=0},
playerProgressSecChanged_:function(a){this.previousProgressSec_=a},
maybeFireSeekContinuation:function(a,b){if(!this.previousProgressSec_)return this.previousProgressSec_=a,!1;var c=a-this.previousProgressSec_;(b=-1>=c||1<c&&1E3*a>b)&&this.fireSeekContinuation_(a);this.previousProgressSec_=a;return b},
fireSeekContinuationAtCurrentProgress:function(){this.fireSeekContinuation_(this.previousProgressSec_)},
fireSeekContinuation_:function(a){this.previousProgressSec_=a;this.fire("yt-load-seek-continuation",this.getContinuationUrl_.bind(this,1E3*a))},
getContinuationUrl_:function(a,b){a={ctoken:this.data.continuation,currentPlayerTimeMsec:Math.floor(a)};this.data.clickTrackingParams&&(a.itct=this.data.clickTrackingParams);return vg(b,a)}});Polymer({is:"yt-reload-continuation",behaviors:[T.YtRendererBehavior],properties:{data:Object},trigger:function(){this.fire("yt-load-reload-continuation",this.getContinuationUrl.bind(this))},
getContinuationUrl:function(a){var b={ctoken:this.data.continuation};this.data.clickTrackingParams&&(b.itct=this.data.clickTrackingParams);return vg(a,b)}});Polymer({is:"yt-timed-continuation",properties:{data:{type:Object,observer:"dataChanged_"}},created:function(){this.asyncHandle_=null},
attached:function(){this.scheduleCallback_()},
detached:function(){null!==this.asyncHandle_&&(this.cancelAsync(this.asyncHandle_),this.asyncHandle_=null)},
dataChanged_:function(){this.scheduleCallback_()},
forceTrigger:function(){this.trigger_()},
scheduleCallback_:function(){this.isAttached&&this.data&&(null!==this.asyncHandle_&&this.cancelAsync(this.asyncHandle_),this.asyncHandle_=this.async(this.trigger_,this.data.timeoutMs))},
trigger_:function(){this.asyncHandle_&&this.cancelAsync(this.asyncHandle_);this.asyncHandle_=null;this.fire("yt-load-timed-continuation",this.getContinuationUrl.bind(this))},
getContinuationUrl:function(a){var b={ctoken:this.data.continuation};this.data.clickTrackingParams&&(b.itct=this.data.clickTrackingParams);return vg(a,b)}});var qA=E.createSet("1","2","5","6","7","8","9","11","12","17","18","19");
Z.YtLiveChatContinuationBehaviorImpl_={listeners:{"yt-navigate":"onNavigate_","yt-load-reload-continuation":"onLoadReloadContinuation_","yt-load-replay-continuation":"onLoadReplayContinuation_","yt-load-seek-continuation":"onLoadSeekContinuation_","yt-load-timed-continuation":"onLoadIncrementalContinuation_","yt-load-invalidation-continuation":"onLoadIncrementalContinuation_"},observers:["dataChangedInBehavior_(data)","continuationsChanged_(data.continuations)"],continuationBehaviorActionMap_:{"yt-live-chat-force-chat-poll":"forceChatPoll_"},
beforeRegister:function(){this.stampDom||(this.stampDom={});"data.continuations"in this.stampDom||(this.stampDom["data.continuations"]={id:"continuations",mapping:{}});var a={liveChatReplayContinuationData:"yt-live-chat-replay-continuation",reloadContinuationData:"yt-reload-continuation",timedContinuationData:"yt-timed-continuation",invalidationContinuationData:"yt-invalidation-continuation",playerSeekContinuationData:{component:"yt-player-seek-continuation",properties:{playerProgressSec:"[[playerProgressSec]]"}}};
E.extend(a,this.stampDom["data.continuations"].mapping);this.stampDom["data.continuations"].mapping=a},
created:function(){this.activeRequest_=null;this.smoothedQueue_=M("live_chat_timestamp_smoothing")?new nA:new mA;this.prevContinuationToken_=null;this.hasShownReconnectMessage_=!1},
attached:function(){this.registerActionMap(this.continuationBehaviorActionMap_);this.smoothedQueue_.callback=this.immediatelyApplyLiveChatActions.bind(this);this.prevContinuationToken_=null},
detached:function(){this.unregisterActionMap(this.continuationBehaviorActionMap_);this.smoothedQueue_.callback=null;this.hasShownReconnectMessage_=!1;this.activeRequest_&&(this.activeRequest_.promise.cancel(),this.activeRequest_=null)},
dataChangedInBehavior_:function(){this.activeRequest_&&this.activeRequest_.promise.cancel()},
continuationsChanged_:function(){this.async(this.triggerReloadContinuation)},
updateContinuations_:function(a){this.set("data.continuations",a)},
forceChatPoll_:function(){["yt-timed-continuation","yt-invalidation-continuation"].forEach(function(a){(a=this.$$(a))&&a.forceTrigger&&a.forceTrigger()},this)},
buildRequestMetadata_:function(a,b){var c=a("").substr(1),d={},f=this.currentPlayerState_?E.unsafeClone(this.currentPlayerState_):{},g={liveChatEndpoint:d};this.data.isReplay&&(d={},g={liveChatReplayEndpoint:d});rg(c,function(a,b){"itct"==a?g.clickTrackingParams=b:"ctoken"==a?d.continuation=b:"currentPlayerTimeMsec"==a?f.playerOffsetMs=Math.floor(b).toString():"latestMessageTimestampUsec"==a?d.latestMessageTimestampUsec=b:"isInvalidationTimeoutRequest"==a&&(d.isInvalidationTimeoutRequest=b)});
Object.keys(f).length&&(d.currentPlayerState=f);return{endpoint:g,params:{hidden:"hidden"==document.visibilityState},type:b,retries:0,continuationUrl:a(""),createdTime:Date.now()}},
buildRetryRequestMetadata_:function(a){a=E.unsafeClone(a);a.retries+=1;return a},
onLoadReloadContinuation_:function(a,b){a.stopPropagation();a=this.buildRequestMetadata_(b,"reload");this.requestData_(a)},
onLoadIncrementalContinuation_:function(a,b){a.stopPropagation();a=this.buildRequestMetadata_(b,"incremental");this.requestData_(a)},
onLoadSeekContinuation_:function(a,b){a.stopPropagation();a=this.buildRequestMetadata_(b,"seek");this.activeRequest_?this.debounce("loadSeekContinuation",this.requestData_.bind(this,a),500):this.requestData_(a)},
onNavigate_:function(a){if(a.detail.endpoint.liveChatEndpoint){a.stopPropagation();a=a.detail.endpoint;if(Ka(a.liveChatEndpoint.continuation)){a.liveChatEndpoint.continuation.reloadContinuationData&&this.fire("yt-load-reload-continuation");var b=Object.keys(a.liveChatEndpoint.continuation)[0];a.liveChatEndpoint.continuation=a.liveChatEndpoint.continuation[b].continuation}this.data.isReplay&&(a={liveChatReplayEndpoint:a.liveChatEndpoint,clickTrackingParams:a.clickTrackingParams});a={endpoint:a,params:{},
type:"reload",retries:0,continuationUrl:"navigateEvent",createdTime:Date.now()};this.requestData_(a)}},
handleSeekResponse_:function(a){this.handleIncrementalContinuationSuccess_(a,function(a){this.preprocessSeekResponseActions_(a)}.bind(this));
this.sendOptionalAction("yt-live-chat-seek-success")},
handleSeekFatalError_:function(a){this.sendOptionalAction("yt-live-chat-seek-fail");this.showFatalError_(a)},
onLoadReplayContinuation_:function(a,b){a.stopPropagation();a=this.buildRequestMetadata_(b,"incremental");this.requestData_(a)},
isValidResponse_:function(a){return!!a.response},
retry_:function(a,b){var c=this.buildRetryRequestMetadata_(a);this.handleIncrementalContinuationError_(a,b).then(function(){this.sendRequest_(c)},function(){this.fire("yt-live-chat-continuation-behavior-incremental-failure");
"seek"==a.type&&this.sendOptionalAction("yt-live-chat-seek-fail",[])},this)},
requestData_:function(a){if(this.activeRequest_)if("seek"==a.type)if("seek"==this.activeRequest_.metadata.type)this.activeRequest_.promise.cancel();else{if("reload"==this.activeRequest_.metadata.type){this.nextRequest_=a;return}}else if("reload"==a.type)this.activeRequest_.promise.cancel();else if("incremental"==a.type){if("reload"==this.activeRequest_.metadata.type)return;"incremental"==this.activeRequest_.metadata.type&&this.activeRequest_.promise.cancel()}else"reload"==a.type&&"seek"==this.activeRequest_.metadata.type?
sh(Error("A reload request was triggered during a seek.")):sh(Error("Unhandled request state: Active request is "+this.activeRequest_.metadata.type+" but new request is "+a.type));this.sendRequest_(a)},
fireSeekRequest_:function(){var a=this.$$("yt-player-seek-continuation");a&&a.fireSeekContinuationAtCurrentProgress()},
sendRequest_:function(a){var b=this.getInterface(uk).requestDataForEndpoint(a.endpoint,a.params);this.activeRequest_={metadata:a,promise:b};b.then(function(b){"reload"==a.type&&this.handleReloadContinuationData_(b);if(this.isValidResponse_(b)){if(b.response.error)return this.retry_(a,b);"seek"==a.type?this.handleSeekResponse_(b):this.handleIncrementalContinuationSuccess_(b,function(a){(a=this.preprocessActions_(a))&&a.length&&this.smoothedQueue_.enqueueActionGroup(a)}.bind(this))}else"seek"==a.type?
this.handleSeekFatalError_(b):a.type&&this.showFatalError_(b)},function(b){if(!(b instanceof Of))return this.retry_(a,b)},this);
b.then(function(){this.activeRequest_=null;this.nextRequest_&&"seek"==this.nextRequest_.type&&(this.fireSeekRequest_(),this.nextRequest_=null)},function(a){a instanceof Of||(this.activeRequest_=null)},this);
"seek"==a.type?this.sendOptionalAction("yt-live-chat-seek-start",[]):"reload"==a.type&&this.sendOptionalAction("yt-live-chat-reload-start",[])},
handleReloadContinuationData_:function(a){(a=a.response)&&a.continuationContents&&a.continuationContents.liveChatContinuation&&!a.error?(this.data=a.continuationContents.liveChatContinuation,this.sendOptionalAction("yt-live-chat-reload-success",[])):this.handleReloadContinuationError_(a)},
handleReloadContinuationError_:function(a){a instanceof Of||this.sendOptionalAction("yt-live-chat-reload-fail",[])},
showFatalError_:function(a){this.showServerErrorMessage(this.getSimpleStringFromClientMessages_("fatalError"));sh(Error("Unexpected live chat incremental continuation response: "+JSON.stringify(a)))},
handleIncrementalContinuationSuccess_:function(a,b){this.hasShownReconnectMessage_&&(this.hasShownReconnectMessage_=!1,this.showServerErrorMessage(this.getSimpleStringFromClientMessages_("reconnectedMessage"),"reconnect"));a=a.response;a.continuationContents&&a.continuationContents.liveChatContinuation&&(a=a.continuationContents.liveChatContinuation,a.actions&&b(a.actions),this.emojiManager&&a.emojis&&this.emojiManager.load(a.emojis),a.actionPanel&&this.set("data.actionPanel",a.actionPanel),a.header&&
this.set("data.header",a.header),this.updateContinuations_(a.continuations||[]),this.fire("yt-live-chat-continuation-behavior-incremental-success"))},
handleIncrementalContinuationError_:function(a,b){if(b){switch(b.status){case 404:return sh(Error("404 while requesting live chat incremental continuation: "+a.continuationUrl)),this.showServerErrorMessage(this.getSimpleStringFromClientMessages_("fatalError")),If("404 while requesting live chat incremental continuation")}if(b.error&&(b=b.error.code,qA[b.toString()]))return this.showServerErrorMessage(this.getSimpleStringFromClientMessages_("fatalError")),If("Unrecoverable error; code: "+b)}if(3<a.retries)return this.showServerErrorMessage(this.getSimpleStringFromClientMessages_("unableToReconnectMessage")),
If("Reached retry limit for incremental continuation requests");1==a.retries&&(this.hasShownReconnectMessage_=!0,this.showServerErrorMessage(this.getSimpleStringFromClientMessages_("reconnectMessage")));var c=2E3*Math.pow(2,a.retries);c+=1E3*Math.random();return new Df(function(a){this.async(a,c)}.bind(this))},
showServerErrorMessage:function(a,b){a&&this.smoothedQueue_.enqueueActionGroup([{serverErrorMessage:{message:a,"class":b}}])},
getSimpleStringFromClientMessages_:function(a){a=this.get("data.clientMessages."+a);return this.getSimpleString(a)}};
Z.YtLiveChatContinuationBehavior=[{_noAccessors:!0,triggerReloadContinuation:function(){oA(Polymer.dom(this.$.continuations))}},
Q.YtActionSenderBehavior,R.YtActionHandlerBehavior,Bk.YtComponentBehavior,Z.YtLiveChatContinuationBehaviorImpl_];var rA={};rA.YtLiveChatDialogBehavior={properties:{hidden:{type:Boolean,reflectToAttribute:!0,observer:"hiddenChanged_"}},observers:["isAttachedChanged_(isAttached)"],created:function(){this.restoreFocusNode_=null},
attached:function(){document.addEventListener("focus",this.onFocus_.bind(this),!0)},
detached:function(){this.restoreFocusNode_=null;document.removeEventListener("focus",this.onFocus_.bind(this),!0)},
focusChild_:function(){window.requestAnimationFrame(function(){this.restoreFocusNode_||(this.restoreFocusNode_=document.activeElement);var a=Polymer.IronFocusablesHelper.getTabbableNodes(this);a.length&&a[a.length-1].focus()}.bind(this))},
isAttachedChanged_:function(a,b){a?this.focusChild_():b&&this.restoreFocus_()},
hiddenChanged_:function(){this.hidden?this.restoreFocus_():this.focusChild_()},
restoreFocus_:function(){this.restoreFocusNode_&&(this.restoreFocusNode_.focus(),this.restoreFocusNode_=null)},
onFocus_:function(a){this.hidden||-1!=Polymer.dom(a).path.indexOf(this)||(a.stopPropagation(),this.focusChild_())}};Polymer({is:"yt-live-chat-dialog-renderer",properties:{data:Object},hostAttributes:{hidden:!0},behaviors:[O.YtRendererStamperBehavior,rA.YtLiveChatDialogBehavior],stampDom:{"data.confirmButton":{id:"button",mapping:{buttonRenderer:"yt-button-renderer"}}},onTap_:function(a){a.target!=this.$.button&&(this.hidden=!0)}});Polymer({is:"yt-live-chat-gaming-promo-renderer",properties:{data:Object},behaviors:[O.YtRendererStamperBehavior,T.YtRendererBehavior],stampDom:{"data.iconButton":{id:"icon-button",mapping:{buttonRenderer:"yt-button-renderer"}},"data.sponsorButton":{id:"sponsor-button",mapping:{buttonRenderer:"yt-button-renderer"}},"data.dismissButton":{id:"dismiss-button",mapping:{buttonRenderer:"yt-button-renderer"}}},onDismissButtonTap_:function(){Polymer.dom(this).setAttribute("hidden",!0)}});Polymer({is:"yt-supported-renderers",behaviors:[T.YtRendererBehavior],properties:{data:Object,rendererElement:{type:Object,readOnly:!0}},observers:["onDataChange_(data)"],visibilityLogging:1,onDataChange_:function(a){var b=Polymer.dom(this.root);if(a=a.reloadContinuationData)if(this.rendererElement)this.rendererElement.data=a;else{var c=document.createElement("yt-reload-continuation");c.data=a;b.appendChild(c);this._setRendererElement(c)}else{for(;b.firstChild;)b.removeChild(b.firstChild);this._setRendererElement(null)}}});Polymer({is:"yt-dropdown-menu",behaviors:[hi.ComponentBehavior,mm.YtEndpointBehavior],properties:{data:{type:Object,observer:"dataChanged_"},selected:Number,useLabel:{type:Boolean,value:!1},icon:String,iconLabel:String,ariaLabel:String,disabled:{type:Boolean,value:!1,reflectToAttribute:!0},menuExpanded:{type:String,value:"false"}},listeners:{"iron-activate":"onIronActivate_",tap:"onTap_","iron-overlay-closed":"onMenuClose_"},dataChanged_:function(a){this.selected=void 0;var b=this.computeSelectedIndex_(a);
0<=b&&(this.selected=b);a=a&&1<a.length;this.toggleClass("has-items",a);this.$.label.tabIndex=a?0:-1},
computeSelectedIndex_:function(a){if(a)for(var b=0,c=a.length;b<c;b++)if(a[b].selected)return b;return-1},
computeLabel_:function(a){return this.data&&void 0!=a?this.data[a].title:""},
computeShowIcon_:function(a,b){return!b&&!!a},
computeVerticalOffset_:function(a){return a?36:0},
computeEndpoint_:function(a){return a.endpoint||a.navigationEndpoint},
onLabelClick_:function(a){this.data&&1>=this.data.length?a.stopPropagation():this.menuExpanded="true"},
onIronActivate_:function(a){oA(a.detail.item)},
onTap_:function(a){a.preventDefault()},
onMenuClose_:function(){this.menuExpanded="false"},
computeHasSubtitle_:function(a){return!!a},
computeHrefForItem_:function(a){return this.computeHref_(this.computeEndpoint_(a))}});Polymer({is:"yt-sort-filter-sub-menu-renderer",behaviors:[T.YtRendererBehavior],properties:{data:Object,isRightAligned:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1,reflectToAttribute:!0}},computeHorizontalAlign_:function(a){return a?"right":"left"},
computeAccessibilityLabel_:function(a){return this.get("accessibility.accessibilityData.label",a)}});Polymer({is:"yt-live-chat-header-renderer",properties:{data:Object,showOverflowButton:{type:Boolean,computed:"computeShowOverflowButton_(data, collapsed)"},showCollapseButton:{type:Boolean,value:!1},collapsed:{type:Boolean,value:!1,reflectToAttribute:!0},collapseDirection:{type:String,value:"horizontal",reflectToAttribute:!0},collapseIcon:{type:String,computed:"computeCollapseIcon_(collapsed, collapseDirection)"},isViewSelectorDisabled:{type:Boolean,value:!1,readOnly:!0,observer:"viewSelectorDisabledChanged_"},
collapseButton:Object},behaviors:[fm.YtOpenPopupBehavior,O.YtRendererStamperBehavior,R.YtActionHandlerBehavior,Q.YtActionSenderBehavior,T.YtRendererBehavior],stampDom:{collapseButton:{id:"collapser",mapping:{buttonRenderer:"yt-button-renderer"}},"data.actionButtons":{id:"action-buttons",mapping:{buttonRenderer:"yt-button-renderer"}},"data.viewSelector":{id:"view-selector",mapping:{sortFilterSubMenuRenderer:"yt-sort-filter-sub-menu-renderer"}}},observers:["setCollapseButton_(data.collapseButton, collapseIcon)"],
actionMap:{"yt-live-chat-seek-start":"disableViewSelector_","yt-live-chat-reload-start":"disableViewSelector_","yt-live-chat-reload-success":"enableViewSelector_","yt-live-chat-reload-fail":"enableViewSelector_","yt-live-chat-seek-success":"enableViewSelector_","yt-live-chat-seek-fail":"enableViewSelector_"},ready:function(){this.popupPositionTarget=this.$.overflow},
onMenuTap_:function(){this.data.overflowMenu&&this.data.overflowMenu.menuRenderer&&this.openPopup({openPopupAction:{popupType:"DROPDOWN",popup:{menuPopupRenderer:this.data.overflowMenu.menuRenderer}}})},
onCollapseTap_:function(){this.sendAction("yt-live-chat-toggle-collapse")},
computeShowOverflowButton_:function(a,b){return!!a&&!!a.overflowMenu&&!b},
computeCollapseIcon_:function(a,b){return"horizontal"==b?a?"chevron_left":"chevron_right":a?"expand-less":"expand-more"},
setCollapseButton_:function(a,b){a&&b&&(a.buttonRenderer.icon={iconType:b},this.set("collapseButton",null),this.set("collapseButton",a))},
disableViewSelector_:function(){this._setIsViewSelectorDisabled(!0)},
enableViewSelector_:function(){this._setIsViewSelectorDisabled(!1)},
viewSelectorDisabledChanged_:function(){var a=this.$$("yt-sort-filter-sub-menu-renderer");a&&(a.disabled=this.isViewSelectorDisabled)}});Polymer({is:"yt-live-chat-text-message-renderer",properties:{data:{type:Object,observer:"dataChanged_"},showOriginal:{type:Boolean,value:!1,reflectToAttribute:!0},isDimmed:{type:Boolean,value:!1,computed:"truthy(data.isDimmed)",reflectToAttribute:!0},showBar:{type:Boolean,computed:"computeShowBar_(isDeleted, hasOriginalContent, isDimmed)",reflectToAttribute:!0},authorBadges:{type:Object,computed:"computeAuthorBadges_(data)"},authorIsOwner:{type:Boolean,computed:"computeAuthorIsOwner_(data)",reflectToAttribute:!0}},
supportsInlineActionButtons:!0,behaviors:[T.YtRendererBehavior,Z.YtLiveChatBadgeTypeBehavior,Z.YtLiveChatItemBehavior,O.YtRendererStamperBehavior],observers:["updateMessage_(data.message)"],dataChanged_:function(a){a=this.badgeTypeFromBadges(a.authorBadges||[]);this.setAttribute("author-type",a)},
updateMessage_:function(a){var b=Polymer.dom(this.$.message);b.innerHTML="";a&&b.appendChild(this.createDocumentFragment(a))},
actionMessageChanged_:function(a){var b=this.$.action;b.innerHTML="";a&&b.appendChild(this.createDocumentFragment(a))},
onShowOriginalTap_:function(a){a.preventDefault();this.showOriginal=!0},
computeShowBar_:function(a,b,c){return a&&b||c},
computeAuthorBadges_:function(a){return a.authorBadges||[]},
computeAuthorIsOwner_:function(a){return!!this.getBadge(a.authorBadges,"owner")}});Polymer({is:"yt-live-chat-auto-mod-message-renderer",properties:{data:Object,emojiManager:Object,participantsManager:Object},supportsInlineActionButtons:!0,behaviors:[T.YtRendererBehavior,Z.YtLiveChatItemBehavior,O.YtRendererStamperBehavior],stampDom:{"data.infoDialogButton":{id:"button",mapping:{buttonRenderer:"yt-button-renderer"}},"data.autoModeratedItem":{id:"auto-moderated-item",mapping:{liveChatTextMessageRenderer:{component:"yt-live-chat-text-message-renderer",properties:{emojiManager:"[[emojiManager]]",
participantsManager:"[[participantsManager]]"},attributes:{"hide-inline-action-buttons":!0}}}},"data.moderationButtons":{id:"moderation-buttons",mapping:{buttonRenderer:"yt-button-renderer"}},"data.additionalInlineActionButtons":{id:"additional-inline-action-buttons",mapping:{buttonRenderer:"yt-button-renderer"}}}});Polymer({is:"yt-live-chat-docked-message-renderer",properties:{dockedItem:{type:Object},undockingItem:{type:Object},emojiManager:Object,participantsManager:Object,isUndocking:{type:Boolean,reflectToAttribute:!0,value:!1},dockableMessages:{type:Array},isScrolledToBottomOfItemList:{type:Boolean,observer:"isScrolledToBottomOfItemListChanged_"}},behaviors:[O.YtRendererStamperBehavior],observers:["onDockableMessagesChanged_(dockableMessages.splices)"],stampDom:{dockedItem:{id:"docked-item",mapping:{liveChatTextMessageRenderer:{component:"yt-live-chat-text-message-renderer",
properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}}}},undockingItem:{id:"undocking-item",mapping:{liveChatTextMessageRenderer:{component:"yt-live-chat-text-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}}}}},STICKY_CHAT_DOCK_TIME_MS:1E4,STICKY_CHAT_UNDOCK_TRANSITION_TIME_MS:250,MESSAGE_TO_TOP_EPSILON:4,created:function(){this.boundCheckIntersections_=this.checkIntersections_.bind(this);this.intersectRAF_=
null},
detached:function(){this.intersectRAF_&&window.cancelAnimationFrame(this.intersectRAF_)},
clear:function(){this.undock_()},
dock_:function(a){this.dockedItem&&this.undock_();this.dockedItem={liveChatTextMessageRenderer:a.data};this.dockTimer=window.setTimeout(this.undock_.bind(this),this.STICKY_CHAT_DOCK_TIME_MS)},
undock_:function(){!this.isUndocking&&this.dockedItem&&(window.clearTimeout(this.dockTimer),this.isUndocking=!0,this.undockingItem=this.dockedItem,this.dockedItem=void 0,window.setTimeout(function(){this.undockingItem=void 0;this.isUndocking=!1}.bind(this),this.STICKY_CHAT_UNDOCK_TRANSITION_TIME_MS))},
checkIntersections_:function(){if(this.dockableMessages.length){this.intersectRAF_=window.requestAnimationFrame(this.boundCheckIntersections_);var a=this.dockableMessages[0],b=this.getBoundingClientRect();a=a.getBoundingClientRect();var c=a.top-b.top,d=c<=this.MESSAGE_TO_TOP_EPSILON;c=c-this.clientHeight<=this.MESSAGE_TO_TOP_EPSILON;if(d){for(var f;d;){f=this.dockableMessages.shift();d=this.dockableMessages[0];if(!d)break;d=d.getBoundingClientRect();c=d.top-b.top;var g=c<=this.MESSAGE_TO_TOP_EPSILON;
if(c-a.height<=this.MESSAGE_TO_TOP_EPSILON)if(g)a=d;else return;d=g}this.dock_(f)}else c&&this.dockedItem&&this.clear()}else this.intersectRAF_=null},
trimInvisibleDockableMessages_:function(){if(this.parentElement)for(var a=this.parentElement.scrollTop;this.dockableMessages&&this.dockableMessages.length&&(this.dockableMessages[0].offsetTop<a||!this.dockableMessages[0].isHighlighted);)this.dockableMessages.shift()},
isScrolledToBottomOfItemListChanged_:function(a){a?this.trimInvisibleDockableMessages_():this.clear()},
onDockableMessagesChanged_:function(){this.dockableMessages.length&&!this.intersectRAF_&&(this.intersectRAF_=window.requestAnimationFrame(this.boundCheckIntersections_))}});Polymer({is:"yt-live-chat-legacy-paid-message-renderer",properties:{data:{type:Object,observer:"dataChanged_"},hidden:{type:Boolean,value:!1,computed:"truthy(isDeleted)",reflectToAttribute:!0}},supportsInlineActionButtons:!0,behaviors:[T.YtRendererBehavior,Z.YtLiveChatItemBehavior,O.YtRendererStamperBehavior],ready:function(){var a=document.querySelector("yt-live-chat-app");a&&a.hasAttribute("dashboard-money-feed")&&Polymer.dom(this).setAttribute("dashboard-money-feed",!0)},
dataChanged_:function(a){var b=Polymer.dom(this.$["detail-text"]);b.innerHTML="";a&&a.detailText&&b.appendChild(this.createDocumentFragment(a.detailText))}});Polymer({is:"yt-live-chat-mode-change-message-renderer",properties:{data:Object},behaviors:[O.YtRendererStamperBehavior],stampDom:{"data.buttons":{id:"buttons",mapping:{buttonRenderer:"yt-button-renderer"}}}});Polymer({is:"yt-live-chat-moderation-message-renderer",properties:{data:Object},behaviors:[T.YtRendererBehavior,Z.YtLiveChatItemBehavior]});Polymer({is:"yt-live-chat-paid-message-footer-renderer",properties:{data:{type:Object}},behaviors:[T.YtRendererBehavior]});Polymer({is:"yt-live-chat-text-input-field-suggestion",properties:{data:{type:Object,observer:"dataChanged_"},active:{type:Boolean,reflectToAttribute:!0}},identity:md,dataChanged_:function(){this.active=!1},
onTap_:function(){this.fire("yt-live-chat-select-suggestion",this.data)}});Polymer({SPLIT_REGEX:/.*([:@#].*?)$/,NBSP_REGEX:/\u00a0/g,NBSP:String.fromCharCode(160),MAX_SUGGESTIONS:64,is:"yt-live-chat-text-input-field-renderer",properties:{data:{type:Object,observer:"dataChanged_"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0},inputTabIndex:{type:Number,computed:"computeInputTabIndex_(disabled)"},maxCharacterLimit:{type:Number,notify:!0,readOnly:!0,computed:"computeMaxCharacterLimit_(data.maxCharacterLimit)"},characterCount:{type:Number,notify:!0,readOnly:!0,computed:"computeCharacterCount_(liveChatRichMessageInput)"},
liveChatRichMessageInput:{type:Object,value:null,notify:!0,readOnly:!0},hasText:{type:Boolean,reflectToAttribute:!0,computed:"computeHasText_(characterCount)"},focused:{readOnly:!0,type:Boolean,value:!1,reflectToAttribute:!0},suggestions:{type:Array,value:[]},emojiManager:Object,participantsManager:Object},behaviors:[T.YtRendererBehavior,O.YtRendererStamperBehavior],listeners:{"yt-live-chat-select-suggestion":"onSuggestion_"},stampDom:{suggestions:{id:"dropdown-content",mapping:{suggestion:"yt-live-chat-text-input-field-suggestion"},
reuseComponents:!0}},created:function(){this.suggestionIndex_=-1;this.lastSuggestionRange_=null},
ready:function(){this.scopeSubtree(this.$.input,!0)},
attached:function(){Yb&&(document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1))},
detached:function(){this.setLiveChatRichMessageInput(null)},
dataChanged_:function(a){var b={placeholderTextColor:"--yt-live-chat-text-input-field-placeholder-color",activeUnderlineColor:"--yt-live-chat-text-input-field-active-underline-color",inactiveUnderlineColor:"--yt-live-chat-text-input-field-inactive-underline-color"},c=!1,d={},f;for(f in b)a&&a[f]&&(d[b[f]]=this.colorFromDecimal(a[f]),c=!0);c&&this.updateStyles(d)},
colorFromDecimal:function(a){a=parseInt(a,10);return"rgba("+[a>>16&255,a>>8&255,a&255,(a>>24&255)/255].join()+")"},
preventDrag_:function(a){a.dataTransfer&&(a.dataTransfer.dropEffect="none");a.preventDefault()},
preventResize_:function(a){a.returnValue=!1},
onInputChange_:function(){var a=this.getCurrentRange_();if(a){var b=this.calculateTextBeforeRange_(a);this.completeEmojis_(a,b,!0)||this.updateSuggestions_(a,b)}this._setLiveChatRichMessageInput(this.calculateLiveChatRichMessageInput_())},
getCurrentRange_:function(){var a=window.getSelection();return a.rangeCount?a.getRangeAt(0).cloneRange():null},
getInputRange_:function(){var a=this.getCurrentRange_();if(a){for(var b=a.commonAncestorContainer,c=!1;b;){if(b==this.$.input){c=!0;break}b=b.parentNode}c||(a=null)}a||(a=this.getRangeAtEnd_());return a},
getRangeAtEnd_:function(){var a=document.createRange();this.$.input.lastChild?a.setStart(this.$.input.lastChild,this.$.input.lastChild.length):(a.selectNodeContents(this.$.input),a.collapse(!1));return a},
getSuggestions_:function(a){var b=[],c=a.substr(0,3),d=this.emojiManager.getEmojiShortcutsFromPrefix(c);if(d)for(var f in d)if(0==f.toLocaleLowerCase().indexOf(a)){var g=d[f];if(g&&g.emojiId&&(g=this.emojiManager.getEmojiByIdWithSkinTone(g.emojiId),b.push({suggestion:{emoji:!0,image:g.image,alt:g.isCustomEmoji?g.shortcuts[0]:g.emojiId,text:f}}),b.length>=this.MAX_SUGGESTIONS))break}if(0==c.indexOf("@")||0==c.indexOf("#"))if(d=c.substr(0,1),a=a.substr(1),c=c.substr(1),c=this.participantsManager.getAuthorsFromPrefix(c))for(var h in c)if(0==
h.indexOf(a)&&(f=c[h],g=Ph(f.authorName),b.push({suggestion:{author:!0,authorType:d,image:f.authorPhoto,alt:g,text:g}}),b.length>=this.MAX_SUGGESTIONS))break;return b?b.sort(function(a,b){return b.suggestion.text<a.suggestion.text?-1:b.suggestion.text==a.suggestion.text?0:1}):null},
insertSuggestion_:function(a){a.emoji?this.insertTextAtRange_(this.lastSuggestionRange_,a.alt):a.author&&this.insertTextAtRange_(this.lastSuggestionRange_,a.authorType+a.text+this.NBSP)},
updateSuggestionsAtCaret_:function(){var a=this.getCurrentRange_();a&&this.updateSuggestions_(a,this.calculateTextBeforeRange_(a))},
offsetStartOfRangeBy_:function(a,b){for(;0<b;)if(0<=a.startOffset-b){a.setStart(a.startContainer,a.startOffset-b);break}else{b=a.startContainer instanceof HTMLImageElement?b-a.startContainer.alt.length:b-a.startOffset;var c=a.startContainer.previousSibling;if(!c){a.setStart(a.startContainer,0);break}a.setStart(c,c.length||0)}},
updateSuggestions_:function(a,b){this.lastSuggestionRange_&&(this.lastSuggestionRange_.detach(),this.lastSuggestionRange_=null);if((b=this.SPLIT_REGEX.exec(b))&&b.length&&(b=b[b.length-1].toLocaleLowerCase(),2<b.length&&(this.offsetStartOfRangeBy_(a,b.length),this.lastSuggestionRange_=a,(a=this.getSuggestions_(b))&&a.length))){this.suggestions=a;Polymer.RenderStatus.afterNextRender(this,function(){this.$["dropdown-content"].scrollTop=Math.pow(2,24)});
this.$.dropdown.opened?this.$.dropdown.notifyResize():this.$.dropdown.opened=!0;this.suggestionIndex_=-1;this.changeSuggestionIndex_(a.length-1);return}this.$.dropdown.opened=!1},
completeEmojis_:function(a,b,c){var d=b.replace(/[\s\xa0]+$/,"");b=b.length-d.length;d=d.split(" ");d=d[d.length-1].trim().toLocaleLowerCase();var f=d.lastIndexOf(":");if(c&&!b&&f!=d.length-1)return!1;-1!=f&&(c=d.lastIndexOf(":",f-1),-1!=c&&(d=d.substring(c)));return(c=this.emojiManager.getEmojiByShortcut(d))&&c.emojiId?(c=this.emojiManager.getEmojiByIdWithSkinTone(c.emojiId),this.offsetStartOfRangeBy_(a,d.length+b),c=(c.isCustomEmoji?c.shortcuts[0]:c.emojiId)||"",b&&(c+=this.NBSP),this.insertTextAtRange_(a,
c),this.$.dropdown.opened=!1,!0):!1},
onSuggestion_:function(a){this.insertSuggestion_(a.detail);this.$.dropdown.opened=!1},
onKeyPress_:function(a){13==a.keyCode&&(a.preventDefault(),this.$.dropdown.opened?(this.insertSuggestion_(this.suggestions[this.suggestionIndex_].suggestion),this.$.dropdown.opened=!1):this.fire("yt-live-chat-send-message"))},
completeEmojis:function(){var a=document.createRange();this.$.input.lastChild?a.setStart(this.$.input.lastChild,this.$.input.lastChild.length):(a.selectNodeContents(this.$.input),a.collapse(!1));this.completeEmojis_(a,this.calculateTextBeforeRange_(a),!1)},
onKeyDown_:function(a){if(this.$.dropdown.opened)switch(a.keyCode){case 27:this.$.dropdown.opened=!1;a.stopPropagation();break;case 9:this.insertSuggestion_(this.suggestions[this.suggestionIndex_].suggestion);this.$.dropdown.opened=!1;a.preventDefault();break;case 38:this.changeSuggestionIndex_(this.suggestionIndex_-1);a.preventDefault();break;case 40:this.changeSuggestionIndex_(this.suggestionIndex_+1),a.preventDefault()}},
onKeyUp_:function(a){switch(a.keyCode){case 37:case 39:this.updateSuggestionsAtCaret_();break;case 38:case 40:this.$.dropdown.opened||this.updateSuggestionsAtCaret_()}if(F)this.onInputChange_()},
changeSuggestionIndex_:function(a){if(this.$.dropdown.opened){var b=this.$["dropdown-content"];0<=this.suggestionIndex_&&this.suggestionIndex_<b.children.length&&(b.children[this.suggestionIndex_].active=!1);this.suggestionIndex_=(a+this.suggestions.length)%this.suggestions.length;a=b.children[this.suggestionIndex_];a.active=!0;b.scrollTop=a.offsetTop}},
onInputPaste_:function(a){a.preventDefault();(a=a.clipboardData)&&a.types&&(a=a.getData("text/plain")||"",a=a.replace(/\n/g,""),this.insertText_(a))},
onFocus_:function(){this._setFocused(!0)},
onBlur_:function(){this._setFocused(!1)},
insertText_:function(a){this.insertTextAtRange_(this.getInputRange_(),a)},
insertTextAtRange_:function(a,b){if(a){a.collapsed||a.deleteContents();if(this.emojiManager){b=this.emojiManager.createDocumentFragment(b,!0,!1);if(Polymer.Element&&!Polymer.Settings.useShadow)for(var c=n(b.childNodes),d=c.next();!d.done;d=c.next())window.ShadyCSS.ScopingShim.scopeNode(d.value,this.localName);c=b.lastChild;a.insertNode(b);this.focused&&(a=a.cloneRange(),a.selectNodeContents(c),a.collapse(!1),b=window.getSelection(),b.removeAllRanges(),b.addRange(a))}this._setLiveChatRichMessageInput(this.calculateLiveChatRichMessageInput_())}},
setLiveChatRichMessageInput:function(a){this.$.input.textContent="";if(a&&a.textSegments){for(var b=0;b<a.textSegments.length;b++){var c=a.textSegments[b];c.text?this.$.input.appendChild(this.emojiManager.createDocumentFragment(c.text,!0,!1)):c.emojiId&&(c=this.emojiManager.getEmojiById(c.emojiId))&&this.$.input.appendChild(this.emojiManager.createEmoji(c,!1))}this._setLiveChatRichMessageInput(this.calculateLiveChatRichMessageInput_())}else this._setLiveChatRichMessageInput(null)},
setText:function(a){this.setLiveChatRichMessageInput(a?{textSegments:[{text:a}]}:null)},
calculateTextBeforeRange_:function(a){var b="",c=a.startContainer;c instanceof Text&&(b=c.textContent.substr(0,a.startOffset),c=c.previousSibling);for(;c&&c instanceof Text;)b=c.textContent+b,c=c.previousSibling;return b.replace(this.NBSP_REGEX," ")},
calculateLiveChatRichMessageInput_:function(){for(var a=[],b="",c=this.$.input.childNodes,d=0;d<c.length;d++){var f=c[d];f instanceof Text?b+=f.textContent:f instanceof HTMLImageElement&&(f.dataset.emojiId?(b&&(a.push({text:b.replace(this.NBSP_REGEX," ")}),b=""),a.push({emojiId:f.dataset.emojiId})):b+=f.alt)}b&&a.push({text:b.replace(this.NBSP_REGEX," ")});return{textSegments:a}},
computeMaxCharacterLimit_:function(a){return a||0},
computeHasText_:function(a){return 0<a},
computeCharacterCount_:function(a){if(!a)return 0;for(var b=0,c=0;c<a.textSegments.length;c++){var d=a.textSegments[c];d.text?b+=d.text.length:d.emojiId&&(b=this.data.emojiCharacterCount?b+this.data.emojiCharacterCount:b+this.emojiManager.getEmojiById(d.emojiId).shortcuts[0].length)}return b},
focus:function(){this.setFocus_(!1)},
focusAtEnd:function(){this.setFocus_(!0)},
setFocus_:function(a){a=a?this.getRangeAtEnd_():this.getInputRange_();this.$.input.focus();var b=window.getSelection();b.removeAllRanges();b.addRange(a)},
insertEmoji:function(a){this.insertText_((a.isCustomEmoji?a.shortcuts[0]:a.emojiId)||"")},
computeText_:function(a){if(!a)return"";for(var b="",c=0;c<a.textSegments.length;c++){var d=a.textSegments[c];d.text?b+=d.text:d.emojiId&&(b+=this.emojiManager.getEmojiById(d.emojiId).shortcuts[0])}return b},
computeInputTabIndex_:function(a){return a?-1:0}});var sA=function(a){if(!a)return null;for(var b=[],c=0;c<a.textSegments.length;c++){var d=a.textSegments[c];d.text?b.push(d):d.emojiId&&b.push({emoji_id:d.emojiId})}return{text_segments:b}};Polymer({is:"yt-live-chat-paid-message-renderer",properties:{data:{type:Object,observer:"dataChanged_"},characterCount:{type:Number,notify:!0},maxCharacterLimit:{type:Number,notify:!0,computed:"computeMaxCharacterLimit_(data, isDeleted, inputMaxCharacterLimit)"},inputMaxCharacterLimit:{type:Number},isUserEditable:{type:Boolean,reflectToAttribute:!0,computed:"computeIsUserEditable_(data)"},showOnlyHeader:{type:Boolean,computed:"computeShowOnlyHeader_(data, isDeleted)",reflectToAttribute:!0},showFooterDivider:{type:Boolean,
computed:"computeShowFooterDivider_(data, isDeleted, isUserEditable)",reflectToAttribute:!0},allowAnimations:{type:Boolean,reflectToAttribute:!0,value:!1}},supportsInlineActionButtons:!0,behaviors:[T.YtRendererBehavior,Z.YtLiveChatItemBehavior,O.YtRendererStamperBehavior],observers:["isDeletedChanged_(isDeleted)","messageChanged_(data.message)"],stampDom:{"data.footer":{id:"footer",mapping:{liveChatPaidMessageFooterRenderer:{component:"yt-live-chat-paid-message-footer-renderer"}}}},ready:function(){var a=
document.querySelector("yt-live-chat-app");a&&a.hasAttribute("dashboard-money-feed")&&Polymer.dom(this).setAttribute("dashboard-money-feed",!0)},
attached:function(){this.allowAnimations=!1},
dataChanged_:function(a){if(a){var b={};b["--yt-live-chat-paid-message-primary-color"]=this.colorFromDecimal(a.bodyBackgroundColor);b["--yt-live-chat-paid-message-secondary-color"]=this.colorFromDecimal(a.headerBackgroundColor);b["--yt-live-chat-paid-message-header-color"]=this.colorFromDecimal(a.headerTextColor);b["--yt-live-chat-paid-message-author-name-color"]=this.colorFromDecimal(a.authorNameTextColor);b["--yt-live-chat-paid-message-timestamp-color"]=this.colorFromDecimal(a.timestampColor);b["--yt-live-chat-paid-message-color"]=
this.colorFromDecimal(a.bodyTextColor);this.updateStyles(b);this.allowAnimations=!0}},
messageChanged_:function(a){var b=Polymer.dom(this.$.message);b.innerHTML="";a&&b.appendChild(this.createDocumentFragment(a))},
computeShowOnlyHeader_:function(a,b){return a?this.isEmpty_(a,b)&&!a.footer:!1},
computeShowFooterDivider_:function(a,b,c){return a?!!a.footer&&!this.isEmpty_(a,b)&&!c:!1},
computeIsUserEditable_:function(a){return!!a.inputField},
computeMaxCharacterLimit_:function(a,b,c){return this.isEmpty_(a,b)?0:c},
inputFocus:function(){var a=this.$$("yt-live-chat-text-input-field-renderer");a&&a.focus()},
inputInsertEmoji:function(a){var b=this.$$("yt-live-chat-text-input-field-renderer");b&&b.insertEmoji(a)},
inputMessage:function(){var a=this.$$("yt-live-chat-text-input-field-renderer");return a&&this.data.inputField?(a.completeEmojis(),sA(a.liveChatRichMessageInput)):null},
isDeletedChanged_:function(a){a&&(this.set("data.authorName",null),this.set("data.authorPhoto",null),this.set("data.message",null))},
isEmpty_:function(a,b){return a?a.empty||!(a.message||a.inputField||b):!0}});Polymer({is:"yt-live-chat-placeholder-item-renderer",properties:{data:Object}});Polymer({is:"yt-live-chat-server-error-message",properties:{data:{type:Object,observer:"dataChanged_"},timestampString:{type:String,computed:"computeTimestampString_(data.timestampUsec)"}},TIME_FORMATTER:new dx(7),dataChanged_:function(a,b){a&&a.class&&this.toggleClass(a.class,!0);b&&b.class&&this.toggleClass(b.class,!1)},
computeTimestampString_:function(a){return this.TIME_FORMATTER.format(new Date(a/1E3))}});Polymer({is:"yt-live-chat-toast-renderer",properties:{message:{type:Object},text:{type:Object,computed:"computeText_(message)",observer:"handleTextChanged_"},actionButton:{type:Object,computed:"computeActionButton_(message)"},isShowingMessage:{type:Boolean,value:!1,reflectToAttribute:!0}},listeners:{transitionend:"onTransitionEnd_"},behaviors:[O.YtRendererStamperBehavior,R.YtActionHandlerBehavior],actionMap:{"yt-live-chat-actions":"handleLiveChatActions_","yt-live-chat-add-to-toast-action":"handleAction_"},
stampDom:{actionButton:{id:"button",mapping:{buttonRenderer:"yt-button-renderer"}}},created:function(){this.queuedMessages_=[];this.clearTimeout_=this.toastTimeout_=null},
queueMessage_:function(a){this.queuedMessages_.push(a);this.maybeShowMessage_()},
maybeShowMessage_:function(){this.clearTimeout_||this.toastTimeout_||!this.queuedMessages_.length||(Polymer.dom(this).setAttribute("role","alert"),this.message=this.queuedMessages_.shift(),this.isShowingMessage=!0,this.toastTimeout_=this.async(function(){this.toastTimeout_=null;this.dismissMessage()},this.actionButton?5E3:3E3))},
dismissMessage:function(){this.toastTimeout_&&(this.cancelAsync(this.toastTimeout_),this.toastTimeout_=null);this.isShowingMessage=!1;Polymer.dom(this).removeAttribute("role");this.clearTimeout_=this.async(function(){this.clearTimeout_=this.message=null;this.maybeShowMessage_()},500)},
onTransitionEnd_:function(){if(this.isShowingMessage){var a=Yi(this);a&&a.focus()}},
handleLiveChatActions_:function(a){a.forEach(this.handleAction_.bind(this))},
handleAction_:function(a){a.liveChatAddToToastAction&&this.queueMessage_(a.liveChatAddToToastAction)},
computeText_:function(a){return a&&a.item?a.item.notificationTextRenderer&&a.item.notificationTextRenderer.successResponseText?a.item.notificationTextRenderer.successResponseText:a.item.notificationActionRenderer&&a.item.notificationActionRenderer.responseText?a.item.notificationActionRenderer.responseText:null:null},
handleTextChanged_:function(a){a?(a=Ph(a),Polymer.dom(this).setAttribute("aria-label",a)):Polymer.dom(this).removeAttribute("aria-label")},
computeActionButton_:function(a){return a&&a.item?a.item.notificationActionRenderer&&a.item.notificationActionRenderer.actionButton?a.item.notificationActionRenderer.actionButton:null:null}});Polymer({is:"yt-live-chat-viewer-engagement-message-renderer",properties:{data:Object},behaviors:[T.YtRendererBehavior,Z.YtLiveChatItemBehavior,O.YtRendererStamperBehavior],stampDom:{"data.actionButton":{id:"action-button",mapping:{buttonRenderer:"yt-button-renderer"}}}});Polymer({is:"yt-live-chat-item-list-renderer",properties:{data:{type:Object,observer:"dataChanged_"},atBottom:{type:Boolean,value:!0,observer:"atBottomChanged_"},visibleItems:{type:Array,value:function(){return[]}},
itemIdToDockDurationMap:{type:Object,value:function(){return{}}},
dockableMessages:{type:Array,value:function(){return[]}},
allowScroll:{type:Boolean,reflectToAttribute:!0,computed:"computeAllowScroll_(contextMenuOpen, moderationModeEnabled)"},emojiManager:Object,participantsManager:Object,contextMenuOpen:{type:Boolean,value:!1},moderationModeEnabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"moderationModeEnabledChanged_"},isEmpty:{type:Boolean,computed:"computeIsEmpty_(visibleItems.splices)"}},behaviors:[Polymer.IronResizableBehavior,T.YtRendererBehavior,S.YtVisibilityBehavior,O.YtRendererStamperBehavior,
R.YtActionHandlerBehavior,Q.YtActionSenderBehavior],listeners:{"iron-resize":"onIronResize_","yt-live-chat-context-menu-opened":"onContextMenuOpened_","yt-live-chat-context-menu-closed":"onContextMenuClosed_","yt-popup-closed":"maybeScrollToBottom_","yt-rendererstamper-finished":"onYtRendererstamperFinished_"},observers:["isAttachedOrDataChanged_(isAttached, data)"],actionMap:{"yt-live-chat-actions":"handleLiveChatActions_","yt-add-chat-item-action":"handleLiveChatAction_","yt-dim-chat-item-action":"handleLiveChatAction_",
"yt-remove-chat-item-action":"handleLiveChatAction_","yt-replace-chat-item-action":"handleLiveChatAction_","yt-mark-chat-item-as-deleted-action":"handleLiveChatAction_","yt-mark-chat-items-by-author-as-deleted-action":"handleLiveChatAction_","yt-add-live-chat-text-message-from-template-action":"handleAddTextMessageFromTemplateAction_","yt-live-chat-picker-changed":"handlePickerChanged_","yt-live-chat-maybe-scroll-to-bottom":"maybeScrollToBottom_","yt-live-chat-scroll-to-bottom":"scrollToBottom_",
"yt-live-chat-keyboard-event":"onKeyboardEventAction_","yt-live-chat-seek-success":"handleChatSeekSuccess_"},stampDom:{"data.emptyStateMessage":{id:"empty-state-message",mapping:{messageRenderer:"yt-live-chat-message-renderer"}},visibleItems:{id:"items",mapping:{liveChatAutoModMessageRenderer:{component:"yt-live-chat-auto-mod-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}},liveChatTextMessageRenderer:{component:"yt-live-chat-text-message-renderer",
properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}},liveChatPaidMessageRenderer:{component:"yt-live-chat-paid-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}},liveChatLegacyPaidMessageRenderer:{component:"yt-live-chat-legacy-paid-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}},liveChatPaidStickerRenderer:"yt-live-chat-paid-sticker-renderer",
liveChatModeChangeMessageRenderer:"yt-live-chat-mode-change-message-renderer",liveChatModerationMessageRenderer:"yt-live-chat-moderation-message-renderer",liveChatPlaceholderItemRenderer:"yt-live-chat-placeholder-item-renderer",liveChatViewerEngagementMessageRenderer:"yt-live-chat-viewer-engagement-message-renderer",serverErrorMessage:"yt-live-chat-server-error-message"},events:!0,reuseComponents:!0}},CHAT_SMOOTH_ANIMATION_TIME_MS:F?0:84,SCROLLED_TO_BOTTOM_EPSILON:15,created:function(){this.activeItems_=
[];this.isSmoothed_=!0;this.lastSmoothChatMessageAddMs_=null;this.chatRateMs_=1E3;this.lastSmoothScrollClockTime_=this.lastSmoothScrollUpdate_=null;this.scrollTimeRemainingMs_=this.scrollPixelsRemaining_=0;this.smoothScrollRafHandle_=null;this.preinsertHeight_=0},
attached:function(){this.listen(window,"resize","maybeScrollToBottom_");this.listen(window,"keydown","onWindowKeyEvent_");this.listen(window,"keyup","onWindowKeyEvent_");dA()||(this.listen(window.top,"blur","onTopWindowBlurEvent_"),window!=window.top&&this.listen(window,"blur","onFramedWindowBlurEvent_"));this.isSmoothScrollEnabled_()&&Polymer.dom(this.$["item-scroller"]).classList.add("animated");M("live_chat_aggregation")&&Polymer.dom(this.$.contents).appendChild(document.createElement("yt-live-chat-prototype-aggregation"))},
detached:function(){this.resetSmoothScroll_();this.unlisten(window,"resize","maybeScrollToBottom_");this.unlisten(window,"keydown","onWindowKeyEvent_");this.unlisten(window,"keyup","onWindowKeyEvent_");dA()||(this.unlisten(window.top,"blur","onTopWindowBlurEvent_"),window!=window.top&&this.unlisten(window,"blur","onFramedWindowBlurEvent_"))},
onIronResize_:function(){this.maybeResizeAnimationContainer_()},
maybeResizeAnimationContainer_:function(){this.isSmoothScrollEnabled_()&&this.debounce("resize",function(){var a=this.$.items.clientHeight,b=this.$["item-offset"].clientHeight;0!=a&&(this.$["item-offset"].style.height=a+"px",(0==b||this.atBottom)&&this.scrollToBottom_())})},
isAttachedOrDataChanged_:function(a,b){var c=window!=window.top&&!dA();a?b&&b.enablePauseChatKeyboardShortcuts&&(c&&this.listen(window.top,"mousemove","onModerationMouseMoveEvent_"),this.listen(window,"mousemove","onModerationMouseMoveEvent_")):(c&&this.unlisten(window.top,"mousemove","onModerationMouseMoveEvent_"),this.unlisten(window,"mousemove","onModerationMouseMoveEvent_"))},
clearList:function(){this.activeItems_=[];this.visibleItems=[];this.dockableMessages=[];this.isSmoothed_=!0;this.lastSmoothChatMessageAddMs_=null;this.chatRateMs_=1E3;this.lastSmoothScrollClockTime_=this.lastSmoothScrollUpdate_=null;this.scrollTimeRemainingMs_=this.scrollPixelsRemaining_=0;this.smoothScrollRafHandle_=null;this.preinsertHeight_=0;this.itemIdToDockDurationMap={};this.$["docked-messages"].clear();this.maybeResizeScrollContainer_([]);this.$.items.style.transform="";this.atBottom||this.scrollToBottom_()},
dataChanged_:function(){this.clearList()},
handleLiveChatActions_:function(a){a.length&&(a.forEach(this.handleLiveChatAction_,this),this.maybeResizeScrollContainer_(a),this.flushActiveItems_(),this.async(this.maybeScrollToBottom_))},
handleLiveChatAction_:function(a){a.addChatItemAction?this.handleAddChatItemAction_(a.addChatItemAction):a.markChatItemAsDeletedAction?this.handleMarkChatItemAsDeletedAction_(a.markChatItemAsDeletedAction):a.markChatItemsByAuthorAsDeletedAction?this.handleMarkChatItemsByAuthorAsDeletedAction_(a.markChatItemsByAuthorAsDeletedAction):a.dimChatItemAction?this.handleDimChatItemAction_(a.dimChatItemAction):a.replaceChatItemAction?this.handleReplaceChatItemAction_(a.replaceChatItemAction):a.removeChatItemAction?
this.handleRemoveChatItemAction_(a.removeChatItemAction):a.serverErrorMessage&&this.activeItems_.push({serverErrorMessage:{timestampUsec:this.currentTimestampUsec_(),message:a.serverErrorMessage.message,class:a.serverErrorMessage.class}})},
handleAddChatItemAction_:function(a){var b=a.item,c=Object.keys(b)[0],d=b[c],f=!1;this.forEachItem_(function(c,g,l){var h=Object.keys(b)[0];!(g=g[h])||g.id!=a.clientId&&g.id!=d.id||("visibleItems"==c?(this.visibleItems[l]=b,this.$.items.children[l].set("data",d)):this.activeItems_[l]=b,f=!0)});
if(c=this.get("stickinessParams.dockAtTopDurationMs",a)||0){var g=Array.prototype.find.call(Polymer.dom(this.$.items).children,function(a){return a.id==d.id});
g?this.maybeAddDockableMessage_(g):this.itemIdToDockDurationMap[d.id]=c}f||this.activeItems_.push(b)},
handleReplaceChatItemAction_:function(a){var b=a.replacementItem;this.forEachItem_(function(c,d,f){var g=Object.keys(d)[0];(d=d[g])&&d.id==a.targetItemId&&("visibleItems"==c?(this.splice(c,f,1,b),this.resetSmoothScroll_()):this.activeItems_[f]=b)})},
markAsDeleted_:function(a,b,c,d,f){b=[a,b,c].join(".");this.set(b+".deletedStateMessage",d);this.set(b+".showOriginalContentMessage",f);"visibleItems"==a&&this.resetSmoothScroll_()},
markAutoModRendererAsDeleted_:function(a,b,c,d,f){b=b.liveChatAutoModMessageRenderer.autoModeratedItem;b.liveChatTextMessageRenderer.deletedStateMessage=d;b.liveChatTextMessageRenderer.showOriginalContentMessage=f;this.splice(a,c,1,b);"visibleItems"==a&&this.resetSmoothScroll_()},
handleMarkChatItemAsDeletedAction_:function(a){this.forEachItem_(function(b,c,d){var f=Object.keys(c)[0],g=c[f];g&&g.id==a.targetItemId&&("liveChatAutoModMessageRenderer"==f?this.markAutoModRendererAsDeleted_(b,c,d,a.deletedStateMessage,a.showOriginalContentMessage):this.markAsDeleted_(b,d,f,a.deletedStateMessage,a.showOriginalContentMessage))})},
handleDimChatItemAction_:function(a){var b=a.clientAssignedId;b&&this.forEachItem_(function(a,d,f){var c=Object.keys(d)[0];(d=d[c])&&d.id==b&&(a=[a,f,c].join("."),this.set(a+".isDimmed",!0))})},
handleMarkChatItemsByAuthorAsDeletedAction_:function(a){this.forEachItem_(function(b,c,d){var f=Object.keys(c)[0],g=c[f];g&&g.authorExternalChannelId==a.externalChannelId&&("liveChatAutoModMessageRenderer"==f?this.markAutoModRendererAsDeleted_(b,c,d,a.deletedStateMessage,a.showOriginalContentMessage):this.markAsDeleted_(b,d,f,a.deletedStateMessage,a.showOriginalContentMessage))})},
handleRemoveChatItemAction_:function(a){this.forEachItem_(function(b,c,d){var f=Object.keys(c)[0];(c=c[f])&&c.id==a.targetItemId&&(this.splice(b,d,1),"visibleItems"==b&&this.resetSmoothScroll_())})},
onYtRendererstamperFinished_:function(){var a=Polymer.dom(this.$.items).children;Array.prototype.forEach.call(a,function(a){var b=a.id;this.itemIdToDockDurationMap[b]&&(this.maybeAddDockableMessage_(a),delete this.itemIdToDockDurationMap[b])}.bind(this))},
forEachItem_:function(a){this.visibleItems.forEach(a.bind(this,"visibleItems"));this.activeItems_.forEach(a.bind(this,"activeItems_"))},
handleAddTextMessageFromTemplateAction_:function(a,b,c){a=E.unsafeClone(a.addLiveChatTextMessageFromTemplateAction.template.liveChatTextMessageRenderer);b=c.client_message_id;a.id=b;a.timestampUsec=String(this.currentTimestampUsec_());c.message?a.message={runs:[{text:c.message}]}:c.rich_message&&(a.message=this.formattedStringFromLiveChatRichMessageInput_(c.rich_message));this.handleLiveChatActions_([{addChatItemAction:{clientMessageId:b,item:{liveChatTextMessageRenderer:a}}}])},
formattedStringFromLiveChatRichMessageInput_:function(a){var b={runs:[]};a=a.text_segments;for(var c=0;c<a.length;c++){var d=a[c];d.text?b.runs.push(d):d.emoji_id&&b.runs.push({emoji:this.emojiManager.getEmojiById(d.emoji_id)})}return b},
currentTimestampUsec_:function(){return 1E3*Date.now()},
handlePickerChanged_:function(){this.maybeScrollToBottom_()},
flushActiveItems_:function(){if(0<this.activeItems_.length)if(this.canScrollToBottom_()){var a=Math.max(this.visibleItems.length+this.activeItems_.length-this.data.maxItemsToDisplay,0);a&&this.splice("visibleItems",0,a);if(this.isSmoothScrollEnabled_()||this.dockableMessages.length)this.preinsertHeight_=this.$.items.clientHeight;this.activeItems_.unshift("visibleItems");try{this.push.apply(this,this.activeItems_)}catch(b){L(b)}this.activeItems_=[];this.isSmoothScrollEnabled_()?this.canScrollToBottom_()&&
this.async(this.showNewItems_):this.async(this.maybeScrollToBottom_)}else this.activeItems_.length>this.data.maxItemsToDisplay&&this.activeItems_.splice(0,this.activeItems_.length-this.data.maxItemsToDisplay)},
showNewItems_:function(){var a=this.$.items.clientHeight>this.$["item-scroller"].clientHeight;this.$["item-offset"].style.height=this.$.items.clientHeight+"px";this.canScrollToBottom_()&&a&&(this.scrollPixelsRemaining_+=this.$.items.clientHeight-this.preinsertHeight_,this.scrollToBottom_(),this.$.items.style.transform="translateY("+Math.floor(this.scrollPixelsRemaining_)+"px)",this.lastSmoothChatMessageAddMs_||(this.lastSmoothChatMessageAddMs_=performance.now()),a=performance.now()-this.lastSmoothChatMessageAddMs_,
this.chatRateMs_=.9*this.chatRateMs_+.1*a,this.isSmoothed_&&400>this.chatRateMs_&&(this.isSmoothed_=!1),!this.isSmoothed_&&450<this.chatRateMs_&&(this.isSmoothed_=!0),this.scrollTimeRemainingMs_+=this.isSmoothed_?this.CHAT_SMOOTH_ANIMATION_TIME_MS:0,this.smoothScrollRafHandle_||(this.smoothScrollRafHandle_=window.requestAnimationFrame(this.smoothScroll_.bind(this))),this.lastSmoothChatMessageAddMs_=performance.now())},
maybeAddDockableMessage_:function(a){M("enable_docked_chat_messages")&&(this.dockableMessages.find(function(b){return a===b})||window.setTimeout(function(){0<a.offsetTop-this.$["item-scroller"].scrollTop&&this.push("dockableMessages",a)}.bind(this),0))},
computeIsEmpty_:function(){return!this.visibleItems.length},
canScrollToBottom_:function(){return this.atBottom&&this.allowScroll},
smoothScroll_:function(a){if(this.lastSmoothScrollUpdate_){var b=400>this.scrollPixelsRemaining_&&0<this.scrollPixelsRemaining_,c=1E3>a-this.lastSmoothScrollUpdate_&&1E3>performance.now()-this.lastSmoothScrollClockTime_&&0<this.scrollTimeRemainingMs_;b&&c?(c=a-this.lastSmoothScrollUpdate_,b=c/this.scrollTimeRemainingMs_*this.scrollPixelsRemaining_,this.scrollPixelsRemaining_-=b,this.scrollPixelsRemaining_=Math.max(this.scrollPixelsRemaining_,0),this.scrollTimeRemainingMs_-=c,this.scrollTimeRemainingMs_=
Math.max(this.scrollTimeRemainingMs_,0),this.lastSmoothScrollUpdate_=a,this.lastSmoothScrollClockTime_=performance.now(),this.smoothScrollRafHandle_=window.requestAnimationFrame(this.smoothScroll_.bind(this))):this.resetSmoothScroll_();this.$.items.style.transform="translateY("+Math.floor(this.scrollPixelsRemaining_)+"px)"}else this.lastSmoothScrollUpdate_=a,this.lastSmoothScrollClockTime_=performance.now(),this.smoothScrollRafHandle_=window.requestAnimationFrame(this.smoothScroll_.bind(this))},
resetSmoothScroll_:function(){this.isSmoothScrollEnabled_()&&(this.scrollTimeRemainingMs_=this.scrollPixelsRemaining_=0,this.lastSmoothScrollUpdate_=null,this.smoothScrollRafHandle_&&window.cancelAnimationFrame(this.smoothScrollRafHandle_),this.smoothScrollRafHandle_=null,this.debounce("resize",function(){this.$["item-offset"].style.height=this.$.items.clientHeight+"px"}))},
onScrollItems_:function(a){this.onScroll(a);a=this.$["item-scroller"];this.atBottom=a.scrollTop>=a.scrollHeight-a.clientHeight-this.SCROLLED_TO_BOTTOM_EPSILON;this.flushActiveItems_()},
onContextMenuOpened_:function(){this.contextMenuOpen=!0},
onContextMenuClosed_:function(){this.contextMenuOpen=!1},
onShow_:function(){this.maybeScrollToBottom_()},
maybeResizeScrollContainer_:function(a){this.isSmoothScrollEnabled_&&bb(a,function(a){return!!a.replaceChatItemAction})&&(this.$["item-offset"].style.height=this.$.items.clientHeight+"px",this.maybeScrollToBottom_())},
computeAllowScroll_:function(a,b){return!(a||b)},
maybeScrollToBottom_:function(){this.canScrollToBottom_()&&this.scrollToBottom_()},
scrollToBottom_:function(){this.$["item-scroller"].scrollTop=Math.pow(2,24);this.atBottom=!0},
atBottomChanged_:function(a){a?this.hideShowMoreAsync_||(this.hideShowMoreAsync_=this.async(function(){this.$["show-more"].style.visibility="hidden"},200)):(this.hideShowMoreAsync_&&this.cancelAsync(this.hideShowMoreAsync_),this.hideShowMoreAsync_=null,this.$["show-more"].style.visibility="visible")},
onWindowKeyEvent_:function(a){this.handleKeyboardEvent_(a.type,a.keyCode)},
onKeyboardEventAction_:function(a){this.handleKeyboardEvent_(a.eventType,a.keyCode)},
handleKeyboardEvent_:function(a,b){if(Yb)b=Tw(b);else if($b&&Zb)switch(b){case 93:b=91}this.data.enablePauseChatKeyboardShortcuts&&18==b&&(this.moderationModeEnabled="keydown"==a)},
onTopWindowBlurEvent_:function(){window!=window.top&&document.hasFocus()||(this.moderationModeEnabled=!1)},
onFramedWindowBlurEvent_:function(){window==window.top||window.top.document.hasFocus()||(this.moderationModeEnabled=!1)},
onModerationMouseMoveEvent_:function(a){this.moderationModeEnabled=a.altKey},
moderationModeEnabledChanged_:function(){Polymer.updateStyles()},
isSmoothScrollEnabled_:function(){return 0!=this.CHAT_SMOOTH_ANIMATION_TIME_MS},
handleChatSeekSuccess_:function(){this.clearList()}});Polymer({is:"yt-live-chat-icon-toggle-button-renderer",properties:{data:{type:Object,observer:"dataChanged_"},id:{type:String,computed:"computeId_(data.targetId)",reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},icon:{type:String,readOnly:!0,computed:"computeIcon_(data.icon.iconType, active)"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"disabledChanged_"},showTooltip:{type:Boolean,computed:"computeShowTooltip_(data, disabled)"}},listeners:{animationend:"onAnimationEnd_"},
behaviors:[R.YtActionHandlerBehavior,{created:function(){this.handler_=null},
attached:function(){var a={};this.fire("yt-live-chat-add-tooltip-target",a);this.handler_=a.handler},
detached:function(){this.handler_&&this.handler_.removeElementFromSupportingTooltips(this);this.handler_=null}}],
actionMap:{"yt-live-chat-actions":"handleLiveChatActions_"},created:function(){this.tooltip_=null},
dataChanged_:function(a){a.tooltip?(this.tooltip_||(this.tooltip_=document.createElement("paper-tooltip"),this.tooltip_.position="top",this.tooltip_.offset=8,this.tooltip_.fitToVisibleBounds=!0,this.appendChild(this.tooltip_)),Polymer.dom(this.tooltip_).textContent=a.tooltip):this.tooltip_&&this.removeChild(this.tooltip_);a.disabled&&(this.disabled=!0)},
computeId_:function(a){return a},
computeIcon_:function(a,b){return a?b&&this.data&&this.data.toggledIcon?"yt-icons:"+this.data.toggledIcon.iconType.toLowerCase():"yt-icons:"+a.toLowerCase():""},
onTap_:function(){this.data.disabled?this.showTooltip&&this.immediatelyShowTooltip_():(this.active=!this.active,this.fire("yt-live-chat-icon-toggle-button-renderer-toggle",{targetId:this.id}))},
immediatelyShowTooltip_:function(){var a=this.$$("#tooltip");a.animationDelay=0;a.animationConfig={entry:[{name:"fade-in-animation",timing:{}}]};a.show()},
disabledChanged_:function(a){a?Polymer.dom(this).setAttribute("aria-disabled",!0):Polymer.dom(this).removeAttribute("aria-disabled")},
computeShowTooltip_:function(a,b){return!!(a&&a.tooltip&&b)},
handleLiveChatActions_:function(a){a.length&&("creator"!=this.id&&"product-picker"!=this.id||a.forEach(function(a){(a=this.get("addLiveChatTickerItemAction.item.liveChatTickerPaidMessageItemRenderer",a))&&a.durationSec==a.fullDurationSec&&this.startBubble_(this.colorFromDecimal_(a.startBackgroundColor))},this))},
onAnimationEnd_:function(){Polymer.dom(this).removeAttribute("bubble")},
startBubble_:function(a){this.updateStyles({"--yt-live-chat-monetization-button-glow":a});Polymer.dom(this).setAttribute("bubble",!0)},
removeBubble_:function(){Polymer.dom(this).removeAttribute("bubble")},
colorFromDecimal_:function(a){a=parseInt(a,10);return"rgba("+[a>>16&255,a>>8&255,a&255,(a>>24&255)/255].join()+")"}});Polymer({is:"yt-live-chat-message-buy-flow-heading-renderer",properties:{data:{type:Object}},behaviors:[T.YtRendererBehavior]});Z.YtLiveChatVeLoggingBehaviorImpl_={attached:function(){var a=this.data&&this.data.trackingParams;if(a){var b=nk(),c=ok();b&&c?Rj(ck,c,b,[Qj(a)]):(a="",b||c?b?c||(a="Missing currentCsn for live chat ve logging."):a="Missing rootVe for live chat ve logging.":a="Missing rootVe and currentCsn for live chat ve logging.",sh(Error(a),"WARNING"))}}};
Z.YtLiveChatVeLoggingBehavior=[Z.YtLiveChatVeLoggingBehaviorImpl_];O.YtPickerBehavior=[Q.YtActionSenderBehavior,{listeners:{"picker-cancelled":"onPickerCancel_"},togglePicker_:function(a){var b=this.$.pickers.selected;if(b){Polymer.dom(this).removeAttribute(b+"-open");var c=this.$["picker-buttons"].querySelector("#"+b);c&&(c.active=!1)}b==a?this.$.pickers.selected=null:(this.$.pickers.selected=a,Polymer.dom(this).setAttribute(a+"-open",!0));this.sendAction("yt-live-chat-picker-changed")},
onPickerCancel_:function(){this.togglePicker_(this.$.pickers.selected)}}];var tA=0,uA=/tone[1-5]/,vA=" \ud83c\udffb \ud83c\udffc \ud83c\udffd \ud83c\udffe \ud83c\udfff".split(" "),wA=function(){this.skinTone=0;this.emojiSize=24;this.emojis=[];this.emojiMap={};this.emojiRegex=/$./;this.emojiShortcutMap={};this.emojiShortcutCharMap={};this.hasInitializedShortcutCharMap=!1};
e=wA.prototype;
e.load=function(a,b){if(b)if(a.length)a=a.concat(b.emojis);else{this.emojis=b.emojis;this.emojiMap=b.emojiMap;this.emojiShortcutMap=b.emojiShortcutMap;this.emojiShortcutCharMap=b.emojiShortcutCharMap;this.hasInitializedShortcutCharMap=!0;this.emojiRegex=b.emojiRegex;return}this.emojis=a;this.hasInitializedShortcutCharMap=!1;b=Array(a.length);for(var c=0;c<a.length;c++){var d=a[c];if(d.emojiId){this.emojiMap[d.emojiId]=d;for(var f=0;d.shortcuts&&f<d.shortcuts.length;f++)this.emojiShortcutMap[d.shortcuts[f].toLocaleLowerCase()]=d;
b[c]=d.isCustomEmoji&&d.shortcuts?d.shortcuts[0]:d.emojiId}}b.sort(function(a,b){return b.length-a.length});
this.emojiRegex=b.length?new RegExp(b.join("|"),"gi"):/$./};
e.getEmojiArray=function(){return this.emojis};
e.getEmojiMap=function(){return this.emojiMap};
e.getEmojiById=function(a){return this.emojiMap[a]};
e.getEmojiByIdWithSkinTone=function(a){var b=this.getEmojiById(a);b&&b.supportsSkinTone&&0!==this.skinTone&&(a=this.getEmojiById(a+vA[this.skinTone]))&&(b=a);return b};
e.getEmojiByShortcut=function(a){return this.emojiShortcutMap[a.toLocaleLowerCase()]||null};
e.getEmojiShortcutsFromPrefix=function(a){return this.getemojiShortcutCharMap()[a]||{}};
e.getemojiShortcutCharMap=function(){if(!this.hasInitializedShortcutCharMap){this.hasInitializedShortcutCharMap=!0;for(var a=0;a<this.emojis.length;a++)for(var b=this.emojis[a],c=0;b.shortcuts&&c<b.shortcuts.length;c++){var d=b.shortcuts[c];if(!(3>d.length||!b.isCustomEmoji&&uA.test(d))){var f=d.substr(0,3).toLocaleLowerCase();null==this.emojiShortcutCharMap[f]&&(this.emojiShortcutCharMap[f]=Object.create(null));this.emojiShortcutCharMap[f][d]=b}}}return this.emojiShortcutCharMap};
e.createEmoji=function(a,b){b=void 0===b?!0:b;var c=document.createElement("img");c.classList.add("emoji");c.src=a.image?Km(a.image.thumbnails,this.emojiSize)||"":"";var d=void 0;a.image&&a.image.accessibility&&a.image.accessibility.accessibilityData&&(d=a.image.accessibility.accessibilityData.label);c.alt=d?d:(a.isCustomEmoji&&a.shortcuts?a.shortcuts[0]:a.emojiId)||"";a.isCustomEmoji&&(c.dataset.emojiId=a.emojiId);F&&(c.setAttribute("contenteditable","false"),c.setAttribute("unselectable","on"));
b&&(a.shortcuts&&a.shortcuts.length&&c.setAttribute("shared-tooltip-text",a.shortcuts[0]),c.id="emoji-"+tA++);return c};
e.createDocumentFragment=function(a,b,c){b=void 0===b?!1:b;c=void 0===c?!0:c;for(var d=document.createDocumentFragment(),f=0,g;null!=(g=this.emojiRegex.exec(a));){var h=this.getEmojiById(g[0])||this.getEmojiByShortcut(g[0]);!h||h.isCustomEmoji&&!b||(h=this.createEmoji(h,c),f!==g.index&&d.appendChild(document.createTextNode(a.substring(f,g.index))),d.appendChild(h),f=g.index+g[0].length)}d.appendChild(document.createTextNode(a.substr(f)));return d};Polymer({is:"yt-emoji-picker-category-button-renderer",properties:{data:{type:Object,observer:"dataChanged_"},id:{type:String,computed:"computeId_(data.categoryId)",reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},icon:{type:String,readOnly:!0,computed:"computeIcon_(data.icon.iconType)"}},created:function(){this.tooltip_=null},
dataChanged_:function(a){a.tooltip&&(this.tooltip_||(this.tooltip_=document.createElement("paper-tooltip"),this.$.button.appendChild(this.tooltip_)),Polymer.dom(this.tooltip_).textContent=a.tooltip)},
computeId_:function(a){return a},
computeIcon_:function(a){return Yh(a)},
onTap_:function(){this.active=!this.active;this.fire("yt-emoji-picker-select-category",{categoryId:this.id})}});Polymer({is:"yt-emoji-picker-category-renderer",properties:{data:Object,id:{type:String,computed:"computeId_(data)"},emoji:{type:Array,computed:"computeEmoji_(data)",observer:"emojiChanged_"},skinTone:Number,emojiManager:{type:Object,observer:"emojiManagerChanged_"},focusedIndex:{type:Number,value:0},showFocus:{type:Boolean,value:!1},ariaLabel:{type:String,value:null,reflectToAttribute:!0,computed:"computeAriaLabel_(data.title)"},ariaActivedescendant:{type:String,value:null,reflectToAttribute:!0,
computed:"computeAriaActivedescendant_(emoji, focusedIndex)"}},behaviors:[R.YtActionHandlerBehavior],hostAttributes:{"aria-live":"polite",role:"listbox",tabindex:0},listeners:{focus:"onFocus_",blur:"onBlur_",mousedown:"onMouseDown_",keydown:"onKeyDown_"},actionMap:{"yt-live-chat-emoji-skin-tone-changed":"emojiSkinToneChanged_"},created:function(){this.ignoreNextFocus_=!1},
emojiChanged_:function(){this.changeFocus_(0,!1)},
emojiManagerChanged_:function(a){this.skinTone=a.skinTone},
emojiSkinToneChanged_:function(a){this.skinTone=a},
emojiUrl:function(a){return Km(this.emojiManager.getEmojiByIdWithSkinTone(a).image.thumbnails,24)||""},
emojiAlt:function(a){var b=this.get("image.accessibility.accessibilityData.label",a);return b?b:a.isCustomEmoji?a.shortcuts[0]:a.emojiId},
emojiAriaLabel:function(a){return a.shortcuts[0]},
emojiAriaSelected:function(a,b,c){return a&&c==b?"true":"false"},
computeId_:function(a){return a.categoryId||""},
computeEmoji_:function(a){if(!this.emojiManager)return[];var b=this.emojiManager.getEmojiMap();return a.emojiIds.map(function(a){return b[a]})},
computeAriaLabel_:function(a){return Ph(a)},
computeAriaActivedescendant_:function(a,b){return a&&a[b]?a[b].emojiId||"":""},
onMouseDown_:function(){this.ignoreNextFocus_=!0},
onFocus_:function(){this.ignoreNextFocus_||(this.showFocus=!0,this.changeFocus_(0,!0));this.ignoreNextFocus_=!1},
onBlur_:function(){this.showFocus=!1},
onTap_:function(a){a.target instanceof HTMLImageElement&&(a=a.target.id,this.changeFocus_(0,!1),this.fire("yt-emoji-select",this.emojiManager.getEmojiByIdWithSkinTone(a)))},
onEmojiMouseOver:function(a){this.fire("yt-emoji-hover",a.model.item)},
changeFocus_:function(a,b){this.focusedIndex=(this.focusedIndex+a+this.emoji.length)%this.emoji.length;this.focusedIndex<this.emoji.length&&(a=this.emoji[this.focusedIndex],b&&(this.$.emoji.children[this.focusedIndex].scrollIntoView(!1),this.fire("yt-emoji-hover",a)))},
onKeyDown_:function(a){switch(a.keyCode){case 13:if(this.focusedIndex<this.emoji.length){var b=this.emoji[this.focusedIndex];b&&b.emojiId&&(this.fire("yt-emoji-select",this.emojiManager.getEmojiByIdWithSkinTone(b.emojiId)),a.preventDefault(),this.focus())}break;case 40:this.changeFocus_(1,!0);a.preventDefault();break;case 38:this.changeFocus_(-1,!0),a.preventDefault()}}});Polymer({is:"yt-emoji-picker-upsell-category-renderer",properties:{data:Object,id:{type:String,computed:"computeId_(data)"},titleOffset:{type:Number,value:0,observer:"titleOffsetChanged_"},ariaLabel:{type:String,value:null,reflectToAttribute:!0,computed:"getFormattedStringRawText(data.upsell)"},ariaActivedescendant:{type:String,value:null,reflectToAttribute:!0,computed:"computeAriaActivedescendant_(focusedIndex)"},showFocus:{type:Boolean,value:!1},focusedIndex:{type:Number,value:0}},listeners:{focus:"onFocus_",
blur:"onBlur_",keydown:"onKeyDown_"},behaviors:[hi.ComponentBehavior],hostAttributes:{"aria-live":"polite",role:"listbox",tabindex:0},emojiUrl:function(a){return Km(a.thumbnails,24)||""},
emojiId:function(a){return"emoji"+a},
computeId_:function(a){return a.categoryId||""},
computeAriaActivedescendant_:function(a){return this.data&&a<this.data.emojis.length?this.emojiId(a):""},
titleOffsetChanged_:function(a){var b=this.getBoundingClientRect(),c=this.$.title.getBoundingClientRect();a=Math.max(0,Math.min(a,b.height-c.height));this.$.title.style.top=a+"px"},
onEmojiMouseOver_:function(a){this.fire("yt-emoji-hover",a.model.item)},
onEmojiTap_:function(a){this.data.command&&(a=this.getEndpointHandler_().getNavigationEventDetails(this.data.command,a),this.fire("yt-navigate",a,{node:this}))},
emojiAriaLabel:function(a){return a.shortcuts[0]},
emojiAriaSelected:function(a,b,c){return a&&c==b?"true":"false"},
changeFocus_:function(a,b){var c=this.data.emojis.length;this.focusedIndex=(this.focusedIndex+a+c)%c;a=this.data.emojis[this.focusedIndex];b&&(this.$$("#"+this.emojiId(this.focusedIndex)).scrollIntoView(!1),this.fire("yt-emoji-hover",a))},
onFocus_:function(){this.showFocus=!0;this.changeFocus_(0,!0)},
onBlur_:function(){this.showFocus=!1},
onKeyDown_:function(a){switch(a.keyCode){case 13:this.onEmojiTap_(a);this.focus();break;case 40:this.changeFocus_(1,!0);a.preventDefault();break;case 38:this.changeFocus_(-1,!0),a.preventDefault()}},
getFormattedStringRawText:Ph});Polymer({ANIMATION_TIME:200,COLON_REGEX:/:/g,is:"yt-emoji-picker-renderer",properties:{data:Object,categories:{type:Array,value:function(){return[]}},
categoryButtons:{type:Array,value:function(){return[]}},
id:{type:String,computed:"computeId_(data)",reflectToAttribute:!0},selected:{type:Boolean,value:!1},placeholder:String,search:{type:String,value:"",observer:"searchChanged_"},searching:{type:Boolean,computed:"computeSearching_(search)",reflectToAttribute:!0},searchCategory:{type:Object,computed:"computeSearchCategory_(search)"},searchEmptyMessage:{type:String,computed:"computeSearchEmptyMessage_(searching, searchCategory)"},skinTone:{type:Number,computed:"identity(emojiManager.skinTone)",observer:"skinToneChanged_"},
skinToneOpened:{type:Boolean,value:!1},emojiManager:Object},behaviors:[Q.YtActionSenderBehavior,T.YtRendererBehavior,O.YtRendererStamperBehavior],listeners:{"yt-emoji-picker-select-category":"onSelectCategory_","yt-emoji-hover":"onEmojiHover_"},stampDom:{categories:{id:"categories",mapping:{emojiPickerCategoryRenderer:{component:"yt-emoji-picker-category-renderer",properties:{emojiManager:"[[emojiManager]]"}},emojiPickerUpsellCategoryRenderer:{component:"yt-emoji-picker-upsell-category-renderer"}}},
categoryButtons:{id:"category-buttons",mapping:{emojiPickerCategoryButtonRenderer:"yt-emoji-picker-category-button-renderer"}}},observers:["updateCategoriesAndPlaceholder_(data, selected)"],identity:md,created:function(){this.lastAnimationTime_=0;this.animationEnd_=this.animationStart_=null},
attached:function(){F&&(this.style.height=this.clientHeight+150+"px")},
updateCategoriesAndPlaceholder_:function(a,b){a&&b&&(this.categories=a.categories||[],this.categoryButtons=a.categoryButtons||[],this.resetPlaceholder(),this.search="",this.async(this.updateButtons_))},
computeId_:function(a){return a.id||""},
onScroll_:function(){null==this.animationEnd_&&window.requestAnimationFrame(this.updateButtons_.bind(this))},
onSelectCategory_:function(a){var b=""!=this.search;this.search="";for(var c=this.$.categories.children,d=0;d<c.length;d++){var f=c[d];if(f.id==a.detail.categoryId){b?(this.$.categories.scrollTop=f.offsetTop,this.updateButtons_()):(this.animationStart_=this.$.categories.scrollTop,this.animationEnd_=f.offsetTop,this.lastAnimationTime_=0,this.animateScroll_(this.lastAnimationTime_));break}}},
onEmojiHover_:function(a){this.placeholder=a.detail.shortcuts[0]},
onSearchBoxFocused_:function(){this.resetPlaceholder()},
onSearchBoxBlur_:function(){this.resetPlaceholder()},
resetPlaceholder:function(){this.skinToneOpened||(this.placeholder=this.getSimpleString(this.data.searchPlaceholderText))},
computeSearchCategory_:function(a){a=a.replace(this.COLON_REGEX,"").toLowerCase().trim();if(!this.searching)return this.searchCategory;this.updateButtons_();a=a.split(" ");for(var b=[],c=this.emojiManager.getEmojiArray(),d=0;d<c.length;d++){var f=c[d];if(f.searchTerms)for(var g=0;g<f.searchTerms.length;g++){for(var h=f.searchTerms[g].toLocaleLowerCase(),k=!1,l=0;l<a.length;l++)if(-1!=h.indexOf(a[l])){k=!0;break}if(k){b.push(f.emojiId);break}}}return{categoryId:-1,emojiIds:b}},
computeSearchEmptyMessage_:function(a,b){return a&&b&&b.emojiIds&&0==b.emojiIds.length?this.data.searchNoResultsText||null:null},
computeSearching_:function(a){return this.emojiManager&&1<a.replace(this.COLON_REGEX,"").length},
openSkinToneSelector:function(){this.skinToneOpened=!0},
showSkinTonePlaceholder:function(){this.placeholder=this.getSimpleString(this.data.pickSkinToneText)},
clearSearch:function(){this.resetPlaceholder();this.search=""},
selectSkinTone_:function(a){a=Number(a.target.getAttribute("tone"));this.set("emojiManager.skinTone",a);this.sendAction("yt-live-chat-emoji-skin-tone-changed",[a]);this.skinToneOpened=!1;this.resetPlaceholder()},
skinToneChanged_:function(a){this.$["skin-tone"].setAttribute("tone",a);for(var b=this.$["dropdown-content"].children,c=0;c<b.length;c++)c==a?b[c].setAttribute("selected",""):b[c].removeAttribute("selected")},
animateScroll_:function(a){this.lastAnimationTime_||(this.lastAnimationTime_=a);a-=this.lastAnimationTime_;a<this.ANIMATION_TIME?(this.$.categories.scrollTop=this.animationStart_+(this.animationEnd_-this.animationStart_)*a/this.ANIMATION_TIME,window.requestAnimationFrame(this.animateScroll_.bind(this))):(this.$.categories.scrollTop=this.animationEnd_,this.animationEnd_=this.animationStart_=null,this.lastAnimationTime_=0);this.updateButtons_()},
searchChanged_:function(){this.updateButtons_()},
updateButtons_:function(){var a=null;if(!this.search)for(var b=this.$.categories.scrollTop,c=this.$.categories.children,d=0;d<c.length;d++){var f=c[d];f.offsetTop<=b&&(a=f.id)}b=this.$["category-buttons"].children;for(d=0;d<b.length;d++)c=b[d],c.active=c.id==a}});Polymer({is:"yt-live-chat-message-buy-flow-renderer",properties:{data:{type:Object,observer:"dataChanged_"},emojiManager:Object,superChatEmojiManager:{type:Object,value:function(){return new wA}},
participantsManager:Object,selectedPage:{type:Number,value:0},currencyFormatter:{type:Object,computed:"createCurrencyFormatter_(data.currency)"},currencySymbol:{type:String,computed:"computeCurrencySymbol_(data.currency)"},hideCurrencySymbol:{type:Boolean,computed:"computeHideCurrencySymbol_(currencySymbol, data.currency)"},priceMaxDigits:{type:Number,computed:"computePriceMaxDigits_(priceMax, currencyFormatter)"},messageTooLong:{type:Boolean,computed:"computeMessageTooLong_(characterCountDisplay, maxCharacterCount)",
reflectToAttribute:!0},isInvalidPrice:{type:Boolean,value:!1,readOnly:!0},buyButtonDisabled:{type:Boolean,computed:"computeBuyButtonDisabled_(messageTooLong, isInvalidPrice)"},priceMicros:{type:Number,value:0},durationLabel:{type:Object,computed:"computeDurationLabel_(data.messageTiers, sliderIndex)"},hideDurationLabel:{type:Boolean,computed:"computeHideDurationLabel_(data.messageTiers, sliderIndex)",reflectToAttribute:!0},messagePreviewRenderer:Object,messageCharacterCount:{type:Number,value:0},
characterCountDisplay:{type:Number,computed:"computeCharacterCountDisplay_(messageCharacterCount, maxCharacterCount)"},maxCharacterCount:{type:Number,value:0},priceInputValue:{type:String,observer:"adjustInputWidth_"},priceMin:{type:Number,computed:"computePriceMinValue_(data.messageTiers)"},priceMax:{type:Number,computed:"computePriceMaxValue_(data.messageTiers)"},sliderIndex:Number,sliderMax:{type:Number,computed:"computeSliderMax_(data.messageTiers)"},sliderMaxMarkers:{type:Number,computed:"computeSliderMaxMarkers_(sliderMax)"},
errorRenderer:{type:Object,readOnly:!0,observer:"errorRendererObserver_"}},actionMap:{"yt-wallet-dialog-closed":"onWalletDialogClose_","yt-wallet-dialog-completed":"onWalletDialogComplete_","yt-open-payments-dialog":"onWalletDialogOpen_"},behaviors:[O.YtPickerBehavior,R.YtActionHandlerBehavior,Q.YtActionSenderBehavior,T.YtRendererBehavior,O.YtRendererStamperBehavior,Z.YtLiveChatVeLoggingBehavior],listeners:{"immediate-value-change":"onSliderImmediateChange_","yt-emoji-select":"onEmojiSelect_","yt-live-chat-error-message-dismiss":"onErrorMessageDismiss_"},
observers:["updatePriceMicros_(data.defaultPurchasePriceMicros)","updateMessagePreviewRenderer_(data.messageTiers, sliderIndex, priceMicros)"],stampDom:{errorRenderer:{id:"error",mapping:{liveChatErrorMessageRenderer:"yt-live-chat-error-message-renderer"}},"data.heading":{id:"info-heading",mapping:{liveChatMessageBuyFlowHeadingRenderer:"yt-live-chat-message-buy-flow-heading-renderer"}},"data.helpButton":{id:"help",mapping:{buttonRenderer:"yt-button-renderer"}},"data.helpDialog":{id:"dialog",mapping:{liveChatDialogRenderer:"yt-live-chat-dialog-renderer"}},
"data.pickers":{id:"pickers",mapping:{emojiPickerRenderer:{component:"yt-emoji-picker-renderer",properties:{emojiManager:"[[superChatEmojiManager]]"}},liveChatCreatorSupportRenderer:{component:"yt-live-chat-creator-support-renderer"}}},"data.pickerButtons":{id:"picker-buttons",mapping:{liveChatIconToggleButtonRenderer:"yt-live-chat-icon-toggle-button-renderer"}}},created:function(){this.completeFlowTimeout_=null},
ready:function(){this.data&&this.data.emojis&&this.superChatEmojiManager.load(this.data.emojis,this.emojiManager);this.async(function(){this.adjustInputWidth_()},1)},
dataChanged_:function(a){a&&this.superChatEmojiManager&&this.superChatEmojiManager.load(a.emojis||[],this.emojiManager)},
convertMicrosToUnits_:function(a){return(a-a%this.data.currencyUnitMicros)/1E6},
convertUnitsToMicros_:function(a){a=Math.round(1E6*a);return a-a%this.data.currencyUnitMicros},
convertUnitsToCurrencyWithSymbol_:function(a){return this.currencyFormatter?this.currencyFormatter.format(a):a.toString()},
convertUnitsToCurrency_:function(a){return this.convertUnitsToCurrencyWithSymbol_(a).replace(this.currencySymbol,"").trim()},
computePriceMinValue_:function(a){return a&&a.length?this.convertMicrosToUnits_(parseInt(a[0].minPriceMicros,10)||0):0},
computePriceMaxValue_:function(a){return a&&a.length?this.convertMicrosToUnits_(parseInt(a[a.length-1].maxPriceMicros,10)||0):0},
createCurrencyFormatter_:function(a){if(!Ww){for(var b in Zw)Xw[b]=Zw[b];Ww=!0}return new mx(4,a)},
getPriceFromString_:function(a){var b=[0],c=this.currencyFormatter.parse(a,b);return b[0]!=a.length?NaN:c},
onInputBlur_:function(a){a=this.getPriceFromString_(a.currentTarget.value);isNaN(a)||(this.priceMicros=this.convertUnitsToMicros_(a),this.isInvalidPrice||(this.priceInputValue="",this.priceInputValue=this.convertMicrosToCurrency_(this.priceMicros),this.sliderIndex=this.getMessageTierIndex_(this.priceMicros)))},
onInputChange_:function(a){a=this.getPriceFromString_(a.currentTarget.value);isNaN(a)?this._setIsInvalidPrice(!0):(this._setIsInvalidPrice(a<this.priceMin||a>this.priceMax),this.isInvalidPrice||(a=this.convertUnitsToMicros_(a),this.sliderIndex=this.getMessageTierIndex_(a),this.updateMessagePreviewRenderer_(this.data.messageTiers,this.sliderIndex,a)),this.adjustInputWidth_())},
adjustInputWidth_:function(){var a=document.createElement("div");a.innerText=this.$["price-input"].value;var b=window.getComputedStyle(this.$["price-input"]);a.style.fontFamily=b.fontFamily;a.style.fontSize=b.fontSize;a.style.fontWeight=b.fontWeight;a.style.display="inline-block";a.style.visibility="hidden";document.querySelector("body").appendChild(a);this.updateStyles({"--price-input-width":a.clientWidth+16+"px"});document.querySelector("body").removeChild(a)},
onSliderImmediateChange_:function(){var a=this.$["price-slider"];a.dragging&&this.handleSliderChange_(a.immediateValue)},
onSliderChange_:function(){this.handleSliderChange_(this.$["price-slider"].value)},
onSliderFocus_:function(){this.updateSliderAria_()},
handleSliderChange_:function(a){var b=this.data.messageTiers;this.priceMicros=a==b.length?parseInt(b[b.length-1].maxPriceMicros,10)||0:parseInt(b[a].minPriceMicros,10)||0;this.priceInputValue=this.convertMicrosToCurrency_(this.priceMicros);this.updateMessagePreviewRenderer_(this.data.messageTiers,a,this.priceMicros);this.sliderIndex=a;this.updateSliderAria_()},
updateSliderAria_:function(){var a=this.$["price-slider"];a.setAttribute("aria-valuenow",this.convertMicrosToCurrencyWithSymbol_(this.priceMicros));a.setAttribute("aria-valuemax",this.convertUnitsToCurrencyWithSymbol_(this.priceMax));a.setAttribute("aria-valuemin",this.convertUnitsToCurrencyWithSymbol_(this.priceMin))},
updatePriceMicros_:function(a){this.priceMicros=parseInt(a,10);this.priceInputValue=this.convertMicrosToCurrency_(this.priceMicros);this.sliderIndex=this.getMessageTierIndex_(this.priceMicros)},
convertMicrosToCurrency_:function(a){return this.convertUnitsToCurrency_(this.convertMicrosToUnits_(a))},
convertMicrosToCurrencyWithSymbol_:function(a){return this.convertUnitsToCurrencyWithSymbol_(this.convertMicrosToUnits_(a))},
computeSliderMax_:function(a){var b=a[a.length-1];return b.minPriceMicros==b.maxPriceMicros?a.length-1:a.length},
computeSliderMaxMarkers_:function(a){return a},
getMessageTierIndex_:function(a){a=parseInt(a,10);var b=this.data.messageTiers;if(a==b[b.length-1].maxPriceMicros)return b.length;for(var c=0;c<b.length;c++){var d=b[c];if(a>=parseInt(d.minPriceMicros,10)&&a<=parseInt(d.maxPriceMicros,10))return c}return 0},
onBuyButtonTap_:function(){var a=this.data.buyButton.buttonRenderer.serviceEndpoint,b=null,c=this.$$("yt-live-chat-paid-message-renderer");c&&(b=c.inputMessage());this.sendAction("yt-live-chat-start-buy-flow",[a,b,this.priceMicros,this.buyFlowCallback_.bind(this)]);this.$.loading.style.height=this.$.preview.clientHeight+"px";this.$.blank.style.height=this.$.preview.clientHeight+"px";this.selectedPage=1},
onWalletDialogClose_:function(){this.selectedPage=0},
onWalletDialogComplete_:function(){this.selectedPage=1},
onWalletDialogOpen_:function(){this.selectedPage=2},
buyFlowCallback_:function(a){a.success?(a.response&&a.response.data&&a.response.data.actions&&this.sendAction("yt-live-chat-actions",[a.response.data.actions]),this.closeBuyFlow()):(this.selectedPage=0,a.error&&a.error.data&&a.error.data.messageRenderer?this.handleMessageRenderer_(a.error.data.messageRenderer):a.error&&a.error.error&&a.error.error.message?this.handleErrorMessage_(a.error.error.message):a.error&&a.error.result&&a.error.result.error&&a.error.result.error.message&&this.handleErrorMessage_(a.error.result.error.message))},
handleMessageRenderer_:function(a){var b=Lh(a,"renderer");if("confirmDialogRenderer"===b){var c=K("openPopupConfig");c&&this.sendAction("yt-open-popup-action",[{openPopupAction:{popupType:c.popupTypeMap[b],popup:a}},this])}else this._setErrorRenderer(a)},
handleErrorMessage_:function(a){this._setErrorRenderer({liveChatErrorMessageRenderer:{errorText:{runs:[{text:a}]}}})},
onCloseButtonTap_:function(){this.closeBuyFlow()},
closeBuyFlow:function(){this.sendAction("yt-live-chat-close-buy-flow");this._setErrorRenderer(null)},
updateMessagePreviewRenderer_:function(a,b,c){a&&(b>=a.length&&(b=a.length-1),(b=a[b])||(b=a[0]),this.set("messagePreviewRenderer",b.messageTemplate.liveChatPaidMessageRenderer),c&&(a=this.convertUnitsToCurrencyWithSymbol_(this.convertMicrosToUnits_(c)),this.set("messagePreviewRenderer.purchaseAmountText",{runs:[{text:a}]})))},
computeMessageTooLong_:function(a,b){return a>b},
computeBuyButtonDisabled_:function(a,b){return a||b},
computeDurationLabel_:function(a,b){if(!a||!a.length)return null;b==a.length&&(b=a.length-1);return(a=a[b])&&a.durationLabel?a.durationLabel:null},
computeHideDurationLabel_:function(a,b){if(!a||!a.length)return!0;b==a.length&&(b=a.length-1);return!(a[b]&&a[b].durationLabel)},
computePriceMaxDigits_:function(a){return this.convertUnitsToCurrencyWithSymbol_(a).length},
computeCurrencySymbol_:function(a){return Xw[a][1]},
computeCharacterCountDisplay_:function(a,b){return 0==b?0:a},
onHelpTap_:function(){var a=this.$.dialog.querySelector("yt-live-chat-dialog-renderer");a&&(a.hidden=!1)},
onErrorMessageDismiss_:function(){this._setErrorRenderer(null)},
handlePickerButtonToggle_:function(a){a=a.detail.targetId;this.togglePicker_(a);"emoji"==a&&this.$$("yt-live-chat-paid-message-renderer").inputFocus()},
onEmojiSelect_:function(a){var b=this.$$("yt-live-chat-paid-message-renderer");b.inputFocus();b.inputInsertEmoji(a.detail)},
computeHideCurrencySymbol_:function(a,b){return a==b},
errorRendererObserver_:function(a){a?Polymer.dom(this.$.error).setAttribute("role","alert"):Polymer.dom(this.$.error).removeAttribute("role")}});Polymer({is:"yt-live-chat-button-with-subtext-renderer",properties:{data:Object},behaviors:[O.YtRendererStamperBehavior,T.YtRendererBehavior],stampDom:{data:{id:"button",mapping:{buttonRenderer:"yt-button-renderer"}}}});Polymer({is:"yt-live-chat-creator-support-renderer",properties:{data:Object,id:{type:String,computed:"computeId_(data)",reflectToAttribute:!0}},behaviors:[R.YtActionHandlerBehavior,T.YtRendererBehavior,O.YtRendererStamperBehavior,Z.YtLiveChatVeLoggingBehavior],stampDom:{"data.buttons":{id:"buttons",mapping:{buttonRenderer:"yt-button-renderer",liveChatButtonWithSubtextRenderer:"yt-live-chat-button-with-subtext-renderer"}},"data.cancelButton":{id:"cancel",mapping:{buttonRenderer:"yt-button-renderer"}}},
actionMap:{"yt-live-chat-close-buy-flow":"onCloseBuyFlow_"},computeId_:function(a){return a.id||""},
onCancelTap_:function(){this.fire("picker-cancelled")},
onCloseBuyFlow_:function(){this.fire("picker-cancelled")}});Polymer({is:"yt-live-chat-product-button-renderer",hostAttributes:{role:"menuitem",tabindex:-1},properties:{data:Object,iconId:{type:String,computed:"computeIconId_(data)",reflectToAttribute:!0},icon:{type:String,computed:"computeIcon_(data)",reflectToAttribute:!0},disabled:{type:Boolean,computed:"computeDisabled_(data.isDisabled)",reflectToAttribute:!0},command:{type:Object,computed:"computeCommand_(data.command, disabled)"}},behaviors:[mm.YtEndpointBehavior,T.YtRendererBehavior],computeIconId_:function(a){return a&&
a.icon&&a.icon.iconType?a.icon.iconType.toLowerCase():""},
computeIcon_:function(a){return a&&a.icon&&a.icon.iconType?"yt-icons:"+a.icon.iconType.toLowerCase():""},
computeDisabled_:function(a){return!!a},
computeCommand_:function(a,b){return b?void 0:a}});Polymer({is:"yt-live-chat-product-picker-renderer",hostAttributes:{role:"menu",tabindex:0},properties:{data:Object,id:{type:String,computed:"computeId_(data)",reflectToAttribute:!0},selected:{type:Boolean,reflectToAttribute:!0}},observers:["observeSelected_(selected)"],behaviors:[R.YtActionHandlerBehavior,T.YtRendererBehavior,O.YtRendererStamperBehavior,Z.YtLiveChatVeLoggingBehavior],stampDom:{"data.buttons":{id:"buttons",mapping:{liveChatProductButtonRenderer:"yt-live-chat-product-button-renderer"}},
"data.closeButton":{id:"close-button",mapping:{liveChatProductButtonRenderer:"yt-live-chat-product-button-renderer"}}},actionMap:{"yt-live-chat-close-buy-flow":"onCloseBuyFlow_"},computeId_:function(a){return a.id||""},
onCloseTap_:function(){this.fire("picker-cancelled")},
observeSelected_:function(a){a&&this.focus();a=this.querySelectorAll("yt-live-chat-product-button-renderer");a.length&&a[0].focus()},
onCloseBuyFlow_:function(){this.fire("picker-cancelled")}});Polymer({is:"yt-live-chat-text-actions-error-message-renderer",properties:{data:Object},dismiss:function(){this.fire("yt-live-chat-error-message-dismiss")},
edit:function(){this.fire("yt-live-chat-error-message-edit",this.data.originalRichMessage)}});Polymer({COUNTDOWN_RADIUS_:10,is:"yt-live-chat-message-input-renderer",properties:{data:{type:Object,observer:"dataChanged_"},characterCount:{type:Number,value:0,observer:"characterCountChanged_"},maxCharacterLimit:{type:Number,value:0},emojiManager:Object,participantsManager:Object,sendDisabled:{type:Number,computed:"computeSendDisabled_(characterCount, maxCharacterLimit, countdownActive)"},countdownRatio:{type:Number,value:0},countdownStrokeDashOffset:{type:Number,computed:"computeCountdownStrokeDashOffset_(countdownRatio)"},
countdownActive:{type:Boolean,computed:"computeCountdownActive_(countdownRatio)"},errorMessage:{type:Object,observer:"errorMessageChanged_"},hasInteractionMessage:{type:Boolean,computed:"toBool(data.interactionMessage)",reflectToAttribute:!0},genericErrorMessage:{type:Object}},behaviors:[T.YtRendererBehavior,Q.YtActionSenderBehavior,O.YtPickerBehavior,O.YtRendererStamperBehavior],stampDom:{"data.sendButton":{id:"send-button",mapping:{buttonRenderer:"yt-button-renderer"}},"data.pickers":{id:"pickers",
mapping:{emojiPickerRenderer:{component:"yt-emoji-picker-renderer",properties:{emojiManager:"[[emojiManager]]"}},liveChatCreatorSupportRenderer:{component:"yt-live-chat-creator-support-renderer"},liveChatProductPickerRenderer:{component:"yt-live-chat-product-picker-renderer"}}},"data.pickerButtons":{id:"picker-buttons",mapping:{liveChatIconToggleButtonRenderer:{component:"yt-live-chat-icon-toggle-button-renderer",properties:{disabled:"[[hasInteractionMessage]]"}},buttonRenderer:{component:"yt-button-renderer",
params:{buttonTooltipPosition:"top",sendServiceEndpointWhenDisabled:!0}}}},"data.interactionMessage":{id:"interaction-message",mapping:{messageRenderer:{component:"yt-live-chat-message-renderer",params:{subtextOnBottom:!0}}}},errorMessage:{id:"error-message",mapping:{liveChatErrorMessageRenderer:"yt-live-chat-error-message-renderer",liveChatTextActionsErrorMessageRenderer:"yt-live-chat-text-actions-error-message-renderer"}}},listeners:{"yt-live-chat-send-message":"sendMessage","yt-live-chat-icon-toggle-button-renderer-toggle":"handlePickerButtonToggle_",
"yt-emoji-select":"onEmojiSelect_","yt-service-request-completed":"onSendCompleted_","yt-service-request-error":"onSendError_","yt-live-chat-error-message-dismiss":"onErrorMessageDismiss_","yt-live-chat-error-message-edit":"onErrorMessageEdit_"},created:function(){this.lastTimeoutTimeMs_=this.timeoutMs_=this.timeoutDurationMs_=this.numSentMessages_=0;this.pendingMessageId_=""},
dataChanged_:function(){this.data.sendButton&&this.data.sendButton.buttonRenderer&&(this.data.sendButton.buttonRenderer.isDisabled=this.sendDisabled)},
sendMessage:function(){if(!this.sendDisabled&&this.data.sendButton&&this.data.sendButton.buttonRenderer){this.$.input.completeEmojis();var a=this.data.sendButton.buttonRenderer.serviceEndpoint;if(a){var b={client_message_id:(a.sendLiveChatMessageEndpoint.clientIdPrefix||"")+String(this.numSentMessages_++),rich_message:sA(this.$.input.liveChatRichMessageInput)};this.pendingMessageId_=b.client_message_id;this.sendServiceRequestAction([a,b]);this.$.input.setLiveChatRichMessageInput(null)}}},
handleSendButtonAction_:function(a){"yt-service-request"==a.detail.actionName&&(a.stopPropagation(),this.sendMessage())},
onSendCompleted_:function(a,b){(a=b.data.timeoutDurationUsec)&&this.handleTimeout_(Number(a)/1E3);this.errorMessage=b.data.errorMessage;this.pendingMessageId_=""},
onSendError_:function(){this.pendingMessageId_&&this.sendAction("yt-dim-chat-item-action",[{dimChatItemAction:{clientAssignedId:this.pendingMessageId_}}]);this.pendingMessageId_="";this.genericErrorMessage&&(this.errorMessage={liveChatErrorMessageRenderer:{errorText:this.genericErrorMessage}})},
handlePickerButtonToggle_:function(a){a=a.detail.targetId;this.togglePicker_(a);"emoji"==a&&this.$.input.focus()},
onEmojiSelect_:function(a){this.$.input.focus();this.$.input.insertEmoji(a.detail)},
characterCountChanged_:function(a){if(this.maxCharacterLimit){a=a/this.maxCharacterLimit*100;var b=Polymer.dom(this.$.count);b.classList.toggle("early-warning",75<=a);b.classList.toggle("warning",90<=a);b.classList.toggle("error",100<a)}},
computeCountdownStrokeDashOffset_:function(a){return a*this.COUNTDOWN_RADIUS_*2*Math.PI},
computeCountdownActive_:function(a){return!!a},
computeSendDisabled_:function(a,b,c){a=!!(c||!a||b&&a>b);(b=this.$["send-button"])&&b.children.length&&(b.children[0].disabled=a);return a},
handleTimeout_:function(a){this.timeoutDurationMs_=this.timeoutMs_=a;this.countdownRatio=1;0==this.lastTimeoutTimeMs_&&window.requestAnimationFrame(this.updateTimeout_.bind(this))},
updateTimeout_:function(a){this.lastTimeoutTimeMs_&&(this.timeoutMs_=Math.max(0,this.timeoutMs_-(a-this.lastTimeoutTimeMs_)),this.countdownRatio=this.timeoutMs_/this.timeoutDurationMs_);this.isAttached&&this.timeoutMs_?(this.lastTimeoutTimeMs_=a,window.requestAnimationFrame(this.updateTimeout_.bind(this))):this.lastTimeoutTimeMs_=0},
onErrorMessageDismiss_:function(){this.errorMessage=void 0},
onErrorMessageEdit_:function(a){this.$.input.setLiveChatRichMessageInput(a.detail);this.$.input.focusAtEnd();this.errorMessage=void 0},
errorMessageChanged_:function(){this.async(function(){this.sendAction("yt-live-chat-maybe-scroll-to-bottom")})},
toBool:function(a){return!!a}});Polymer({is:"yt-live-chat-ninja-message-renderer",properties:{data:Object},behaviors:[O.YtRendererStamperBehavior],stampDom:{"data.button":{id:"button",mapping:{buttonRenderer:"yt-button-renderer"}}}});Polymer({is:"yt-live-chat-participant-renderer",properties:{data:Object},behaviors:[T.YtRendererBehavior,O.YtRendererStamperBehavior]});Polymer({is:"yt-live-chat-participant-list-renderer",properties:{data:Object,participantsManager:Object},behaviors:[O.YtRendererStamperBehavior,T.YtRendererBehavior],stampDom:{"data.backButton":{id:"back-button",mapping:{buttonRenderer:"yt-button-renderer"}},"participantsManager.participants":{id:"participants",mapping:{liveChatParticipantRenderer:"yt-live-chat-participant-renderer",liveChatTextMessageRenderer:"yt-live-chat-participant-renderer",liveChatLegacyPaidMessageRenderer:"yt-live-chat-participant-renderer",
liveChatPaidMessageRenderer:"yt-live-chat-participant-renderer"},reuseComponents:!0}},observers:["updateParticipantManagerListeners_(isAttached, participantsManager)"],monitorScroll:!0,created:function(){this.activeParticipantsManager_=null},
updateParticipantManagerListeners_:function(a,b){a?(this.activeParticipantsManager_&&(this.unlisten(this.activeParticipantsManager_,"participants-changed","onParticipantsChanged_"),this.activeParticipantsManager_=null),b&&(this.listen(b,"participants-changed","onParticipantsChanged_"),this.activeParticipantsManager_=b,this.onParticipantsChanged_())):this.activeParticipantsManager_&&(this.unlisten(this.activeParticipantsManager_,"participants-changed","onParticipantsChanged_"),this.activeParticipantsManager_=
null)},
onParticipantsChanged_:function(){this.notifyPath("participantsManager.participants")},
onBackButtonTap_:function(){this.fire("yt-participants-back-button")},
focus:function(){this.invalidate(!0);this.async(function(){var a=Yi(this);a&&a.focus()})}});Polymer({is:"yt-live-chat-pinned-message-renderer",behaviors:[O.YtRendererStamperBehavior],stampDom:{"data.renderer":{id:"message",mapping:{liveChatLegacyPaidMessageRenderer:{component:"yt-live-chat-legacy-paid-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}},liveChatPaidMessageRenderer:{component:"yt-live-chat-paid-message-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}},liveChatPaidStickerRenderer:{component:"yt-live-chat-paid-sticker-renderer",
params:{authorPhotoSize:40}}},reuseComponents:!0}},properties:{data:{type:Object,value:null,observer:"dataChanged_"},emojiManager:Object},listeners:{"yt-service-request-completed":"onServiceRequestCompleted_"},dataChanged_:function(a){this.hidden=!a;if(a&&(a=a.renderer)){var b=Object.keys(a)[0];(a=a[b])&&a.authorPhoto&&(a.authorPhoto.webThumbnailDetailsExtensionData={isPreloaded:!0})}},
onFadeTap_:function(){this.fire("yt-live-chat-clear-pinned-message")},
onServiceRequestCompleted_:function(a,b){var c=this;b.actions&&b.actions.forEach(function(a){a.markChatItemAsDeletedAction&&c.fire("yt-live-chat-clear-pinned-message")})}});Z.YtLiveChatReplayBehaviorImpl_={properties:{playerProgressSec:{type:Number,readOnly:!0},data:{type:Object,observer:"handleParentDataChange_"},isSeeking:{type:Boolean,value:!1,readOnly:!0},playerState:{type:Number,readOnly:!0},isAdPlaying:{type:Boolean,value:!1,readOnly:!0}},observers:["observeReplayState_(isAdPlaying, isSeeking, playerState)"],behaviorActionMap_:{"yt-player-video-progress":"handlePlayerVideoProgress_","ytg-player-video-progress":"handleGamingPlayerVideoProgress_","yt-player-ad-start":"handlePlayerAdStart_",
"yt-player-ad-end":"handlePlayerAdEnd_","yt-player-state-change":"handlePlayerStateChange_","yt-live-chat-seek-success":"handleChatSeekSuccess_","yt-live-chat-seek-fail":"handleChatSeekFail_","yt-live-chat-reload-success":"handleReloadSuccess_"},created:function(){this.replayBuffer_=new lA;this.currentPlayerState_={}},
attached:function(){this.registerActionMap(this.behaviorActionMap_)},
detached:function(){this.unregisterActionMap(this.behaviorActionMap_);this.replayBuffer_=null},
addReplayChatItemAction:function(a){this.replayBuffer_.addReplayChatItemAction(a)},
handlePlayerVideoProgress_:function(a){this.playerProgressChanged_(a)},
handleGamingPlayerVideoProgress_:function(a,b,c){this.playerProgressChanged_(a,b,c)},
handlePlayerAdStart_:function(){this._setIsAdPlaying(!0)},
handlePlayerAdEnd_:function(){this._setIsAdPlaying(!1)},
handlePlayerStateChange_:function(a){this._setPlayerState(a)},
observeReplayState_:function(a,b,c){this.data&&this.data.isReplay&&(a||b||2==c||3==c?this.sendOptionalAction("yt-live-chat-pause-replay"):1==c&&this.sendOptionalAction("yt-live-chat-resume-replay"))},
preprocessSeekResponseActions_:function(a){this.replayBuffer_.clear();a.forEach(function(a){a.replayChatItemAction&&(this.addReplayChatItemAction(a.replayChatItemAction),a.replayChatItemAction.actions&&this.preprocessActions_(a.replayChatItemAction.actions))},this)},
playerProgressChanged_:function(a,b,c){if((this.data.isReplay||c)&&!this.isAdPlaying){this.sendOptionalAction("yt-live-chat-replay-progress",[a]);this.currentPlayerState_={};b&&(this.currentPlayerState_.videoId=b);c&&(this.currentPlayerState_.watchPartyId=c);b=1E3*a;this.currentPlayerState_.playerOffsetMs=Math.floor(b).toString();c=this.$$("yt-live-chat-replay-continuation");var d=this.$$("yt-player-seek-continuation");this._setPlayerProgressSec(a);d&&d.maybeFireSeekContinuation(a,this.replayBuffer_.lastVideoOffsetTimeMsec)?
(this._setIsSeeking(!0),this.replayBuffer_.clear(),Polymer.dom(this).setAttribute("loading",!0)):this.isSeeking_||(c&&this.replayBuffer_.lastVideoOffsetTimeMsec&&(c.timeRemainingMsecs=this.replayBuffer_.getTimeUntilLastAction(b)),a=this.replayBuffer_.getActionsAfterElapsedTime(b),this.immediatelyApplyLiveChatActions(a))}},
handleChatSeekSuccess_:function(){this._setIsSeeking(!1);var a=this.replayBuffer_.getActionsAfterElapsedTime(1E3*this.playerProgressSec);this.immediatelyApplyLiveChatActions(a);Polymer.dom(this).removeAttribute("loading")},
handleChatSeekFail_:function(){this._setIsSeeking(!1);Polymer.dom(this).removeAttribute("loading")},
handleReloadSuccess_:function(){Polymer.dom(this).removeAttribute("loading")},
handleParentDataChange_:function(a,b){b&&b.isReplay&&this.replayBuffer_.clear()}};
Z.YtLiveChatReplayBehavior=[R.YtActionHandlerBehavior,Q.YtActionSenderBehavior,Z.YtLiveChatReplayBehaviorImpl_];Polymer({is:"yt-live-chat-restricted-participation-renderer",properties:{data:Object},behaviors:[O.YtPickerBehavior,T.YtRendererBehavior,O.YtRendererStamperBehavior],stampDom:{"data.buttons":{id:"picker-buttons",mapping:{buttonRenderer:"yt-button-renderer",liveChatIconToggleButtonRenderer:"yt-live-chat-icon-toggle-button-renderer"}},"data.panels":{id:"pickers",mapping:{liveChatCreatorSupportRenderer:"yt-live-chat-creator-support-renderer",liveChatProductPickerRenderer:"yt-live-chat-product-picker-renderer"}}},
listeners:{"yt-live-chat-icon-toggle-button-renderer-toggle":"handleToggle_"},handleToggle_:function(a){a.target.disabled||this.togglePicker_(a.detail.targetId)}});Polymer({is:"yt-live-chat-ticker-paid-message-item-renderer",properties:{data:{type:Object,observer:"dataChanged_"}},behaviors:[T.YtRendererBehavior,Z.YtLiveChatTickerItemBehavior],dataChanged_:function(a){a&&(this.$.content.style.color=this.colorFromDecimal(a.amountTextColor),this.ariaLabel=this.getSimpleString(a.amount),this.startCountdown(a.durationSec,a.fullDurationSec),this.async(this.setContainerWidth))}});Polymer({is:"yt-live-chat-ticker-sponsor-item-renderer",properties:{data:{type:Object,observer:"dataChanged_"},hidden:{type:Boolean,value:!1,computed:"truthy(isDeleted)",reflectToAttribute:!0}},behaviors:[T.YtRendererBehavior,Z.YtLiveChatTickerItemBehavior],dataChanged_:function(a){a&&(this.$.content.style.color=this.colorFromDecimal(a.detailTextColor),this.ariaLabel=this.getSimpleString(a.detailText),this.startCountdown(a.durationSec,a.fullDurationSec),this.async(this.setContainerWidth))}});Polymer({is:"yt-live-chat-ticker-renderer",properties:{data:{type:Object,observer:"dataChanged_"},highlightId:{type:String,value:null,observer:"highlightIdChanged_"},isScrolledLeft:{type:Boolean,value:!0},isScrolledRight:Boolean,items:{type:Array,value:function(){return[]}},
isReplayPaused:{type:Boolean,value:!1,readOnly:!0}},behaviors:[O.YtRendererStamperBehavior,T.YtRendererBehavior,R.YtActionHandlerBehavior],stampDom:{items:{id:"items",mapping:{liveChatTickerPaidMessageItemRenderer:{component:"yt-live-chat-ticker-paid-message-item-renderer",properties:{shouldAnimateIn:"[[shouldAnimateIn]]",isAnimationPaused:"[[isReplayPaused]]"}},liveChatTickerPaidStickerItemRenderer:{component:"yt-live-chat-ticker-paid-sticker-item-renderer",properties:{shouldAnimateIn:"[[shouldAnimateIn]]",
isAnimationPaused:"[[isReplayPaused]]"}},liveChatTickerSponsorItemRenderer:{component:"yt-live-chat-ticker-sponsor-item-renderer",properties:{shouldAnimateIn:"[[shouldAnimateIn]]",isAnimationPaused:"[[isReplayPaused]]"}}},reuseComponents:!0}},actionMap:{"yt-live-chat-actions":"handleLiveChatActions_","yt-remove-chat-item-action":"handleLiveChatAction_","yt-mark-chat-item-as-deleted-action":"handleLiveChatAction_","yt-mark-chat-items-by-author-as-deleted-action":"handleLiveChatAction_","yt-live-chat-seek-success":"handleChatSeekSuccess_",
"yt-live-chat-pause-replay":"handlePauseReplay_","yt-live-chat-resume-replay":"handleResumeReplay_"},listeners:{mouseenter:"onMouseEnter_",mouseleave:"onMouseLeave_","yt-live-chat-ticker-remove-ticker-item":"onRemoveTickerItem_","yt-navigate":"onNavigate_"},observers:["itemsChanged_(items.length)"],created:function(){this.asyncHandle_=null;this.shouldAnimateIn=!1;this.scrollClampRaf_=this.lastFrameTimestamp_=null;this.scrollStartTime_=this.scrollRatePixelsPerSecond_=0;this.scrollStopHandle_=null},
attached:function(){this.keepScrollClamped_()},
detached:function(){this.scrollClampRaf_&&window.cancelAnimationFrame(this.scrollClampRaf_);this.stopScrolling_();this.shouldAnimateIn=!1},
dataChanged_:function(){this.clearList()},
clearList:function(){window.cancelAnimationFrame(this.scrollClampRaf_||0);this.cancelAsync(this.scrollStopHandle_||0);window.cancelAnimationFrame(this.asyncHandle_||0);this.items=[];this.asyncHandle_=null;this.shouldAnimateIn=!1;this.scrollClampRaf_=this.lastFrameTimestamp_=null;this.scrollStartTime_=this.scrollRatePixelsPerSecond_=0;this.scrollStopHandle_=null},
handleLiveChatActions_:function(a){a.length&&(a.forEach(this.handleLiveChatAction_,this),this.updateHighlightedItem_(),this.shouldAnimateIn=!0)},
handleLiveChatAction_:function(a){a.addLiveChatTickerItemAction?this.unshift("items",a.addLiveChatTickerItemAction.item):a.markChatItemAsDeletedAction?this.handleMarkChatItemAsDeletedAction_(a.markChatItemAsDeletedAction):a.removeChatItemAction?this.removeTickerItemById_(a.removeChatItemAction.targetItemId):a.markChatItemsByAuthorAsDeletedAction&&this.handleMarkChatItemsByAuthorAsDeletedAction_(a.markChatItemsByAuthorAsDeletedAction)},
maybeClampScroll_:function(){if(this.highlightId){var a=this.$$("#"+this.highlightId),b=a.offsetLeft;a=b+a.offsetWidth;var c=this.$.items,d=c.scrollLeft;c=d+c.offsetWidth-24;b=d+24-b;0<b&&(this.$.items.scrollLeft-=b);b=a-c;0<b&&(this.$.items.scrollLeft+=b)}},
keepScrollClamped_:function(){this.scrollClampRaf_=window.requestAnimationFrame(this.keepScrollClamped_.bind(this));this.maybeClampScroll_()},
onMouseEnter_:function(){this.stopScrolling_()},
onMouseLeave_:function(){this.scrollRatePixelsPerSecond_=0;this.highlightId||this.async(this.startScrollBack_,400)},
onRemoveTickerItem_:function(a,b){this.removeTickerItemById_(b)},
startScrollBack_:function(){this.startScrolling_(-1200)},
startScrollingLeft_:function(){this.startScrolling_(-480)},
startScrollingRight_:function(){this.startScrolling_(480)},
startScrolling_:function(a){this.scrollStopHandle_&&this.cancelAsync(this.scrollStopHandle_);this.asyncHandle_&&window.cancelAnimationFrame(this.asyncHandle_);this.scrollStartTime_=performance.now();this.lastFrameTimestamp_=performance.now();this.scrollRatePixelsPerSecond_=a;this.asyncHandle_=window.requestAnimationFrame(this.scrollIncrementally_.bind(this))},
scrollIncrementally_:function(a){this.$.items.scrollLeft+=(a-this.lastFrameTimestamp_)/1E3*this.scrollRatePixelsPerSecond_;this.maybeClampScroll_();this.updateArrows_();this.lastFrameTimestamp_=a;0<this.$.items.scrollLeft||0<this.scrollRatePixelsPerSecond_?this.asyncHandle_=window.requestAnimationFrame(this.scrollIncrementally_.bind(this)):this.stopScrolling_()},
maybeStopScrolling_:function(){var a=performance.now()-this.scrollStartTime_;400<a?this.stopScrolling_():this.scrollStopHandle_=this.async(this.stopScrolling_,400-a)},
stopScrolling_:function(){this.updateArrows_();this.lastFrameTimestamp_=null;this.asyncHandle_&&window.cancelAnimationFrame(this.asyncHandle_)},
removeTickerItemById_:function(a){if(a){var b=this.$$('[id="'+a+'"]');if(b){for(var c=this.$.items.children,d=0;d<c.length;d++)if(c[d]==b){this.splice("items",d,1);this.markDirty();break}this.highlightId==a&&(this.highlightId=null)}}},
handleMarkChatItemAsDeletedAction_:function(a){for(var b=0;b<this.items.length;b++){var c=this.items[b],d=Object.keys(c)[0];if((c=c[d])&&c.id==a.targetItemId){this.$.items.children[b].markAsDeleted(a.deletedStateMessage,a.showOriginalContentMessage);this.removeTickerItemById_(c.id);break}}},
handleMarkChatItemsByAuthorAsDeletedAction_:function(a){for(var b=this.items.slice(),c=0;c<b.length;c++){var d=b[c],f=Object.keys(d)[0];(d=d[f])&&d.authorExternalChannelId==a.externalChannelId&&(this.$.items.children[c].markAsDeleted(a.deletedStateMessage,a.showOriginalContentMessage),this.removeTickerItemById_(d.id))}},
onNavigate_:function(a){this.highlightId=Polymer.dom(a).rootTarget.id},
highlightIdChanged_:function(){this.updateHighlightedItem_();this.highlightId||this.async(this.startScrollBack_,400)},
updateHighlightedItem_:function(){C(this.$.items.children,function(a){a.dimmed=this.highlightId&&a.id!=this.highlightId;a.selected=this.highlightId&&a.id==this.highlightId},this)},
itemsChanged_:function(a){this.updateArrows_();this.hidden=!a},
updateArrows_:function(){this.isScrolledLeft=0==this.$.items.scrollLeft;this.isScrolledRight=this.$.items.scrollLeft>=this.$.items.scrollWidth-this.$.container.clientWidth},
handleChatSeekSuccess_:function(){this.clearList()},
handlePauseReplay_:function(){this._setIsReplayPaused(!0)},
handleResumeReplay_:function(){this._setIsReplayPaused(!1)}});Polymer({is:"yt-live-chat-upsell-dialog-renderer",properties:{data:{type:Object,observer:"dataChanged_"},hasHeader:{type:Boolean,computed:"computeHasHeader_(data)"}},behaviors:[O.YtRendererStamperBehavior,T.YtRendererBehavior,rA.YtLiveChatDialogBehavior],stampDom:{"data.actionButton":{id:"action-button",mapping:{buttonRenderer:"yt-button-renderer"}},"data.dismissButton":{id:"dismiss-button",mapping:{buttonRenderer:"yt-button-renderer"}}},dataChanged_:function(a){this.hidden=!a.isVisible;a.isVisible||
this.impressionLog()},
onButtonTap_:function(){this.fire("yt-close-upsell-dialog")},
computeHasHeader_:function(a){return!!a.headerBackgroundImage}});O.YtBooleanLogicBehavior={bindIf:function(a,b,c){return a?b:c},
booleanString:function(a){return(!!a).toString()},
equals:function(a){for(var b=arguments[0],c=1;c<arguments.length;c++)if(b!=arguments[c])return!1;return!0},
isGreaterThan:function(a,b){return a>b},
isLessThan:function(a,b){return a<b},
logicalAND:function(a){for(var b=!!arguments[0],c=1;c<arguments.length;c++)b=b&&!!arguments[c];return b},
logicalOR:function(a){for(var b=!!arguments[0],c=1;c<arguments.length;c++)b=b||!!arguments[c];return b},
toBool:function(a){return!!a}};var xA=null;O.YtScrollbarBehavior={getScrollbarWidth:function(){null==xA&&(xA=this.calculateScrollbarWidth_());return xA},
calculateScrollbarWidth_:function(){var a=document.createElement("div");a.style.height="100px";a.style.overflow="scroll";a.style.top="-9999px";a.style.width="100px";Polymer.dom(this.root).appendChild(a);var b=a.offsetWidth-a.clientWidth;Polymer.dom(this.root).removeChild(a);return b}};var yA={input:!0,meta:!0,br:!0,link:!0,img:!0},zA=null;S.YtSharedTooltipBehavior={properties:{sharedTooltipPosition:{type:String,value:"bottom"},sharedTooltipAnimationDelay:{type:Number,value:500}},attached:function(){this.addEventListener("mouseover",this.onMouseOver_,!0)},
detached:function(){this.removeEventListener("mouseover",this.onMouseOver_,!0)},
createTooltipIfRequired_:function(){null==zA&&(zA=document.createElement("paper-tooltip"),zA.offset=8,zA.fitToVisibleBounds=!0)},
onMouseOver_:function(a){if(a=Xe(a.target,function(a){return a==this||a.getAttribute&&a.getAttribute("shared-tooltip-text")}.bind(this),!0)){var b=a.getAttribute("shared-tooltip-text");
if(b){var c=this,d=null;a!=this&&(c=a.tagName.toLowerCase()in yA?a.parentElement:a,a.id&&(d=a.id));this.createTooltipIfRequired_();if(zA.parentElement!=c||zA.for!=d)Polymer.dom(zA).textContent=b,c.root?Polymer.dom(c.root).appendChild(zA):Polymer.dom(c).appendChild(zA),zA.for=d,zA.animationDelay=this.sharedTooltipAnimationDelay,zA.position=this.sharedTooltipPosition}}}};Polymer({PARTICIPANT_TIME_USEC_:3E8,is:"yt-live-chat-participants-manager",properties:{viewerName:{type:String,value:null},viewerRegex:{type:Object,computed:"computeViewerRegex_(viewerName)"},participants:{type:Array,value:function(){return[]},
notify:!0}},behaviors:[R.YtActionHandlerBehavior],actionMap:{"yt-live-chat-actions":"onChatMessage_"},SUPPORTED_ITEM_TYPES_:["liveChatTextMessageRenderer","liveChatLegacyPaidMessageRenderer","liveChatPaidMessageRenderer"],created:function(){this.allParticipantsCharMap_={};this.asyncHandle_=null},
addParticipant:function(a){var b=kb(this.participants,a,function(a,b){a=a[Object.keys(a)[0]];b=b[Object.keys(b)[0]];a=String(Ph(a.authorName)).toLowerCase();b=String(Ph(b.authorName)).toLowerCase();return a<b?-1:a==b?0:1}.bind(this));
if(0<=b){var c=this.participants[b];c[Object.keys(c)[0]].timestampUsec&&this.splice("participants",b,1,a)}else this.splice("participants",-b-1,0,a);a=a[Object.keys(a)[0]];b=Ph(a.authorName).toLocaleLowerCase();c=b.substr(0,2);this.allParticipantsCharMap_.hasOwnProperty(c)||(this.allParticipantsCharMap_[c]={});this.allParticipantsCharMap_[c][b]=a},
getAuthorsFromPrefix:function(a){return this.allParticipantsCharMap_.hasOwnProperty(a)?this.allParticipantsCharMap_[a]:null},
computeViewerRegex_:function(a){if(!a)return null;a=a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new RegExp("([@#]?"+a.replace(/ /g,"\\s*")+")","ig")},
checkForStaleParticipants_:function(){this.trimOldParticipants_();this.asyncHandle_&&this.cancelAsync(this.asyncHandle_);0<this.participants.length&&(this.asyncHandle_=this.async(this.checkForStaleParticipants_,3E4))},
onChatMessage_:function(a){var b=1E3*Date.now();a.forEach(function(a){if(a.addChatItemAction){a=a.addChatItemAction.item;var c=Object.keys(a)[0];-1!=this.SUPPORTED_ITEM_TYPES_.indexOf(c)&&a[c].timestampUsec>=b-this.PARTICIPANT_TIME_USEC_&&this.addParticipant(a)}},this);
this.checkForStaleParticipants_()},
trimOldParticipants_:function(){for(var a=1E3*Date.now(),b=this.participants.length-1;0<=b;b--){var c=this.participants[b];c=c[Object.keys(c)[0]];c.timestampUsec&&c.timestampUsec<a-this.PARTICIPANT_TIME_USEC_&&this.splice("participants",b,1)}}});Polymer({is:"yt-bubble-hint-renderer",behaviors:[T.YtRendererBehavior,Om.YtEventForwardingBehavior,O.YtRendererStamperBehavior],properties:{data:Object,positionType:{type:String,reflectToAttribute:!0},hasButtons_:{type:Boolean,value:!1,reflectToAttribute:!0,computed:"computeHasButtons_(data)"},style_:{type:Boolean,computed:"computeStyle_(data.style)",reflectToAttribute:!0}},stampDom:{"data.dismissButton":{id:"dismiss-button",mapping:{buttonRenderer:"yt-button-renderer"}},"data.confirmButton":{id:"accept-button",
mapping:{buttonRenderer:"yt-button-renderer"}}},computeHasButtons_:function(a){return!(!a.dismissButton&&!a.confirmButton)},
computeStyle_:function(a){return a||"BUBBLE_HINT_STYLE_UNKNOWN"}});var AA=new Xj("yt-live-chat");Polymer({is:"yt-live-chat-renderer",properties:{data:{type:Object,observer:"dataChanged_"},hideTimestamps:{type:Boolean,value:function(){return!AA.get("show-timestamps")},
observer:"hideTimestampsChanged_",reflectToAttribute:!0},hasTicker:{type:Boolean,computed:"toBool(data.ticker)",reflectToAttribute:!0},emojiManager:{type:Object,value:function(){return new wA}},
participantsManager:{type:Object,value:function(){return document.createElement("yt-live-chat-participants-manager")}},
selectedTab:{type:Number,value:0,notify:!0},showCollapseButton:{type:Boolean,value:!1},collapsed:{type:Boolean,value:!1,reflectToAttribute:!0},collapseDirection:{type:String,value:"horizontal",reflectToAttribute:!0},messageBuyFlowRenderer:Object,stickerBuyFlowRenderer:Object,selectedPanel:{type:Number,value:0,observer:"selectedPanelChanged_"},dialog:Object,hidden:{type:Boolean,reflectToAttribute:!0,computed:"computeIsChatHidden_(data)"}},behaviors:[Z.YtLiveChatContinuationBehavior,Z.YtLiveChatReplayBehavior,
O.YtBooleanLogicBehavior,O.YtRendererStamperBehavior,O.YtScrollbarBehavior,R.YtActionHandlerBehavior,Q.YtActionSenderBehavior,S.YtPostMessageBehavior,T.YtRendererBehavior,S.YtSharedTooltipBehavior],listeners:{"yt-participants-back-button":"onParticipantsBackButton_","yt-live-chat-pinned-message-update":"onUpdatePinnedMessage_","yt-navigate":"onYtNavigate_","yt-action":"onYtAction_","yt-close-upsell-dialog":"onYtCloseUpsellDialog_","yt-load-reload-continuation":"onReloadContinuation_","yt-live-chat-continuation-behavior-reload-success":"onReloadContinuationConclusion_",
"yt-live-chat-continuation-behavior-reload-failure":"onReloadContinuationConclusion_","yt-live-chat-add-tooltip-target":"registerElementForSupportingTooltips_","yt-live-chat-clear-pinned-message":"clearPinnedMessage_"},observers:["actionsChanged_(data.actions, isAttached)"],stampDom:{"data.itemList":{id:"item-list",mapping:{liveChatItemListRenderer:{component:"yt-live-chat-item-list-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}}}},"data.ticker":{id:"ticker",
mapping:{liveChatTickerRenderer:"yt-live-chat-ticker-renderer"}},"data.promo":{id:"promo",mapping:{liveChatGamingPromoRenderer:"yt-live-chat-gaming-promo-renderer"}},"data.promotion":{id:"nitrate-promo",mapping:{upsellDialogRenderer:"yt-live-chat-upsell-dialog-renderer"}},"data.actionPanel":{id:"action-panel",mapping:{liveChatMessageInputRenderer:{component:"yt-live-chat-message-input-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]",genericErrorMessage:"[[data.clientMessages.genericError]]"}},
liveChatRestrictedParticipationRenderer:"yt-live-chat-restricted-participation-renderer"}},messageBuyFlowRenderer:{id:"buy-flow",mapping:{liveChatMessageBuyFlowRenderer:{component:"yt-live-chat-message-buy-flow-renderer",properties:{emojiManager:"[[emojiManager]]",participantsManager:"[[participantsManager]]"}}}},stickerBuyFlowRenderer:{id:"super-sticker-buy-flow",mapping:{superStickerBuyFlowRenderer:"yt-live-chat-paid-sticker-panel-renderer"}},dialog:{id:"dialog",mapping:{liveChatDialogRenderer:"yt-live-chat-dialog-renderer"}}},
actionMap:{"yt-live-chat-toggle-collapse":"toggleCollapse_","yt-live-chat-close-buy-flow":"closeBuyFlow_","yt-live-chat-actions":"handleLiveChatActions_","yt-show-live-chat-dialog-action":"handleShowLiveChatDialogAction_"},created:function(){this.popoutWindowCheckIntervalId_=this.popoutWindow_=null;this.supportedTooltipTargets_=[]},
ready:function(){Polymer.dom(this.root).appendChild(this.participantsManager);this.sharedTooltipAnimationDelay=0;this.sharedTooltipPosition="top"},
attached:function(){this.fire("resize");this.async(function(){this.updateStyles({"--scrollbar-width":this.getScrollbarWidth()+"px"})})},
detached:function(){this.popoutWindow_=null;this.closePopoutWindow_();this.replayBuffer_=null},
dataChanged_:function(a){this.emojiManager&&a&&a.emojis&&this.emojiManager.load(a.emojis);if(this.participantsManager&&a&&(a.viewerName&&(this.participantsManager.viewerName=a.viewerName),a=this.get("participantsList.liveChatParticipantsListRenderer.participants",a)))for(var b=0;b<a.length;b++)this.participantsManager.addParticipant(a[b]);this.clearPinnedMessage_()},
actionsChanged_:function(a,b){b&&a&&(a=this.preprocessActions_(a),this.immediatelyApplyLiveChatActions(a),this.set("data.actions",void 0))},
preprocessActions_:function(a){return a.filter(function(a){if(a.addChatItemAction)this.preloadAvatarForAddAction_(a.addChatItemAction);else if(a.addLiveChatTickerItemAction)this.preloadAvatarForAddAction_(a.addLiveChatTickerItemAction);else{if(a.replayChatItemAction)return this.addReplayChatItemAction(a.replayChatItemAction),a.replayChatItemAction.actions&&this.preprocessActions_(a.replayChatItemAction.actions),!1;if(a.watchPartyPlaySyncAction)return this.sendAction("yt-watch-sync-action",[a.watchPartyPlaySyncAction]),
!1}return!0},this)},
preloadAvatarForAddAction_:function(a){a=a.item;var b=Object.keys(a)[0];a=a[b];b=this.get("authorPhoto.thumbnails.0.url",a);v(b)&&(this.preloadImage_(b),a.authorPhoto.webThumbnailDetailsExtensionData={isPreloaded:!0})},
preloadImage_:function(a){(new Image).src=a},
showParticipants_:function(){this.selectedTab=1;this.$$("yt-live-chat-participant-list-renderer").focus()},
onReloadContinuation_:function(){this.data&&this.data.itemList&&M("live_chat_top_chat_sampling_enabled")&&Polymer.dom(this).setAttribute("loading",!0)},
onReloadContinuationConclusion_:function(){Polymer.dom(this).removeAttribute("loading")},
onParticipantsBackButton_:function(){this.selectedTab=0},
immediatelyApplyLiveChatActions:function(a){this.async(this.sendAction.bind(this,"yt-live-chat-actions",[a]))},
toggleCollapse_:function(){this.collapsed=!this.collapsed},
onYtNavigate_:function(a,b){b&&b.endpoint&&(b.endpoint.liveChatPurchaseMessageEndpoint?(this.selectedPanel=1,a.stopPropagation(),a=this.getInterface(uk),a.requestDataForEndpoint(b.endpoint).then(this.handlePurchaseEndpointResponse_,this.handlePurchaseEndpointError_,this)):b.endpoint.openSuperStickerBuyFlowCommand?(this.selectedPanel=1,a.stopPropagation(),a=this.getInterface(uk),a.requestDataForEndpoint(b.endpoint).then(this.handlePurchaseSuperStickerEndpointResponse_,this.handlePurchaseSuperStickerEndpointError_,
this)):b.endpoint.showLiveChatItemEndpoint?(Polymer.dom(this.$["pinned-message"]).removeAttribute("disable-upgrade"),this.$["pinned-message"].data==b.endpoint.showLiveChatItemEndpoint?(this.$["pinned-message"].data=null,this.$$("yt-live-chat-ticker-renderer").highlightId=null):this.$["pinned-message"].data=b.endpoint.showLiveChatItemEndpoint):b.endpoint.liveChatDialogEndpoint?(this.dialog=b.endpoint.liveChatDialogEndpoint.content,this.$$("yt-live-chat-dialog-renderer").hidden=!1):b.endpoint.ypcGetOffersEndpoint&&
(a.stopPropagation(),this.postMessage("yt-purchase-membership",b.endpoint)))},
onUpdatePinnedMessage_:function(){var a=this.$["pinned-message"].data;a&&(this.$["pinned-message"].data=null,this.$["pinned-message"].data=a)},
onPinnedMessageTap_:function(){this.clearPinnedMessage_()},
clearPinnedMessage_:function(){this.$["pinned-message"]&&(this.$["pinned-message"].data=null);var a=this.$$("yt-live-chat-ticker-renderer");a&&(a.highlightId=null)},
handlePurchaseEndpointResponse_:function(a){this.messageBuyFlowRenderer=a.response.contents;this.selectedPanel=2},
handlePurchaseSuperStickerEndpointResponse_:function(a){this.stickerBuyFlowRenderer=a.response.renderer;this.selectedPanel=3},
handlePurchaseEndpointError_:function(){},
handlePurchaseSuperStickerEndpointError_:function(){},
closeBuyFlow_:function(){this.selectedPanel=0;this.stickerBuyFlowRenderer=this.messageBuyFlowRenderer=null},
onYtAction_:function(a,b){"yt-service-request"==b.actionName&&(b=b.args[1],b.popoutLiveChatEndpoint?((b=b.popoutLiveChatEndpoint.url)?this.openPopoutWindow_(b):this.closePopoutWindow_(),a.stopPropagation()):b.showLiveChatParticipantsEndpoint?(this.showParticipants_(),a.stopPropagation()):b.toggleLiveChatTimestampsEndpoint?(this.hideTimestamps=!this.hideTimestamps,a.stopPropagation()):b.showLiveChatSettingsEndpoint&&(this.postMessage("yt-show-live-chat-settings",{}),a.stopPropagation()))},
onYtCloseUpsellDialog_:function(a){a.stopPropagation();this.set("data.promotion",null)},
openPopoutWindow_:function(a){var b={target:Math.random().toString(36),menubar:!1,location:!1,scrollbars:!1,toolbar:!1};b=void 0===b?{}:b;b.target=b.target||"YouTube";b.width=b.width||"600";b.height=b.height||"600";(a=gg(a,b))?(a.opener||(a.opener=window),a.focus()):a=null;if(this.popoutWindow_=a)this.selectedTab=2,this.checkPopoutWindow_()},
closePopoutWindow_:function(){this.popoutWindow_&&(this.popoutWindow_.close(),this.popoputWindow=null);this.popoutWindowCheckIntervalId_&&(this.cancelAsync(this.popoutWindowCheckIntervalId_),this.popoutWindowCheckIntervalId_=null);this.selectedTab=0;this.sendAction("yt-live-chat-scroll-to-bottom")},
checkPopoutWindow_:function(){this.isAttached&&(!this.popoutWindow_||this.popoutWindow_.closed?this.closePopoutWindow_():this.popoutWindowCheckIntervalId_=this.async(this.checkPopoutWindow_,1E3))},
selectedPanelChanged_:function(){this.data&&this.data.itemList&&this.async(function(){this.sendAction("yt-live-chat-scroll-to-bottom")})},
hideTimestampsChanged_:function(a){AA.set("show-timestamps",!a);this.updateStyles()},
computeIsChatHidden_:function(a){return a&&a.initialDisplayState?"LIVE_CHAT_DISPLAY_STATE_HIDDEN"==a.initialDisplayState:this.hidden},
handleLiveChatActions_:function(a){a.forEach(function(a){a.replayChatItemAction&&this.handleLiveChatActions_(a.replayChatItemAction.actions||[]);a.replaceLiveChatRendererAction?this.handleReplaceRendererAction_(a.replaceLiveChatRendererAction):a.showLiveChatDialogAction?this.handleShowLiveChatDialogAction_(a):a.showLiveChatSurveyCommand?this.handleShowLiveChatSurveyCommand_(a.showLiveChatSurveyCommand):a.showLiveChatTooltipCommand&&this.handleShowLiveChatTooltipCommand_(a)},this)},
handleReplaceRendererAction_:function(a){var b=null;switch(a.toReplace){case "REPLACE_LIVE_CHAT_ACTION_PANEL":b="data.actionPanel";break;case "REPLACE_LIVE_CHAT_HEADER":b="data.header"}b&&this.set(b,a.replacement||null)},
handleShowLiveChatDialogAction_:function(a){this.set("data.promotion",a.showLiveChatDialogAction.dialog)},
handleShowLiveChatSurveyCommand_:function(a){this.postMessage("yt-show-survey",a.survey)},
handleShowLiveChatTooltipCommand_:function(a){if(0!=this.supportedTooltipTargets_.length){var b=a.showLiveChatTooltipCommand.tooltip.tooltipRenderer;if(a=this.getTooltipTarget_(b))b={openPopupAction:{popup:{bubbleHintRenderer:this.tooltipToBubbleHint_(b)},popupType:"HINT",position:this.getTooltipOpenPopupPosition_(a)}},this.sendAction("yt-open-popup-action",[b,a]),window.setTimeout(function(){this.sendAction("yt-close-popup-action",["yt-bubble-hint-renderer"])}.bind(this),2E4)}},
tooltipToBubbleHint_:function(a){return{isVisible:!0,text:a.text,detailsText:a.detailsText,style:"BUBBLE_HINT_STYLE_BLUE_TOOLTIP"}},
getTooltipOpenPopupPosition_:function(a){a=a.getBoundingClientRect();var b=this.getBoundingClientRect();return a.left<b.width/2!=("rtl"==K("HTML_DIR",void 0))?"OPEN_POPUP_POSITION_TOPRIGHT":"OPEN_POPUP_POSITION_TOPLEFT"},
registerElementForSupportingTooltips_:function(a){this.supportedTooltipTargets_.push(a.target);a.detail.handler=this},
removeElementFromSupportingTooltips:function(a){this.supportedTooltipTargets_=this.supportedTooltipTargets_.filter(function(b){return b!=a})},
getTooltipTarget_:function(a){return this.supportedTooltipTargets_.find(function(b){return b.id==a.targetId})}});Polymer({is:"ytd-dropdown-item-renderer",behaviors:[T.YtRendererBehavior],properties:{data:Object,label:{type:String,computed:"getSimpleString(data.label)"},value:{type:String,computed:"computeValue_(data)"}},computeValue_:function(a){return a.stringValue?a.stringValue:a.int32Value}});Polymer({is:"ytd-navigation-dropdown-item-renderer",behaviors:[T.YtRendererBehavior],properties:{data:Object,label:{type:String,computed:"getSimpleString(data.label)"}}});Polymer({is:"ytd-privacy-dropdown-item-renderer",behaviors:[T.YtRendererBehavior],properties:{data:Object,value:{type:String,computed:"computeValue_(data)"},label:{type:String,computed:"computeLabel_(data.label)"}},created:function(){this.boundCaptureFocus_=this.onCaptureFocus_.bind(this)},
attached:function(){document.addEventListener("focus",this.boundCaptureFocus_,!0)},
detached:function(){document.removeEventListener("focus",this.boundCaptureFocus_)},
computeLabel_:function(a){return Ph(a)},
computeValue_:function(a){return a?a.stringValue?a.stringValue:void 0!==a.int32Value?a.int32Value:null:null},
onCaptureFocus_:function(a){-1!=Polymer.dom(a).path.indexOf(this)&&this.$.item.focus()}});Polymer({is:"ytd-dropdown-renderer",behaviors:[T.YtRendererBehavior,O.YtRendererStamperBehavior],properties:{data:{type:Object,observer:"dataChanged_"},value:{type:String,notify:!0},label:{type:String,computed:"computeLabel_(data)"},polymer2:{type:Boolean,reflectToAttribute:!0,value:function(){return!!Polymer.Element}}},
listeners:{"iron-overlay-closed":"stopPropagation_","iron-overlay-opened":"stopPropagation_"},stampDom:{"data.entries":{id:"entries",mapping:{dropdownItemRenderer:"ytd-dropdown-item-renderer",privacyDropdownItemRenderer:{component:"ytd-privacy-dropdown-item-renderer",registration:["defer-on-home"]},navigationDropdownItemRenderer:{component:"ytd-navigation-dropdown-item-renderer",registration:["defer-on-all"]}}}},reset:function(){this.$.entries.selected=-1;this.$.entries.forceSynchronousItemUpdate();
this.$.entries.select(this.getSelectedItem_(this.data))},
dataChanged_:function(){this.reset()},
stopPropagation_:function(a){a.stopPropagation()},
computeLabel_:function(a){if(!a||!a.entries)return null;if(a.label)return a.label;for(var b=0,c=a.entries.length;b<c;b++){var d=a.entries[b],f;for(f in d)if(d[f].isSelected)return this.getSimpleString(d[f].label)}return null},
getSelectedItem_:function(a){if(!a||!a.entries)return null;for(var b=0,c=a.entries.length;b<c;b++){var d=a.entries[b],f;for(f in d)if(d[f].isSelected)return d[f].stringValue?d[f].stringValue:d[f].int32Value}return null}});Polymer({is:"ytd-timestamp-input",properties:{minutes:{type:String,notify:!0},seconds:{type:String,notify:!0,observer:"secondsChanged_"},polymer2:{type:Boolean,reflectToAttribute:!0,value:function(){return!!Polymer.Element}}},
ready:function(){this.$.seconds.addEventListener("blur",this.formatSeconds_.bind(this))},
secondsChanged_:function(){this.$.seconds.focused||this.formatSeconds_()},
formatSeconds_:function(){1==this.seconds.length&&(this.seconds="0"+this.seconds)}});S.YtPolymer2AwareBehavior={properties:{polymer2:{type:Boolean,reflectToAttribute:!0,value:function(){return!!Polymer.Element}}}};Polymer({is:"ytd-legal-report-details-form-renderer",hostAttributes:{dialog:!0},behaviors:[fm.YtOpenPopupBehavior,R.YtActionHandlerBehavior,S.YtPolymer2AwareBehavior,T.YtRendererBehavior],properties:{data:{type:Object,observer:"dataChanged_"},showTimestamp_:{type:Boolean,computed:"computeShowTimestamp_(data.timestampLabel)"},serviceEndpoint_:{type:Object,readOnly:!0,computed:"computeServiceEndpoint_(data)"},submitButton_:{type:Object,computed:"computeSubmitButton_(data)"},descriptionText_:String,
issueType_:Number,affiliation_:Number,fullNameText_:String,minutes_:String,seconds_:String},observers:["handleInput_(descriptionText_, issueType_, affiliation_, fullNameText_, minutes_, seconds_)"],listeners:{"yt-service-request-sent":"onYtServiceRequestSent_","yt-service-request-completed":"onYtServiceRequestCompleted_","yt-service-request-error":"onYtServiceRequestError_","yt-navigate":"onYtNavigate_"},attached:function(){this.$.scroller.dialogElement=this.parentNode},
dataChanged_:function(){this.$.description.value="";this.seconds_=this.minutes_=this.$["full-name"].value="";this.toggleSubmitButton_(!1);this.showTimestamp_&&mi(this).getPlayerPromise().then(function(a){a=a.getCurrentTime();this.minutes_=Math.floor(a/60).toString();this.seconds_=(Math.floor(a)%60).toString()}.bind(this))},
onTapSubmit_:function(a){a.stopPropagation();this.serviceEndpoint_&&(a={flag_description:this.descriptionText_.trim(),flag_issue_type:this.issueType_,flag_affiliation:this.affiliation_},this.fullNameText_&&(a.flag_full_name=this.fullNameText_.trim()),this.showTimestamp_&&(a.minutes=this.minutes_,a.seconds=this.seconds_),this.sendServiceRequestAction([this.serviceEndpoint_,a]))},
onYtServiceRequestSent_:function(){this.toggleSubmitButton_(!1)},
onYtServiceRequestCompleted_:function(a,b){b=b.actions;for(var c=0,d=b.length;c<d;c++)b[c].openPopupAction&&(a.stopPropagation(),this.parentElement.close(),this.openPopup(b[c]))},
onYtServiceRequestError_:function(){this.toggleSubmitButton_(!0)},
toggleSubmitButton_:function(a){this.set("submitButton_.isDisabled",!a)},
handleInput_:function(a,b,c,d,f,g){d=!this.showTimestamp_||!!f&&!!g;this.toggleSubmitButton_(!!a&&!!b&&!!c&&d)},
computeServiceEndpoint_:function(a){return this.get("submitButton.buttonRenderer.serviceEndpoint",a)},
computeSubmitButton_:function(a){if(a=this.get("submitButton.buttonRenderer",a))a=Polymer.Base.mixin({},a),a.serviceEndpoint=void 0;return a},
computeShowTimestamp_:function(a){return!!a}});var BA={};BA.YtCancelRecurrenceBehavior=[hi.ComponentBehavior,{ypcCancelRecurrenceHandler:function(a,b){var c=this;if(b.ypcCancelRecurrenceEndpoint&&b.ypcCancelRecurrenceEndpoint.params){var d=this.getInterface(uk);d?d.requestDataForServiceEndpoint(b).then(function(d){c.ypcCancelRecurrenceSuccess_(a,b,d)},function(d){c.ypcCancelRecurrenceFailure_(a,b,d)}).thenCatch(function(){L(Error("Error occurred in ypc cancel recurrence response handling."))}):L(Error("Network Manager not initialized"))}},
ypcCancelRecurrenceSuccess_:function(a,b,c){c.data||(c={data:c});c.data&&c.data.actions&&this.sendInnerTubeActions(c.data.actions,this);c.data.messageRenderer?Qk("YPC_ERROR_REASON_YPC_CANCEL_RECURRENCE_TRANSACTION_FAILURE",b.ypcCancelRecurrenceEndpoint.serializedYpcCancelFlowLoggingParams):(b=b.ypcCancelRecurrenceEndpoint.serializedYpcCancelFlowLoggingParams)&&Nk("ypcCancelFlowSucceeded","serializedYpcCancelFlowLoggingParams",b);a.fire("yt-service-request-completed",c)},
ypcCancelRecurrenceFailure_:function(a,b,c){Qk("YPC_ERROR_REASON_YPC_CANCEL_RECURRENCE_TRANSACTION_FAILURE",b.ypcCancelRecurrenceEndpoint.serializedYpcCancelFlowLoggingParams);a.fire("yt-service-request-error",{error:c,params:[a,b]})}},
Q.YtActionSenderBehavior];var CA=function(a){Wa.call(this,a)};
B(CA,Wa);var DA=function(a){Wa.call(this,a)};
B(DA,CA);var EA=function(a,b){Wa.call(this,b);this.errorSupportedRenderers=a};
B(EA,DA);var FA={};FA.YtCompleteTransactionBehavior=[hi.ComponentBehavior,{completeTransaction:function(a,b){var c=this;b={payments_payload:window.btoa(b.integratorData),buybucket_params:a.data.buybucketParams,offer_params:a.data.offerParams};var d=this.getInterface(uk),f=a.data.completeTransactionEndpoint,g=this.get("ypcCompleteTransactionEndpoint.actions",f);g&&this.sendInnerTubeActions(g,this);return d.requestDataForServiceEndpoint(f,b).then(this.handleCompleteTransactionSuccess_,function(){return c.handleCompleteTransactionFailure_(a)})},
handleCompleteTransactionSuccess_:function(a){a.data||(a={data:a});if(a.data.messageRenderer)return If(new EA(a.data.messageRenderer));if(a.data.trackingParams){var b=ok(),c=nk();b&&c&&Rj(ck,b,c,[Qj(a.data.trackingParams)])}return Hf(a)},
handleCompleteTransactionFailure_:function(a){a=this.get("data.serializedTransactionFlowLoggingParams",a);Pk("TRANSACTION_ERROR_TYPE_YPC_COMPLETE_TRANSACTION_RPC_FAILURE",a);return If(new cA("TRANSACTION_ERROR_TYPE_YPC_COMPLETE_TRANSACTION_RPC_FAILURE",a))},
ypcCompleteTransactionHandler:function(a,b){var c=this;b.ypcCompleteTransactionEndpoint&&b.ypcCompleteTransactionEndpoint.gtmData&&bA(b.ypcCompleteTransactionEndpoint.gtmData);var d=this.getInterface(uk);d&&d.requestDataForServiceEndpoint(b).then(function(d){a.fire("yt-service-request-completed");c.ypcCompleteTransactionSuccess_(b,d)},function(){return c.ypcCompleteTransactionFailure_(b)})},
ypcCompleteTransactionSuccess_:function(a,b){b.data||(b={data:b});b.data.messageRenderer?this.ypcCompleteTransactionFailure_(a):(bA('{"event": "purchased", "purchaseStatus": "success"}'),this.logTransactionEvent_("transactionFlowSucceeded",a));b.data.actions&&this.sendInnerTubeActions(b.data.actions,this)},
ypcCompleteTransactionFailure_:function(a){this.logTransactionEvent_("transactionFlowFailed",a,"TRANSACTION_ERROR_TYPE_YPC_COMPLETE_TRANSACTION_RPC_FAILURE")},
logTransactionEvent_:function(a,b,c){if(b=this.get("ypcCompleteTransactionEndpoint.serializedTransactionFlowLoggingParams",b))b={serializedTransactionFlowLoggingParams:b},c&&(b.errorType=c),Fk(a,b),Gk(),Dj()}},
Q.YtActionSenderBehavior];var GA={};GA.YtWalletPaymentBehavior=[{openWalletDialog:function(a,b,c){var d=Nf();a=a.replace(/-/g,"+").replace(/_/g,"/");var f=Jl.getInstance().get("hl");Sk.getInstance().openBuyDialog(a,d.resolve,void 0,d.reject,void 0,f,void 0,b?this.onServerBackendAnalyticEvent_.bind(this,b):void 0,this.onDialogClose_.bind(this),void 0,c);return d.promise},
openFixFlowDialog:function(a,b,c){a=a.replace(/-/g,"+").replace(/_/g,"/");Sk.getInstance().openFixFlowDialog(a,b,void 0,c)},
onDialogClose_:function(){this.sendAction("yt-wallet-dialog-closed")},
onServerBackendAnalyticEvent_:function(a,b){this.sendServiceRequestAction([a,{backend_analytics:b}])}},
Q.YtActionSenderBehavior];var IA=function(a,b,c,d){var f=Bh(uk);f&&f.requestDataForServiceEndpoint(c,d).then(function(d){var f=new CustomEvent("yt-service-request-completed",{bubbles:!0,cancelable:!1,composed:!0,detail:d});b.dispatchEvent(f);(f=d.data.commands)&&Vh(a,f,b);d.code&&"ERROR"==d.code?HA(c):(d=c.ypcPauseSubscriptionCommand.serializedYpcPauseFlowLoggingParams)&&d&&Nk("ypcPauseFlowSucceeded","serializedYpcPauseFlowLoggingParams",d)},function(){return HA(c)})};
function HA(a){(a=a.ypcPauseSubscriptionCommand.serializedYpcPauseFlowLoggingParams)&&a&&Nk("ypcPauseFlowFailed","serializedYpcPauseFlowLoggingParams",a,void 0,"YPC_ERROR_REASON_INNERTUBE_RESPONSE_FAILURE")}
;var KA=function(a,b,c){var d=Bh(uk);d&&d.requestDataForServiceEndpoint(c).then(function(d){var f=new CustomEvent("yt-service-request-completed",{bubbles:!0,cancelable:!1,composed:!0,detail:d});b.dispatchEvent(f);(f=d.data.commands)&&Vh(a,f,b);d.code&&"ERROR"==d.code?JA(c):(d=c.ypcResumeSubscriptionCommand.serializedYpcResumeFlowLoggingParams)&&d&&Nk("ypcResumeFlowSucceeded","serializedYpcResumeFlowLoggingParams",d)},function(){return JA(c)})};
function JA(a){(a=a.ypcResumeSubscriptionCommand.serializedYpcResumeFlowLoggingParams)&&a&&Nk("ypcResumeFlowFailed","serializedYpcResumeFlowLoggingParams",a,void 0,"YPC_ERROR_REASON_INNERTUBE_RESPONSE_FAILURE")}
;var LA={};LA.YtEndpointHandlerWithYpcBehavior=[vk.YtEndpointHandlerBehavior,{listeners:{"yt-service-request-completed":"onGetCartServiceRequestCompleted_"},created:function(){this.buyFlowActionMap_={"yt-wallet-dialog-closed":"handleWalletDialogCloseEvent_"};this.ypcRegisterActionMapJobId_=0;this.registerServiceEndpointHandler(this.handleYPCEndpoint.bind(this))},
attached:function(){var a=this;this.ypcRegisterActionMapJobId_=N.addIdlePriorityJob(function(){a.registerActionMap(a.buyFlowActionMap_)})},
detached:function(){var a=this;N.cancelJob(this.ypcRegisterActionMapJobId_);N.addIdlePriorityJob(function(){a.unregisterActionMap(a.buyFlowActionMap_)})},
handleYPCEndpoint:function(a,b,c){var d=b.ypcGetCartEndpoint;if(d){var f=d.gtmId;if(f&&!qe(document,"gtm")){window.dataLayer=window.dataLayer||[];window.dataLayer.push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=document.createElement("SCRIPT");g.async=!0;je(g,Fd(new vd(td,"//www.googletagmanager.com/gtm.js?id=%{id}"),{id:f}));g.id="gtm";f=document.getElementsByTagName("script");0==f.length?document.head.appendChild(g):(f=f[0],f.parentNode.insertBefore(g,f))}(d=d.gtmData)&&bA(d)}return null!=
this.get("ypcGetCartEndpoint.prefetchConfig.ypcGetCartPrefetchResponseDataConfig.encryptedPurchaseParams",b)?(this.handleYPCGetCartEndpointWithPrefetch_(a,b),!0):null!=this.get("ypcFixInstrumentEndpoint.encryptedFixInstrumentParameters",b)?(this.handleYPCFixInstrumentEndpoint_(b),!0):b.ypcCompleteTransactionEndpoint&&b.ypcCompleteTransactionEndpoint.transactionParams?(this.ypcCompleteTransactionHandler(a,b),!0):b.ypcCancelRecurrenceEndpoint&&b.ypcCancelRecurrenceEndpoint.params?(this.ypcCancelRecurrenceHandler(a,
b),!0):M("enable_premium_voluntary_pause")&&b.ypcPauseSubscriptionCommand?(IA(this,a,b,c),!0):M("enable_premium_voluntary_pause")&&b.ypcResumeSubscriptionCommand?(KA(this,a,b),!0):!1},
handleYPCGetCartEndpointWithPrefetch_:function(a,b){var c=this,d=b.ypcGetCartEndpoint;b=d.prefetchConfig.ypcGetCartPrefetchResponseDataConfig;var f=b.encryptedPurchaseParams;d=d.offerParams;var g=b.completeTransactionEndpoint,h=b.serializedTransactionFlowLoggingParams,k={data:{offerParams:window.btoa(d),completeTransactionEndpoint:g,serializedTransactionFlowLoggingParams:h}};Fk("buyFlowStarted",{offerParams:d});this.openWalletDialog(f,b.ypcLogWalletAnalyticDataEndpoint,h).then(function(a){return c.handleBuyFlowCompleteCallback_(k,
a)},function(){return c.handleOnLoadError(k)}).then(function(b){return c.handlePostPurchaseSuccess_(a,k,b)},function(a){return c.handlePostPurchaseError_(a)})},
onGetCartServiceRequestCompleted_:function(a,b){var c=this;if(b&&b.data&&b.data.messageRenderer)this.handleMessageRenderer_(b.data.messageRenderer);else{var d=this.get("data.offerParams",b),f=this.get("data.tipParams",b),g=this.get("data.encryptedPurchaseParams",b),h=this.get("data.upgradeDialogRenderer.ypcUpgradeDialogRenderer",b),k=this.get("data.ypcLogWalletAnalyticDataEndpoint",b);if(g||h)if(d||f)if(a.stopPropagation(),d&&Fk("buyFlowStarted",{offerParams:d}),h)this.sendAction("yt-open-popup-action",
[{openPopupAction:{popupType:K("openPopupConfig").popupTypeMap.ypcUpgradeDialogRenderer,popup:{ypcUpgradeDialogRenderer:h}}},this]);else{d=this.getLoggingParams_(b);g=this.openWalletDialog(g,k,d);var l=a.target;g.then(function(a){return c.handleBuyFlowCompleteCallback_(b,a)},function(){return c.handleOnLoadError(b)}).then(function(a){return c.handlePostPurchaseSuccess_(l,b,a)},function(a){return c.handlePostPurchaseError_(a)})}}},
handleBuyFlowCompleteCallback_:function(a,b){var c=b.integratorData;return null==c||""===c||null!=b.error?(a=this.getLoggingParams_(a),If(new cA("TRANSACTION_ERROR_TYPE_YPC_BUYFLOW_COMPLETE_FAILURE",a))):this.completeTransaction(a,b)},
handlePostPurchaseSuccess_:function(a,b,c){b=this.getLoggingParams_(b);Ok(b);c.data&&c.data.gtmData&&c.data.gtmData.length?bA(c.data.gtmData[0]):bA('{"event": "purchased", "purchaseStatus": "success"}');c.data&&c.data.actions&&this.sendInnerTubeActions(c.data.actions,a)},
handlePostPurchaseError_:function(){L(Error("Error occurred during buyflow."))},
handleOnLoadError:function(a){a=this.getLoggingParams_(a);return If(new cA("TRANSACTION_ERROR_TYPE_LOAD_FAILURE",a))},
getLoggingParams_:function(a){return this.get("data.serializedTransactionFlowLoggingParams",a)},
handleWalletDialogCloseEvent_:function(){},
handleMessageRenderer_:function(a){var b=Lh(a,"renderer"),c=K("openPopupConfig");"confirmDialogRenderer"===b&&c&&this.sendAction("yt-open-popup-action",[{openPopupAction:{popupType:c.popupTypeMap[b],popup:a}},this])},
handleYPCFixInstrumentEndpoint_:function(a){var b=this,c=a.ypcFixInstrumentEndpoint;a=c.encryptedFixInstrumentParameters;this.logFixFopEvent_(c,"FIX_FOP_EVENT_TYPE_START");this.openFixFlowDialog(a,function(a,f){b.onFixFlowCompleteCallback_(c,a,f)},function(){b.logFixFopEvent_(c,"FIX_FOP_EVENT_TYPE_FAILURE","FIX_FOP_ERROR_TYPE_LOAD_FAILURE")})},
onFixFlowCompleteCallback_:function(a,b,c){var d=x("payments.business.integration.scenario.FixInstrument");if(b==d.IntegratorCallbackType.ON_COMPLETE){b="FIX_FOP_EVENT_TYPE_CANCEL";var f=null;null!=c.error?c.error!=d.OnCompleteCallbackError.USER_CANCELLED&&(this.sendInnerTubeActions([a.errorAction],this),b="FIX_FOP_EVENT_TYPE_FAILURE",f="FIX_FOP_ERROR_TYPE_UNSPECIFIED"):(this.sendInnerTubeActions([a.successAction],this),b="FIX_FOP_EVENT_TYPE_SUCCESS");this.logFixFopEvent_(a,b,f)}},
logFixFopEvent_:function(a,b,c){(a=a.serializedFixFopLoggingParams)?(b={eventType:b,serializedFixFopLoggingParams:a},null!=c&&(b.errorType=c),Fk("fixFopFlow",b),Gk(),Dj()):L(Error("Fix Fop Logging params not provided."))}},
BA.YtCancelRecurrenceBehavior,FA.YtCompleteTransactionBehavior,R.YtActionHandlerBehavior,Q.YtActionSenderBehavior,GA.YtWalletPaymentBehavior,fm.YtOpenPopupBehavior];var MA={};MA.YtFeedbackCollectorBehavior=[R.YtActionHandlerBehavior,{_noAccessors:!0,created:function(){this.feedbackCollectorActionMap_={"yt-help-dialog-requested":"handleHelpDialogRequested_","yt-feedback-dialog-requested":"handleFeedbackDialogRequested_","yt-signal-action-help":"handleSignalActionHelp_","yt-signal-action-send-feedback":"handleSignalActionSendFeedback_","yt-send-feedback-action":"handleSendFeedbackAction_","yt-user-feedback-endpoint":"handleUserFeedbackEndpoint_"}},
attached:function(){this.registerActionMap(this.feedbackCollectorActionMap_)},
detached:function(){this.unregisterActionMap(this.feedbackCollectorActionMap_)},
handleFeedbackDialogRequested_:function(a){a=void 0===a?{}:a;this.getInterface(ii).showFeedbackDialog(a.customProductData,a.feedbackContent,a.onFeedbackSubmitted,a.bucket)},
handleHelpDialogRequested_:function(a){a=void 0===a?{}:a;this.getInterface(ii).showHelpDialog(a.helpContext,a.articleId,a.productData)},
handleSignalActionHelp_:function(){this.handleHelpDialogRequested_()},
handleSignalActionSendFeedback_:function(){this.handleFeedbackDialogRequested_()},
handleSendFeedbackAction_:function(a){this.handleFeedbackDialogRequested_({bucket:a.sendFeedbackAction.bucket})},
handleUserFeedbackEndpoint_:function(a){if(a.userFeedbackEndpoint){a=a.userFeedbackEndpoint;var b={bucket:a.bucketIdentifier};a.additionalDatas&&(b.customProductData={},a.additionalDatas.forEach(function(a){if(a=a.userFeedbackEndpointProductSpecificValueData)b.customProductData[a.key]=a.value}));
this.handleFeedbackDialogRequested_(b)}}}];O.YtPopupContainerBehaviorImpl_={created:function(){this.popupContainerConfig=null;this.popups_={};this.popupContainerActionMap_={"yt-close-popup-action":"handleClosePopupAction_","yt-close-popups-action":"handleClosePopupsAction_","yt-close-all-popups-action":"handleCloseAllPopupsAction_","yt-get-popup-opened-action":"handleGetPopupOpenedAction_","yt-get-opened-popups-action":"handleGetOpenedPopupsAction_","yt-open-popup-action":"handleOpenPopupAction_","yt-signal-action-close-popup":"handleSignalActionClosePopup_",
"yt-window-scrolled":"windowResizedOrScrolled_","yt-window-resized":"windowResizedOrScrolled_","yt-refit-popups-action":"refitPopups_"};this.narrowMediaQuery_=void 0;this.repositionEventsBound_=!1;this.setPopupVisibilityJobId_=this.setPopupPositioningJobId_=0;this.dynamicallyPositionedElements_=new Set},
attached:function(){this.registerActionMap(this.popupContainerActionMap_);var a=!1;a=void 0===a?!0:a;this.addEventListener("wheel",cy);this.overscrollConfig={cooldown:a}},
detached:function(){this.unregisterActionMap(this.popupContainerActionMap_);this.overscrollConfig=void 0;this.removeEventListener("wheel",cy)},
windowResizedOrScrolled_:function(){this.setPopupPositioningJobId_||(this.setPopupPositioningJobId_=N.addLowPriorityJob(this.setPopupPositioning_.bind(this)));this.setPopupVisibilityJobId_||(this.setPopupVisibilityJobId_=N.addLowPriorityJob(this.setPopupVisibility_.bind(this)))},
setPopupPositioning_:function(){this.dynamicallyPositionedElements_.forEach(function(){},this);
this.setPopupPositioningJobId_=0},
setPopupVisibility_:function(){for(var a in this.popups_)this.popups_[a].setRefitVisibility();this.setPopupVisibilityJobId_=0},
ensurePopupBelowPlayer:function(){return!1},
initPopupContainerBehavior:function(a){this.popupContainerConfig=a},
handleOpenPopupAction_:function(a,b){var c=a.openPopupAction,d=this.ensurePopup_(c,b);return new Df(function(a){d.then(function(d){if(!d)return a();this.maybeCreateNarrowMediaQuery_();var f=this.popups_[d.rendererName],g=!(!f||!f.openPopupAction.beReused);g=!!c.reusePopup||g;if(d.popup.opened&&!g){this.handleClosePopupAction_(d.rendererName);if(f&&f.target==b&&!d.openPopupAction.replacePopup)return a();Polymer.RenderStatus.afterNextRender(d.popup,function(){this.completeOpenPopupAction_(c,b,d);a()}.bind(this))}else d.popup.opened?
d.updatePopup(c):this.completeOpenPopupAction_(c,b,d),a()}.bind(this))}.bind(this))},
completeOpenPopupAction_:function(a,b,c){c.configurePopup(this.narrowMediaQuery_.queryMatches,b);c.updatePopup(a);a=c.popup;this.listen(a,"iron-overlay-opened","onPopupIronOverlayOpened_");this.listen(a,"iron-overlay-closed","onPopupIronOverlayClosed_");this.listen(a,"iron-overlay-canceled","onPopupIronOverlayCanceled_");this.listen(a,"yt-refit","refitPopup_");this.listen(a,"yt-invalidate-popup-tabbables","handleInvalidatePopupTabbables_");a.open()},
getPopupDurationMs_:function(a){return 0===a.durationHintMs?a.durationHintMs:Math.max(4E3,a.durationHintMs||4E3)},
handleClosePopupAction_:function(a){a=a?(a=this.popups_[a])&&a.popup:Polymer.IronOverlayManager.currentOverlay();a&&a.close&&a.close()},
handleCloseAllPopupsAction_:function(a){for(var b in this.popups_)a&&a.some(function(a){return a==b})||this.popups_[b].popup.close()},
handleClosePopupsAction_:function(a){a.forEach(function(a){(a=this.popups_[a])&&a.popup.close()}.bind(this))},
handleGetPopupOpenedAction_:function(a){return a&&this.popups_[a]?this.popups_[a].popup.opened:!1},
handleGetOpenedPopupsAction_:function(){var a=[],b;for(b in this.popups_){var c=this.popups_[b];c.popup.opened&&a.push(c)}return a},
handleSignalActionClosePopup_:function(){this.handleCloseAllPopupsAction_()},
ensurePopup_:function(a,b){this.maybeCreateNarrowMediaQuery_();var c=Lh(a.popup,"renderer")||Lh(a.popup,"dialog");if(!c)return Hf();var d=Mh(c,this.popupContainerConfig.getPrefixForElement(c));return K("ENABLE_SELECTIVE_REGISTRATION",void 0)?new Df(function(c){Sl.getInstance().onComponent(d,function(){c(this.getAndMaybeCreatePopup_(a,d,b))}.bind(this),4)}.bind(this)):Hf(this.getAndMaybeCreatePopup_(a,d,b))},
getAndMaybeCreatePopup_:function(a,b,c){if(this.popups_[b])return this.popups_[b];a=new Yz({openPopupAction:a,target:c,container:this,popupContainerConfig:this.popupContainerConfig,getElement:this.getElement.bind(this)});return this.popups_[b]=a},
getElement:function(){return null},
maybeCreateNarrowMediaQuery_:function(){this.narrowMediaQuery_||(this.narrowMediaQuery_=document.createElement("iron-media-query"),this.narrowMediaQuery_.query="(max-width: 656px)",this.listen(this.narrowMediaQuery_,"query-matches-changed","openPopupQueryMatchesChanged_"),Polymer.dom(this).appendChild(this.narrowMediaQuery_))},
openPopupQueryMatchesChanged_:function(a){a=a.detail.value;for(var b in this.popups_)this.popups_[b].toggleConfigProperties(a)},
onPopupIronOverlayClosed_:function(a){var b=a.currentTarget,c=b.getContentChildren();(0<c.length?c[0]:b).fire("yt-popup-closed",a.detail);this.unlisten(b,"yt-refit","refitPopup_");this.unlisten(b,"yt-invalidate-popup-tabbables","handleInvalidatePopupTabbables_");this.unlisten(b,"iron-overlay-canceled","onPopupIronOverlayCanceled_");this.unlisten(b,"iron-overlay-closed","onPopupIronOverlayClosed_");this.dynamicallyPositionedElements_.delete(b)},
onPopupIronOverlayCanceled_:function(a,b){var c=Polymer.dom(a).rootTarget,d=c.getContentChildren();(0<d.length?d[0]:c).fire("yt-popup-canceled",a.detail);d=Polymer.dom(b).path;(!b||["click","tap"].includes(b.type))&&!c.hasAttribute("force-close-on-outside-click")&&c.positionTarget&&d&&d.includes(c.positionTarget)&&a.preventDefault();c.restoreFocusOnClose=Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(b,"esc")},
onPopupIronOverlayOpened_:function(a){a=a.currentTarget;var b=a.getContentChildren();b=0<b.length?b[0]:a;b.fire("yt-popup-opened",b);a.keepBelowPlayer&&this.dynamicallyPositionedElements_.add(a);this.unlisten(a,"iron-overlay-opened","onPopupIronOverlayOpened_")},
refitPopup_:function(a){a=a.currentTarget;a.refit&&a.refit()},
refitPopups_:function(){for(var a in this.popups_)this.popups_[a].refit()},
handleInvalidatePopupTabbables_:function(a){a=a.currentTarget;a.invalidateTabbables&&a.invalidateTabbables()}};
O.YtPopupContainerBehavior=[R.YtActionHandlerBehavior,O.YtPopupContainerBehaviorImpl_];w("yt.logging.errors.log",sh,void 0);C(K("ERRORS")||[],function(a){sh.apply(null,a)});
Hg("ERRORS",[]);
window.onerror=function(a,b,c,d,f){var g=!1,h;if((h=(h=Gg.EXPERIMENT_FLAGS)?h.log_window_onerror_fraction:void 0)&&Math.random()<h)g=!0;else{h=document.getElementsByTagName("script");for(var k=0,l=h.length;k<l;k++)if(0<h[k].src.indexOf("/debug-")){g=!0;break}}g&&(f||(v(a)?g=a:ErrorEvent&&a instanceof ErrorEvent?(g=a.message,b=a.filename,c=a.lineno,d=a.colno):(g="Unknown error",b="Unknown file",c=0),f=Lg(g,"UnhandledWindowError"),f.message=g,f.fileName=b,f.lineNumber=c,isNaN(d)?delete f.columnNumber:f.columnNumber=
d),L(f))};
window.Polymer&&!window.Polymer.Element&&Ig&&Cz();Sf=Kg;window.addEventListener("unhandledrejection",function(a){Kg(a.reason)});S.YtNavigationManagerBehavior={_noAccessors:!0,created:function(){this.pendingNavigationPromise_=null},
hasPendingNavigation:function(){return!!this.pendingNavigationPromise_},
cancelPendingNavigation:function(){this.pendingNavigationPromise_&&(this.pendingNavigationPromise_=null)}};var NA=function(){};
NA.prototype.navigate=function(){};
NA.prototype.navigateApp=function(){};
NA.prototype.pageRequestFinished=function(){};function OA(a){var b=pg(og(r.location.href));a=pg(og(a));return PA(b)==PA(a)}
var QA=["frags"];function PA(a){var b=mg(a),c=a.slice(0);QA.forEach(function(a){c=Ag(pg(c),a)});
return pg(c)+(b?"#"+b:"")}
;function RA(a){var b=E.getValueByKeys.apply(E,[a].concat(ka(xz)));a=E.getValueByKeys.apply(E,[a].concat(ka(tz)));return!(!b&&!a)}
function SA(a){var b=wg(Ag(window.location.href,"disable_polymer"),"disable_polymer",!0);a&&(b=Ag(b,"view_as"));Zz(b)}
;var TA=function(){this.registrationCompletedPromise_=null;this.isFirstWarmTransitionRequested_=!1};
TA.prototype.getRegistrationCompletedPromise=function(){if(this.registrationCompletedPromise_)return this.registrationCompletedPromise_;if(K("ENABLE_SELECTIVE_REGISTRATION",void 0)){var a=Sl.getInstance();this.registrationCompletedPromise_=a.isSignalProcessed("eor")?Hf():new Df(function(b){a.parkOrScheduleJob(b,3,"eor")})}else this.registrationCompletedPromise_=Hf();
return this.registrationCompletedPromise_};
TA.prototype.processSelectiveRegistration=function(){if(K("ENABLE_SELECTIVE_REGISTRATION",void 0)){var a=Sl.getInstance();a.isSignalProcessed("eor")||this.isFirstWarmTransitionRequested_||(a.processSignal("fwtr"),this.isFirstWarmTransitionRequested_=!0)}a=this.getRegistrationCompletedPromise();a.then(function(){Hg("IS_HOMEPAGE_COLD",!1);Hg("IS_RESULTS_PAGE_COLD",!1);Hg("IS_WATCH_PAGE_COLD",!1)});
return a};
Ga(TA);function UA(a){if(!a.urlEndpoint)return!1;if(!a.urlEndpoint.url)return L(Error("UrlEndpoint with no url specified.")),!1;if(a.clickTrackingParams){var b=a.urlEndpoint.url,c=a.clickTrackingParams,d=ok();d&&c&&Tj(ck,d,Qj(c),void 0,b?{externalLinkData:{url:b}}:null)}if("TARGET_NEW_WINDOW"==a.urlEndpoint.target)gg(a.urlEndpoint.url,{target:"_blank",noopener:!0});else if(lg(a.urlEndpoint.url)&&!qg(window.location.href,a.urlEndpoint.url))dz("n"),Zz(a.urlEndpoint.url,void 0,void 0,window.top);else return b=
Error("UrlEndpoint should not be used for same origin navigations. Use a better typed endpoint instead."),b.params=a,L(b,"WARNING",void 0,void 0,void 0),!1;return!0}
;var VA=function(a){this.metricName_="/client_streamz/youtube/web/navigation_request";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:3,field_name:"page_type"})};
VA.prototype.increment=function(a){this.streamzService_.incrementCounter(this.metricName_,a)};
VA.prototype.incrementBy=function(a,b){this.streamzService_.incrementCounterBy(this.metricName_,a,b)};
var WA=function(a){this.metricName_="/client_streamz/youtube/web/navigation_response";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:3,field_name:"result"},{field_type:3,field_name:"page_type"},{field_type:3,field_name:"error_type"})};
WA.prototype.increment=function(a,b,c){this.streamzService_.incrementCounter(this.metricName_,a,b,c)};
WA.prototype.incrementBy=function(a,b,c,d){this.streamzService_.incrementCounterBy(this.metricName_,a,b,c,d)};
var XA=function(a){this.metricName_="/client_streamz/youtube/web/servlet_response_errors";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:3,field_name:"code"},{field_type:3,field_name:"location"})};
XA.prototype.increment=function(a,b){this.streamzService_.incrementCounter(this.metricName_,a,b)};
XA.prototype.incrementBy=function(a,b,c){this.streamzService_.incrementCounterBy(this.metricName_,a,b,c)};
var YA=function(a){this.metricName_="/client_streamz/youtube/web/debug/navigate_page_type";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:3,field_name:"page_type"},{field_type:3,field_name:"request_type"})};
YA.prototype.increment=function(a,b){this.streamzService_.incrementCounter(this.metricName_,a,b)};
YA.prototype.incrementBy=function(a,b,c){this.streamzService_.incrementCounterBy(this.metricName_,a,b,c)};
var ZA=function(a){this.metricName_="/client_streamz/youtube/web/debug/away_from_app_endpoint";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:3,field_name:"page_type"})};
ZA.prototype.increment=function(a){this.streamzService_.incrementCounter(this.metricName_,a)};
ZA.prototype.incrementBy=function(a,b){this.streamzService_.incrementCounterBy(this.metricName_,a,b)};
var $A=function(a){this.metricName_="/client_streamz/youtube/web/debug/bad_endpoint";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:3,field_name:"page_type"})};
$A.prototype.increment=function(a){this.streamzService_.incrementCounter(this.metricName_,a)};
$A.prototype.incrementBy=function(a,b){this.streamzService_.incrementCounterBy(this.metricName_,a,b)};
var aB=function(a){this.metricName_="/client_streamz/youtube/web/debug/forcer_cold_load";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:3,field_name:"page_type"},{field_type:1,field_name:"url_not_polymer_compatible"},{field_type:1,field_name:"config_disable_warm_loads"})};
aB.prototype.increment=function(a,b,c){this.streamzService_.incrementCounter(this.metricName_,a,b,c)};
aB.prototype.incrementBy=function(a,b,c,d){this.streamzService_.incrementCounterBy(this.metricName_,a,b,c,d)};
var bB=function(a){this.metricName_="/client_streamz/youtube/web/debug/page_request_fail";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:3,field_name:"page_type"})};
bB.prototype.increment=function(a){this.streamzService_.incrementCounter(this.metricName_,a)};
bB.prototype.incrementBy=function(a,b){this.streamzService_.incrementCounterBy(this.metricName_,a,b)};
var cB=function(a){this.metricName_="/client_streamz/youtube/web/debug/load_page_request";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:1,field_name:"has_player"},{field_type:3,field_name:"data_page_type"},{field_type:1,field_name:"from_history"},{field_type:1,field_name:"from_miniplayer"})};
cB.prototype.increment=function(a,b,c,d){this.streamzService_.incrementCounter(this.metricName_,a,b,c,d)};
cB.prototype.incrementBy=function(a,b,c,d,f){this.streamzService_.incrementCounterBy(this.metricName_,a,b,c,d,f)};
var dB=function(a){this.metricName_="/client_streamz/youtube/web/debug/page_chunk_received";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:2,field_name:"chunks_received"},{field_type:3,field_name:"data_page_type"},{field_type:3,field_name:"page_type"})};
dB.prototype.increment=function(a,b,c){this.streamzService_.incrementCounter(this.metricName_,a,b,c)};
dB.prototype.incrementBy=function(a,b,c,d){this.streamzService_.incrementCounterBy(this.metricName_,a,b,c,d)};
var eB=function(a){this.metricName_="/client_streamz/youtube/web/debug/page_request_finished";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:3,field_name:"page_type"},{field_type:3,field_name:"data_page_type"},{field_type:1,field_name:"from_history"},{field_type:1,field_name:"from_miniplayer"})};
eB.prototype.increment=function(a,b,c,d){this.streamzService_.incrementCounter(this.metricName_,a,b,c,d)};
eB.prototype.incrementBy=function(a,b,c,d,f){this.streamzService_.incrementCounterBy(this.metricName_,a,b,c,d,f)};
var fB=function(a){this.metricName_="/client_streamz/youtube/web/debug/page_update_finish";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:3,field_name:"page_type"},{field_type:3,field_name:"data_page_type"},{field_type:3,field_name:"from_history"})};
fB.prototype.increment=function(a,b,c){this.streamzService_.incrementCounter(this.metricName_,a,b,c)};
fB.prototype.incrementBy=function(a,b,c,d){this.streamzService_.incrementCounterBy(this.metricName_,a,b,c,d)};
var gB=function(a){this.metricName_="/client_streamz/youtube/web/navigation_requests";this.streamzService_=a;this.streamzService_.addNewCounter(this.metricName_,{field_type:3,field_name:"page_type"},{field_type:3,field_name:"load_type"})};
gB.prototype.increment=function(a,b){this.streamzService_.incrementCounter(this.metricName_,a,b)};
gB.prototype.incrementBy=function(a,b,c){this.streamzService_.incrementCounterBy(this.metricName_,a,b,c)};var hB="/channel/ /feed/ /gaming /gaming/ /manage_red /playlist /results /search /user/ /watch /youtuberedoriginals".split(" ");
Polymer({is:"yt-navigation-manager",provides:NA,behaviors:[hi.ComponentBehavior,S.YtNavigationManagerBehavior,R.YtActionHandlerBehavior,Q.YtActionSenderBehavior],actionMap:{"yt-signal-action-channel-reload-without-polymer":"handleSignalActionChannelReloadWithoutPolymer_","yt-signal-action-reload-without-polymer":"handleSignalActionReloadWithoutPolymer_","yt-signal-action-reload-page":"handleSignalActionReloadPage_"},created:function(){this.logger_=null;this.numNavigations_=-1;this.chunksReceived_=
0;this.lastNavigationUrl_=this.pendingNavigationPromise_=null;this.initClientStreamzObjects_()},
initClientStreamzObjects_:function(){M("enable_servlet_streamz")&&(this.requestCounter_=new VA(oy()),this.responsesCounter_=new WA(oy()));M("debug_servlet_streamz")&&(this.navigatePageTypeCounter_=new YA(oy()),this.awayFromAppEndpointCounter_=new ZA(oy()),this.cannotGenerateURLCounter_=new $A(oy()),this.forcedColdLoadCounter_=new aB(oy()),this.pageRequestFailCounter_=new bB(oy()),this.loadPageRequestCounter_=new cB(oy()),this.pageChunkReceivedCounter_=new dB(oy()),this.pageRequestFinishedCounter_=
new eB(oy()),this.pageUpdateFinishCounter_=new fB(oy()));M("enable_navigation_requests_streamz")&&(this.navigationRequestSentCounter_=new gB(oy()));M("enable_servlet_errors_streamz")&&(this.servletResponseErrorsCounter_=new XA(oy()))},
factoryImpl:function(){},
currentEndpoint_:null,currentPlayerPromise_:null,getPageTypeForEndpoint_:function(a){var b="";if(!a)return null;if(a.commandMetadata&&a.commandMetadata.webCommandMetadata&&a.commandMetadata.webCommandMetadata.webPageType){if(b=a.commandMetadata.webCommandMetadata.webPageType.toLowerCase())b=b.toLowerCase(),b.startsWith("web_page_type_")&&(b=b.slice(14))}else a.webNavigationEndpointData&&a.webNavigationEndpointData.webPageType?b=a.webNavigationEndpointData.webPageType.toLowerCase():a.browseEndpoint||
a.watchPlaylistEndpoint?b="browse":a.searchEndpoint?b="search":a.watchEndpoint&&(b="watch");if(!b){var c=Error("Could not resolve page type from endpoint");c.params=a;L(c,"WARNING")}return b},
getCurrentEndpoint:function(){return this.currentEndpoint_},
reload:function(){window.location.reload()},
navigate:function(a,b,c,d,f){var g=this;if(!a){var h=Error("Null endpoint in navigation function that would result in null endpoint");h.params=c;L(h,"WARNING")}h=this.getPageTypeForEndpoint_(a);this.navigatePageTypeCounter_&&this.navigatePageTypeCounter_.increment(h||"null",f||"null");var k=d||{},l="1"==k.autonav,m=ok(),q;if("watch"===h&&(M("kevlar_prefetch")&&(q=Wz.getInstance().getPrefetchedDataForEndpoint(a,l)),M("persistent_miniplayer")&&this.isMiniplayerUserActivated_()))return this.endpointInMiniplayer_(a)?
this.sendAction("yt-expand-watch-page-action"):this.sendAction("yt-miniplayer-load-endpoint",[a]),!1;q&&(c=c||{},c.frags=q.getMissingFragments().join(","));var t=null;this.get("commandMetadata.webCommandMetadata.ignoreNavigation",a)||(t=M("kevlar_command_url")?this.get("commandMetadata.webCommandMetadata.url",a):Dh(a,c));var G=!1;if(M("cancel_pending_navs")&&t&&this.pendingNavigationPromise_){if(M("web_dont_cancel_pending_navigation_same_url")&&this.lastNavigationUrl_&&t==this.lastNavigationUrl_)return Yy("nrsu")||
Wy("nrsu",1),M("kevlar_track_mousedown_prefetch")&&Mz.getInstance().resolve(!1,!0),!1;this.pendingNavigationPromise_.cancel();G=!0}t&&(this.lastNavigationUrl_=t);d=TA.getInstance().processSelectiveRegistration();!M("kevlar_nav_logging_urls_killswitch")&&a.loggingUrls&&a.loggingUrls.forEach(function(a){a.baseUrl&&sk(a.baseUrl)});
if(UA(a))return this.awayFromAppEndpointCounter_&&this.awayFromAppEndpointCounter_.increment(h||"null"),!1;if(!t)return this.cannotGenerateURLCounter_&&this.cannotGenerateURLCounter_.increment(h||"null"),!1;my();if(this.shouldRedirect_(t)||K("DISABLE_WARM_LOADS"))return Zz(t,void 0,void 0,window.top),this.forcedColdLoadCounter_&&this.forcedColdLoadCounter_.increment(h||"null",this.shouldRedirect_(t),K("DISABLE_WARM_LOADS")),!1;this.chunksReceived_=0;this.chunkHandler_=void 0;dz("n");Ky();ez(!1);Hg("TIMING_AFT_KEYS",
[]);Wy("yt_lt","warm");Hg("TIMING_ACTION","");Hg("TIMING_WAIT",[]);xy();Wy("yt_sts","n",void 0);Oy("_start",void 0,void 0);Zy("nd");Py("nr");l&&Wy("nr","an");G&&Wy("pnc",1);q&&(l=q.getValidFragments().join(","),Wy("pfra",l),Wy("pfra",l,"prefetch"));if(M("kevlar_mousedown_prefetch")&&q&&q.completionPromise){var ea=q.completionPromise;q.addPartCallback(function(b){g.handleNavigatePart_(ea,a,b)})}else a.clickTrackingParams&&(k.itct=a.clickTrackingParams,k.csn=m),E.isEmpty(k)||Yl(t,k),k={headers:{"X-YouTube-STS":17886}},
f&&(k.type=f),this.requestCounter_&&this.requestCounter_.increment(h||"null"),ea=this.getInterface(uk).requestDataForEndpoint(a,c,function(b){this.handleNavigatePart_(ea,a,b)}.bind(this),k,!!M("cancel_pending_navs"));
this.pendingNavigationPromise_=ea;c=d.then(function(){return ea}).then(this.handleNavigateSuccess_.bind(this,ea,a,q),this.handleNavigateFail_.bind(this,ea,a));
M("kevlar_miniplayer_button")&&(Xz.getInstance().navigationFinishPromise=c);this.currentPlayerPromise_=null;b={endpoint:a,pageType:h,url:PA(t),reload:!!b};f&&(b.type=f);d.then(this.fire.bind(this,"yt-navigate-start",b));q&&d.then(this.loadPrefetchedData_.bind(this,q));return!0},
loadPrefetchedData_:function(a){var b=a.getPrefetchedData();b&&(this.loadPageChunk_(b),Wy("pfru",a.getValidFragments().join(",")))},
navigateApp:function(){throw Error("Not implemented for this navigation manager.");},
isNetworkPromiseStale_:function(a){return a!=this.pendingNavigationPromise_},
pageRequestFail_:function(a,b,c){if(!a){var d=Error("Null endpoint in pageRequestFail_ function that would result in null endpoint");d.params=b;L(d,"WARNING")}d=this.getPageTypeForEndpoint_(a);this.pageRequestFailCounter_&&this.pageRequestFailCounter_.increment(d||"null");a={endpoint:a,pageType:d};c&&(a.errorMessage=c);L(b,"WARNING");a.navigationDoneMs=Oy("nd");this.responsesCounter_&&(c=this.get("params.error.0.code",b)||"null_error",this.responsesCounter_.increment("failure",d||"null",c));this.servletResponseErrorsCounter_&&
(c=this.get("params.error.0.code",b)||"null_error_code",b=this.get("params.error.0.location",b)||"null_error_location",this.servletResponseErrorsCounter_.increment(c,b));this.fire("yt-navigate-error",a)},
handleNavigateFail_:function(a,b,c){if(this.isNetworkPromiseStale_(a))return M("kevlar_track_mousedown_prefetch")&&Mz.getInstance().resolve(!0),a=void 0,c instanceof Of&&(a=c),If(a);this.pageRequestFail_(b,c);return If()},
handleNavigatePart_:function(a,b,c){this.isNetworkPromiseStale_(a)||(c.reload?window.location.reload(!0):TA.getInstance().getRegistrationCompletedPromise().then(this.pageChunkReceived_.bind(this,b,c)))},
handleNavigateSuccess_:function(a,b,c,d){if(this.isNetworkPromiseStale_(a))return M("kevlar_track_mousedown_prefetch")&&Mz.getInstance().resolve(!0),Hf();M("kevlar_track_mousedown_prefetch")&&Mz.getInstance().resolve();this.pendingNavigationPromise_=null;if(!d)return If(Error("Missing data in response for navigation endpoint: "+JSON.stringify(b)));if(d.reload)return window.location.reload(!0),Hf();c&&(a={},E.extend(a,c.getPrefetchedData(),d),d=a);c=this.get("timing.responseStart",d);null!=c&&Oy("srt",
c);Oy("pdc");c=this.get("timing.info",d);if(null!=c)for(var f in c)Wy(f,c[f]);(f=this.get("response.responseContext.webResponseContextExtensionData.webResponseContextPreloadData.preloadThumbnailUrls",d))&&this.fire("yt-preconnect-urls",f);if(f&&M("polymer_warm_thumbnail_preload"))return new Df(function(a){this.async(function(){M("enable_chunk_load_requests_streamz")&&this.incrementNavigationRequestsStreamz_(b);this.pageRequestFinished(b,d,!1);a()}.bind(this))}.bind(this));
M("enable_navigation_requests_streamz")&&this.incrementNavigationRequestsStreamz_(b);this.pageRequestFinished(b,d,!1);return Hf()},
shouldRedirect_:function(a){if("/"==a||"/red"==a)return!1;var b=!0;hB.forEach(function(c){0==a.indexOf(c)&&(b=!1)});
return b},
publishPageData_:function(a){this.fire("yt-page-data-fetched",{pageData:a})},
updatePlayer_:function(a,b,c,d,f){try{var g=mi(this);if(M("kevlar_use_ytd_player"))var h=g;else if(M("kevlar_ytd_player_container")){var k=this.getInterface(ji).getCurrentPage();k&&k.getPlayer&&(h=k.getPlayer());h||L(Error("Player data present, but no player found on page."),"WARNING",void 0,void 0,void 0)}return g.update(a,h,b,c,d,f)}catch(l){g?L(l):L(Error("Player missing when attempting update from updatePlayer_. el="+this.get("args.el",a)))}return Hf()},
updatePlayerComponents_:function(){try{var a=mi(this)}catch(b){a?L(b):L(Error("Player missing when attempting update from updatePlayerComponents_"))}},
loadPageChunk_:function(a){if(!this.chunkHandler_)if("watch"==a.page){var b=this.getInterface(ji);this.chunkHandler_=new Az(this.playerProvider_.bind(this),b,!1)}else this.chunkHandler_=new jz;this.chunkHandler_.processChunk(a)},
loadPageRequest_:function(a,b,c){var d=null;this.loadPageRequestCounter_&&this.loadPageRequestCounter_.increment(null!==a.player,a.page||"null",b,c);if(a.player){if(this.get("response.contents.twoColumnWatchNextResults",a)){var f=this.get("response.playerOverlays.playerOverlayRenderer.endScreen.watchNextEndScreenRenderer",a);var g=this.get("response.contents.twoColumnWatchNextResults.autoplay.autoplay",a);var h=this.get("response.webWatchNextResponseExtensionData.relatedVideoArgs",a);var k=this.get("response.contents.twoColumnWatchNextResults.playlist.playlist",
a)}else this.get("response.contents.singleColumnWatchNextResults",a)&&(h=this.get("response.webWatchNextResponseExtensionData.relatedVideoArgs",a));b&&aA(a.player.args);b=this.updatePlayer_.bind(this,a.player,f,g,h,k);a.filler||(Vy("cfg"),this.sendAction("player-update-pre",[a.page,a.player,a.playerResponse]));"browse"==a.page?this.asyncFrame(b,0):d=c?Hf():this.isMiniplayerActive_()&&this.isPlayerPlayingData_(a)?Hf():b()}a.filler||this.sendAction("yt-stop-old-player",[a]);if(d)return d.then(this.publishPageData_.bind(this,
a));this.publishPageData_(a);return Hf()},
checkNetworkResponseErrors_:function(a){var b=null;if(!a)return b=Error("Error: Empty data.");a.response||(b=Error("Response field missing from data"));var c=a.response;c.responseContext||(b=Error("Error: responseContext missing from data response."));if(c=c.responseContext.errors)b=Error("Error: Errors in response context."),b.params=c;if(a=this.get("response.responseContext.webResponseContextExtensionData.webResponseContextDebugData.debugErrorMessages",a))for(c=0;c<a.length;c++);return b},
getUserFacingErrorMessage_:function(a){return this.get("response.responseContext.errors.error.0",a)},
pageChunkReceived_:function(a,b){Oy("nc"+this.chunksReceived_);this.chunksReceived_++;this.currentEndpoint_=a;if(this.pageChunkReceivedCounter_){if(!a){var c=Error("Null endpoint in pageChunkReceived_ function that would result in null endpoint");c.params=b;L(c,"WARNING")}a=this.getPageTypeForEndpoint_(a);this.pageChunkReceivedCounter_.increment(this.chunksReceived_,b.page||"null",a||"null")}b&&RA(b)?SA():(b.url&&!OA(b.url)&&this.fire("yt-navigate-redirect",{url:b.url}),b.csn&&b.rootVe&&pk(b.csn,
b.rootVe),"watch"==b.page&&b.response&&!M("disable_watch_next_delay")?N.addHighPriorityJob(this.loadPageChunk_.bind(this,b)):this.loadPageChunk_(b))},
pageRequestFinished:function(a,b,c,d,f){this.currentEndpoint_=a;if(this.pageRequestFinishedCounter_){if(!a){var g=Error("Null endpoint in pageRequestFinished_ function that would result in null endpoint");g.params=b;L(g,"WARNING")}g=this.getPageTypeForEndpoint_(a);this.pageRequestFinishedCounter_.increment(g||"null",b.page||"null",c,f)}this.numNavigations_++;Hg("NUM_NAV",this.numNavigations_);if(b&&RA(b))return SA(),If();if(g=this.checkNetworkResponseErrors_(b))return f=this.getUserFacingErrorMessage_(b),
this.pageRequestFail_(a,g,f),If();g=b.rootVe||this.get("response.responseContext.webResponseContextExtensionData.ytConfigData.rootVisualElementType",b);b.csn&&g&&(pk(b.csn,g),Ml.getInstance().newScreen());c||!b.url||OA(b.url)||this.fire("yt-navigate-redirect",{url:b.url});var h=this.get("response.responseContext.maxAgeSeconds",b);if(!c&&!isNaN(h)){var k;M("kevlar_use_response_ttl_to_invalidate_cache")?k=Fg()+1E3*h:M("kevlar_always_invalidate_cache")&&(k=0);isNaN(k)||(b.expirationTime=k)}Wz.getInstance().clearCache();
M("kevlar_next_up_next_multi_video_queue")||pz.getInstance().clear();c||"watch"!=b.page||"reduced"!=b.type?f=this.loadPageRequest_(b,c,!!f):this.currentPlayerPromise_?f=this.currentPlayerPromise_.then(this.publishPageData_.bind(this,b)):(this.publishPageData_(b),f=Hf());d&&(f=f.then(function(){this.sendAction("yt-restore-component-state-action",[d])}.bind(this)));
(k=this.getInterface(Ol))&&k.markDirty();k=f.then(function(){var d=this.getPageTypeForEndpoint_(a);this.pageUpdateFinishCounter_&&this.pageUpdateFinishCounter_.increment(d||"null",b.page||"null",c.toString()||"null");var f={endpoint:a,pageType:d,fromHistory:c,response:b};f.navigationDoneMs=Oy("nd");!c&&this.responsesCounter_&&this.responsesCounter_.increment("success",d||"null","null");this.fire("yt-navigate-finish",f)}.bind(this));
b.csn&&g&&b.clientSideGrafts&&f.then(this.attachClientSideGrafts_.bind(this,b,nk()));return k},
attachClientSideGrafts_:function(a,b){a.clientSideGrafts&&b&&a.clientSideGrafts.forEach(function(c){b&&c&&Rj(ck,a.csn,b,[Qj(c)])})},
endpointInMiniplayer_:function(a){var b=this.sendOptionalAction("yt-get-miniplayer-component-action");if(!(b&&b.length&&b[0]))return!1;a=this.get("commandMetadata.webCommandMetadata.url",a);b=this.get("data.watchEndpoint.commandMetadata.webCommandMetadata.url",b[0]);return a&&b?(a=(new pn(a)).getParameterValue("v"),b=(new pn(b)).getParameterValue("v"),a===b):!1},
handleSignalActionChannelReloadWithoutPolymer_:function(){this.async(function(){SA(!0)},500)},
handleSignalActionReloadWithoutPolymer_:function(){SA()},
handleSignalActionReloadPage_:function(){this.reload()},
playerProvider_:function(){return li(this)},
isPlayerPlayingData_:function(a){var b=li(this);if(!b)return!1;b=(b=b.getPlayer())&&b.getVideoData();if(!b)return!1;b=b.video_id;a=this.get("player.args.video_id",a);return b&&b==a},
isMiniplayerActive_:function(){var a=this.sendOptionalAction("yt-miniplayer-active");return a&&a.length&&a[0]},
isMiniplayerUserActivated_:function(){return this.isMiniplayerActive_()&&Xz.getInstance().userActivation},
incrementNavigationRequestsStreamz_:function(a){this.navigationRequestSentCounter_&&(a=this.getPageTypeForEndpoint_(a),this.navigationRequestSentCounter_.increment(a||"null","WARM"))}});Polymer({is:"yt-visibility-monitor",behaviors:[hi.ComponentBehavior],provides:Ol,properties:{trackWindowScroll:Boolean,heightPrescan:{type:Number,value:50},pauseScan:{type:Boolean,observer:"pauseScanChanged_"}},created:function(){this.dirty_=!0;this.visibilityRoot_=null;this.timeBetweenJobsMs_=K("VISIBILITY_TIME_BETWEEN_JOBS_MS",500);this.nodeCount_=0;this.screenRect_=new hf(0,0,window.innerWidth,window.innerHeight);this.prescanRect_=null;this.pendingRefresh_=!1;this.lastJobRunTime_=0;this.boundDoAfterRenderRequest_=
this.doAfterRenderRequest_.bind(this);this.lastVisibleSet_=new Set;this.logger_=null},
factoryImpl:function(){},
get visibilityRoot(){if(!this.visibilityRoot_){var a=K("VISIBILITY_ROOT",void 0);a&&(this.visibilityRoot_=Polymer.dom(this.parentElement.root).querySelector(a))}return this.visibilityRoot_},set visibilityRoot(a){this.visibilityRoot_&&this.unlisten(this.visibilityRoot_,"yt-visibility-refresh","markDirty");this.visibilityRoot_=a;this.dirty_=!1;this.refreshVisibility_();this.visibilityRoot_&&this.listen(this.visibilityRoot_,"yt-visibility-refresh","markDirty")},attached:function(){this.requestVisibilityRefresh();
this.trackWindowScroll&&(this.listen(window,"resize","markDirty"),this.listen(window,"scroll","markDirty"));this.visibilityRoot&&this.listen(this.visibilityRoot,"yt-visibility-refresh","markDirty")},
reset:function(){this.lastVisibleSet_.clear()},
runVisibilityJob_:function(){this.pendingRefresh_=!1;this.lastJobRunTime_=Date.now();this.refreshVisibility_()},
doIdleRequest_:function(a){window.setTimeout(this.boundDoAfterRenderRequest_,a)},
doAfterRenderRequest_:function(){Polymer.RenderStatus.afterNextRender(this,this.runVisibilityJob_)},
requestVisibilityRefresh:function(){if(!this.pendingRefresh_){this.pendingRefresh_=!0;var a=Date.now()-this.lastJobRunTime_;a>=this.timeBetweenJobsMs_?this.doAfterRenderRequest_():this.doIdleRequest_(this.timeBetweenJobsMs_-a)}},
refreshVisibility_:function(){if(this.dirty_&&!this.pauseScan)if(this.dirty_=!1,this.isAttached){var a=this.visibilityRoot;if(a){var b=window.innerHeight,c=window.innerWidth;this.nodeCountNoPreload_=this.nodeCount_=0;this.screenRect_=new hf(0,0,c,b);this.prescanRect_=new hf(this.screenRect_.left,this.screenRect_.top+this.screenRect_.height,this.screenRect_.width,this.heightPrescan);b=new Set;this.traverseNodes_(a,this.screenRect_,b,0);a=fA.getInstance();c=n(b);for(var d=c.next();!d.done;d=c.next())d=
d.value,this.lastVisibleSet_.has(d)||a.shown(d),this.lastVisibleSet_.delete(d);this.lastVisibleSet_.forEach(a.hidden.bind(a));this.lastVisibleSet_=b;this.fire("yt-visibility-monitor-refreshed")}else window.console.error("Cannot find root node for visibility monitor")}else window.console.error("Visibility monitor is not attached")},
isNodeVisible:function(a){return this.lastVisibleSet_.has(a)},
traverseNodes_:function(a,b,c,d){if(3!=a.visibilityLogging){var f=Ml.getInstance();d=a.screenLayer||d;var g=window.getComputedStyle(a);if(!g||"none"!=g.display&&"hidden"!=g.visibility){var h=a.getBoundingClientRect();if(h.top||h.right||h.bottom||h.left||h.width||h.height){h=new hf(h.left,h.top,h.width,h.height);if(M("viewport_non_overlapping_intersect")){b=py(h,b);var k=py(h,this.screenRect_)}else b=jf(h,b),k=jf(h,this.screenRect_);g=g&&"fixed"==g.position?k:b&&k;b=null;this.heightPrescan&&(b=!a.disablePrescanVisibility&&
kf(h,this.prescanRect_));if(g||b){g&&c.add(a);if(!a.wasVisible&&!a.wasPrescan&&a.onShow)a.onShow();g?f.reportShown(a,void 0,d):f.reportHidden(a,void 0,d);a.wasVisible||(a.wasVisible=!!g);a.wasPrescan||(a.wasPrescan=b);this.nodeCount_++;if((a=a.getNodes?a.getNodes():null)&&a.length)for(f=a.length,g=0;g<f;g++){b=a[g];k=h;var l=void 0;if(Polymer.Element){var m=b.constructor.generatedFrom;m&&(l=m.hostAttributes)}else l=b.hostAttributes;l&&l.dialog&&(k=this.screenRect_);this.traverseNodes_(b,k||h,c,d)}}else!f.reportHidden(a,
void 0,d)&&M("web_log_hidden_children")&&f.reportChildrenHidden(a,d)}}else!f.reportHidden(a,void 0,d)&&M("web_log_hidden_children")&&f.reportChildrenHidden(a,d)}},
markDirty:function(){this.dirty_=!0;this.requestVisibilityRefresh()},
pauseScanChanged_:function(a){a||this.requestVisibilityRefresh()}});var iB=function(){};
iB.prototype.getTimeSinceActive=function(){};
iB.prototype.ignoreNextScroll=function(){};Polymer({is:"yt-activity-manager",provides:iB,behaviors:[hi.ComponentBehavior,Q.YtActionSenderBehavior],factoryImpl:function(){},
created:function(){Kj();var a=this.sendOptionalAction.bind(this,"yt-user-activity");w("ytglobal.ytUtilActivityCallback_",a,void 0);this.eventJobIds_=Object.create(null);this.WAIT_FOR_SCROLL_EVENT_DURATION_=500;this.scrollEventsToIgnore_=0;this.stopIgnoringScrollTimeoutIds_=[];new gj(this.onMouseMove_.bind(this));this.listen(document,"scroll","onScroll_");this.listen(window,"resize","onResize_")},
setTimestampAfterDelay_:function(a,b){a in this.eventJobIds_||(b=N.addLowPriorityJob(this.setTimestampAndClearJob_.bind(this,a),b),this.eventJobIds_[a]=b)},
setTimestampAndClearJob_:function(a){Lj();delete this.eventJobIds_[a]},
onScroll_:function(a){0<this.scrollEventsToIgnore_?this.stopIgnoringScroll_():a.target==document&&this.setTimestampAfterDelay_("scroll",200)},
onResize_:function(){this.setTimestampAfterDelay_("resize",200)},
onMouseMove_:function(){this.setTimestampAfterDelay_("mousemove",100)},
stopIgnoringScroll_:function(a){this.scrollEventsToIgnore_--;a||clearTimeout(this.stopIgnoringScrollTimeoutIds_.pop())},
getTimeSinceActive:function(){return Nj()},
ignoreNextScroll:function(){this.scrollEventsToIgnore_+=1;this.stopIgnoringScrollTimeoutIds_.push(setTimeout(this.stopIgnoringScroll_.bind(this,!0),this.WAIT_FOR_SCROLL_EVENT_DURATION_))}});Polymer({is:"yt-payments-manager",behaviors:[R.YtActionHandlerBehavior,Q.YtActionSenderBehavior,hi.ComponentBehavior],actionMap:{"yt-live-chat-start-buy-flow":"handleLiveChatBuyFlow_","yt-super-sticker-start-buy-flow":"handleSuperStickerBuyFlow_"},handleLiveChatBuyFlow_:function(a,b,c,d){c={purchase_price_micros:c};v(b)?c.chat_message_text=b:c.rich_chat_message=b;this.getInterface(uk).requestDataForServiceEndpoint(a,c).then(this.handleGetCartResponse_.bind(this,d),this.handleFlowError_.bind(this,
d),this)},
handleSuperStickerBuyFlow_:function(a,b,c){b={sticker_params:b};this.getInterface(uk).requestDataForServiceEndpoint(a,b).then(this.handleGetCartResponse_.bind(this,c),this.handleFlowError_.bind(this,c),this)},
handleGetCartResponse_:function(a,b){if(b.data&&b.data.messageRenderer)this.handleFlowError_(a,b);else{var c=function(c){c.buyFlowResponse?this.handleBuyFlowResponse_(a,b,c.buyFlowResponse):c.error?this.handleFlowError_(a,c.error):this.handleFlowClosed_(a)}.bind(this);
this.sendAction("yt-open-payments-dialog",[b,c])}},
handleBuyFlowResponse_:function(a,b,c){this.sendAction("yt-wallet-dialog-completed");if(c.data&&c.data.messageRenderer)this.handleFlowError_(a,c);else if("undefined"==c.integratorData)sh(Error((c.internalErrorDetails||"")+" Buy flow returned 'undefined' in place of integratorData")),this.handleFlowError_(a,{});else if(null!=c.error)sh(Error((c.internalErrorDetails||"")+" Buy flow returned error code: "+c.error)),this.handleFlowError_(a,{});else{var d=b.data.buybucketParams;c={payments_payload:window.btoa(c.integratorData),
buybucket_params:d};d=this.getInterface(uk);b=b.data.completeTransactionEndpoint;d.requestDataForServiceEndpoint(b,c).then(this.handleCompleteTransactionSuccess_.bind(this,a,b),this.handleCompleteTransactionError_.bind(this,a,b),this)}},
handleFlowClosed_:function(){this.sendAction("yt-wallet-dialog-closed")},
handleFlowError_:function(a,b){a({success:!1,error:b})},
handleCompleteTransactionSuccess_:function(a,b,c){c.data||(c={data:c});var d=void 0;b&&b.ypcCompleteTransactionEndpoint&&(d=b.ypcCompleteTransactionEndpoint.serializedTransactionFlowLoggingParams);c.data.messageRenderer?(Pk("TRANSACTION_ERROR_TYPE_YPC_COMPLETE_TRANSACTION_RPC_FAILURE",d),this.handleFlowError_(a,c)):(Ok(d),a({success:!0,response:c}))},
handleCompleteTransactionError_:function(a,b,c){var d=void 0;b&&b.ypcCompleteTransactionEndpoint&&(d=b.ypcCompleteTransactionEndpoint.serializedTransactionFlowLoggingParams);Pk("TRANSACTION_ERROR_TYPE_YPC_COMPLETE_TRANSACTION_RPC_FAILURE",d);this.handleFlowError_(a,c)}});Polymer({is:"yt-options-renderer",behaviors:[Bk.YtComponentBehavior,T.YtRendererBehavior],properties:{data:{type:Object,observer:"dataChanged_"},itemSelected_:{type:Number,value:-1},restoreFocusOnClose_:{type:Boolean,value:!1}},dataChanged_:function(){this.itemSelected_=-1},
isSubReasonHidden_:function(a,b){return a!=b},
onTopItemSelected_:function(a,b){for(var c=Polymer.dom(this.root).querySelectorAll("paper-listbox"),d=0,f=c.length;d<f;d++)c[d].select(0);this.sendAction("yt-report-form-update",[b.item.value]);a.stopPropagation()},
onItemSelected_:function(a,b){this.sendAction("yt-report-form-update",[b.item.value]);a.stopPropagation()},
getItem_:function(a){return a.serviceItem?a.serviceItem:a.navigationItem?a.navigationItem:a.optionSelectableItemRenderer?a.optionSelectableItemRenderer:null},
computeText_:function(a){return(a=this.getItem_(a))?a.text:null}});Polymer({is:"yt-boolean-form-field-v2-renderer",behaviors:[T.YtRendererBehavior,R.YtActionHandlerBehavior],properties:{data:Object},onCheckedChanged_:function(){if(this.data){var a=this.$.checkbox.checked;a&&this.data.enableCommand?this.sendAction("yt-modify-report-form-command",[this.data.enableCommand.modifyReportFormCommand]):!a&&this.data.disableCommand&&this.sendAction("yt-modify-report-form-command",[this.data.disableCommand.modifyReportFormCommand])}},
onLabelTap_:function(a){"A"!=a.target.tagName&&(this.$.checkbox.checked=!this.$.checkbox.checked)}});Polymer({is:"yt-report-form-modal-renderer",hostAttributes:{dialog:!0},behaviors:[fm.YtOpenPopupBehavior,O.YtRendererStamperBehavior,T.YtRendererBehavior,R.YtActionHandlerBehavior,Om.YtEventForwardingBehavior,Polymer.IronResizableBehavior],properties:{data:{type:Object,observer:"dataChanged_",value:null},submitting:{type:Boolean,value:!1},submitButtonDisabled_:{type:Boolean,value:!0,observer:"submitButtonDisabledChanged_"},submitEndpoint_:{type:Object,value:null},hideReportForm:{type:Boolean,reflectToAttribute:!0},
navigationEndpoint_:{type:Object,value:null},canShowCheckbox_:{type:Boolean,value:!1},canShowNextButton_:{type:Boolean,value:!1}},actionMap:{"yt-report-form-update":"handleReportFormEndpointUpdateAction_","yt-report-form-endpoint-update":"handleReportFormEndpointUpdateAction_","yt-confirm-dialog-close-action":"handleConfirmDialogCloseAction_","yt-modify-report-form-command":"handleModifyReportFormCommand_"},listeners:{"yt-service-request-sent":"onYtServiceRequestSent_","yt-service-request-completed":"onYtServiceRequestCompleted_",
"yt-service-request-error":"onYtServiceRequestError_","yt-navigate":"onYtNavigate_","yt-popup-opened":"onYtPopupOpened_"},stampDom:{"data.legalReportCheckbox":{id:"checkbox-container",mapping:{booleanFormFieldV2Renderer:"yt-boolean-form-field-v2-renderer"}}},created:function(){this.refitJob_=0},
attached:function(){this.$.scroller.dialogElement=this.parentNode},
dataChanged_:function(a){this.submitButtonDisabled_=!!this.get("data.submitButton.buttonRenderer.isDisabled");this.set("data.submitButton.buttonRenderer.isDisabled",void 0);this.set("data.nextButton.buttonRenderer.isDisabled",void 0);this.navigationEndpoint_=this.submitEndpoint_=null;this.submitting=!1;this.responseMessage=null;this.canShowNextButton_=this.canShowCheckbox_=this.hideReportForm=!1;a&&a.legalReportCheckbox&&this.set("data.legalReportCheckbox.booleanFormFieldV2Renderer.value",!1)},
onYtPopupOpened_:function(){var a=li(this,!0);a&&a.getPlayerPromise().then(function(a){a.pauseVideo()}.bind(this))},
onYtNavigate_:function(a){var b=a.detail.endpoint;b&&b.confirmDialogEndpoint&&(a.stopPropagation(),this.hideReportForm=!0)},
onYtServiceRequestSent_:function(){this.submitButtonDisabled_=!0},
onYtServiceRequestCompleted_:function(a,b){for(var c=b.actions,d=0,f=c.length;d<f;d++)c[d].openPopupAction&&(a.stopPropagation(),this.parentElement.close(),this.openPopup(c[d]));if(b.data&&(a=this.get("feedbackResponses",b.data)))for(d=0;d<a.length;d++)if(a[d].isThumbnailReporting){this.parentElement.close();break}},
onYtServiceRequestError_:function(){this.submitButtonDisabled_=!1},
_onDescendantIronResize:function(a){a.stopPropagation();return!1},
handleReportFormEndpointUpdateAction_:function(a){a.submitEndpoint?(this.submitEndpoint_=a.submitEndpoint,this.dialogEndpoint_=null,this.submitButtonDisabled_=!1):a.submitNavigationEndpoint?(this.navigationEndpoint_=a.submitNavigationEndpoint,this.dialogEndpoint_=null,this.submitButtonDisabled=!1):a.confirmDialog?(this.navigationEndpoint_={confirmDialogEndpoint:{content:{confirmDialogRenderer:a.confirmDialog.confirmDialogRenderer}}},this.submitEndpoint_=null,this.submitButtonDisabled_=!1):this.submitEndpoint_=
this.navigationEndpoint_=null;a.disableSubmitButton&&(this.submitButtonDisabled_=!0);this.handleModifyReportFormCommand_(this.get("clickCommands.0.modifyReportFormCommand",a));this.refit_()},
handleConfirmDialogCloseAction_:function(a){a.confirmed?this.parentElement.close():this.hideReportForm=!1},
submitButtonDisabledChanged_:function(){this.parentElement&&this.parentElement.invalidateTabbables&&this.parentElement.invalidateTabbables()},
handleModifyReportFormCommand_:function(a){a=this.get("action",a);"REPORT_FORM_ACTION_LEGAL_CHECKBOX_HIDE"==a?this.canShowCheckbox_=!1:"REPORT_FORM_ACTION_LEGAL_CHECKBOX_SHOW"==a?this.canShowCheckbox_=!0:"REPORT_FORM_ACTION_SUBMIT_BUTTON_SHOW"==a?this.canShowNextButton_=!1:"REPORT_FORM_ACTION_NEXT_BUTTON_SHOW"==a&&(this.canShowNextButton_=!0);this.refit_()},
computeSubmitButtonData_:function(a,b,c){var d={};b&&(d.navigationEndpoint=b);c&&(d.serviceEndpoint=c);a&&a.buttonRenderer&&E.extend(d,a.buttonRenderer);return d},
computeNextButtonData_:function(a,b){var c={};if(!a||!a.buttonRenderer)return c;E.extend(c,a.buttonRenderer);b&&(c.serviceEndpoint=Oa(b),c.serviceEndpoint.flagEndpoint&&(c.serviceEndpoint.flagEndpoint.legalCheckboxChecked=!0));return c},
computeShowNextButton_:function(a,b,c){return!!a&&b&&c},
refit_:function(){this.refitJob_||(this.refitJob_=N.addLowPriorityJob(function(){this.fire("yt-refit");this.refitJob_=0}.bind(this)))}});Polymer({is:"yt-confirm-dialog-renderer",hostAttributes:{dialog:!0},properties:{data:Object,primaryIsCancel:{type:Object,computed:"computePrimaryIsCancel_(data.primaryIsCancel)",reflectToAttribute:!0,readOnly:!0},isCancelButtonHidden:{type:Object,computed:"computeIsCancelButtonHidden_(data)",readOnly:!0}},observers:["onHeaderImageChanged_(data.headerImage)","onThumbnailChanged_(data.thumbnail)"],behaviors:[T.YtRendererBehavior,Om.YtEventForwardingBehavior],listeners:{"yt-img-shadow-loaded":"onThumbnailLoaded_",
"yt-navigate":"onYtNavigate_","yt-popup-opened":"openPopupHandler_","yt-popup-closed":"closePopupHandler_"},attached:function(){var a=this;this.$.scroller.dialogElement=this.parentNode;window.requestAnimationFrame(function(){a.$.thumbnail.onShow()})},
fireOnCloseActions_:function(){this.data.onClosedActions&&this.sendInnerTubeActions(this.data.onClosedActions,this)},
fireOnOpenCommands_:function(){this.data.onOpenCommands&&this.sendInnerTubeActions(this.data.onOpenCommands,this)},
fireOnDismissCommands_:function(){this.data.onDismissCommands&&this.sendInnerTubeActions(this.data.onDismissCommands,this)},
openPopupHandler_:function(a){a.detail==this&&this.fireOnOpenCommands_()},
closePopupHandler_:function(a,b){this.sendOptionalAction("yt-confirm-dialog-close-action",[b]);this.fireOnCloseActions_();(b&&!0===b.canceled||b&&!1===b.canceled&&!1===b.confirmed)&&this.fireOnDismissCommands_()},
onHeaderImageChanged_:function(a){a?this.setAttribute("dialog-with-header-image",""):this.removeAttribute("dialog-with-header-image")},
onThumbnailChanged_:function(a){a?(this.setAttribute("dialog-with-thumbnail",""),this.$.scroller.scrollTarget.style.maxHeight="139px"):(this.removeAttribute("dialog-with-thumbnail"),this.$.scroller.scrollTarget.style.maxHeight="none")},
onYtNavigate_:function(a){a=Polymer.dom(a).rootTarget;Polymer.dom(this.$["confirm-button"]).deepContains(a)&&this.parentElement.close()},
computePrimaryIsCancel_:function(a){return a},
computeIsCancelButtonHidden_:function(a){return a.skipCancelButton||!a.cancelButton},
onThumbnailLoaded_:function(){this.parentElement&&this.parentElement.fit()}});Polymer({is:"yt-fancy-dismissible-dialog-renderer",hostAttributes:{dialog:!0},behaviors:[T.YtRendererBehavior],properties:{data:Object},attached:function(){this.$.scroller.dialogElement=this.parentNode},
computeConfirmButton_:function(a){var b={text:a.confirmLabel,size:"SIZE_DEFAULT",style:"STYLE_BLUE_TEXT"};a.confirmNavigationEndpoint?b.navigationEndpoint=a.confirmNavigationEndpoint:a.confirmServiceEndpoint&&(b.serviceEndpoint=a.confirmServiceEndpoint);return b}});Polymer({is:"yt-live-chat-app",properties:{data:Object},behaviors:[O.YtPopupContainerBehavior,O.YtRendererStamperBehavior,MA.YtFeedbackCollectorBehavior,T.YtRendererBehavior,{_noAccessors:!0,actionRouterIsRoot:!1,created:function(){this.actionRouter_=Nl.getInstance();this.actionRouterNode=this.actionRouterIsRoot?document:this;this.onYtActionBoundListener_=this.onYtAction_.bind(this);this.onYtRegisterActionBoundListener_=this.onYtRegisterAction_.bind(this);this.actionRouterListenersRegistered_=!1;
this.onYtUnregisterActionBoundListener_=this.onYtUnregisterAction_.bind(this);this.registerActionRouterEventListeners_()},
attached:function(){this.registerActionRouterEventListeners_()},
detached:function(){this.unregisterActionRouterEventListeners_()},
registerActionRouterEventListeners_:function(){this.actionRouterListenersRegistered_||(this.actionRouterListenersRegistered_=!0,document.addEventListener("yt-unregister-action",this.onYtUnregisterActionBoundListener_),this.actionRouterNode.addEventListener("yt-action",this.onYtActionBoundListener_),this.actionRouterNode.addEventListener("yt-register-action",this.onYtRegisterActionBoundListener_))},
unregisterActionRouterEventListeners_:function(){this.actionRouterListenersRegistered_=!1;document.removeEventListener("yt-unregister-action",this.onYtUnregisterActionBoundListener_);this.actionRouterNode.removeEventListener("yt-action",this.onYtActionBoundListener_);this.actionRouterNode.removeEventListener("yt-register-action",this.onYtRegisterActionBoundListener_)},
onYtAction_:function(a){this.actionRouter_.handleAction(a.detail)},
onYtRegisterAction_:function(a){a=a.detail;var b=this.actionRouter_.actionRoutingMap.get(a.actionName);b||(b=new Map,this.actionRouter_.actionRoutingMap.set(a.actionName,b));b.set(a.context,Jg(a.handler.bind(a.context)))},
onYtUnregisterAction_:function(a){var b=this.actionRouter_.actionRoutingMap.get(a.detail.actionName);b&&b.delete(a.detail.context)}},
R.YtActionHandlerBehavior,Q.YtActionSenderBehavior,LA.YtEndpointHandlerWithYpcBehavior,mm.YtEndpointBehavior,S.YtPostMessageBehavior],listeners:{"yt-live-chat-popup-config":"onPopupConfigReceived_","yt-navigate":"onYtNavigate_"},actionRouterIsRoot:!0,actionMap:{"yt-user-activity":"onUserActivityAction_"},stampDom:{"data.contents":{id:"contents",mapping:{liveChatRenderer:"yt-live-chat-renderer",messageRenderer:"yt-live-chat-message-renderer"}}},created:function(){this.handleIframeEventListener_=this.handleIframeEvent_.bind(this);
this.handleWindowBlurListener_=this.handleWindowBlur_.bind(this);this.initializeVeLogging_();var a=new pn(window.location.href,!0);void 0!==a.getParameterValue("from_gaming")&&(a.removeParameter("from_gaming"),ke(window.location,a.toString()));this.isGlobalDarkTheme_()&&this.setGlobalDarkTheme_(!0)},
ready:function(){this.$["visibility-monitor"].visibilityRoot=this;var a=window.ytInitialData;a&&a.continuationContents&&a.continuationContents.liveChatContinuation?this.data={contents:{liveChatRenderer:a.continuationContents.liveChatContinuation}}:a&&(this.data=a)},
attached:function(){window.addEventListener("message",this.handleIframeEventListener_);window.addEventListener("blur",this.handleWindowBlurListener_)},
detached:function(){window.removeEventListener("message",this.handleIframeEventListener_);window.removeEventListener("blur",this.handleWindowBlurListener_)},
getElement:function(a){return document.createElement(a)},
initializeVeLogging_:function(){var a=ok(),b=54473;if(window!=window.top&&!dA()){var c=x("yt_logging_screen.getCurrentCsn",window.top);c&&(c=c())&&(a=c);(c=x("yt_logging_screen.getRootVeType",window.top))&&(c=c())&&(b=c)}pk(a,b);Ml.getInstance().newScreen()},
onUserActivityAction_:function(){M("live_chat_update_lact_on_web")&&window!=window.top&&!dA()&&this.postMessage("yt-user-activity",{})},
onPopupConfigReceived_:function(a,b){this.initPopupContainerBehavior(b)},
onYtNavigate_:function(a){a=a.detail.endpoint;if(a.urlEndpoint){if("TARGET_NEW_WINDOW"==a.urlEndpoint.target){window.open(a.urlEndpoint.url,"_blank");return}if(lg(a.urlEndpoint.url)&&!qg(window.location.href,a.urlEndpoint.url)){dz("n");this.navigateToUrl_(a.urlEndpoint.url);return}}(a=(Bh(Fh)||new Gh).getUrl(a))&&this.navigateToUrl_(a)},
navigateToUrl_:function(a){ke(window.top.location,a)},
handleIframeEvent_:function(a){a&&0==window.location.href.lastIndexOf(a.origin,0)&&Ka(a.data)&&("yt-live-chat-set-dark-theme"in a.data?this.setGlobalDarkTheme_(a.data["yt-live-chat-set-dark-theme"]):"yt-live-chat-keyboard-event"in a.data&&this.sendAction("yt-live-chat-keyboard-event",[a.data["yt-live-chat-keyboard-event"]]))},
handleWindowBlur_:function(){this.sendAction("yt-close-all-popups-action")},
setGlobalDarkTheme_:function(a){K("LIVE_CHAT_ALLOW_DARK_MODE",void 0)&&(a?document.documentElement.setAttribute("dark",!0):document.documentElement.removeAttribute("dark"),Polymer.updateStyles())},
isGlobalDarkTheme_:function(){return Jl.getInstance().getFlag(165)}});}).call(this);
